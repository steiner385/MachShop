const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DyTLDWzH.js","assets/vendor-o6zXO7vr.js","assets/antd-BdDvhd2S.js"])))=>i.map(i=>d[i]);
var cke=Object.defineProperty;var UV=t=>{throw TypeError(t)};var uke=(t,e,r)=>e in t?cke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ve=(t,e,r)=>uke(t,typeof e!="symbol"?e+"":e,r),rT=(t,e,r)=>e.has(t)||UV("Cannot "+r);var ye=(t,e,r)=>(rT(t,e,"read from private field"),r?r.call(t):e.get(t)),cr=(t,e,r)=>e.has(t)?UV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Lt=(t,e,r,n)=>(rT(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Mr=(t,e,r)=>(rT(t,e,"access private method"),r);var nb=(t,e,r,n)=>({set _(i){Lt(t,e,i,r)},get _(){return ye(t,e,n)}});import{r as D,c as ly,b as gke,e as qg,g as g1,R as Ue,a as dke}from"./vendor-o6zXO7vr.js";import{R as jv,B as le,a as vh,b as Kh,S as we,c as G1e,T as lt,d as LA,e as hke,f as yr,C as nm,g as pe,h as d1,I as at,i as ts,j as Gn,k as xe,l as ei,E as Fc,m as Be,n as Gu,L as ho,o as ji,p as Yh,q as dl,M as V1e,A as ia,r as Fi,s as fke,t as Ake,u as H1e,D as K1e,v as ld,w as Cke,x as hU,y as Zl,z as Pv,F as cd,G as im,H as cl,J as cs,K as fU,N as Y1e,O as Lc,P as Uc,Q as MA,U as Ike,V as Z1e,W as me,X as WV,Y as Er,Z as Pt,_ as cy,$ as X1e,a0 as Un,a1 as GV,a2 as Ps,a3 as Dt,a4 as Se,a5 as Mt,a6 as Wn,a7 as vr,a8 as Ns,a9 as Jr,aa as Vl,ab as pke,ac as Vs,ad as kv,ae as wS,af as Cw,ag as Iw,ah as Zi,ai as zI,aj as en,ak as Wc,al as po,am as Ee,an as Xl,ao as Nn,ap as Os,aq as Pi,ar as sm,as as js,at as Ge,au as Q1e,av as ya,aw as mke,ax as zn,ay as rp,az as vke,aA as yke,aB as AU,aC as uy,aD as Zc,aE as sa,aF as VV,aG as Yg,aH as iA,aI as J1e,aJ as exe,aK as Hw,aL as xke,aM as CU,aN as bke,aO as wke,aP as Ske,aQ as Eke,aR as _ke,aS as Tke,aT as txe,aU as Rke,aV as Nke,aW as Oke,aX as jke,aY as BA,aZ as Wq,a_ as Pke,a$ as kke,b0 as Dke,b1 as Fke,b2 as Lke,b3 as HV,b4 as Mke,b5 as Kw,b6 as nT,b7 as Gq,b8 as Bke,b9 as KV,ba as $ke,bb as qke,bc as YV,bd as Vq,be as Dv,bf as Ou,bg as Yw,bh as zke,bi as IU,bj as Uke,bk as Wke,bl as Gke,bm as Vke,bn as Hke,bo as Kke,bp as Yke,bq as rxe,br as nxe,bs as Dp,bt as Zke,bu as Xke,bv as ZV,bw as Qke}from"./antd-BdDvhd2S.js";import{i as Jke,a as XV,b as eDe,c as QV,d as tDe,e as rDe,f as nDe}from"./charts-BGWqDqR-.js";import{l as iDe}from"./utils-CgPFGGJ4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ixe={exports:{}},SS={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sDe=D,oDe=Symbol.for("react.element"),aDe=Symbol.for("react.fragment"),lDe=Object.prototype.hasOwnProperty,cDe=sDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uDe={key:!0,ref:!0,__self:!0,__source:!0};function sxe(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lDe.call(e,n)&&!uDe.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:oDe,type:t,key:s,ref:o,props:i,_owner:cDe.current}}SS.Fragment=aDe;SS.jsx=sxe;SS.jsxs=sxe;ixe.exports=SS;var c=ixe.exports,Hq={},JV=ly;Hq.createRoot=JV.createRoot,Hq.hydrateRoot=JV.hydrateRoot;var om=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gDe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},gh,dU,k1e,dDe=(k1e=class{constructor(){cr(this,gh,gDe);cr(this,dU,!1)}setTimeoutProvider(t){Lt(this,gh,t)}setTimeout(t,e){return ye(this,gh).setTimeout(t,e)}clearTimeout(t){ye(this,gh).clearTimeout(t)}setInterval(t,e){return ye(this,gh).setInterval(t,e)}clearInterval(t){ye(this,gh).clearInterval(t)}},gh=new WeakMap,dU=new WeakMap,k1e),sA=new dDe;function hDe(t){setTimeout(t,0)}var $A=typeof window>"u"||"Deno"in globalThis;function Xo(){}function fDe(t,e){return typeof t=="function"?t(e):t}function Kq(t){return typeof t=="number"&&t>=0&&t!==1/0}function oxe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nh(t,e){return typeof t=="function"?t(e):t}function Bl(t,e){return typeof t=="function"?t(e):t}function eH(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==pU(o,e.options))return!1}else if(!gy(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function tH(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(qA(e.options.mutationKey)!==qA(s))return!1}else if(!gy(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function pU(t,e){return((e==null?void 0:e.queryKeyHashFn)||qA)(t)}function qA(t){return JSON.stringify(t,(e,r)=>Yq(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function gy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>gy(t[r],e[r])):!1}var ADe=Object.prototype.hasOwnProperty;function axe(t,e){if(t===e)return t;const r=rH(t)&&rH(e);if(!r&&!(Yq(t)&&Yq(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const g=r?u:s[u],d=t[g],f=e[g];if(d===f){a[g]=d,(r?u<i:ADe.call(t,g))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[g]=f;continue}const h=axe(d,f);a[g]=h,h===d&&l++}return i===o&&l===i?t:a}function Zw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function rH(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yq(t){if(!nH(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!nH(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nH(t){return Object.prototype.toString.call(t)==="[object Object]"}function CDe(t){return new Promise(e=>{sA.setTimeout(e,t)})}function Zq(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?axe(t,e):e}function IDe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function pDe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var mU=Symbol();function lxe(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mU?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function cxe(t,e){return typeof t=="function"?t(...e):!!t}var AA,dh,bp,D1e,mDe=(D1e=class extends om{constructor(){super();cr(this,AA);cr(this,dh);cr(this,bp);Lt(this,bp,e=>{if(!$A&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,dh)||this.setEventListener(ye(this,bp))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,dh))==null||e.call(this),Lt(this,dh,void 0))}setEventListener(e){var r;Lt(this,bp,e),(r=ye(this,dh))==null||r.call(this),Lt(this,dh,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ye(this,AA)!==e&&(Lt(this,AA,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ye(this,AA)=="boolean"?ye(this,AA):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},AA=new WeakMap,dh=new WeakMap,bp=new WeakMap,D1e),vU=new mDe;function Xq(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var vDe=hDe;function yDe(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=vDe;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Es=yDe(),wp,hh,Sp,F1e,xDe=(F1e=class extends om{constructor(){super();cr(this,wp,!0);cr(this,hh);cr(this,Sp);Lt(this,Sp,e=>{if(!$A&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,hh)||this.setEventListener(ye(this,Sp))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,hh))==null||e.call(this),Lt(this,hh,void 0))}setEventListener(e){var r;Lt(this,Sp,e),(r=ye(this,hh))==null||r.call(this),Lt(this,hh,e(this.setOnline.bind(this)))}setOnline(e){ye(this,wp)!==e&&(Lt(this,wp,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ye(this,wp)}},wp=new WeakMap,hh=new WeakMap,Sp=new WeakMap,F1e),Xw=new xDe;function bDe(t){return Math.min(1e3*2**t,3e4)}function uxe(t){return(t??"online")==="online"?Xw.isOnline():!0}var Qq=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gxe(t){let e=!1,r=0,n;const i=Xq(),s=()=>i.status!=="pending",o=C=>{var I;if(!s()){const p=new Qq(C);f(p),(I=t.onCancel)==null||I.call(t,p)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>vU.isFocused()&&(t.networkMode==="always"||Xw.isOnline())&&t.canRun(),g=()=>uxe(t.networkMode)&&t.canRun(),d=C=>{s()||(n==null||n(),i.resolve(C))},f=C=>{s()||(n==null||n(),i.reject(C))},h=()=>new Promise(C=>{var I;n=p=>{(s()||u())&&C(p)},(I=t.onPause)==null||I.call(t)}).then(()=>{var C;n=void 0,s()||(C=t.onContinue)==null||C.call(t)}),A=()=>{if(s())return;let C;const I=r===0?t.initialPromise:void 0;try{C=I??t.fn()}catch(p){C=Promise.reject(p)}Promise.resolve(C).then(d).catch(p=>{var T;if(s())return;const m=t.retry??($A?0:3),v=t.retryDelay??bDe,y=typeof v=="function"?v(r,p):v,x=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,p);if(e||!x){f(p);return}r++,(T=t.onFail)==null||T.call(t,r,p),CDe(y).then(()=>u()?void 0:h()).then(()=>{e?f(p):A()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:g,start:()=>(g()?A():h().then(A),i)}}var CA,L1e,dxe=(L1e=class{constructor(){cr(this,CA)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kq(this.gcTime)&&Lt(this,CA,sA.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($A?1/0:5*60*1e3))}clearGcTimeout(){ye(this,CA)&&(sA.clearTimeout(ye(this,CA)),Lt(this,CA,void 0))}},CA=new WeakMap,L1e),IA,Ep,Ll,pA,$s,o1,mA,wc,Sg,M1e,wDe=(M1e=class extends dxe{constructor(e){super();cr(this,wc);cr(this,IA);cr(this,Ep);cr(this,Ll);cr(this,pA);cr(this,$s);cr(this,o1);cr(this,mA);Lt(this,mA,!1),Lt(this,o1,e.defaultOptions),this.setOptions(e.options),this.observers=[],Lt(this,pA,e.client),Lt(this,Ll,ye(this,pA).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Lt(this,IA,iH(this.options)),this.state=e.state??ye(this,IA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ye(this,$s))==null?void 0:e.promise}setOptions(e){if(this.options={...ye(this,o1),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=iH(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Lt(this,IA,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,Ll).remove(this)}setData(e,r){const n=Zq(this.state.data,e,this.options);return Mr(this,wc,Sg).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Mr(this,wc,Sg).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=ye(this,$s))==null?void 0:n.promise;return(i=ye(this,$s))==null||i.cancel(e),r?r.then(Xo).catch(Xo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,IA))}isActive(){return this.observers.some(e=>Bl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mU||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Nh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!oxe(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ye(this,$s))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ye(this,$s))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ye(this,Ll).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ye(this,$s)&&(ye(this,mA)?ye(this,$s).cancel({revert:!0}):ye(this,$s).cancelRetry()),this.scheduleGc()),ye(this,Ll).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mr(this,wc,Sg).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,g,d,f,h,A,C,I,p,m,v;if(this.state.fetchStatus!=="idle"&&((l=ye(this,$s))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ye(this,$s))return ye(this,$s).continueRetry(),ye(this,$s).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(x=>x.options.queryFn);y&&this.setOptions(y.options)}const n=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Lt(this,mA,!0),n.signal)})},s=()=>{const y=lxe(this.options,r),T=(()=>{const E={client:ye(this,pA),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return Lt(this,mA,!1),this.options.persister?this.options.persister(y,T,this):y(T)},a=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ye(this,pA),state:this.state,fetchFn:s};return i(y),y})();(u=this.options.behavior)==null||u.onFetch(a,this),Lt(this,Ep,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=a.fetchOptions)==null?void 0:g.meta))&&Mr(this,wc,Sg).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),Lt(this,$s,gxe({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:y=>{y instanceof Qq&&y.revert&&this.setState({...ye(this,Ep),fetchStatus:"idle"}),n.abort()},onFail:(y,x)=>{Mr(this,wc,Sg).call(this,{type:"failed",failureCount:y,error:x})},onPause:()=>{Mr(this,wc,Sg).call(this,{type:"pause"})},onContinue:()=>{Mr(this,wc,Sg).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const y=await ye(this,$s).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(h=(f=ye(this,Ll).config).onSuccess)==null||h.call(f,y,this),(C=(A=ye(this,Ll).config).onSettled)==null||C.call(A,y,this.state.error,this),y}catch(y){if(y instanceof Qq){if(y.silent)return ye(this,$s).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw Mr(this,wc,Sg).call(this,{type:"error",error:y}),(p=(I=ye(this,Ll).config).onError)==null||p.call(I,y,this),(v=(m=ye(this,Ll).config).onSettled)==null||v.call(m,this.state.data,y,this),y}finally{this.scheduleGc()}}},IA=new WeakMap,Ep=new WeakMap,Ll=new WeakMap,pA=new WeakMap,$s=new WeakMap,o1=new WeakMap,mA=new WeakMap,wc=new WeakSet,Sg=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hxe(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Lt(this,Ep,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Es.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,Ll).notify({query:this,type:"updated",action:e})})},M1e);function hxe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uxe(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pa,Qr,a1,Ko,vA,_p,kg,fh,l1,Tp,Rp,yA,xA,Ah,Np,bn,gv,Jq,ez,tz,rz,nz,iz,sz,fxe,B1e,SDe=(B1e=class extends om{constructor(e,r){super();cr(this,bn);cr(this,pa);cr(this,Qr);cr(this,a1);cr(this,Ko);cr(this,vA);cr(this,_p);cr(this,kg);cr(this,fh);cr(this,l1);cr(this,Tp);cr(this,Rp);cr(this,yA);cr(this,xA);cr(this,Ah);cr(this,Np,new Set);this.options=r,Lt(this,pa,e),Lt(this,fh,null),Lt(this,kg,Xq()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,Qr).addObserver(this),sH(ye(this,Qr),this.options)?Mr(this,bn,gv).call(this):this.updateResult(),Mr(this,bn,rz).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oz(ye(this,Qr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oz(ye(this,Qr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Mr(this,bn,nz).call(this),Mr(this,bn,iz).call(this),ye(this,Qr).removeObserver(this)}setOptions(e){const r=this.options,n=ye(this,Qr);if(this.options=ye(this,pa).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bl(this.options.enabled,ye(this,Qr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Mr(this,bn,sz).call(this),ye(this,Qr).setOptions(this.options),r._defaulted&&!Zw(this.options,r)&&ye(this,pa).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,Qr),observer:this});const i=this.hasListeners();i&&oH(ye(this,Qr),n,this.options,r)&&Mr(this,bn,gv).call(this),this.updateResult(),i&&(ye(this,Qr)!==n||Bl(this.options.enabled,ye(this,Qr))!==Bl(r.enabled,ye(this,Qr))||Nh(this.options.staleTime,ye(this,Qr))!==Nh(r.staleTime,ye(this,Qr)))&&Mr(this,bn,Jq).call(this);const s=Mr(this,bn,ez).call(this);i&&(ye(this,Qr)!==n||Bl(this.options.enabled,ye(this,Qr))!==Bl(r.enabled,ye(this,Qr))||s!==ye(this,Ah))&&Mr(this,bn,tz).call(this,s)}getOptimisticResult(e){const r=ye(this,pa).getQueryCache().build(ye(this,pa),e),n=this.createResult(r,e);return _De(this,n)&&(Lt(this,Ko,n),Lt(this,_p,this.options),Lt(this,vA,ye(this,Qr).state)),n}getCurrentResult(){return ye(this,Ko)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ye(this,kg).status==="pending"&&ye(this,kg).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,i))})}trackProp(e){ye(this,Np).add(e)}getCurrentQuery(){return ye(this,Qr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ye(this,pa).defaultQueryOptions(e),n=ye(this,pa).getQueryCache().build(ye(this,pa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Mr(this,bn,gv).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,Ko)))}createResult(e,r){var S;const n=ye(this,Qr),i=this.options,s=ye(this,Ko),o=ye(this,vA),a=ye(this,_p),u=e!==n?e.state:ye(this,a1),{state:g}=e;let d={...g},f=!1,h;if(r._optimisticResults){const j=this.hasListeners(),w=!j&&sH(e,r),R=j&&oH(e,n,r,i);(w||R)&&(d={...d,...hxe(g.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:A,errorUpdatedAt:C,status:I}=d;h=d.data;let p=!1;if(r.placeholderData!==void 0&&h===void 0&&I==="pending"){let j;s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(j=s.data,p=!0):j=typeof r.placeholderData=="function"?r.placeholderData((S=ye(this,Rp))==null?void 0:S.state.data,ye(this,Rp)):r.placeholderData,j!==void 0&&(I="success",h=Zq(s==null?void 0:s.data,j,r),f=!0)}if(r.select&&h!==void 0&&!p)if(s&&h===(o==null?void 0:o.data)&&r.select===ye(this,l1))h=ye(this,Tp);else try{Lt(this,l1,r.select),h=r.select(h),h=Zq(s==null?void 0:s.data,h,r),Lt(this,Tp,h),Lt(this,fh,null)}catch(j){Lt(this,fh,j)}ye(this,fh)&&(A=ye(this,fh),h=ye(this,Tp),C=Date.now(),I="error");const m=d.fetchStatus==="fetching",v=I==="pending",y=I==="error",x=v&&m,T=h!==void 0,_={status:I,fetchStatus:d.fetchStatus,isPending:v,isSuccess:I==="success",isError:y,isInitialLoading:x,isLoading:x,data:h,dataUpdatedAt:d.dataUpdatedAt,error:A,errorUpdatedAt:C,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:y&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:y&&T,isStale:yU(e,r),refetch:this.refetch,promise:ye(this,kg),isEnabled:Bl(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=N=>{_.status==="error"?N.reject(_.error):_.data!==void 0&&N.resolve(_.data)},w=()=>{const N=Lt(this,kg,_.promise=Xq());j(N)},R=ye(this,kg);switch(R.status){case"pending":e.queryHash===n.queryHash&&j(R);break;case"fulfilled":(_.status==="error"||_.data!==R.value)&&w();break;case"rejected":(_.status!=="error"||_.error!==R.reason)&&w();break}}return _}updateResult(){const e=ye(this,Ko),r=this.createResult(ye(this,Qr),this.options);if(Lt(this,vA,ye(this,Qr).state),Lt(this,_p,this.options),ye(this,vA).data!==void 0&&Lt(this,Rp,ye(this,Qr)),Zw(r,e))return;Lt(this,Ko,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ye(this,Np).size)return!0;const o=new Set(s??ye(this,Np));return this.options.throwOnError&&o.add("error"),Object.keys(ye(this,Ko)).some(a=>{const l=a;return ye(this,Ko)[l]!==e[l]&&o.has(l)})};Mr(this,bn,fxe).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Mr(this,bn,rz).call(this)}},pa=new WeakMap,Qr=new WeakMap,a1=new WeakMap,Ko=new WeakMap,vA=new WeakMap,_p=new WeakMap,kg=new WeakMap,fh=new WeakMap,l1=new WeakMap,Tp=new WeakMap,Rp=new WeakMap,yA=new WeakMap,xA=new WeakMap,Ah=new WeakMap,Np=new WeakMap,bn=new WeakSet,gv=function(e){Mr(this,bn,sz).call(this);let r=ye(this,Qr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Xo)),r},Jq=function(){Mr(this,bn,nz).call(this);const e=Nh(this.options.staleTime,ye(this,Qr));if($A||ye(this,Ko).isStale||!Kq(e))return;const n=oxe(ye(this,Ko).dataUpdatedAt,e)+1;Lt(this,yA,sA.setTimeout(()=>{ye(this,Ko).isStale||this.updateResult()},n))},ez=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,Qr)):this.options.refetchInterval)??!1},tz=function(e){Mr(this,bn,iz).call(this),Lt(this,Ah,e),!($A||Bl(this.options.enabled,ye(this,Qr))===!1||!Kq(ye(this,Ah))||ye(this,Ah)===0)&&Lt(this,xA,sA.setInterval(()=>{(this.options.refetchIntervalInBackground||vU.isFocused())&&Mr(this,bn,gv).call(this)},ye(this,Ah)))},rz=function(){Mr(this,bn,Jq).call(this),Mr(this,bn,tz).call(this,Mr(this,bn,ez).call(this))},nz=function(){ye(this,yA)&&(sA.clearTimeout(ye(this,yA)),Lt(this,yA,void 0))},iz=function(){ye(this,xA)&&(sA.clearInterval(ye(this,xA)),Lt(this,xA,void 0))},sz=function(){const e=ye(this,pa).getQueryCache().build(ye(this,pa),this.options);if(e===ye(this,Qr))return;const r=ye(this,Qr);Lt(this,Qr,e),Lt(this,a1,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},fxe=function(e){Es.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ye(this,Ko))}),ye(this,pa).getQueryCache().notify({query:ye(this,Qr),type:"observerResultsUpdated"})})},B1e);function EDe(t,e){return Bl(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function sH(t,e){return EDe(t,e)||t.state.data!==void 0&&oz(t,e,e.refetchOnMount)}function oz(t,e,r){if(Bl(e.enabled,t)!==!1&&Nh(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&yU(t,e)}return!1}function oH(t,e,r,n){return(t!==e||Bl(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&yU(t,r)}function yU(t,e){return Bl(e.enabled,t)!==!1&&t.isStaleByTime(Nh(e.staleTime,t))}function _De(t,e){return!Zw(t.getCurrentResult(),e)}function aH(t){return{onFetch:(e,r)=>{var g,d,f,h,A;const n=e.options,i=(f=(d=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],o=((A=e.state.data)==null?void 0:A.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let C=!1;const I=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?C=!0:e.signal.addEventListener("abort",()=>{C=!0}),e.signal)})},p=lxe(e.options,e.fetchOptions),m=async(v,y,x)=>{if(C)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const E=(()=>{const w={client:e.client,queryKey:e.queryKey,pageParam:y,direction:x?"backward":"forward",meta:e.options.meta};return I(w),w})(),_=await p(E),{maxPages:S}=e.options,j=x?pDe:IDe;return{pages:j(v.pages,_,S),pageParams:j(v.pageParams,y,S)}};if(i&&s.length){const v=i==="backward",y=v?TDe:lH,x={pages:s,pageParams:o},T=y(n,x);a=await m(x,T,v)}else{const v=t??s.length;do{const y=l===0?o[0]??n.initialPageParam:lH(n,a);if(l>0&&y==null)break;a=await m(a,y),l++}while(l<v)}return a};e.options.persister?e.fetchFn=()=>{var C,I;return(I=(C=e.options).persister)==null?void 0:I.call(C,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function lH(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function TDe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var c1,Eu,Yo,bA,_u,nh,$1e,RDe=($1e=class extends dxe{constructor(e){super();cr(this,_u);cr(this,c1);cr(this,Eu);cr(this,Yo);cr(this,bA);Lt(this,c1,e.client),this.mutationId=e.mutationId,Lt(this,Yo,e.mutationCache),Lt(this,Eu,[]),this.state=e.state||Axe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ye(this,Eu).includes(e)||(ye(this,Eu).push(e),this.clearGcTimeout(),ye(this,Yo).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Lt(this,Eu,ye(this,Eu).filter(r=>r!==e)),this.scheduleGc(),ye(this,Yo).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ye(this,Eu).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Yo).remove(this))}continue(){var e;return((e=ye(this,bA))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,g,d,f,h,A,C,I,p,m,v,y,x,T,E,_,S;const r=()=>{Mr(this,_u,nh).call(this,{type:"continue"})},n={client:ye(this,c1),meta:this.options.meta,mutationKey:this.options.mutationKey};Lt(this,bA,gxe({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,w)=>{Mr(this,_u,nh).call(this,{type:"failed",failureCount:j,error:w})},onPause:()=>{Mr(this,_u,nh).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Yo).canRun(this)}));const i=this.state.status==="pending",s=!ye(this,bA).canStart();try{if(i)r();else{Mr(this,_u,nh).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=ye(this,Yo).config).onMutate)==null?void 0:a.call(o,e,this,n));const w=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));w!==this.state.context&&Mr(this,_u,nh).call(this,{type:"pending",context:w,variables:e,isPaused:s})}const j=await ye(this,bA).start();return await((d=(g=ye(this,Yo).config).onSuccess)==null?void 0:d.call(g,j,e,this.state.context,this,n)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,j,e,this.state.context,n)),await((C=(A=ye(this,Yo).config).onSettled)==null?void 0:C.call(A,j,null,this.state.variables,this.state.context,this,n)),await((p=(I=this.options).onSettled)==null?void 0:p.call(I,j,null,e,this.state.context,n)),Mr(this,_u,nh).call(this,{type:"success",data:j}),j}catch(j){try{throw await((v=(m=ye(this,Yo).config).onError)==null?void 0:v.call(m,j,e,this.state.context,this,n)),await((x=(y=this.options).onError)==null?void 0:x.call(y,j,e,this.state.context,n)),await((E=(T=ye(this,Yo).config).onSettled)==null?void 0:E.call(T,void 0,j,this.state.variables,this.state.context,this,n)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,j,e,this.state.context,n)),j}finally{Mr(this,_u,nh).call(this,{type:"error",error:j})}}finally{ye(this,Yo).runNext(this)}}},c1=new WeakMap,Eu=new WeakMap,Yo=new WeakMap,bA=new WeakMap,_u=new WeakSet,nh=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Es.batch(()=>{ye(this,Eu).forEach(n=>{n.onMutationUpdate(e)}),ye(this,Yo).notify({mutation:this,type:"updated",action:e})})},$1e);function Axe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dg,Sc,u1,q1e,NDe=(q1e=class extends om{constructor(e={}){super();cr(this,Dg);cr(this,Sc);cr(this,u1);this.config=e,Lt(this,Dg,new Set),Lt(this,Sc,new Map),Lt(this,u1,0)}build(e,r,n){const i=new RDe({client:e,mutationCache:this,mutationId:++nb(this,u1)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){ye(this,Dg).add(e);const r=ib(e);if(typeof r=="string"){const n=ye(this,Sc).get(r);n?n.push(e):ye(this,Sc).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ye(this,Dg).delete(e)){const r=ib(e);if(typeof r=="string"){const n=ye(this,Sc).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&ye(this,Sc).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ib(e);if(typeof r=="string"){const n=ye(this,Sc).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=ib(e);if(typeof r=="string"){const i=(n=ye(this,Sc).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Es.batch(()=>{ye(this,Dg).forEach(e=>{this.notify({type:"removed",mutation:e})}),ye(this,Dg).clear(),ye(this,Sc).clear()})}getAll(){return Array.from(ye(this,Dg))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>tH(r,n))}findAll(e={}){return this.getAll().filter(r=>tH(e,r))}notify(e){Es.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Es.batch(()=>Promise.all(e.map(r=>r.continue().catch(Xo))))}},Dg=new WeakMap,Sc=new WeakMap,u1=new WeakMap,q1e);function ib(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Fg,Ch,ma,Lg,ad,pw,az,z1e,ODe=(z1e=class extends om{constructor(r,n){super();cr(this,ad);cr(this,Fg);cr(this,Ch);cr(this,ma);cr(this,Lg);Lt(this,Fg,r),this.setOptions(n),this.bindMethods(),Mr(this,ad,pw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=ye(this,Fg).defaultMutationOptions(r),Zw(this.options,n)||ye(this,Fg).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ye(this,ma),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&qA(n.mutationKey)!==qA(this.options.mutationKey)?this.reset():((i=ye(this,ma))==null?void 0:i.state.status)==="pending"&&ye(this,ma).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ye(this,ma))==null||r.removeObserver(this)}onMutationUpdate(r){Mr(this,ad,pw).call(this),Mr(this,ad,az).call(this,r)}getCurrentResult(){return ye(this,Ch)}reset(){var r;(r=ye(this,ma))==null||r.removeObserver(this),Lt(this,ma,void 0),Mr(this,ad,pw).call(this),Mr(this,ad,az).call(this)}mutate(r,n){var i;return Lt(this,Lg,n),(i=ye(this,ma))==null||i.removeObserver(this),Lt(this,ma,ye(this,Fg).getMutationCache().build(ye(this,Fg),this.options)),ye(this,ma).addObserver(this),ye(this,ma).execute(r)}},Fg=new WeakMap,Ch=new WeakMap,ma=new WeakMap,Lg=new WeakMap,ad=new WeakSet,pw=function(){var n;const r=((n=ye(this,ma))==null?void 0:n.state)??Axe();Lt(this,Ch,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},az=function(r){Es.batch(()=>{var n,i,s,o,a,l,u,g;if(ye(this,Lg)&&this.hasListeners()){const d=ye(this,Ch).variables,f=ye(this,Ch).context,h={client:ye(this,Fg),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=ye(this,Lg)).onSuccess)==null||i.call(n,r.data,d,f,h),(o=(s=ye(this,Lg)).onSettled)==null||o.call(s,r.data,null,d,f,h)):(r==null?void 0:r.type)==="error"&&((l=(a=ye(this,Lg)).onError)==null||l.call(a,r.error,d,f,h),(g=(u=ye(this,Lg)).onSettled)==null||g.call(u,void 0,r.error,d,f,h))}this.listeners.forEach(d=>{d(ye(this,Ch))})})},z1e),Tu,U1e,jDe=(U1e=class extends om{constructor(e={}){super();cr(this,Tu);this.config=e,Lt(this,Tu,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??pU(i,r);let o=this.get(s);return o||(o=new wDe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ye(this,Tu).has(e.queryHash)||(ye(this,Tu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ye(this,Tu).get(e.queryHash);r&&(e.destroy(),r===e&&ye(this,Tu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ye(this,Tu).get(e)}getAll(){return[...ye(this,Tu).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>eH(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>eH(e,n)):r}notify(e){Es.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Es.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Es.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Tu=new WeakMap,U1e),Ri,Ih,ph,Op,jp,mh,Pp,kp,W1e,PDe=(W1e=class{constructor(t={}){cr(this,Ri);cr(this,Ih);cr(this,ph);cr(this,Op);cr(this,jp);cr(this,mh);cr(this,Pp);cr(this,kp);Lt(this,Ri,t.queryCache||new jDe),Lt(this,Ih,t.mutationCache||new NDe),Lt(this,ph,t.defaultOptions||{}),Lt(this,Op,new Map),Lt(this,jp,new Map),Lt(this,mh,0)}mount(){nb(this,mh)._++,ye(this,mh)===1&&(Lt(this,Pp,vU.subscribe(async t=>{t&&(await this.resumePausedMutations(),ye(this,Ri).onFocus())})),Lt(this,kp,Xw.subscribe(async t=>{t&&(await this.resumePausedMutations(),ye(this,Ri).onOnline())})))}unmount(){var t,e;nb(this,mh)._--,ye(this,mh)===0&&((t=ye(this,Pp))==null||t.call(this),Lt(this,Pp,void 0),(e=ye(this,kp))==null||e.call(this),Lt(this,kp,void 0))}isFetching(t){return ye(this,Ri).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ye(this,Ih).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ye(this,Ri).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ye(this,Ri).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Nh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return ye(this,Ri).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=ye(this,Ri).get(n.queryHash),s=i==null?void 0:i.state.data,o=fDe(e,s);if(o!==void 0)return ye(this,Ri).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Es.batch(()=>ye(this,Ri).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ye(this,Ri).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ye(this,Ri);Es.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ye(this,Ri);return Es.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Es.batch(()=>ye(this,Ri).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Xo).catch(Xo)}invalidateQueries(t,e={}){return Es.batch(()=>(ye(this,Ri).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Es.batch(()=>ye(this,Ri).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Xo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Xo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ye(this,Ri).build(this,e);return r.isStaleByTime(Nh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xo).catch(Xo)}fetchInfiniteQuery(t){return t.behavior=aH(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xo).catch(Xo)}ensureInfiniteQueryData(t){return t.behavior=aH(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xw.isOnline()?ye(this,Ih).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,Ri)}getMutationCache(){return ye(this,Ih)}getDefaultOptions(){return ye(this,ph)}setDefaultOptions(t){Lt(this,ph,t)}setQueryDefaults(t,e){ye(this,Op).set(qA(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ye(this,Op).values()],r={};return e.forEach(n=>{gy(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){ye(this,jp).set(qA(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ye(this,jp).values()],r={};return e.forEach(n=>{gy(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ye(this,ph).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pU(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mU&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ye(this,ph).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ye(this,Ri).clear(),ye(this,Ih).clear()}},Ri=new WeakMap,Ih=new WeakMap,ph=new WeakMap,Op=new WeakMap,jp=new WeakMap,mh=new WeakMap,Pp=new WeakMap,kp=new WeakMap,W1e),Cxe=D.createContext(void 0),h1=t=>{const e=D.useContext(Cxe);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kDe=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Cxe.Provider,{value:t,children:e})),Ixe=D.createContext(!1),DDe=()=>D.useContext(Ixe);Ixe.Provider;function FDe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var LDe=D.createContext(FDe()),MDe=()=>D.useContext(LDe),BDe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},$De=t=>{D.useEffect(()=>{t.clearReset()},[t])},qDe=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||cxe(r,[t.error,n])),zDe=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},UDe=(t,e)=>t.isLoading&&t.isFetching&&!e,WDe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,cH=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function GDe(t,e,r){var d,f,h,A,C;const n=DDe(),i=MDe(),s=h1(),o=s.defaultQueryOptions(t);(f=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",zDe(o),BDe(o,i),$De(i);const a=!s.getQueryCache().get(o.queryHash),[l]=D.useState(()=>new e(s,o)),u=l.getOptimisticResult(o),g=!n&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(I=>{const p=g?l.subscribe(Es.batchCalls(I)):Xo;return l.updateResult(),p},[l,g]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),D.useEffect(()=>{l.setOptions(o)},[o,l]),WDe(o,u))throw cH(o,l,i);if(qDe({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((A=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||A.call(h,o,u),o.experimental_prefetchInRender&&!$A&&UDe(u,n)){const I=a?cH(o,l,i):(C=s.getQueryCache().get(o.queryHash))==null?void 0:C.promise;I==null||I.catch(Xo).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function hl(t,e){return GDe(t,SDe)}function Oh(t,e){const r=h1(),[n]=D.useState(()=>new ODe(r,t));D.useEffect(()=>{n.setOptions(t)},[n,t]);const i=D.useSyncExternalStore(D.useCallback(o=>n.subscribe(Es.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=D.useCallback((o,a)=>{n.mutate(o,a).catch(Xo)},[n]);if(i.error&&cxe(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dy.apply(this,arguments)}var yh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yh||(yh={}));const uH="popstate";function VDe(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return lz("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Qw(i)}return KDe(e,r,null,t)}function Qi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pxe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HDe(){return Math.random().toString(36).substr(2,8)}function gH(t,e){return{usr:t.state,key:t.key,idx:e}}function lz(t,e,r,n){return r===void 0&&(r=null),dy({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?am(e):e,{state:r,key:e&&e.key||n||HDe()})}function Qw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function am(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function KDe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=yh.Pop,l=null,u=g();u==null&&(u=0,o.replaceState(dy({},o.state,{idx:u}),""));function g(){return(o.state||{idx:null}).idx}function d(){a=yh.Pop;let I=g(),p=I==null?null:I-u;u=I,l&&l({action:a,location:C.location,delta:p})}function f(I,p){a=yh.Push;let m=lz(C.location,I,p);u=g()+1;let v=gH(m,u),y=C.createHref(m);try{o.pushState(v,"",y)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(y)}s&&l&&l({action:a,location:C.location,delta:1})}function h(I,p){a=yh.Replace;let m=lz(C.location,I,p);u=g();let v=gH(m,u),y=C.createHref(m);o.replaceState(v,"",y),s&&l&&l({action:a,location:C.location,delta:0})}function A(I){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof I=="string"?I:Qw(I);return m=m.replace(/ $/,"%20"),Qi(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let C={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uH,d),l=I,()=>{i.removeEventListener(uH,d),l=null}},createHref(I){return e(i,I)},createURL:A,encodeLocation(I){let p=A(I);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(I){return o.go(I)}};return C}var dH;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dH||(dH={}));function YDe(t,e,r){return r===void 0&&(r="/"),ZDe(t,e,r)}function ZDe(t,e,r,n){let i=typeof e=="string"?am(e):e,s=xU(i.pathname||"/",r);if(s==null)return null;let o=mxe(t);XDe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=cFe(s);a=oFe(o[l],u)}return a}function mxe(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qi(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=jh([n,l.relativePath]),g=r.concat(l);s.children&&s.children.length>0&&(Qi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mxe(s.children,e,g,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:iFe(u,s.index),routesMeta:g})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of vxe(s.path))i(s,o,l)}),e}function vxe(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=vxe(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XDe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:sFe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QDe=/^:[\w-]+$/,JDe=3,eFe=2,tFe=1,rFe=10,nFe=-2,hH=t=>t==="*";function iFe(t,e){let r=t.split("/"),n=r.length;return r.some(hH)&&(n+=nFe),e&&(n+=eFe),r.filter(i=>!hH(i)).reduce((i,s)=>i+(QDe.test(s)?JDe:s===""?tFe:rFe),n)}function sFe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function oFe(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,g=s==="/"?e:e.slice(s.length)||"/",d=aFe({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},g),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:jh([s,d.pathname]),pathnameBase:hFe(jh([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=jh([s,d.pathnameBase]))}return o}function aFe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=lFe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,g,d)=>{let{paramName:f,isOptional:h}=g;if(f==="*"){let C=a[d]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const A=a[d];return h&&!A?u[f]=void 0:u[f]=(A||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function lFe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),pxe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function cFe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pxe(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function uFe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?am(t):t;return{pathname:r?r.startsWith("/")?r:gFe(r,e):e,search:fFe(n),hash:AFe(i)}}function gFe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function iT(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dFe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bU(t,e){let r=dFe(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wU(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=am(t):(i=dy({},t),Qi(!i.pathname||!i.pathname.includes("?"),iT("?","pathname","search",i)),Qi(!i.pathname||!i.pathname.includes("#"),iT("#","pathname","hash",i)),Qi(!i.search||!i.search.includes("#"),iT("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=uFe(i,a),u=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||g)&&(l.pathname+="/"),l}const jh=t=>t.join("/").replace(/\/\/+/g,"/"),hFe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fFe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AFe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CFe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yxe=["post","put","patch","delete"];new Set(yxe);const IFe=["get",...yxe];new Set(IFe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hy.apply(this,arguments)}const SU=D.createContext(null),pFe=D.createContext(null),lf=D.createContext(null),ES=D.createContext(null),md=D.createContext({outlet:null,matches:[],isDataRoute:!1}),xxe=D.createContext(null);function mFe(t,e){let{relative:r}=e===void 0?{}:e;lm()||Qi(!1);let{basename:n,navigator:i}=D.useContext(lf),{hash:s,pathname:o,search:a}=wxe(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:jh([n,o])),i.createHref({pathname:l,search:a,hash:s})}function lm(){return D.useContext(ES)!=null}function Xc(){return lm()||Qi(!1),D.useContext(ES).location}function bxe(t){D.useContext(lf).static||D.useLayoutEffect(t)}function Kr(){let{isDataRoute:t}=D.useContext(md);return t?jFe():vFe()}function vFe(){lm()||Qi(!1);let t=D.useContext(SU),{basename:e,future:r,navigator:n}=D.useContext(lf),{matches:i}=D.useContext(md),{pathname:s}=Xc(),o=JSON.stringify(bU(i,r.v7_relativeSplatPath)),a=D.useRef(!1);return bxe(()=>{a.current=!0}),D.useCallback(function(u,g){if(g===void 0&&(g={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=wU(u,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:jh([e,d.pathname])),(g.replace?n.replace:n.push)(d,g.state,g)},[e,n,o,s,t])}function ml(){let{matches:t}=D.useContext(md),e=t[t.length-1];return e?e.params:{}}function wxe(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(lf),{matches:i}=D.useContext(md),{pathname:s}=Xc(),o=JSON.stringify(bU(i,n.v7_relativeSplatPath));return D.useMemo(()=>wU(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function yFe(t,e){return xFe(t,e)}function xFe(t,e,r,n){lm()||Qi(!1);let{navigator:i}=D.useContext(lf),{matches:s}=D.useContext(md),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xc(),g;if(e){var d;let I=typeof e=="string"?am(e):e;l==="/"||(d=I.pathname)!=null&&d.startsWith(l)||Qi(!1),g=I}else g=u;let f=g.pathname||"/",h=f;if(l!=="/"){let I=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=YDe(t,{pathname:h}),C=_Fe(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:jh([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:jh([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,r,n);return e&&C?D.createElement(ES.Provider,{value:{location:hy({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:yh.Pop}},C):C}function bFe(){let t=OFe(),e=CFe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const wFe=D.createElement(bFe,null);class SFe extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(md.Provider,{value:this.props.routeContext},D.createElement(xxe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EFe(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(SU);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(md.Provider,{value:e},n)}function _Fe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let g=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);g>=0||Qi(!1),o=o.slice(0,Math.min(o.length,g+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let d=o[g];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=g),d.route.id){let{loaderData:f,errors:h}=r,A=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||A){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((g,d,f)=>{let h,A=!1,C=null,I=null;r&&(h=a&&d.route.id?a[d.route.id]:void 0,C=d.route.errorElement||wFe,l&&(u<0&&f===0?(PFe("route-fallback"),A=!0,I=null):u===f&&(A=!0,I=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),m=()=>{let v;return h?v=C:A?v=I:d.route.Component?v=D.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=g,D.createElement(EFe,{match:d,routeContext:{outlet:g,matches:p,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?D.createElement(SFe,{location:r.location,revalidation:r.revalidation,component:C,error:h,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Sxe=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sxe||{}),Exe=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Exe||{});function TFe(t){let e=D.useContext(SU);return e||Qi(!1),e}function RFe(t){let e=D.useContext(pFe);return e||Qi(!1),e}function NFe(t){let e=D.useContext(md);return e||Qi(!1),e}function _xe(t){let e=NFe(),r=e.matches[e.matches.length-1];return r.route.id||Qi(!1),r.route.id}function OFe(){var t;let e=D.useContext(xxe),r=RFe(),n=_xe();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function jFe(){let{router:t}=TFe(Sxe.UseNavigateStable),e=_xe(Exe.UseNavigateStable),r=D.useRef(!1);return bxe(()=>{r.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hy({fromRouteId:e},s)))},[t,e])}const fH={};function PFe(t,e,r){fH[t]||(fH[t]=!0)}function kFe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xu(t){let{to:e,replace:r,state:n,relative:i}=t;lm()||Qi(!1);let{future:s,static:o}=D.useContext(lf),{matches:a}=D.useContext(md),{pathname:l}=Xc(),u=Kr(),g=wU(e,bU(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(g);return D.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function ur(t){Qi(!1)}function DFe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=yh.Pop,navigator:s,static:o=!1,future:a}=t;lm()&&Qi(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:s,static:o,future:hy({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=am(n));let{pathname:g="/",search:d="",hash:f="",state:h=null,key:A="default"}=n,C=D.useMemo(()=>{let I=xU(g,l);return I==null?null:{location:{pathname:I,search:d,hash:f,state:h,key:A},navigationType:i}},[l,g,d,f,h,A,i]);return C==null?null:D.createElement(lf.Provider,{value:u},D.createElement(ES.Provider,{children:r,value:C}))}function AH(t){let{children:e,location:r}=t;return yFe(cz(e),r)}new Promise(()=>{});function cz(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let s=[...e,i];if(n.type===D.Fragment){r.push.apply(r,cz(n.props.children,s));return}n.type!==ur&&Qi(!1),!n.props.index||!n.props.children||Qi(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cz(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uz(){return uz=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uz.apply(this,arguments)}function FFe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function LFe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MFe(t,e){return t.button===0&&(!e||e==="_self")&&!LFe(t)}const BFe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$Fe="6";try{window.__reactRouterVersion=$Fe}catch{}const qFe="startTransition",CH=gke[qFe];function zFe(t){let{basename:e,children:r,future:n,window:i}=t,s=D.useRef();s.current==null&&(s.current=VDe({window:i,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},g=D.useCallback(d=>{u&&CH?CH(()=>l(d)):l(d)},[l,u]);return D.useLayoutEffect(()=>o.listen(g),[o,g]),D.useEffect(()=>kFe(n),[n]),D.createElement(DFe,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const UFe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WFe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:g,viewTransition:d}=e,f=FFe(e,BFe),{basename:h}=D.useContext(lf),A,C=!1;if(typeof u=="string"&&WFe.test(u)&&(A=u,UFe))try{let v=new URL(window.location.href),y=u.startsWith("//")?new URL(v.protocol+u):new URL(u),x=xU(y.pathname,h);y.origin===v.origin&&x!=null?u=x+y.search+y.hash:C=!0}catch{}let I=mFe(u,{relative:i}),p=GFe(u,{replace:o,state:a,target:l,preventScrollReset:g,relative:i,viewTransition:d});function m(v){n&&n(v),v.defaultPrevented||p(v)}return D.createElement("a",uz({},f,{href:A||I,onClick:C||s?n:m,ref:r,target:l}))});var IH;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IH||(IH={}));var pH;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pH||(pH={}));function GFe(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Kr(),u=Xc(),g=wxe(t,{relative:o});return D.useCallback(d=>{if(MFe(d,r)){d.preventDefault();let f=n!==void 0?n:Qw(u)===Qw(g);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,g,n,i,r,t,s,o,a])}var Txe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(qg,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(C){var I={date:C,utc:!0,args:arguments};return new o(I)},l.utc=function(C){var I=a(this.toDate(),{locale:this.$L,utc:!0});return C?I.add(this.utcOffset(),r):I},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(C){C.utc&&(this.$u=!0),this.$utils().u(C.$offset)||(this.$offset=C.$offset),u.call(this,C)};var g=l.init;l.init=function(){if(this.$u){var C=this.$d;this.$y=C.getUTCFullYear(),this.$M=C.getUTCMonth(),this.$D=C.getUTCDate(),this.$W=C.getUTCDay(),this.$H=C.getUTCHours(),this.$m=C.getUTCMinutes(),this.$s=C.getUTCSeconds(),this.$ms=C.getUTCMilliseconds()}else g.call(this)};var d=l.utcOffset;l.utcOffset=function(C,I){var p=this.$utils().u;if(p(C))return this.$u?0:p(this.$offset)?d.call(this):this.$offset;if(typeof C=="string"&&(C=function(x){x===void 0&&(x="");var T=x.match(n);if(!T)return null;var E=(""+T[0]).match(i)||["-",0,0],_=E[0],S=60*+E[1]+ +E[2];return S===0?0:_==="+"?S:-S}(C),C===null))return this;var m=Math.abs(C)<=16?60*C:C;if(m===0)return this.utc(I);var v=this.clone();if(I)return v.$offset=m,v.$u=!1,v;var y=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(v=this.local().add(m+y,r)).$offset=m,v.$x.$localOffset=y,v};var f=l.format;l.format=function(C){var I=C||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,I)},l.valueOf=function(){var C=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*C},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(C){return C==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var A=l.diff;l.diff=function(C,I,p){if(C&&this.$u===C.$u)return A.call(this,C,I,p);var m=this.local(),v=a(C).local();return A.call(m,v,I,p)}}})})(Txe);var VFe=Txe.exports;const HFe=g1(VFe);var Rxe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(qg,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,s,o){var a,l=function(f,h,A){A===void 0&&(A={});var C=new Date(f),I=function(p,m){m===void 0&&(m={});var v=m.timeZoneName||"short",y=p+"|"+v,x=n[y];return x||(x=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:v}),n[y]=x),x}(h,A);return I.formatToParts(C)},u=function(f,h){for(var A=l(f,h),C=[],I=0;I<A.length;I+=1){var p=A[I],m=p.type,v=p.value,y=r[m];y>=0&&(C[y]=parseInt(v,10))}var x=C[3],T=x===24?0:x,E=C[0]+"-"+C[1]+"-"+C[2]+" "+T+":"+C[4]+":"+C[5]+":000",_=+f;return(o.utc(E).valueOf()-(_-=_%1e3))/6e4},g=s.prototype;g.tz=function(f,h){f===void 0&&(f=a);var A,C=this.utcOffset(),I=this.toDate(),p=I.toLocaleString("en-US",{timeZone:f}),m=Math.round((I-new Date(p))/1e3/60),v=15*-Math.round(I.getTimezoneOffset()/15)-m;if(!Number(v))A=this.utcOffset(0,h);else if(A=o(p,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(v,!0),h){var y=A.utcOffset();A=A.add(C-y,"minute")}return A.$x.$timezone=f,A},g.offsetName=function(f){var h=this.$x.$timezone||o.tz.guess(),A=l(this.valueOf(),h,{timeZoneName:f}).find(function(C){return C.type.toLowerCase()==="timezonename"});return A&&A.value};var d=g.startOf;g.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var A=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(A,f,h).tz(this.$x.$timezone,!0)},o.tz=function(f,h,A){var C=A&&h,I=A||h||a,p=u(+o(),I);if(typeof f!="string")return o(f).tz(I);var m=function(T,E,_){var S=T-60*E*1e3,j=u(S,_);if(E===j)return[S,E];var w=u(S-=60*(j-E)*1e3,_);return j===w?[S,j]:[T-60*Math.min(j,w)*1e3,Math.max(j,w)]}(o.utc(f,C).valueOf(),p,I),v=m[0],y=m[1],x=o(v).utcOffset(y);return x.$x.$timezone=I,x},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){a=f}}})})(Rxe);var KFe=Rxe.exports;const YFe=g1(KFe);var Nxe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(qg,function(){return function(r,n,i){r=r||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,g,d,f){return s.fromToBase(u,g,d,f)}i.en.relativeTime=o,s.fromToBase=function(u,g,d,f,h){for(var A,C,I,p=d.$locale().relativeTime||o,m=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],v=m.length,y=0;y<v;y+=1){var x=m[y];x.d&&(A=f?i(u).diff(d,x.d,!0):d.diff(u,x.d,!0));var T=(r.rounding||Math.round)(Math.abs(A));if(I=A>0,T<=x.r||!x.r){T<=1&&y>0&&(x=m[y-1]);var E=p[x.l];h&&(T=h(""+T)),C=typeof E=="string"?E.replace("%d",T):E(T,g,x.l,I);break}}if(g)return C;var _=I?p.future:p.past;return typeof _=="function"?_(C):_.replace("%s",C)},s.to=function(u,g){return a(u,g,this,!0)},s.from=function(u,g){return a(u,g,this)};var l=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})})(Nxe);var ZFe=Nxe.exports;const Oxe=g1(ZFe),XFe={},mH=t=>{let e;const r=new Set,n=(g,d)=>{const f=typeof g=="function"?g(e):g;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(A=>A(e,h))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(XFe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,l);return l},jxe=t=>t?mH(t):mH;var Pxe={exports:{}},kxe={},Dxe={exports:{}},Fxe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=D;function QFe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var JFe=typeof Object.is=="function"?Object.is:QFe,e3e=Fp.useState,t3e=Fp.useEffect,r3e=Fp.useLayoutEffect,n3e=Fp.useDebugValue;function i3e(t,e){var r=e(),n=e3e({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return r3e(function(){i.value=r,i.getSnapshot=e,oT(i)&&s({inst:i})},[t,r,e]),t3e(function(){return oT(i)&&s({inst:i}),t(function(){oT(i)&&s({inst:i})})},[t]),n3e(r),r}function oT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!JFe(t,r)}catch{return!0}}function s3e(t,e){return e()}var o3e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s3e:i3e;Fxe.useSyncExternalStore=Fp.useSyncExternalStore!==void 0?Fp.useSyncExternalStore:o3e;Dxe.exports=Fxe;var a3e=Dxe.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=D,l3e=a3e;function c3e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var u3e=typeof Object.is=="function"?Object.is:c3e,g3e=l3e.useSyncExternalStore,d3e=_S.useRef,h3e=_S.useEffect,f3e=_S.useMemo,A3e=_S.useDebugValue;kxe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=d3e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=f3e(function(){function l(h){if(!u){if(u=!0,g=h,h=n(h),i!==void 0&&o.hasValue){var A=o.value;if(i(A,h))return d=A}return d=h}if(A=d,u3e(g,h))return A;var C=n(h);return i!==void 0&&i(A,C)?(g=h,A):(g=h,d=C)}var u=!1,g,d,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var a=g3e(t,s[0],s[1]);return h3e(function(){o.hasValue=!0,o.value=a},[a]),A3e(a),a};Pxe.exports=kxe;var C3e=Pxe.exports;const Lxe=g1(C3e),Mxe={},{useDebugValue:I3e}=Ue,{useSyncExternalStoreWithSelector:p3e}=Lxe;let vH=!1;const m3e=t=>t;function v3e(t,e=m3e,r){(Mxe?"production":void 0)!=="production"&&r&&!vH&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vH=!0);const n=p3e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return I3e(n),n}const yH=t=>{(Mxe?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?jxe(t):t,r=(n,i)=>v3e(e,n,i);return Object.assign(r,e),r},vd=t=>t?yH(t):yH,mw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,application/pdf",VITE_API_URL:"/api/v1",VITE_APP_NAME:"Manufacturing Execution System",VITE_APP_VERSION:"1.0.0",VITE_ENABLE_DEV_TOOLS:"true",VITE_ENABLE_MOCK_DATA:"true",VITE_MAX_FILE_SIZE:"10485760",VITE_REFRESH_TOKEN_STORAGE_KEY:"mes_refresh_token",VITE_TOKEN_STORAGE_KEY:"mes_auth_token",VITE_WS_URL:"ws://localhost:3001"},gz=new Map,sb=t=>{const e=gz.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},y3e=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=gz.get(r.name);if(n)return{type:"tracked",store:t,...n};const i={connection:e.connect(r),stores:{}};return gz.set(r.name,i),{type:"tracked",store:t,...i}},x3e=(t,e={})=>(r,n,i)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let u;try{u=(s??(mw?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(mw?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,i);const{connection:g,...d}=y3e(a,u,l);let f=!0;i.setState=(C,I,p)=>{const m=r(C,I);if(!f)return m;const v=p===void 0?{type:o||"anonymous"}:typeof p=="string"?{type:p}:p;return a===void 0?(g==null||g.send(v,n()),m):(g==null||g.send({...v,type:`${a}/${v.type}`},{...sb(l.name),[a]:i.getState()}),m)};const h=(...C)=>{const I=f;f=!1,r(...C),f=I},A=t(i.setState,n,i);if(d.type==="untracked"?g==null||g.init(A):(d.stores[d.store]=i,g==null||g.init(Object.fromEntries(Object.entries(d.stores).map(([C,I])=>[C,C===d.store?A:I.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let C=!1;const I=i.dispatch;i.dispatch=(...p)=>{(mw?"production":void 0)!=="production"&&p[0].type==="__setState"&&!C&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),C=!0),I(...p)}}return g.subscribe(C=>{var I;switch(C.type){case"ACTION":if(typeof C.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return aT(C.payload,p=>{if(p.type==="__setState"){if(a===void 0){h(p.state);return}Object.keys(p.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const m=p.state[a];if(m==null)return;JSON.stringify(i.getState())!==JSON.stringify(m)&&h(m);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(p)});case"DISPATCH":switch(C.payload.type){case"RESET":return h(A),a===void 0?g==null?void 0:g.init(i.getState()):g==null?void 0:g.init(sb(l.name));case"COMMIT":if(a===void 0){g==null||g.init(i.getState());return}return g==null?void 0:g.init(sb(l.name));case"ROLLBACK":return aT(C.state,p=>{if(a===void 0){h(p),g==null||g.init(i.getState());return}h(p[a]),g==null||g.init(sb(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return aT(C.state,p=>{if(a===void 0){h(p);return}JSON.stringify(i.getState())!==JSON.stringify(p[a])&&h(p[a])});case"IMPORT_STATE":{const{nextLiftedState:p}=C.payload,m=(I=p.computedStates.slice(-1)[0])==null?void 0:I.state;if(!m)return;h(a===void 0?m:m[a]),g==null||g.send(null,p);return}case"PAUSE_RECORDING":return f=!f}return}}),A},cf=x3e,aT=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function b3e(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const fy=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return fy(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return fy(n)(r)}}}},w3e=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:I=>I,version:0,merge:(I,p)=>({...p,...I}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...I)},n,i);const g=fy(s.serialize),d=()=>{const I=s.partialize({...n()});let p;const m=g({state:I,version:s.version}).then(v=>u.setItem(s.name,v)).catch(v=>{p=v});if(p)throw p;return m},f=i.setState;i.setState=(I,p)=>{f(I,p),d()};const h=t((...I)=>{r(...I),d()},n,i);let A;const C=()=>{var I;if(!u)return;o=!1,a.forEach(m=>m(n()));const p=((I=s.onRehydrateStorage)==null?void 0:I.call(s,n()))||void 0;return fy(u.getItem.bind(u))(s.name).then(m=>{if(m)return s.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return s.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var v;return A=s.merge(m,(v=n())!=null?v:h),r(A,!0),d()}).then(()=>{p==null||p(A,void 0),o=!0,l.forEach(m=>m(A))}).catch(m=>{p==null||p(void 0,m)})};return i.persist={setOptions:I=>{s={...s,...I},I.getStorage&&(u=I.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>C(),hasHydrated:()=>o,onHydrate:I=>(a.add(I),()=>{a.delete(I)}),onFinishHydration:I=>(l.add(I),()=>{l.delete(I)})},C(),A||h},S3e=(t,e)=>(r,n,i)=>{let s={storage:b3e(()=>localStorage),partialize:C=>C,version:0,merge:(C,I)=>({...I,...C}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...C)},n,i);const g=()=>{const C=s.partialize({...n()});return u.setItem(s.name,{state:C,version:s.version})},d=i.setState;i.setState=(C,I)=>{d(C,I),g()};const f=t((...C)=>{r(...C),g()},n,i);i.getInitialState=()=>f;let h;const A=()=>{var C,I;if(!u)return;o=!1,a.forEach(m=>{var v;return m((v=n())!=null?v:f)});const p=((I=s.onRehydrateStorage)==null?void 0:I.call(s,(C=n())!=null?C:f))||void 0;return fy(u.getItem.bind(u))(s.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return[!0,s.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var v;const[y,x]=m;if(h=s.merge(x,(v=n())!=null?v:f),r(h,!0),y)return g()}).then(()=>{p==null||p(h,void 0),h=n(),o=!0,l.forEach(m=>m(h))}).catch(m=>{p==null||p(void 0,m)})};return i.persist={setOptions:C=>{s={...s,...C},C.storage&&(u=C.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>A(),hasHydrated:()=>o,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(l.add(C),()=>{l.delete(C)})},s.skipHydration||A(),h||f},E3e=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((mw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),w3e(t,e)):S3e(t,e),_3e=E3e;function Bxe(t,e){return function(){return t.apply(e,arguments)}}const{toString:T3e}=Object.prototype,{getPrototypeOf:EU}=Object,{iterator:TS,toStringTag:$xe}=Symbol,RS=(t=>e=>{const r=T3e.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Qc=t=>(t=t.toLowerCase(),e=>RS(e)===t),NS=t=>e=>typeof e===t,{isArray:cm}=Array,Lp=NS("undefined");function f1(t){return t!==null&&!Lp(t)&&t.constructor!==null&&!Lp(t.constructor)&&xa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qxe=Qc("ArrayBuffer");function R3e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qxe(t.buffer),e}const N3e=NS("string"),xa=NS("function"),zxe=NS("number"),A1=t=>t!==null&&typeof t=="object",O3e=t=>t===!0||t===!1,vw=t=>{if(RS(t)!=="object")return!1;const e=EU(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($xe in t)&&!(TS in t)},j3e=t=>{if(!A1(t)||f1(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},P3e=Qc("Date"),k3e=Qc("File"),D3e=Qc("Blob"),F3e=Qc("FileList"),L3e=t=>A1(t)&&xa(t.pipe),M3e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xa(t.append)&&((e=RS(t))==="formdata"||e==="object"&&xa(t.toString)&&t.toString()==="[object FormData]"))},B3e=Qc("URLSearchParams"),[$3e,q3e,z3e,U3e]=["ReadableStream","Request","Response","Headers"].map(Qc),W3e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function C1(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),cm(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(f1(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function Uxe(t,e){if(f1(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const oA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wxe=t=>!Lp(t)&&t!==oA;function dz(){const{caseless:t,skipUndefined:e}=Wxe(this)&&this||{},r={},n=(i,s)=>{const o=t&&Uxe(r,s)||s;vw(r[o])&&vw(i)?r[o]=dz(r[o],i):vw(i)?r[o]=dz({},i):cm(i)?r[o]=i.slice():(!e||!Lp(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&C1(arguments[i],n);return r}const G3e=(t,e,r,{allOwnKeys:n}={})=>(C1(e,(i,s)=>{r&&xa(i)?t[s]=Bxe(i,r):t[s]=i},{allOwnKeys:n}),t),V3e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),H3e=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},K3e=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&EU(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Y3e=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Z3e=t=>{if(!t)return null;if(cm(t))return t;let e=t.length;if(!zxe(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},X3e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&EU(Uint8Array)),Q3e=(t,e)=>{const n=(t&&t[TS]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},J3e=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},e4e=Qc("HTMLFormElement"),t4e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),xH=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),r4e=Qc("RegExp"),Gxe=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};C1(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},n4e=t=>{Gxe(t,(e,r)=>{if(xa(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(xa(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},i4e=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return cm(t)?n(t):n(String(t).split(e)),r},s4e=()=>{},o4e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function a4e(t){return!!(t&&xa(t.append)&&t[$xe]==="FormData"&&t[TS])}const l4e=t=>{const e=new Array(10),r=(n,i)=>{if(A1(n)){if(e.indexOf(n)>=0)return;if(f1(n))return n;if(!("toJSON"in n)){e[i]=n;const s=cm(n)?[]:{};return C1(n,(o,a)=>{const l=r(o,i+1);!Lp(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},c4e=Qc("AsyncFunction"),u4e=t=>t&&(A1(t)||xa(t))&&xa(t.then)&&xa(t.catch),Vxe=((t,e)=>t?setImmediate:e?((r,n)=>(oA.addEventListener("message",({source:i,data:s})=>{i===oA&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),oA.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",xa(oA.postMessage)),g4e=typeof queueMicrotask<"u"?queueMicrotask.bind(oA):typeof process<"u"&&process.nextTick||Vxe,d4e=t=>t!=null&&xa(t[TS]),Ke={isArray:cm,isArrayBuffer:qxe,isBuffer:f1,isFormData:M3e,isArrayBufferView:R3e,isString:N3e,isNumber:zxe,isBoolean:O3e,isObject:A1,isPlainObject:vw,isEmptyObject:j3e,isReadableStream:$3e,isRequest:q3e,isResponse:z3e,isHeaders:U3e,isUndefined:Lp,isDate:P3e,isFile:k3e,isBlob:D3e,isRegExp:r4e,isFunction:xa,isStream:L3e,isURLSearchParams:B3e,isTypedArray:X3e,isFileList:F3e,forEach:C1,merge:dz,extend:G3e,trim:W3e,stripBOM:V3e,inherits:H3e,toFlatObject:K3e,kindOf:RS,kindOfTest:Qc,endsWith:Y3e,toArray:Z3e,forEachEntry:Q3e,matchAll:J3e,isHTMLForm:e4e,hasOwnProperty:xH,hasOwnProp:xH,reduceDescriptors:Gxe,freezeMethods:n4e,toObjectSet:i4e,toCamelCase:t4e,noop:s4e,toFiniteNumber:o4e,findKey:Uxe,global:oA,isContextDefined:Wxe,isSpecCompliantForm:a4e,toJSONObject:l4e,isAsyncFn:c4e,isThenable:u4e,setImmediate:Vxe,asap:g4e,isIterable:d4e};function kr(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ke.inherits(kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}});const Hxe=kr.prototype,Kxe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Kxe[t]={value:t}});Object.defineProperties(kr,Kxe);Object.defineProperty(Hxe,"isAxiosError",{value:!0});kr.from=(t,e,r,n,i,s)=>{const o=Object.create(Hxe);Ke.toFlatObject(t,o,function(g){return g!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return kr.call(o,a,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const h4e=null;function hz(t){return Ke.isPlainObject(t)||Ke.isArray(t)}function Yxe(t){return Ke.endsWith(t,"[]")?t.slice(0,-2):t}function bH(t,e,r){return t?t.concat(e).map(function(i,s){return i=Yxe(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function f4e(t){return Ke.isArray(t)&&!t.some(hz)}const A4e=Ke.toFlatObject(Ke,{},null,function(e){return/^is[A-Z]/.test(e)});function OS(t,e,r){if(!Ke.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,I){return!Ke.isUndefined(I[C])});const n=r.metaTokens,i=r.visitor||g,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ke.isSpecCompliantForm(e);if(!Ke.isFunction(i))throw new TypeError("visitor must be a function");function u(A){if(A===null)return"";if(Ke.isDate(A))return A.toISOString();if(Ke.isBoolean(A))return A.toString();if(!l&&Ke.isBlob(A))throw new kr("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(A)||Ke.isTypedArray(A)?l&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,C,I){let p=A;if(A&&!I&&typeof A=="object"){if(Ke.endsWith(C,"{}"))C=n?C:C.slice(0,-2),A=JSON.stringify(A);else if(Ke.isArray(A)&&f4e(A)||(Ke.isFileList(A)||Ke.endsWith(C,"[]"))&&(p=Ke.toArray(A)))return C=Yxe(C),p.forEach(function(v,y){!(Ke.isUndefined(v)||v===null)&&e.append(o===!0?bH([C],y,s):o===null?C:C+"[]",u(v))}),!1}return hz(A)?!0:(e.append(bH(I,C,s),u(A)),!1)}const d=[],f=Object.assign(A4e,{defaultVisitor:g,convertValue:u,isVisitable:hz});function h(A,C){if(!Ke.isUndefined(A)){if(d.indexOf(A)!==-1)throw Error("Circular reference detected in "+C.join("."));d.push(A),Ke.forEach(A,function(p,m){(!(Ke.isUndefined(p)||p===null)&&i.call(e,p,Ke.isString(m)?m.trim():m,C,f))===!0&&h(p,C?C.concat(m):[m])}),d.pop()}}if(!Ke.isObject(t))throw new TypeError("data must be an object");return h(t),e}function wH(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function _U(t,e){this._pairs=[],t&&OS(t,this,e)}const Zxe=_U.prototype;Zxe.append=function(e,r){this._pairs.push([e,r])};Zxe.toString=function(e){const r=e?function(n){return e.call(this,n,wH)}:wH;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function C4e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xxe(t,e,r){if(!e)return t;const n=r&&r.encode||C4e;Ke.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=Ke.isURLSearchParams(e)?e.toString():new _U(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class SH{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ke.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Qxe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I4e=typeof URLSearchParams<"u"?URLSearchParams:_U,p4e=typeof FormData<"u"?FormData:null,m4e=typeof Blob<"u"?Blob:null,v4e={isBrowser:!0,classes:{URLSearchParams:I4e,FormData:p4e,Blob:m4e},protocols:["http","https","file","blob","url","data"]},TU=typeof window<"u"&&typeof document<"u",fz=typeof navigator=="object"&&navigator||void 0,y4e=TU&&(!fz||["ReactNative","NativeScript","NS"].indexOf(fz.product)<0),x4e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b4e=TU&&window.location.href||"http://localhost",w4e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TU,hasStandardBrowserEnv:y4e,hasStandardBrowserWebWorkerEnv:x4e,navigator:fz,origin:b4e},Symbol.toStringTag,{value:"Module"})),Fo={...w4e,...v4e};function S4e(t,e){return OS(t,new Fo.classes.URLSearchParams,{visitor:function(r,n,i,s){return Fo.isNode&&Ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function E4e(t){return Ke.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _4e(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function Jxe(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&Ke.isArray(i)?i.length:o,l?(Ke.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!Ke.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&Ke.isArray(i[o])&&(i[o]=_4e(i[o])),!a)}if(Ke.isFormData(t)&&Ke.isFunction(t.entries)){const r={};return Ke.forEachEntry(t,(n,i)=>{e(E4e(n),i,r,0)}),r}return null}function T4e(t,e,r){if(Ke.isString(t))try{return(e||JSON.parse)(t),Ke.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const I1={transitional:Qxe,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Ke.isObject(e);if(s&&Ke.isHTMLForm(e)&&(e=new FormData(e)),Ke.isFormData(e))return i?JSON.stringify(Jxe(e)):e;if(Ke.isArrayBuffer(e)||Ke.isBuffer(e)||Ke.isStream(e)||Ke.isFile(e)||Ke.isBlob(e)||Ke.isReadableStream(e))return e;if(Ke.isArrayBufferView(e))return e.buffer;if(Ke.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return S4e(e,this.formSerializer).toString();if((a=Ke.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return OS(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),T4e(e)):e}],transformResponse:[function(e){const r=this.transitional||I1.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ke.isResponse(e)||Ke.isReadableStream(e))return e;if(e&&Ke.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?kr.from(a,kr.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fo.classes.FormData,Blob:Fo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],t=>{I1.headers[t]={}});const R4e=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),N4e=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&R4e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},EH=Symbol("internals");function O0(t){return t&&String(t).trim().toLowerCase()}function yw(t){return t===!1||t==null?t:Ke.isArray(t)?t.map(yw):String(t)}function O4e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const j4e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lT(t,e,r,n,i){if(Ke.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ke.isString(e)){if(Ke.isString(n))return e.indexOf(n)!==-1;if(Ke.isRegExp(n))return n.test(e)}}function P4e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function k4e(t,e){const r=Ke.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let ba=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const g=O0(l);if(!g)throw new Error("header name must be a non-empty string");const d=Ke.findKey(i,g);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=yw(a))}const o=(a,l)=>Ke.forEach(a,(u,g)=>s(u,g,l));if(Ke.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Ke.isString(e)&&(e=e.trim())&&!j4e(e))o(N4e(e),r);else if(Ke.isObject(e)&&Ke.isIterable(e)){let a={},l,u;for(const g of e){if(!Ke.isArray(g))throw TypeError("Object iterator must return a key-value pair");a[u=g[0]]=(l=a[u])?Ke.isArray(l)?[...l,g[1]]:[l,g[1]]:g[1]}o(a,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=O0(e),e){const n=Ke.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return O4e(i);if(Ke.isFunction(r))return r.call(this,i,n);if(Ke.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=O0(e),e){const n=Ke.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||lT(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=O0(o),o){const a=Ke.findKey(n,o);a&&(!r||lT(n,n[a],a,r))&&(delete n[a],i=!0)}}return Ke.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||lT(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Ke.forEach(this,(i,s)=>{const o=Ke.findKey(n,s);if(o){r[o]=yw(i),delete r[s];return}const a=e?P4e(s):String(s).trim();a!==s&&delete r[s],r[a]=yw(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ke.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[EH]=this[EH]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=O0(o);n[a]||(k4e(i,o),n[a]=!0)}return Ke.isArray(e)?e.forEach(s):s(e),this}};ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(ba.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ke.freezeMethods(ba);function cT(t,e){const r=this||I1,n=e||r,i=ba.from(n.headers);let s=n.data;return Ke.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ebe(t){return!!(t&&t.__CANCEL__)}function um(t,e,r){kr.call(this,t??"canceled",kr.ERR_CANCELED,e,r),this.name="CanceledError"}Ke.inherits(um,kr,{__CANCEL__:!0});function tbe(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new kr("Request failed with status code "+r.status,[kr.ERR_BAD_REQUEST,kr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function D4e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function F4e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),g=n[s];o||(o=u),r[i]=l,n[i]=u;let d=s,f=0;for(;d!==i;)f+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const h=g&&u-g;return h?Math.round(f*1e3/h):void 0}}function L4e(t,e){let r=0,n=1e3/e,i,s;const o=(u,g=Date.now())=>{r=g,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const g=Date.now(),d=g-r;d>=n?o(u,g):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-d)))},()=>i&&o(i)]}const Jw=(t,e,r=3)=>{let n=0;const i=F4e(50,250);return L4e(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),g=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&g?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},_H=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},TH=t=>(...e)=>Ke.asap(()=>t(...e)),M4e=Fo.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Fo.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Fo.origin),Fo.navigator&&/(msie|trident)/i.test(Fo.navigator.userAgent)):()=>!0,B4e=Fo.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];Ke.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ke.isString(n)&&o.push("path="+n),Ke.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $4e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function q4e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rbe(t,e,r){let n=!$4e(e);return t&&(n||r==!1)?q4e(t,e):e}const RH=t=>t instanceof ba?{...t}:t;function zA(t,e){e=e||{};const r={};function n(u,g,d,f){return Ke.isPlainObject(u)&&Ke.isPlainObject(g)?Ke.merge.call({caseless:f},u,g):Ke.isPlainObject(g)?Ke.merge({},g):Ke.isArray(g)?g.slice():g}function i(u,g,d,f){if(Ke.isUndefined(g)){if(!Ke.isUndefined(u))return n(void 0,u,d,f)}else return n(u,g,d,f)}function s(u,g){if(!Ke.isUndefined(g))return n(void 0,g)}function o(u,g){if(Ke.isUndefined(g)){if(!Ke.isUndefined(u))return n(void 0,u)}else return n(void 0,g)}function a(u,g,d){if(d in e)return n(u,g);if(d in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,g,d)=>i(RH(u),RH(g),d,!0)};return Ke.forEach(Object.keys({...t,...e}),function(g){const d=l[g]||i,f=d(t[g],e[g],g);Ke.isUndefined(f)&&d!==a||(r[g]=f)}),r}const nbe=t=>{const e=zA({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=ba.from(o),e.url=Xxe(rbe(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Ke.isFormData(r)){if(Fo.hasStandardBrowserEnv||Fo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ke.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([g,d])=>{u.includes(g.toLowerCase())&&o.set(g,d)})}}if(Fo.hasStandardBrowserEnv&&(n&&Ke.isFunction(n)&&(n=n(e)),n||n!==!1&&M4e(e.url))){const l=i&&s&&B4e.read(s);l&&o.set(i,l)}return e},z4e=typeof XMLHttpRequest<"u",U4e=z4e&&function(t){return new Promise(function(r,n){const i=nbe(t);let s=i.data;const o=ba.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,g,d,f,h,A;function C(){h&&h(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function p(){if(!I)return;const v=ba.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:v,config:t,request:I};tbe(function(E){r(E),C()},function(E){n(E),C()},x),I=null}"onloadend"in I?I.onloadend=p:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(p)},I.onabort=function(){I&&(n(new kr("Request aborted",kr.ECONNABORTED,t,I)),I=null)},I.onerror=function(y){const x=y&&y.message?y.message:"Network Error",T=new kr(x,kr.ERR_NETWORK,t,I);T.event=y||null,n(T),I=null},I.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||Qxe;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),n(new kr(y,x.clarifyTimeoutError?kr.ETIMEDOUT:kr.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ke.forEach(o.toJSON(),function(y,x){I.setRequestHeader(x,y)}),Ke.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),a&&a!=="json"&&(I.responseType=i.responseType),u&&([f,A]=Jw(u,!0),I.addEventListener("progress",f)),l&&I.upload&&([d,h]=Jw(l),I.upload.addEventListener("progress",d),I.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(g=v=>{I&&(n(!v||v.type?new um(null,t,I):v),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const m=D4e(i.url);if(m&&Fo.protocols.indexOf(m)===-1){n(new kr("Unsupported protocol "+m+":",kr.ERR_BAD_REQUEST,t));return}I.send(s||null)})},W4e=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,a();const g=u instanceof Error?u:this.reason;n.abort(g instanceof kr?g:new um(g instanceof Error?g.message:g))}};let o=e&&setTimeout(()=>{o=null,s(new kr(`timeout ${e} of ms exceeded`,kr.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>Ke.asap(a),l}},G4e=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},V4e=async function*(t,e){for await(const r of H4e(t))yield*G4e(r,e)},H4e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},NH=(t,e,r,n)=>{const i=V4e(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:g}=await i.next();if(u){a(),l.close();return}let d=g.byteLength;if(r){let f=s+=d;r(f)}l.enqueue(new Uint8Array(g))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},OH=64*1024,{isFunction:ob}=Ke,K4e=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ke.global),{ReadableStream:jH,TextEncoder:PH}=Ke.global,kH=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Y4e=t=>{t=Ke.merge.call({skipUndefined:!0},K4e,t);const{fetch:e,Request:r,Response:n}=t,i=e?ob(e):typeof fetch=="function",s=ob(r),o=ob(n);if(!i)return!1;const a=i&&ob(jH),l=i&&(typeof PH=="function"?(A=>C=>A.encode(C))(new PH):async A=>new Uint8Array(await new r(A).arrayBuffer())),u=s&&a&&kH(()=>{let A=!1;const C=new r(Fo.origin,{body:new jH,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!C}),g=o&&a&&kH(()=>Ke.isReadableStream(new n("").body)),d={stream:g&&(A=>A.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!d[A]&&(d[A]=(C,I)=>{let p=C&&C[A];if(p)return p.call(C);throw new kr(`Response type '${A}' is not supported`,kr.ERR_NOT_SUPPORT,I)})});const f=async A=>{if(A==null)return 0;if(Ke.isBlob(A))return A.size;if(Ke.isSpecCompliantForm(A))return(await new r(Fo.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(A)||Ke.isArrayBuffer(A))return A.byteLength;if(Ke.isURLSearchParams(A)&&(A=A+""),Ke.isString(A))return(await l(A)).byteLength},h=async(A,C)=>{const I=Ke.toFiniteNumber(A.getContentLength());return I??f(C)};return async A=>{let{url:C,method:I,data:p,signal:m,cancelToken:v,timeout:y,onDownloadProgress:x,onUploadProgress:T,responseType:E,headers:_,withCredentials:S="same-origin",fetchOptions:j}=nbe(A),w=e||fetch;E=E?(E+"").toLowerCase():"text";let R=W4e([m,v&&v.toAbortSignal()],y),N=null;const P=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let M;try{if(T&&u&&I!=="get"&&I!=="head"&&(M=await h(_,p))!==0){let Y=new r(C,{method:"POST",body:p,duplex:"half"}),k;if(Ke.isFormData(p)&&(k=Y.headers.get("content-type"))&&_.setContentType(k),Y.body){const[q,z]=_H(M,Jw(TH(T)));p=NH(Y.body,OH,q,z)}}Ke.isString(S)||(S=S?"include":"omit");const B=s&&"credentials"in r.prototype,W={...j,signal:R,method:I.toUpperCase(),headers:_.normalize().toJSON(),body:p,duplex:"half",credentials:B?S:void 0};N=s&&new r(C,W);let H=await(s?w(N,j):w(C,W));const V=g&&(E==="stream"||E==="response");if(g&&(x||V&&P)){const Y={};["status","statusText","headers"].forEach(G=>{Y[G]=H[G]});const k=Ke.toFiniteNumber(H.headers.get("content-length")),[q,z]=x&&_H(k,Jw(TH(x),!0))||[];H=new n(NH(H.body,OH,q,()=>{z&&z(),P&&P()}),Y)}E=E||"text";let K=await d[Ke.findKey(d,E)||"text"](H,A);return!V&&P&&P(),await new Promise((Y,k)=>{tbe(Y,k,{data:K,headers:ba.from(H.headers),status:H.status,statusText:H.statusText,config:A,request:N})})}catch(B){throw P&&P(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new kr("Network Error",kr.ERR_NETWORK,A,N),{cause:B.cause||B}):kr.from(B,B&&B.code,A,N)}}},Z4e=new Map,ibe=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let o=s.length,a=o,l,u,g=Z4e;for(;a--;)l=s[a],u=g.get(l),u===void 0&&g.set(l,u=a?new Map:Y4e(e)),g=u;return u};ibe();const Az={http:h4e,xhr:U4e,fetch:{get:ibe}};Ke.forEach(Az,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const DH=t=>`- ${t}`,X4e=t=>Ke.isFunction(t)||t===null||t===!1,sbe={getAdapter:(t,e)=>{t=Ke.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let o=0;o<r;o++){n=t[o];let a;if(i=n,!X4e(n)&&(i=Az[(a=String(n)).toLowerCase()],i===void 0))throw new kr(`Unknown adapter '${a}'`);if(i&&(Ke.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(DH).join(`
`):" "+DH(o[0]):"as no adapter specified";throw new kr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Az};function uT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new um(null,t)}function FH(t){return uT(t),t.headers=ba.from(t.headers),t.data=cT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sbe.getAdapter(t.adapter||I1.adapter,t)(t).then(function(n){return uT(t),n.data=cT.call(t,t.transformResponse,n),n.headers=ba.from(n.headers),n},function(n){return ebe(n)||(uT(t),n&&n.response&&(n.response.data=cT.call(t,t.transformResponse,n.response),n.response.headers=ba.from(n.response.headers))),Promise.reject(n)})}const obe="1.12.2",jS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jS[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const LH={};jS.transitional=function(e,r,n){function i(s,o){return"[Axios v"+obe+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new kr(i(o," has been removed"+(r?" in "+r:"")),kr.ERR_DEPRECATED);return r&&!LH[o]&&(LH[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};jS.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Q4e(t,e,r){if(typeof t!="object")throw new kr("options must be an object",kr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new kr("option "+s+" must be "+l,kr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kr("Unknown option "+s,kr.ERR_BAD_OPTION)}}const xw={assertOptions:Q4e,validators:jS},gu=xw.validators;let wA=class{constructor(e){this.defaults=e||{},this.interceptors={request:new SH,response:new SH}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=zA(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&xw.assertOptions(n,{silentJSONParsing:gu.transitional(gu.boolean),forcedJSONParsing:gu.transitional(gu.boolean),clarifyTimeoutError:gu.transitional(gu.boolean)},!1),i!=null&&(Ke.isFunction(i)?r.paramsSerializer={serialize:i}:xw.assertOptions(i,{encode:gu.function,serialize:gu.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),xw.assertOptions(r,{baseUrl:gu.spelling("baseURL"),withXsrfToken:gu.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Ke.merge(s.common,s[r.method]);s&&Ke.forEach(["delete","get","head","post","put","patch","common"],A=>{delete s[A]}),r.headers=ba.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(l=l&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const u=[];this.interceptors.response.forEach(function(C){u.push(C.fulfilled,C.rejected)});let g,d=0,f;if(!l){const A=[FH.bind(this),void 0];for(A.unshift(...a),A.push(...u),f=A.length,g=Promise.resolve(r);d<f;)g=g.then(A[d++],A[d++]);return g}f=a.length;let h=r;for(;d<f;){const A=a[d++],C=a[d++];try{h=A(h)}catch(I){C.call(this,I);break}}try{g=FH.call(this,h)}catch(A){return Promise.reject(A)}for(d=0,f=u.length;d<f;)g=g.then(u[d++],u[d++]);return g}getUri(e){e=zA(this.defaults,e);const r=rbe(e.baseURL,e.url,e.allowAbsoluteUrls);return Xxe(r,e.params,e.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(e){wA.prototype[e]=function(r,n){return this.request(zA(n||{},{method:e,url:r,data:(n||{}).data}))}});Ke.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(zA(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wA.prototype[e]=r(),wA.prototype[e+"Form"]=r(!0)});let J4e=class abe{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new um(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new abe(function(i){e=i}),cancel:e}}};function eLe(t){return function(r){return t.apply(null,r)}}function tLe(t){return Ke.isObject(t)&&t.isAxiosError===!0}const Cz={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cz).forEach(([t,e])=>{Cz[e]=t});function lbe(t){const e=new wA(t),r=Bxe(wA.prototype.request,e);return Ke.extend(r,wA.prototype,e,{allOwnKeys:!0}),Ke.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return lbe(zA(t,i))},r}const Vt=lbe(I1);Vt.Axios=wA;Vt.CanceledError=um;Vt.CancelToken=J4e;Vt.isCancel=ebe;Vt.VERSION=obe;Vt.toFormData=OS;Vt.AxiosError=kr;Vt.Cancel=Vt.CanceledError;Vt.all=function(e){return Promise.all(e)};Vt.spread=eLe;Vt.isAxiosError=tLe;Vt.mergeConfig=zA;Vt.AxiosHeaders=ba;Vt.formToJSON=t=>Jxe(Ke.isHTMLForm(t)?new FormData(t):t);Vt.getAdapter=sbe.getAdapter;Vt.HttpStatusCode=Cz;Vt.default=Vt;const{Axios:tRt,AxiosError:rRt,CanceledError:nRt,isCancel:iRt,CancelToken:sRt,VERSION:oRt,all:aRt,Cancel:lRt,isAxiosError:cRt,spread:uRt,toFormData:gRt,AxiosHeaders:dRt,HttpStatusCode:hRt,formToJSON:fRt,getAdapter:ARt,mergeConfig:CRt}=Vt,rLe="/api/v1",Ng=Vt.create({baseURL:rLe,timeout:1e4,headers:{"Content-Type":"application/json"}});Ng.interceptors.response.use(t=>t.data,t=>{var e,r;if(((e=t.response)==null?void 0:e.status)===401&&typeof window<"u"&&!window.location.pathname.includes("/login")){localStorage.removeItem("mes-auth-storage");const n=window.location.pathname+window.location.search;window.location.href=`/login?redirect=${encodeURIComponent(n)}`}throw(r=t.response)!=null&&r.data?new Error(t.response.data.message||"Authentication failed"):new Error(t.message||"Network error")});const gT={login:async t=>Ng.post("/auth/login",t),logout:async()=>Ng.post("/auth/logout"),refreshToken:async t=>Ng.post("/auth/refresh",{refreshToken:t}),getCurrentUser:async()=>Ng.get("/auth/me"),changePassword:async t=>Ng.post("/auth/change-password",t),verifyToken:async t=>{try{return await Ng.get("/auth/verify",{headers:{Authorization:`Bearer ${t}`}}),!0}catch{return!1}}},yo={getToken:()=>{var t;try{const e=localStorage.getItem("mes-auth-storage");return e&&((t=JSON.parse(e).state)==null?void 0:t.token)||null}catch{return null}},setAuthHeader:t=>{Ng.defaults.headers.common.Authorization=`Bearer ${t}`},removeAuthHeader:()=>{delete Ng.defaults.headers.common.Authorization},isTokenExpired:t=>{try{const e=JSON.parse(atob(t.split(".")[1])),r=Date.now()/1e3;return e.exp<r}catch{return!0}}},nA=class nA{constructor(e){ve(this,"config");ve(this,"currentState",null);ve(this,"syncTimer",null);ve(this,"validationTimer",null);ve(this,"persistentRefreshTimer",null);ve(this,"eventListeners",new Map);ve(this,"isTestMode",!1);ve(this,"isSyncing",!1);ve(this,"lastSyncError",null);ve(this,"syncRetryCount",0);this.config={syncIntervalMs:3e4,tokenValidationIntervalMs:6e4,stateValidationTimeoutMs:1e4,maxSyncRetries:3,backendValidationBufferMs:3e5,persistentRefreshEnabled:!0,...e},this.isTestMode=this.detectTestMode(),this.initializePersistentState(),this.startBackgroundSync(),console.log("[AuthSync] Initialized with config:",{isTestMode:this.isTestMode,config:this.config})}static getInstance(e){return nA.instance||(nA.instance=new nA(e)),nA.instance}detectTestMode(){return!!(typeof window<"u"&&window.__playwright||typeof window<"u"&&(window.location.port==="5178"||window.location.port==="3103")||typeof window<"u"&&window.__E2E_TEST_MODE||typeof window<"u"&&document.querySelector('meta[name="x-test-mode"]'))}initializePersistentState(){try{const e=this.loadStoredState();e&&(this.currentState=e,console.log("[AuthSync] Loaded persistent state:",{hasToken:!!e.token,hasUser:!!e.user,lastSyncAt:new Date(e.lastSyncAt).toISOString(),isAuthenticated:e.isAuthenticated})),this.config.persistentRefreshEnabled&&!this.isTestMode&&this.setupPersistentTokenRefresh()}catch(e){console.error("[AuthSync] Failed to initialize persistent state:",e),this.currentState=null}}loadStoredState(){try{const e=localStorage.getItem("mes-auth-storage");if(!e)return null;const n=JSON.parse(e).state;return n!=null&&n.token?{token:n.token,refreshToken:n.refreshToken,user:n.user,isAuthenticated:!!n.token&&!!n.user,lastSyncAt:Date.now(),backendValidatedAt:0}:null}catch(e){return console.warn("[AuthSync] Failed to load stored state:",e),null}}startBackgroundSync(){setTimeout(()=>this.performSync(),1e3),this.syncTimer=window.setInterval(()=>{this.performSync()},this.config.syncIntervalMs),this.validationTimer=window.setInterval(()=>{this.validateTokenWithBackend()},this.config.tokenValidationIntervalMs),console.log("[AuthSync] Background sync started")}async performSync(){if(this.isSyncing){console.log("[AuthSync] Sync already in progress, skipping...");return}this.isSyncing=!0;try{const e=this.getCurrentFrontendState(),r=await this.getBackendState();console.log("[AuthSync] Performing sync:",{frontendAuthenticated:(e==null?void 0:e.isAuthenticated)||!1,backendAuthenticated:(r==null?void 0:r.isAuthenticated)||!1,hasTokenConflict:this.hasTokenConflict(e,r),hasUserConflict:this.hasUserConflict(e,r)});const n=await this.resolveStateConflicts(e,r);n&&(await this.applyResolvedState(n),this.currentState=n,this.lastSyncError=null,this.syncRetryCount=0,this.emit("sync-success",{state:n}))}catch(e){console.error("[AuthSync] Sync failed:",e),this.lastSyncError=e.message,this.syncRetryCount++,this.emit("sync-error",{error:e,retryCount:this.syncRetryCount}),this.syncRetryCount>=this.config.maxSyncRetries&&(console.error("[AuthSync] Max sync retries exceeded, forcing logout"),await this.forceLogout(),this.emit("sync-failure",{error:e,retriesExceeded:!0}))}finally{this.isSyncing=!1}}getCurrentFrontendState(){var e,r;try{const n=localStorage.getItem("mes-auth-storage");if(!n)return null;const s=JSON.parse(n).state;return s!=null&&s.token?{token:s.token,refreshToken:s.refreshToken,user:s.user,isAuthenticated:!!s.token&&!!s.user,lastSyncAt:((e=this.currentState)==null?void 0:e.lastSyncAt)||Date.now(),backendValidatedAt:((r=this.currentState)==null?void 0:r.backendValidatedAt)||0}:null}catch(n){return console.warn("[AuthSync] Failed to get frontend state:",n),null}}async getBackendState(){try{const e=this.getCurrentFrontendState();if(!(e!=null&&e.token))return null;if(yo.setAuthHeader(e.token),!await this.validateTokenDirectly(e.token))return console.log("[AuthSync] Token validation failed"),null;const n=await fetch("/api/v1/auth/me",{headers:{Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"}});if(!n.ok){if(n.status===401)return console.log("[AuthSync] Backend says token is invalid"),null;throw new Error(`Backend validation failed: ${n.status}`)}const i=await n.json();return{token:e.token,refreshToken:e.refreshToken,user:i,isAuthenticated:!0,lastSyncAt:Date.now(),backendValidatedAt:Date.now()}}catch(e){return console.warn("[AuthSync] Failed to get backend state:",e),null}}async validateTokenDirectly(e){try{const r=await fetch("/api/v1/auth/validate-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});return r.ok?(await r.json()).valid===!0:!1}catch(r){return console.warn("[AuthSync] Token validation request failed:",r),!1}}hasTokenConflict(e,r){return(e==null?void 0:e.isAuthenticated)!==(r==null?void 0:r.isAuthenticated)?!0:e!=null&&e.isAuthenticated&&(r!=null&&r.isAuthenticated)?e.token!==r.token:!1}hasUserConflict(e,r){return!(e!=null&&e.user)||!(r!=null&&r.user)?!1:e.user.id!==r.user.id}async resolveStateConflicts(e,r){return!e&&!r?(console.log("[AuthSync] No auth state on either side"),null):e&&!r?(console.log("[AuthSync] Frontend state exists but backend validation failed - clearing frontend"),null):!e&&r?(console.log("[AuthSync] Backend state exists but no frontend state - using backend"),r):e&&r?!this.hasTokenConflict(e,r)&&!this.hasUserConflict(e,r)?(console.log("[AuthSync] States are consistent"),{...r,lastSyncAt:Date.now(),backendValidatedAt:Date.now()}):(console.log("[AuthSync] State conflicts detected, using backend as source of truth"),{...r,lastSyncAt:Date.now(),backendValidatedAt:Date.now()}):null}async applyResolvedState(e){var r;try{if(!e){await this.forceLogout();return}const n={state:{token:e.token,refreshToken:e.refreshToken,user:e.user},version:0};localStorage.setItem("mes-auth-storage",JSON.stringify(n)),e.token&&yo.setAuthHeader(e.token),console.log("[AuthSync] Applied resolved state:",{isAuthenticated:e.isAuthenticated,hasToken:!!e.token,hasUser:!!e.user,userId:(r=e.user)==null?void 0:r.id})}catch(n){throw console.error("[AuthSync] Failed to apply resolved state:",n),n}}async forceLogout(){try{console.log("[AuthSync] Forcing logout to clear inconsistent state"),localStorage.removeItem("mes-auth-storage"),yo.removeAuthHeader(),this.currentState=null,console.log("[AuthSync] Force logout completed")}catch(e){console.error("[AuthSync] Force logout failed:",e)}}setupPersistentTokenRefresh(){this.persistentRefreshTimer&&clearInterval(this.persistentRefreshTimer),this.persistentRefreshTimer=window.setInterval(()=>{this.checkTokenRefreshNeeded()},6e4),console.log("[AuthSync] Persistent token refresh setup")}async checkTokenRefreshNeeded(){try{const e=this.getCurrentFrontendState();if(!(e!=null&&e.token)||!(e!=null&&e.refreshToken))return;const r=this.parseJWTPayload(e.token);if(!(r!=null&&r.exp))return;const i=r.exp*1e3-Date.now(),s=this.config.backendValidationBufferMs;i<=s&&(console.log("[AuthSync] Token needs refresh - expiry soon"),await this.performTokenRefresh(e.refreshToken))}catch(e){console.error("[AuthSync] Token refresh check failed:",e)}}parseJWTPayload(e){try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(n).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}catch(r){return console.warn("[AuthSync] Failed to parse JWT payload:",r),null}}async performTokenRefresh(e){try{console.log("[AuthSync] Performing token refresh");const r=await fetch("/api/v1/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!r.ok)throw new Error(`Token refresh failed: ${r.status}`);const n=await r.json(),i=JSON.parse(localStorage.getItem("mes-auth-storage")||"{}");i.state={...i.state,token:n.token,refreshToken:n.refreshToken},localStorage.setItem("mes-auth-storage",JSON.stringify(i)),yo.setAuthHeader(n.token),console.log("[AuthSync] Token refresh successful"),this.emit("token-refreshed",{newToken:n.token})}catch(r){console.error("[AuthSync] Token refresh failed:",r),this.emit("token-refresh-failed",{error:r}),await this.forceLogout()}}async validateTokenWithBackend(){var e;try{const r=this.getCurrentFrontendState();if(!(r!=null&&r.token)||Date.now()-(((e=this.currentState)==null?void 0:e.backendValidatedAt)||0)<this.config.backendValidationBufferMs)return;console.log("[AuthSync] Validating token with backend"),await this.validateTokenDirectly(r.token)?this.currentState&&(this.currentState.backendValidatedAt=Date.now()):(console.log("[AuthSync] Token validation failed - triggering sync"),await this.performSync())}catch(r){console.error("[AuthSync] Backend token validation failed:",r)}}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>{try{i(r)}catch(s){console.error(`[AuthSync] Event listener error for ${e}:`,s)}})}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}getSyncStatus(){return{isTestMode:this.isTestMode,isSyncing:this.isSyncing,lastSyncError:this.lastSyncError,syncRetryCount:this.syncRetryCount,currentState:this.currentState?{isAuthenticated:this.currentState.isAuthenticated,hasToken:!!this.currentState.token,hasUser:!!this.currentState.user,lastSyncAt:new Date(this.currentState.lastSyncAt).toISOString(),backendValidatedAt:new Date(this.currentState.backendValidatedAt).toISOString()}:null,config:this.config}}async forcSync(){console.log("[AuthSync] Force sync requested"),await this.performSync()}cleanup(){this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null),this.validationTimer&&(clearInterval(this.validationTimer),this.validationTimer=null),this.persistentRefreshTimer&&(clearInterval(this.persistentRefreshTimer),this.persistentRefreshTimer=null),this.eventListeners.clear(),console.log("[AuthSync] Cleanup completed")}};ve(nA,"instance");let Iz=nA;const RU=()=>!!(typeof window<"u"&&window.__playwright||typeof window<"u"&&window.location.port==="5178"||typeof window<"u"&&window.__E2E_TEST_MODE),nLe=()=>{if(!RU()||typeof window>"u")return{user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!0};try{const t=localStorage.getItem("mes-auth-storage");if(t){const r=JSON.parse(t).state;if(r!=null&&r.token&&(r!=null&&r.user))return console.log("[TEST MODE] Using pre-existing auth state from localStorage"),{user:r.user,token:r.token,refreshToken:r.refreshToken,isAuthenticated:!0,isLoading:!1}}}catch(t){console.warn("[TEST MODE] Failed to parse auth state from localStorage:",t)}return{user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}},Fv=vd()(cf(_3e((t,e)=>{const r=nLe();return{user:r.user,token:r.token,refreshToken:r.refreshToken,isAuthenticated:r.isAuthenticated,isLoading:r.isLoading,error:null,login:async n=>{try{t({isLoading:!0,error:null});const i=await gT.login(n);t({user:i.user,token:i.token,refreshToken:i.refreshToken,isAuthenticated:!0,isLoading:!1,error:null}),yo.setAuthHeader(i.token);const s=dT();console.log("[AuthStore] Login successful, auth synchronizer initialized")}catch(i){throw t({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:i.message||"Login failed"}),i}},logout:async()=>{try{t({isLoading:!0,error:null}),await gT.logout(),console.log("[AuthStore] Logout API call successful")}catch(n){console.error("[AuthStore] Logout API error:",n),n.status===401||n.status===404||n.name==="NetworkError"||n.code==="ECONNREFUSED"||t({error:`Logout failed: ${n.message||"Unknown error"}`,isLoading:!1})}finally{yo.removeAuthHeader(),cbe(),t({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),console.log("[AuthStore] Local logout completed, auth synchronizer cleaned up")}},refreshAccessToken:async()=>{try{const{refreshToken:n}=e();if(!n)throw new Error("No refresh token available");const i=await gT.refreshToken(n);t({token:i.token,refreshToken:i.refreshToken||n,error:null}),yo.setAuthHeader(i.token),console.log("[AuthStore] Manual token refresh successful, synchronizer will handle future refreshes")}catch(n){try{await e().logout()}catch(i){console.error("[AuthStore] Logout error during refresh failure:",i)}throw n}},setUser:n=>{t({user:n})},setError:n=>{t({error:n})},clearError:()=>{t({error:null})},setLoading:n=>{t({isLoading:n})},initialize:async()=>{try{console.log("[AuthStore] Starting auth initialization with synchronizer support");const{token:n,refreshToken:i,user:s}=e();if(!n){t({isLoading:!1}),console.log("[AuthStore] No token found, initialization complete");return}if(RU()&&s&&n){console.log("[TEST MODE] Using cached auth state, initializing synchronizer"),t({isAuthenticated:!0,isLoading:!1});const a=dT();return}const o=dT();yo.setAuthHeader(n),t({isLoading:!1}),console.log("[AuthStore] Auth initialization complete, synchronizer handling state management")}catch(n){console.error("[AuthStore] Auth initialization error:",n),t({isLoading:!1,error:"Authentication initialization failed"})}}}},{name:"mes-auth-storage",partialize:t=>({token:t.token,refreshToken:t.refreshToken,user:t.user})}),{name:"auth-store"}));let aA=null;const dT=()=>{if(aA)return aA;const t=Fv.getState();return aA=new Iz({syncIntervalMs:3e4,backgroundValidationMs:12e4,refreshBufferMs:3e5,enableE2ETestMode:RU(),persistentSync:!0,onStateResolved:async e=>{console.log("[AuthStore] Applying resolved auth state from synchronizer"),t.setUser(e.user),t.setError(null);const{setState:r}=Fv;r({user:e.user,token:e.token,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated,isLoading:!1,error:null}),e.token?yo.setAuthHeader(e.token):yo.removeAuthHeader()},onTokenRefreshed:async(e,r)=>{console.log("[AuthStore] Token refreshed by synchronizer");const{setState:n}=Fv;n({token:e,refreshToken:r,error:null}),yo.setAuthHeader(e)},onAuthError:async e=>{console.error("[AuthStore] Auth error from synchronizer:",e);try{await t.logout()}catch(r){console.error("[AuthStore] Logout error during synchronizer auth error:",r)}}}),aA},cbe=()=>{aA&&(aA.cleanup(),aA=null)},ube=D.createContext(null),iLe=({children:t})=>{const e=Fv();return D.useEffect(()=>(e.initialize(),()=>{console.log("[AuthProvider] Cleaning up auth synchronizer on unmount"),cbe()}),[]),c.jsx(ube.Provider,{value:e,children:t})},qo=()=>{const t=D.useContext(ube);if(!t)throw new Error("useAuthStore must be used within AuthProvider");return t},sLe=()=>{const{user:t}=qo();return t},gbe=()=>{const{user:t}=qo();return(t==null?void 0:t.permissions)||[]},dbe=()=>{const{user:t}=qo();return(t==null?void 0:t.roles)||[]},NU=()=>{const{user:t}=qo();return{hasPermission:a=>{var l;return((l=t==null?void 0:t.permissions)==null?void 0:l.includes(a))??!1},hasAnyPermission:a=>a.some(l=>{var u;return(u=t==null?void 0:t.permissions)==null?void 0:u.includes(l)})??!1,hasAllPermissions:a=>a.every(l=>{var u;return(u=t==null?void 0:t.permissions)==null?void 0:u.includes(l)})??!1,hasRole:a=>{var l;return((l=t==null?void 0:t.roles)==null?void 0:l.includes(a))??!1},hasAnyRole:a=>a.some(l=>{var u;return(u=t==null?void 0:t.roles)==null?void 0:u.includes(l)})??!1,hasAllRoles:a=>a.every(l=>{var u;return(u=t==null?void 0:t.roles)==null?void 0:u.includes(l)})??!1,permissions:(t==null?void 0:t.permissions)||[],roles:(t==null?void 0:t.roles)||[]}};let hT=class extends D.Component{constructor(){super(...arguments);ve(this,"state",{hasError:!1});ve(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0}),window.location.reload()})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?c.jsx("div",{style:{padding:"50px"},children:c.jsx(jv,{status:"error",title:"Something went wrong",subTitle:"An unexpected error occurred. Please try refreshing the page.",extra:[c.jsx(le,{type:"primary",onClick:this.handleReset,children:"Refresh Page"},"console"),c.jsx(le,{onClick:()=>window.history.back(),children:"Go Back"},"back")],children:!1})}):this.props.children}};const pi={SYSTEM_ADMIN:"System Administrator",PLANT_MANAGER:"Plant Manager",PRODUCTION_PLANNER:"Production Planner",QUALITY_ENGINEER:"Quality Engineer",QUALITY_INSPECTOR:"Quality Inspector",MAINTENANCE_TECHNICIAN:"Maintenance Technician"},Ru={WORKORDERS_READ:"workorders.read",WORKORDERS_CREATE:"workorders.create",WORKORDERS_UPDATE:"workorders.update",WORKORDERS_RELEASE:"workorders.release",WORKINSTRUCTIONS_READ:"workinstructions.read",MATERIALS_READ:"materials.read",TRACEABILITY_READ:"traceability.read"},oLe={dashboard:"Dashboard",workorders:"Work Orders","work-instructions":"Work Instructions","process-segments":"Process Segments",quality:"Quality",inspections:"Inspections",ncrs:"NCRs",signatures:"Signatures",fai:"FAI Reports",traceability:"Traceability",serialization:"Serialization",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",materials:"Materials",inventory:"Inventory",lots:"Lot Tracking",personnel:"Personnel",skills:"Skills Matrix",certifications:"Certifications",scheduling:"Production Scheduling",execution:"Execution Tracking",integrations:"Integrations",config:"Configuration",logs:"Logs",admin:"Administration",users:"Users",roles:"Roles",settings:"Settings",profile:"Profile",create:"Create New",execute:"Execute"},aLe=()=>{const t=Xc();if(t.pathname==="/"||t.pathname==="/login")return null;const e=t.pathname.split("/").filter(i=>i!==""),r=[{title:c.jsx(sT,{to:"/dashboard",children:c.jsx(Kh,{})})}];let n="";return e.forEach((i,s)=>{if(n+=`/${i}`,/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(i)||/^c[a-z0-9]{24}$/i.test(i)||/^\d+$/.test(i))s===e.length-1?r.push({title:"Details"}):r.push({title:c.jsx(sT,{to:n,children:"Details"})});else{const a=oLe[i]||i.charAt(0).toUpperCase()+i.slice(1);s===e.length-1?r.push({title:a}):r.push({title:c.jsx(sT,{to:n,children:a})})}}),c.jsx(vh,{style:{marginBottom:16},items:r})},hbe=D.createContext(null),pz="mes-current-site",mz="mes-all-sites",lLe=10*60*1e3,cLe=async()=>{var t,e;try{const r=localStorage.getItem("mes-auth-storage");if(!r)return console.log("[SiteContext] No auth token yet, skipping site fetch"),[];let n;try{n=JSON.parse(r)}catch{return console.log("[SiteContext] Invalid auth token format, skipping site fetch"),[]}const i=((t=n==null?void 0:n.state)==null?void 0:t.token)||(n==null?void 0:n.token)||(typeof n=="string"?n:null);if(!i)return console.log("[SiteContext] No access token in auth data, skipping site fetch"),[];const s=new AbortController,o=setTimeout(()=>{s.abort()},5e3);try{const a=await fetch("/api/v1/sites",{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},signal:s.signal});if(clearTimeout(o),!a.ok){if(a.status===401)return console.log("[SiteContext] Unauthorized - auth token invalid/expired"),[];throw a.status>=500?(console.log(`[SiteContext] Server error (${a.status}), will retry`),new Error(`Server error: ${a.status}`)):(console.log(`[SiteContext] Client error (${a.status}), reducing retry frequency`),new Error(`Client error: ${a.status} ${a.statusText}`))}const l=await a.json();return console.log("[SiteContext] Successfully fetched sites:",((e=l.sites)==null?void 0:e.length)||0),l.sites||l.data||l}catch(a){throw clearTimeout(o),a.name==="AbortError"?(console.log("[SiteContext] Request timeout - server may be unavailable"),new Error("Request timeout")):a}}catch(r){return console.error("Error fetching sites:",r),[]}},MH=async()=>{try{const e=localStorage.getItem(mz);if(e){const{sites:r,timestamp:n}=JSON.parse(e);if(Date.now()-n<lLe&&Array.isArray(r)&&r.length>0)return console.log("[SiteContext] Using cached sites"),r}}catch(e){console.warn("[SiteContext] Failed to load cached sites:",e)}console.log("[SiteContext] Fetching sites from API");const t=await cLe();try{localStorage.setItem(mz,JSON.stringify({sites:t,timestamp:Date.now()}))}catch(e){console.warn("[SiteContext] Failed to cache sites:",e)}return t},uLe=t=>{try{const e=localStorage.getItem(pz);if(e){const r=JSON.parse(e),n=t.find(i=>i.id===r.id);if(n)return console.log("[SiteContext] Restored site from localStorage:",n.siteName),n}}catch(e){console.warn("[SiteContext] Failed to load site from localStorage:",e)}return null},BH=t=>{try{t?localStorage.setItem(pz,JSON.stringify({id:t.id,siteName:t.siteName,siteCode:t.siteCode})):localStorage.removeItem(pz)}catch(e){console.warn("[SiteContext] Failed to save site to localStorage:",e)}},gLe=({children:t})=>{const[e,r]=D.useState(null),[n,i]=D.useState([]),[s,o]=D.useState(!0),[a,l]=D.useState(null),u=D.useRef(0),g=D.useRef(0),d=10,f=3,h=typeof window<"u"&&window.location.hostname==="localhost"&&window.location.port==="5173"||!1||typeof globalThis.playwright<"u",A=D.useCallback(y=>{r(y),BH(y),console.log("[SiteContext] Current site changed:",(y==null?void 0:y.siteName)||"None")},[]),C=D.useCallback(async()=>{o(!0),l(null);try{localStorage.removeItem(mz);const y=await MH();if(i(y),y.length>0&&(g.current=0,console.log("[SiteContext] Sites loaded successfully, consecutive failures reset")),e){const x=y.find(T=>T.id===e.id);x?r(x):A(null)}}catch(y){g.current++;const x=y instanceof Error?y.message:"Failed to fetch sites";l(x),console.error(`[SiteContext] Error refreshing sites (failure ${g.current}):`,y)}finally{o(!1)}},[e,A]),I=D.useCallback(y=>n.find(x=>x.id===y),[n]),p=D.useCallback(y=>n.find(x=>x.siteCode===y),[n]),m=D.useCallback(()=>{l(null)},[]);D.useEffect(()=>{(async()=>{o(!0),l(null);try{console.log("[SiteContext] Initializing site context...");const x=await MH();if(i(x),x.length===0){console.log("[SiteContext] No sites available yet (might be waiting for auth)"),o(!1);return}const T=uLe(x);if(T)r(T);else{const E=x.find(_=>_.isActive)||x[0];r(E),BH(E),console.log("[SiteContext] Defaulting to site:",E.siteName)}console.log("[SiteContext] Initialization complete. Sites loaded:",x.length)}catch(x){const T=x instanceof Error?x.message:"Failed to initialize sites";l(T),console.error("[SiteContext] Initialization error:",x)}finally{o(!1)}})()},[]),D.useEffect(()=>{const y=C,x=async()=>{var w;if(g.current>=f){console.warn("[SiteContext] Circuit breaker: Too many consecutive failures, stopping polling");return}if(n.length===0&&!s&&u.current<d){const R=localStorage.getItem("mes-auth-storage");if(R)try{const N=JSON.parse(R);((w=N==null?void 0:N.state)==null?void 0:w.token)||(N==null?void 0:N.token)||typeof N=="string"&&N.length>20?(console.log(`[SiteContext] Auth detected, refetching sites... (attempt ${u.current+1}/${d})`),u.current++,await y()):console.log("[SiteContext] Auth storage found but token not ready yet, will retry...")}catch{console.log("[SiteContext] Auth storage format invalid, will retry...")}}else u.current>=d&&console.warn("[SiteContext] Max retries reached, stopping site fetch attempts")},T=()=>{const w=h?2e3:500;return u.current<3?w:u.current<6?w*2:w*4},E=h?1e4:2e4;let _;const S=()=>{if(g.current>=f){console.log("[SiteContext] Circuit breaker active, not scheduling next check");return}_=setTimeout(async()=>{await x(),n.length===0&&u.current<d&&g.current<f&&S()},T())};if(h&&g.current>=2){console.log("[SiteContext] Test environment with failures detected, reducing polling aggressiveness");return}x(),S();const j=setTimeout(()=>{_&&(clearTimeout(_),console.log(`[SiteContext] Polling timeout reached (${E}ms), stopping`))},E);return()=>{_&&clearTimeout(_),clearTimeout(j)}},[n.length,s,h,C]),D.useEffect(()=>{n.length>0&&(u.current=0,console.log("[SiteContext] Sites loaded successfully, retry count reset"))},[n.length]);const v={currentSite:e,allSites:n,isLoading:s,error:a,setCurrentSite:A,refreshSites:C,clearError:m,getSiteById:I,getSiteBySiteCode:p};return c.jsx(hbe.Provider,{value:v,children:t})},IC=()=>{const t=D.useContext(hbe);if(!t)throw new Error("useSite must be used within a SiteProvider");return t},{Option:dLe}=we,hLe=({className:t="",style:e={},showIcon:r=!0,size:n="middle",placeholder:i="Select site...",allowClear:s=!1})=>{const{currentSite:o,allSites:a,isLoading:l,error:u,setCurrentSite:g,clearError:d}=IC(),f=A=>{if(d(),A===null){g(null);return}const C=a.find(I=>I.id===A);C&&g(C)},h=A=>{const C=A.isActive;return c.jsx(dLe,{value:A.id,disabled:!C,className:C?"":"site-option-inactive",children:c.jsxs("div",{className:"site-option",children:[c.jsxs("div",{className:"site-option-main",children:[c.jsx(hke,{className:"site-option-icon"}),c.jsx("span",{className:"site-option-name",children:A.siteName}),c.jsxs("span",{className:"site-option-code",children:["(",A.siteCode,")"]})]}),A.location&&c.jsx("span",{className:"site-option-location",children:A.location}),!C&&c.jsx("span",{className:"site-option-inactive-badge",children:"Inactive"})]})},A.id)};return l?c.jsx("div",{className:`site-selector-container ${t}`,style:e,children:c.jsx(we,{size:n,placeholder:"Loading sites...",disabled:!0,suffixIcon:c.jsx(G1e,{spin:!0}),style:{minWidth:200}})}):u?c.jsx("div",{className:`site-selector-container ${t}`,style:e,children:c.jsx(lt,{title:u,children:c.jsx(we,{size:n,placeholder:"Error loading sites",status:"error",disabled:!0,style:{minWidth:200}})})}):a.length===0?c.jsx("div",{className:`site-selector-container ${t}`,style:e,children:c.jsx(we,{size:n,placeholder:"No sites available",disabled:!0,style:{minWidth:200}})}):c.jsx("div",{className:`site-selector-container ${t}`,style:e,children:c.jsx(we,{size:n,value:(o==null?void 0:o.id)||void 0,onChange:f,placeholder:i,allowClear:s,showSearch:!0,optionFilterProp:"children",filterOption:(A,C)=>{var p,m,v,y,x,T,E,_,S,j,w,R;const I=C==null?void 0:C.children;if(Ue.isValidElement(I)){const N=I.props,P=((T=(x=(y=(v=(m=(p=N==null?void 0:N.children)==null?void 0:p[0])==null?void 0:m.props)==null?void 0:v.children)==null?void 0:y[1])==null?void 0:x.props)==null?void 0:T.children)||"",M=((R=(w=(j=(S=(_=(E=N==null?void 0:N.children)==null?void 0:E[0])==null?void 0:_.props)==null?void 0:S.children)==null?void 0:j[2])==null?void 0:w.props)==null?void 0:R.children)||"";return P.toLowerCase().includes(A.toLowerCase())||M.toLowerCase().includes(A.toLowerCase())}return!1},suffixIcon:r?c.jsx(LA,{}):void 0,className:"site-selector",classNames:{popup:{root:"site-selector-dropdown"}},style:{minWidth:200,...e},popupMatchSelectWidth:!1,children:a.map(h)})})};let $H=!1,ab=null;const fLe=async t=>{var e;if(((e=t.response)==null?void 0:e.status)!==401)throw t;if($H)throw console.warn("[AuthInterceptor] 401 redirect already in progress, ignoring duplicate"),t;try{if($H=!0,console.log("[AuthInterceptor] Handling 401 error - starting logout process"),ab&&(clearTimeout(ab),ab=null),typeof window<"u"&&window.location.pathname.includes("/login"))throw console.log("[AuthInterceptor] Already on login page, skipping redirect"),t;const r=typeof window<"u"?window.location.pathname+window.location.search:"/";try{const i=Fv.getState();i&&typeof i.logout=="function"?(console.log("[AuthInterceptor] Calling auth store logout"),await i.logout()):(console.warn("[AuthInterceptor] Auth store not available, clearing storage manually"),typeof window<"u"&&localStorage.removeItem("mes-auth-storage"))}catch(i){console.error("[AuthInterceptor] Error during logout:",i),typeof window<"u"&&localStorage.removeItem("mes-auth-storage")}const n=typeof window<"u"&&(typeof globalThis.playwright<"u"||window.location.hostname==="localhost")?10:100;ab=setTimeout(()=>{if(typeof window<"u"){const i=r!=="/login"&&r!=="/"?`?redirect=${encodeURIComponent(r)}`:"";console.log(`[AuthInterceptor] Redirecting to login (${n}ms delay)`),window.location.href=`/login${i}`}},n)}catch(r){console.error("[AuthInterceptor] Error in 401 handler:",r),typeof window<"u"&&!window.location.pathname.includes("/login")&&(window.location.href="/login")}throw t},fbe=()=>({onFulfilled:t=>t,onRejected:fLe}),ALe="/api/v1",Nt=Vt.create({baseURL:ALe,timeout:3e4,headers:{"Content-Type":"application/json"}});Nt.interceptors.request.use(t=>{const e=yo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const CLe=fbe();Nt.interceptors.response.use(t=>t.data,async t=>{var r,n,i,s,o;if(((r=t.response)==null?void 0:r.status)===401)try{await CLe.onRejected(t)}catch{}const e=((i=(n=t.response)==null?void 0:n.data)==null?void 0:i.error)||((o=(s=t.response)==null?void 0:s.data)==null?void 0:o.message)||t.message||"An error occurred";throw new Error(e)});var e2=(t=>(t.ALL="ALL",t.PRODUCTION="PRODUCTION",t.MATERIALS="MATERIALS",t.EQUIPMENT="EQUIPMENT",t.QUALITY="QUALITY",t.ORGANIZATION="ORGANIZATION",t))(e2||{});const ILe={WORK_ORDER:"Work Orders",MATERIAL_DEFINITION:"Material Definitions",MATERIAL_LOT:"Material Lots",EQUIPMENT:"Equipment",PERSONNEL:"Personnel",PRODUCT:"Products",QUALITY_RECORD:"Quality Records",PROCESS_SEGMENT:"Process Segments",SITE:"Sites",AREA:"Areas",WORK_CENTER:"Work Centers"},pLe={WORK_ORDER:"blue",MATERIAL_DEFINITION:"green",MATERIAL_LOT:"cyan",EQUIPMENT:"orange",PERSONNEL:"purple",PRODUCT:"magenta",QUALITY_RECORD:"gold",PROCESS_SEGMENT:"lime",SITE:"geekblue",AREA:"volcano",WORK_CENTER:"red"},mLe={ALL:"All",PRODUCTION:"Production",MATERIALS:"Materials",EQUIPMENT:"Equipment",QUALITY:"Quality",ORGANIZATION:"Organization"};function vLe(t){const e={};return t.forEach(r=>{e[r.entityType]||(e[r.entityType]=[]),e[r.entityType].push(r)}),Object.entries(e).map(([r,n])=>({entityType:r,count:n.length,results:n,expanded:!0}))}function yLe(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const PS="/search";async function kS(t){var e,r;try{const n={q:t.query};return t.scope&&(n.scope=t.scope),t.entityTypes&&t.entityTypes.length>0&&(n.entityTypes=t.entityTypes.join(",")),t.limit&&(n.limit=t.limit.toString()),t.includeInactive!==void 0&&(n.includeInactive=t.includeInactive.toString()),t.siteId&&(n.siteId=t.siteId),t.areaId&&(n.areaId=t.areaId),{success:!0,data:(await Nt.get(PS,{params:n})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to perform search"}}}async function xLe(t,e=5){var r,n;try{return{success:!0,data:(await Nt.get(`${PS}/suggestions`,{params:{q:t,limit:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to get search suggestions"}}}async function bLe(){var t,e;try{return{success:!0,data:(await Nt.get(`${PS}/scopes`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||r.message||"Failed to get search scopes"}}}async function wLe(){var t,e;try{return{success:!0,data:(await Nt.get(`${PS}/entity-types`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||r.message||"Failed to get search entity types"}}}async function SLe(t){return kS({query:t,scope:e2.ALL,limit:10})}async function ELe(t,e){return kS({query:t,scope:e,limit:10})}async function _Le(t,e){return kS({query:t,entityTypes:[e],limit:20})}const TLe={search:kS,quickSearch:SLe,searchInScope:ELe,searchEntityType:_Le,getSearchSuggestions:xLe,getSearchScopes:bLe,getSearchEntityTypes:wLe},{Option:RLe}=we,{Text:lb}=yr,{Panel:NLe}=nm,OLe=({placeholder:t="Search work orders, materials, equipment...",defaultScope:e=e2.ALL,onResultClick:r,compact:n=!1})=>{const i=Kr(),[s,o]=D.useState(""),[a,l]=D.useState(e),[u,g]=D.useState([]),[d,f]=D.useState([]),[h,A]=D.useState(!1),[C,I]=D.useState(0),[p,m]=D.useState(0),[v,y]=D.useState(!1),x=D.useCallback(async S=>{if(!S||S.trim().length<2){g([]),f([]),I(0),y(!1);return}A(!0),y(!0);const j=await TLe.search({query:S.trim(),scope:a,limit:10});j.success&&j.data?(g(j.data.results),f(vLe(j.data.results)),I(j.data.totalResults),m(j.data.executionTimeMs)):(g([]),f([]),I(0)),A(!1)},[a]);D.useEffect(()=>{const S=setTimeout(()=>{s&&x(s)},300);return()=>clearTimeout(S)},[s,x]);const T=S=>{r?r(S):S.url&&(i(S.url),y(!1),o(""))},E=()=>{o(""),g([]),f([]),I(0),y(!1)},_=S=>{l(S),s&&x(s)};return c.jsxs("div",{style:{position:"relative",width:"100%"},children:[c.jsxs(pe.Compact,{style:{width:"100%"},children:[!n&&c.jsx(we,{value:a,onChange:_,style:{width:150},suffixIcon:c.jsx(d1,{}),children:Object.values(e2).map(S=>c.jsx(RLe,{value:S,children:mLe[S]},S))}),c.jsx(at,{size:"large",placeholder:t,prefix:c.jsx(Gn,{}),suffix:s&&c.jsx(ts,{onClick:E,style:{cursor:"pointer",color:"#999"}}),value:s,onChange:S=>o(S.target.value),onFocus:()=>s&&y(!0),allowClear:!0})]}),v&&c.jsx(xe,{style:{position:"absolute",top:n?45:50,left:0,right:0,maxHeight:"70vh",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},bodyStyle:{padding:0},children:h?c.jsx("div",{style:{padding:"40px",textAlign:"center"},children:c.jsx(ei,{size:"large",tip:"Searching...",children:c.jsx("div",{})})}):C===0?c.jsx("div",{style:{padding:"40px"},children:c.jsx(Fc,{description:s?`No results found for "${s}"`:"Start typing to search"})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #f0f0f0",background:"#fafafa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(lb,{strong:!0,children:["Found ",C," result",C!==1?"s":""]}),c.jsxs(pe,{children:[c.jsx(lt,{title:"Search execution time",children:c.jsx(Be,{icon:c.jsx(Gu,{}),color:"blue",children:yLe(p)})}),c.jsx(le,{size:"small",type:"text",onClick:()=>y(!1),children:"Close"})]})]}),c.jsx(nm,{ghost:!0,defaultActiveKey:d.map(S=>S.entityType),style:{borderRadius:0},children:d.map(S=>c.jsx(NLe,{header:c.jsxs(pe,{children:[c.jsx(ji,{count:S.count,style:{backgroundColor:"#52c41a"}}),c.jsx(lb,{strong:!0,children:ILe[S.entityType]})]}),children:c.jsx(ho,{dataSource:S.results,renderItem:j=>c.jsx(ho.Item,{onClick:()=>T(j),style:{cursor:"pointer",padding:"12px 16px",transition:"background 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#f5f5f5"},onMouseLeave:w=>{w.currentTarget.style.background="transparent"},children:c.jsx(ho.Item.Meta,{title:c.jsxs(pe,{children:[c.jsx(lb,{strong:!0,children:j.primaryText}),j.status&&c.jsx(Be,{color:pLe[j.entityType],children:j.status})]}),description:c.jsx(lb,{type:"secondary",children:j.secondaryText})})},j.id)})},S.entityType))})]})})]})},{Header:jLe,Sider:PLe,Content:kLe}=Yh,{Text:fT}=yr,DLe=({children:t})=>{const[e,r]=D.useState(!1),{user:n,logout:i}=qo(),s=Kr(),o=Xc(),a=[{key:"/dashboard",icon:c.jsx(hU,{}),label:"Dashboard"},{type:"group",label:"PRODUCTION",children:[{key:"/workorders",icon:c.jsx(Zl,{}),label:"Work Orders",permissions:[Ru.WORKORDERS_READ]},{key:"/process-segments",icon:c.jsx(dl,{}),label:"Process Segments",roles:[pi.PRODUCTION_PLANNER,pi.PLANT_MANAGER]},{key:"/operations",icon:c.jsx(Pv,{}),label:"Operations",roles:[pi.PRODUCTION_PLANNER,pi.PLANT_MANAGER]},{key:"/routings",icon:c.jsx(Pv,{}),label:"Routings",roles:[pi.PRODUCTION_PLANNER,pi.PLANT_MANAGER]},{key:"/scheduling",icon:c.jsx(cd,{}),label:"Scheduling",roles:[pi.PRODUCTION_PLANNER,pi.PLANT_MANAGER]}]},{type:"group",label:"QUALITY",children:[{key:"/quality/inspections",icon:c.jsx(im,{}),label:"Inspections",roles:[pi.QUALITY_ENGINEER,pi.QUALITY_INSPECTOR]},{key:"/quality/ncrs",icon:c.jsx(cl,{}),label:"NCRs",roles:[pi.QUALITY_ENGINEER]},{key:"/fai",icon:c.jsx(cs,{}),label:"FAI Reports",roles:[pi.QUALITY_ENGINEER,pi.QUALITY_INSPECTOR]},{key:"/signatures",icon:c.jsx(cs,{}),label:"Signatures",roles:[pi.QUALITY_ENGINEER,pi.QUALITY_INSPECTOR]}]},{type:"group",label:"MATERIALS",children:[{key:"/materials",icon:c.jsx(fU,{}),label:"Materials",permissions:[Ru.MATERIALS_READ]},{key:"/traceability",icon:c.jsx(Y1e,{}),label:"Traceability",permissions:[Ru.TRACEABILITY_READ]}]},{type:"group",label:"PERSONNEL",children:[{key:"/personnel",icon:c.jsx(Lc,{}),label:"Personnel",roles:[pi.PLANT_MANAGER,pi.SYSTEM_ADMIN]}]},{type:"group",label:"EQUIPMENT & TOOLS",children:[{key:"/equipment",icon:c.jsx(Uc,{}),label:"Equipment",roles:[pi.MAINTENANCE_TECHNICIAN,pi.PLANT_MANAGER]},{key:"/serialization",icon:c.jsx(MA,{}),label:"Serialization",permissions:[Ru.TRACEABILITY_READ],children:[{key:"/serialization/overview",label:"Overview"},{key:"/serialization/parts",label:"Serialized Parts"}]}]},{key:"/work-instructions",icon:c.jsx(Ike,{}),label:"Work Instructions",permissions:[Ru.WORKINSTRUCTIONS_READ],children:[{key:"/work-instructions/list",label:"View All"},{key:"/work-instructions/create",label:"Create New"}]},{type:"group",label:"ADMINISTRATION",children:[{key:"/integrations",icon:c.jsx(Z1e,{}),label:"Integrations",roles:[pi.PLANT_MANAGER,pi.SYSTEM_ADMIN],children:[{key:"/integrations/dashboard",label:"Dashboard"},{key:"/integrations/config",label:"Configuration"},{key:"/integrations/logs",label:"Logs"}]},{key:"/admin",icon:c.jsx(Pv,{}),label:"Admin",roles:[pi.SYSTEM_ADMIN]},{key:"/settings",icon:c.jsx(ld,{}),label:"Settings"}]}],l=()=>{const C=o.pathname;return C.startsWith("/quality/")?[C]:C.startsWith("/workorders/")?["/workorders"]:C.startsWith("/process-segments")?["/process-segments"]:C.startsWith("/operations")?["/operations"]:C.startsWith("/work-instructions")?["/work-instructions"]:C.startsWith("/integrations")?["/integrations"]:C.startsWith("/settings")?["/settings"]:[C]},u=()=>{const C=o.pathname;return C.startsWith("/quality")?["/quality"]:C.startsWith("/integrations")?["/integrations"]:C.startsWith("/work-instructions")?["/work-instructions"]:C.startsWith("/serialization")?["/serialization"]:[]},g=({key:C})=>{s(C)},d=async()=>{try{await i(),s("/login")}catch(C){console.error("Logout error:",C),s("/login")}},f=[{key:"profile",icon:c.jsx(Fi,{}),label:"Profile",onClick:()=>s("/profile")},{key:"settings",icon:c.jsx(ld,{}),label:"Settings",onClick:()=>s("/settings")},{type:"divider"},{key:"logout",icon:c.jsx(Cke,{}),label:"Logout",onClick:d,danger:!0}],h=C=>C.reduce((I,p)=>{const{permissions:m,roles:v,children:y,...x}=p;if(!A(m,v))return I;if(y){const E=h(y);E.length>0&&I.push({...x,children:E})}else I.push(x);return I},[]),A=(C,I)=>n?!!(!C&&!I||n.roles&&n.roles.includes(pi.SYSTEM_ADMIN)||n.permissions&&n.permissions.includes("*")||C&&n.permissions&&C.some(v=>n.permissions.includes(v))||I&&n.roles&&I.some(v=>n.roles.includes(v))):!1;return c.jsxs(Yh,{style:{minHeight:"100vh"},children:[c.jsxs(PLe,{trigger:null,collapsible:!0,collapsed:e,theme:"dark",width:256,style:{position:"fixed",height:"100vh",left:0,top:0,bottom:0,zIndex:100},role:"navigation",children:[c.jsx("div",{style:{height:64,padding:"0 16px",display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start",background:"#002140",borderBottom:"1px solid #303030"},children:e?c.jsx(dl,{style:{fontSize:24,color:"#1890ff"}}):c.jsxs(pe,{children:[c.jsx(dl,{style:{fontSize:24,color:"#1890ff"}}),c.jsx(fT,{strong:!0,style:{color:"white",fontSize:16},children:"MES"})]})}),c.jsx(V1e,{theme:"dark",mode:"inline",selectedKeys:l(),defaultOpenKeys:u(),onClick:g,style:{borderRight:0,marginTop:8},items:h(a)}),e&&n&&c.jsx("div",{style:{position:"absolute",bottom:16,left:"50%",transform:"translateX(-50%)"},children:c.jsx(lt,{title:n.username,placement:"right",children:c.jsx(ia,{size:32,icon:c.jsx(Fi,{}),style:{backgroundColor:"#1890ff"}})})})]}),c.jsxs(Yh,{style:{marginLeft:e?80:256,transition:"margin-left 0.2s"},children:[c.jsxs(jLe,{style:{padding:"0 24px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",position:"fixed",top:0,right:0,left:e?80:256,zIndex:99,transition:"left 0.2s",borderBottom:"1px solid #f0f0f0",overflow:"hidden"},role:"banner",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,flex:1,minWidth:0},children:[c.jsx(le,{type:"text",icon:e?c.jsx(fke,{}):c.jsx(Ake,{}),onClick:()=>r(!e),style:{fontSize:16,width:40,height:40,flexShrink:0}}),c.jsx("div",{style:{maxWidth:400,flex:1,minWidth:0},children:c.jsx(OLe,{compact:!0})})]}),c.jsxs(pe,{size:"small",style:{flexShrink:0},children:[c.jsx(hLe,{size:"small",showIcon:!1}),c.jsx(ji,{count:3,size:"small",children:c.jsx(le,{type:"text",icon:c.jsx(H1e,{}),style:{fontSize:16,width:36,height:36}})}),n&&c.jsx(K1e,{menu:{items:f},placement:"bottomRight",arrow:!0,children:c.jsxs(pe,{style:{cursor:"pointer",padding:"0 4px"},"data-testid":"user-avatar",children:[c.jsx(ia,{size:28,icon:c.jsx(Fi,{}),style:{backgroundColor:"#1890ff"}}),c.jsxs(pe,{direction:"vertical",size:0,style:{lineHeight:1,maxWidth:150},children:[c.jsx(fT,{strong:!0,style:{fontSize:13,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block"},children:n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.username}),c.jsx(fT,{type:"secondary",style:{fontSize:11,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block"},children:n.roles&&n.roles.length>0?n.roles[0]:"Loading..."})]})]})})]})]}),c.jsxs(kLe,{style:{marginTop:64,padding:24,background:"#f0f2f5",minHeight:"calc(100vh - 64px)",overflow:"auto"},role:"main",children:[c.jsx(aLe,{}),t]})]})]})},FLe="_loginLayout_14c7i_1",LLe="_loginContent_14c7i_9",MLe="_loginContainer_14c7i_17",BLe="_loginHeader_14c7i_25",$Le="_loginTitle_14c7i_31",qLe="_loginSubtitle_14c7i_38",zLe="_loginCard_14c7i_43",ULe="_cardHeader_14c7i_50",WLe="_loginIcon_14c7i_55",GLe="_loginHelp_14c7i_66",VLe="_loginFooter_14c7i_82",fc={loginLayout:FLe,loginContent:LLe,loginContainer:MLe,loginHeader:BLe,loginTitle:$Le,loginSubtitle:qLe,loginCard:zLe,cardHeader:ULe,loginIcon:WLe,loginHelp:GLe,loginFooter:VLe},{Content:HLe}=Yh,{Title:qH,Text:j0}=yr,KLe=()=>{var C;const[t]=me.useForm(),[e,r]=D.useState(!1),{login:n,isAuthenticated:i,error:s,clearError:o}=qo(),a=Xc(),l=Kr(),u=a.state,f=new URLSearchParams(a.search).get("redirect")||((C=u==null?void 0:u.from)==null?void 0:C.pathname)||"/dashboard";if(i)return e?c.jsx(Yh,{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(pe,{direction:"vertical",align:"center",children:c.jsx("div",{children:"Redirecting..."})})}):c.jsx(xu,{to:f,replace:!0});const h=async I=>{try{r(!0),o(),await n({username:I.username,password:I.password,rememberMe:I.rememberMe}),l(f,{replace:!0})}catch(p){console.error("Login failed:",p)}finally{r(!1)}},A=()=>{s&&o()};return c.jsx(Yh,{className:fc.loginLayout,children:c.jsx(HLe,{className:fc.loginContent,children:c.jsxs("div",{className:fc.loginContainer,children:[c.jsxs("div",{className:fc.loginHeader,children:[c.jsx(qH,{level:2,className:fc.loginTitle,children:"Manufacturing Execution System"}),c.jsx(j0,{type:"secondary",className:fc.loginSubtitle,children:"Jet Engine Component Manufacturing"})]}),c.jsxs(xe,{className:fc.loginCard,children:[c.jsxs("div",{className:fc.cardHeader,children:[c.jsx(WV,{className:fc.loginIcon}),c.jsx(qH,{level:3,children:"Sign In"}),c.jsx(j0,{type:"secondary",children:"Enter your credentials to access the system"})]}),c.jsx(Er,{}),s&&c.jsx(Pt,{message:"Login Failed",description:s,type:"error",showIcon:!0,closable:!0,onClose:o,style:{marginBottom:24}}),c.jsxs(me,{form:t,layout:"vertical",onFinish:h,onChange:A,size:"large",autoComplete:"off",children:[c.jsx(me.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please enter your username"},{min:3,message:"Username must be at least 3 characters"}],children:c.jsx(at,{prefix:c.jsx(Fi,{}),placeholder:"Enter username",autoComplete:"username",disabled:e,"data-testid":"username-input"})}),c.jsx(me.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter your password"},{min:6,message:"Password must be at least 6 characters"}],children:c.jsx(at.Password,{prefix:c.jsx(cy,{}),placeholder:"Enter password",autoComplete:"current-password",disabled:e,"data-testid":"password-input"})}),c.jsx(me.Item,{name:"rememberMe",valuePropName:"checked",children:c.jsx(X1e,{disabled:e,children:"Remember me for 30 days"})}),c.jsx(me.Item,{children:c.jsx(le,{type:"primary",htmlType:"submit",block:!0,loading:e,icon:c.jsx(WV,{}),"data-testid":"login-button",children:e?"Signing In...":"Sign In"})})]}),c.jsx(Er,{}),c.jsx("div",{className:fc.loginHelp,children:c.jsxs(pe,{direction:"vertical",size:"small",style:{width:"100%"},children:[c.jsx(j0,{type:"secondary",style:{fontSize:"12px"},children:"Having trouble accessing your account?"}),c.jsx(j0,{type:"secondary",style:{fontSize:"12px"},children:"Contact your system administrator for assistance."})]})})]}),!1,c.jsx("div",{className:fc.loginFooter,children:c.jsx(j0,{type:"secondary",style:{fontSize:"12px"},children:" 2024 Manufacturing Execution System. All rights reserved."})})]})})})};class YLe{constructor(){ve(this,"client");ve(this,"baseURL");ve(this,"connectionState");ve(this,"healthCheckTimeout");ve(this,"isTestEnvironment");this.baseURL="/api/v1",this.isTestEnvironment=typeof window<"u"&&window.location.hostname==="localhost"&&window.location.port==="5173"||!1||typeof globalThis.playwright<"u",this.healthCheckTimeout=this.isTestEnvironment?3e3:1e4,this.client=Vt.create({baseURL:this.baseURL,timeout:this.healthCheckTimeout,headers:{"Content-Type":"application/json"}}),this.connectionState={isConnected:!1,lastCheck:null,consecutiveFailures:0,isHealthy:!1},this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(r=>{var n;try{const i=localStorage.getItem("mes-auth-storage");if(i){const s=JSON.parse(i),o=(n=s==null?void 0:s.state)==null?void 0:n.token;o&&(r.headers.Authorization=`Bearer ${o}`)}}catch(i){console.warn("Failed to get auth token from storage:",i)}return r},r=>Promise.reject(r));const e=fbe();this.client.interceptors.response.use(r=>(this.updateConnectionState(!0),r),async r=>{var n;if(r.code==="ECONNABORTED"||r.code==="NETWORK_ERROR"||!r.response?this.updateConnectionState(!1):this.updateConnectionState(!0),((n=r.response)==null?void 0:n.status)===401)try{await e.onRejected(r)}catch{}return Promise.reject(r)})}async get(e,r){return(await this.client.get(e,{params:r})).data}async post(e,r){return(await this.client.post(e,r)).data}async put(e,r){return(await this.client.put(e,r)).data}async patch(e,r){return(await this.client.patch(e,r)).data}async delete(e){return(await this.client.delete(e)).data}async uploadFile(e,r){return(await this.client.post(e,r,{headers:{"Content-Type":"multipart/form-data"}})).data}async downloadFile(e,r){const n=await this.client.get(e,{responseType:"blob"}),i=new Blob([n.data]),s=document.createElement("a");s.href=window.URL.createObjectURL(i),s.download=r||"download",s.click(),window.URL.revokeObjectURL(s.href)}updateConnectionState(e){const r=new Date;this.connectionState.lastCheck=r,e?(this.connectionState.isConnected=!0,this.connectionState.consecutiveFailures=0,this.connectionState.isHealthy=!0):(this.connectionState.isConnected=!1,this.connectionState.consecutiveFailures++,this.connectionState.isHealthy=this.connectionState.consecutiveFailures<3)}getConnectionState(){return{...this.connectionState}}isConnected(){if(!this.connectionState.lastCheck)return!1;const e=Date.now()-this.connectionState.lastCheck.getTime(),r=this.isTestEnvironment?3e4:6e4;return this.connectionState.isConnected&&e<r}async healthCheck(e={}){var i,s;const{maxRetries:r=3,retryDelay:n=1e3}=e;if(this.connectionState.consecutiveFailures>=5)return console.warn("[ApiClient] Circuit breaker: Too many failures, skipping health check"),{status:"circuit_breaker_open",timestamp:new Date().toISOString(),isHealthy:!1,consecutiveFailures:this.connectionState.consecutiveFailures,connectionState:this.getConnectionState()};for(let o=1;o<=r;o++)try{const l={...await this.get("/health"),isHealthy:!0,consecutiveFailures:this.connectionState.consecutiveFailures,connectionState:this.getConnectionState()};return this.isTestEnvironment&&console.log(`[ApiClient] Health check passed (attempt ${o}/${r})`),l}catch(a){if(this.isTestEnvironment&&console.log(`[ApiClient] Health check failed (attempt ${o}/${r}):`,a.message),((i=a.response)==null?void 0:i.status)>=400&&((s=a.response)==null?void 0:s.status)<500)break;o<r&&await new Promise(l=>setTimeout(l,n*o))}return{status:"unhealthy",timestamp:new Date().toISOString(),isHealthy:!1,consecutiveFailures:this.connectionState.consecutiveFailures,connectionState:this.getConnectionState()}}async waitForHealthy(e={}){const{timeout:r=this.isTestEnvironment?1e4:3e4,checkInterval:n=this.isTestEnvironment?1e3:2e3,maxConsecutiveFailures:i=5}=e,s=Date.now();let o=0;for(;Date.now()-s<r;){try{if((await this.healthCheck({maxRetries:1})).isHealthy)return this.isTestEnvironment&&console.log("[ApiClient] API is healthy"),!0;if(o++,o>=i)return console.warn(`[ApiClient] Too many consecutive health check failures (${o})`),!1}catch(a){if(o++,o>=i)return console.warn("[ApiClient] Health check error limit reached:",a),!1}await new Promise(a=>setTimeout(a,n))}return console.warn(`[ApiClient] Health check timeout after ${r}ms`),!1}}const Lr=new YLe,P0={async getKPIs(t,e){return await Lr.get("/dashboard/kpis",{startDate:t,endDate:e})},async getRecentWorkOrders(t=5,e,r){return await Lr.get("/dashboard/recent-work-orders",{limit:t,startDate:e,endDate:r})},async getAlerts(t=5){return await Lr.get("/dashboard/alerts",{limit:t})},async getEfficiencyMetrics(t,e){return await Lr.get("/dashboard/efficiency",{startDate:t,endDate:e})},async getQualityTrends(t,e){return await Lr.get("/dashboard/quality-trends",{startDate:t,endDate:e})}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var t2={};t2.version="0.18.5";var Abe=1252,ZLe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Cbe=function(t){ZLe.indexOf(t)!=-1&&(Abe=t)};function XLe(){Cbe(1252)}var Ay=function(t){Cbe(t)};function QLe(){Ay(1200),XLe()}var cb=function(e){return String.fromCharCode(e)},zH=function(e){return String.fromCharCode(e)},r2,xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Cy(t){for(var e="",r=0,n=0,i=0,s=0,o=0,a=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),o=(r&3)<<4|n>>4,i=t.charCodeAt(u++),a=(n&15)<<2|i>>6,l=i&63,isNaN(n)?a=l=64:isNaN(i)&&(l=64),e+=xh.charAt(s)+xh.charAt(o)+xh.charAt(a)+xh.charAt(l);return e}function ud(t){var e="",r=0,n=0,i=0,s=0,o=0,a=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=xh.indexOf(t.charAt(u++)),o=xh.indexOf(t.charAt(u++)),r=s<<2|o>>4,e+=String.fromCharCode(r),a=xh.indexOf(t.charAt(u++)),n=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(n)),l=xh.indexOf(t.charAt(u++)),i=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var An=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),yd=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function UA(t){return An?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function UH(t){return An?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Rc=function(e){return An?yd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function DS(t){if(typeof ArrayBuffer>"u")return Rc(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function p1(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function JLe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var mo=An?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:yd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function eMe(t){for(var e=[],r=0,n=t.length+250,i=UA(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=t.charCodeAt(++s)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|a>>6&15|(o&3)<<4,i[r++]=128|a&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(e.push(i.slice(0,r)),r=0,i=UA(65535),n=65530)}return e.push(i.slice(0,r)),mo(e)}var Lv=/\u0000/g,ub=/[\u0001-\u0006]/g;function np(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function jc(t,e){var r=""+t;return r.length>=e?r:Oi("0",e-r.length)+r}function OU(t,e){var r=""+t;return r.length>=e?r:Oi(" ",e-r.length)+r}function n2(t,e){var r=""+t;return r.length>=e?r:r+Oi(" ",e-r.length)}function tMe(t,e){var r=""+Math.round(t);return r.length>=e?r:Oi("0",e-r.length)+r}function rMe(t,e){var r=""+t;return r.length>=e?r:Oi("0",e-r.length)+r}var WH=Math.pow(2,32);function lI(t,e){if(t>WH||t<-WH)return tMe(t,e);var r=Math.round(t);return rMe(r,e)}function i2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var GH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],AT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nMe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Li={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},VH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},iMe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function s2(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,o=1,a=0,l=1,u=0,g=0,d=Math.floor(i);u<e&&(d=Math.floor(i),a=d*o+s,g=d*u+l,!(i-d<5e-8));)i=1/(i-d),s=o,o=a,l=u,u=g;if(g>e&&(u>e?(g=l,a=s):(g=u,a=o)),!r)return[0,n*a,g];var f=Math.floor(n*a/g);return[f,n*a-f*g,g]}function gb(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,o=[],a={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(n+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++n,++a.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=gMe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var Ibe=new Date(1899,11,31,0,0,0),sMe=Ibe.getTime(),oMe=new Date(1900,2,1,0,0,0);function pbe(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=oMe&&(r+=24*60*60*1e3),(r-(sMe+(t.getTimezoneOffset()-Ibe.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function jU(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function aMe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lMe(t){var e=t<0?12:11,r=jU(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function cMe(t){var e=jU(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function uMe(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=lMe(t):e===10?r=t.toFixed(10).substr(0,12):r=cMe(t),jU(aMe(r.toUpperCase()))}function vz(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):uMe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Zh(14,pbe(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gMe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function dMe(t,e,r,n){var i="",s=0,o=0,a=r.y,l,u=0;switch(t){case 98:a=r.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return AT[r.m-1][1];case 5:return AT[r.m-1][0];default:return AT[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return GH[r.q][0];default:return GH[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?jc(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=jc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=a,u=1;break}var g=u>0?jc(l,u):"";return g}function bh(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var mbe=/%/g;function hMe(t,e,r){var n=e.replace(mbe,""),i=e.length-n.length;return Zg(t,n,r*Math.pow(10,2*i))+Oi("%",i)}function fMe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Zg(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function vbe(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+vbe(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,g){return l+u+g.substr(0,(i+s)%i)+"."+g.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var ybe=/# (\?+)( ?)\/( ?)(\d+)/;function AMe(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),o=i-s*n,a=n;return r+(s===0?"":""+s)+" "+(o===0?Oi(" ",t[1].length+1+t[4].length):OU(o,t[1].length)+t[2]+"/"+t[3]+jc(a,t[4].length))}function CMe(t,e,r){return r+(e===0?"":""+e)+Oi(" ",t[1].length+2+t[4].length)}var xbe=/^#*0*\.([0#]+)/,bbe=/\).*[0#]/,wbe=/\(###\) ###\\?-####/;function Qo(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function HH(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function KH(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function IMe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function pMe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Dl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(bbe)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Dl("n",n,r):"("+Dl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return fMe(t,e,r);if(e.indexOf("%")!==-1)return hMe(t,e,r);if(e.indexOf("E")!==-1)return vbe(e,r);if(e.charCodeAt(0)===36)return"$"+Dl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,o,a,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+lI(l,e.length);if(e.match(/^[#?]+$/))return i=lI(r,0),i==="0"&&(i=""),i.length>e.length?i:Qo(e.substr(0,e.length-i.length))+i;if(s=e.match(ybe))return AMe(s,l,u);if(e.match(/^#+0+$/))return u+lI(l,e.length-e.indexOf("0"));if(s=e.match(xbe))return i=HH(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Qo(s[1])).replace(/\.$/,"."+Qo(s[1])).replace(/\.(\d*)$/,function(A,C){return"."+C+Oi("0",Qo(s[1]).length-C.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+HH(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+bh(lI(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Dl(t,e,-r):bh(""+(Math.floor(r)+IMe(r,s[1].length)))+"."+jc(KH(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Dl(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=np(Dl(t,e.replace(/[\\-]/g,""),r)),o=0,np(np(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<i.length?i.charAt(o++):A==="0"?"0":""}));if(e.match(wbe))return i=Dl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var g="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=s2(l,Math.pow(10,o)-1,!1),i=""+u,g=Zg("n",s[1],a[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),i+=g+s[2]+"/"+s[3],g=n2(a[2],o),g.length<s[4].length&&(g=Qo(s[4].substr(s[4].length-g.length))+g),i+=g,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=s2(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?OU(a[1],o)+s[2]+"/"+s[3]+n2(a[2],o):Oi(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=lI(r,0),e.length<=i.length?i:Qo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,f=e.length-i.length-d;return Qo(e.substr(0,d)+i+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=KH(r,s[1].length),r<0?"-"+Dl(t,e,-r):bh(pMe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?jc(0,3-A.length):"")+A})+"."+jc(o,s[1].length);switch(e){case"###,##0.00":return Dl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=bh(lI(l,0));return h!=="0"?u+h:"";case"###,###.00":return Dl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Dl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function mMe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Zg(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function vMe(t,e,r){var n=e.replace(mbe,""),i=e.length-n.length;return Zg(t,n,r*Math.pow(10,2*i))+Oi("%",i)}function Sbe(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Sbe(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,g){return l+u+g.substr(0,(i+s)%i)+"."+g.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Iu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(bbe)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Iu("n",n,r):"("+Iu("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return mMe(t,e,r);if(e.indexOf("%")!==-1)return vMe(t,e,r);if(e.indexOf("E")!==-1)return Sbe(e,r);if(e.charCodeAt(0)===36)return"$"+Iu(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,o,a,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+jc(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Qo(e.substr(0,e.length-i.length))+i;if(s=e.match(ybe))return CMe(s,l,u);if(e.match(/^#+0+$/))return u+jc(l,e.length-e.indexOf("0"));if(s=e.match(xbe))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Qo(s[1])).replace(/\.$/,"."+Qo(s[1])),i=i.replace(/\.(\d*)$/,function(A,C){return"."+C+Oi("0",Qo(s[1]).length-C.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+bh(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Iu(t,e,-r):bh(""+r)+"."+Oi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Iu(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=np(Iu(t,e.replace(/[\\-]/g,""),r)),o=0,np(np(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<i.length?i.charAt(o++):A==="0"?"0":""}));if(e.match(wbe))return i=Iu(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var g="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=s2(l,Math.pow(10,o)-1,!1),i=""+u,g=Zg("n",s[1],a[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),i+=g+s[2]+"/"+s[3],g=n2(a[2],o),g.length<s[4].length&&(g=Qo(s[4].substr(s[4].length-g.length))+g),i+=g,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=s2(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?OU(a[1],o)+s[2]+"/"+s[3]+n2(a[2],o):Oi(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Qo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,f=e.length-i.length-d;return Qo(e.substr(0,d)+i+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Iu(t,e,-r):bh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?jc(0,3-A.length):"")+A})+"."+jc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=bh(""+l);return h!=="0"?u+h:"";default:if(e.match(/\.[0#?]*$/))return Iu(t,e.slice(0,e.lastIndexOf(".")),r)+Qo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Zg(t,e,r){return(r|0)===r?Iu(t,e,r):Dl(t,e,r)}function yMe(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Ebe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function _be(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":i2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Ebe))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function xMe(t,e,r,n){for(var i=[],s="",o=0,a="",l="t",u,g,d,f="H";o<t.length;)switch(a=t.charAt(o)){case"G":if(!i2(t,o))throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(d=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++o;break;case"\\":var h=t.charAt(++o),A=h==="("||h===")"?h:"t";i[i.length]={t:A,v:h},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(u==null&&(u=gb(e,r,t.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=gb(e,r),u==null))return"";for(s=a;++o<t.length&&t.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=f),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var C={t:a,v:a};if(u==null&&(u=gb(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(C.v=u.H>=12?"P":"A"),C.t="T",f="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(C.v=u.H>=12?"PM":"AM"),C.t="T",o+=5,f="h"):t.substr(o,5).toUpperCase()==="/"?(u!=null&&(C.v=u.H>=12?"":""),C.t="T",o+=5,f="h"):(C.t="t",++o),u==null&&C.t==="T")return"";i[i.length]=C,l=a;break;case"[":for(s=a;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Ebe)){if(u==null&&(u=gb(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",_be(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=a;++o<t.length&&(a=t.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<t.length&&"0#?.,E+-%".indexOf(a=t.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;t.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"t",v:a},++o;break}var I=0,p=0,m;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=f,l="h",I<1&&(I=1);break;case"s":(m=i[o].v.match(/\.0+$/))&&(p=Math.max(p,m[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[o].v.match(/[Hh]/)&&(I=1),I<2&&i[o].v.match(/[Mm]/)&&(I=2),I<3&&i[o].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var v="",y;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=dMe(i[o].t.charCodeAt(0),i[o].v,u,p),i[o].t="t";break;case"n":case"?":for(y=o+1;i[y]!=null&&((a=i[y].t)==="?"||a==="D"||(a===" "||a==="t")&&i[y+1]!=null&&(i[y+1].t==="?"||i[y+1].t==="t"&&i[y+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[y].v==="/"||i[y].v===" "&&i[y+1]!=null&&i[y+1].t=="?"));)i[o].v+=i[y].v,i[y]={v:"",t:";"},++y;v+=i[o].v,o=y-1;break;case"G":i[o].t="t",i[o].v=vz(e,r);break}var x="",T,E;if(v.length>0){v.charCodeAt(0)==40?(T=e<0&&v.charCodeAt(0)===45?-e:e,E=Zg("n",v,T)):(T=e<0&&n>1?-e:e,E=Zg("n",v,T),T<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),y=E.length-1;var _=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){_=o;break}var S=i.length;if(_===i.length&&E.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(y>=i[o].v.length-1?(y-=i[o].v.length,i[o].v=E.substr(y+1,i[o].v.length)):y<0?i[o].v="":(i[o].v=E.substr(0,y+1),y=-1),i[o].t="t",S=o);y>=0&&S<i.length&&(i[S].v=E.substr(0,y+1)+i[S].v)}else if(_!==i.length&&E.indexOf("E")===-1){for(y=E.indexOf(".")-1,o=_;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(g=i[o].v.indexOf(".")>-1&&o===_?i[o].v.indexOf(".")-1:i[o].v.length-1,x=i[o].v.substr(g+1);g>=0;--g)y>=0&&(i[o].v.charAt(g)==="0"||i[o].v.charAt(g)==="#")&&(x=E.charAt(y--)+x);i[o].v=x,i[o].t="t",S=o}for(y>=0&&S<i.length&&(i[S].v=E.substr(0,y+1)+i[S].v),y=E.indexOf(".")+1,o=_;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==_)){for(g=i[o].v.indexOf(".")>-1&&o===_?i[o].v.indexOf(".")+1:0,x=i[o].v.substr(0,g);g<i[o].v.length;++g)y<E.length&&(x+=E.charAt(y++));i[o].v=x,i[o].t="t",S=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(T=n>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Zg(i[o].t,i[o].v,T),i[o].t="t");var j="";for(o=0;o!==i.length;++o)i[o]!=null&&(j+=i[o].v);return j}var YH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ZH(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function bMe(t,e){var r=yMe(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(YH),a=r[1].match(YH);return ZH(e,o)?[n,r[0]]:ZH(e,a)?[n,r[1]]:[n,r[o!=null&&a!=null?2:1]]}return[n,s]}function Zh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Li)[t],n==null&&(n=r.table&&r.table[VH[t]]||Li[VH[t]]),n==null&&(n=iMe[t]||"General");break}if(i2(n,0))return vz(e,r);e instanceof Date&&(e=pbe(e,r.date1904));var i=bMe(n,e);if(i2(i[1]))return vz(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return xMe(i[1],e,r,i[0])}function Tbe(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Li[r]==null){e<0&&(e=r);continue}if(Li[r]==t){e=r;break}}e<0&&(e=391)}return Li[e]=t,e}function FS(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Tbe(t[e],e)}function LS(){Li=nMe()}var Rbe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function wMe(t){var e=typeof t=="number"?Li[t]:t;return e=e.replace(Rbe,"(\\d+)"),new RegExp("^"+e+"$")}function SMe(t,e,r){var n=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(e.match(Rbe)||[]).forEach(function(d,f){var h=parseInt(r[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=h;break;case"d":s=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?a=h:i=h;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var g=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:n==-1&&i==-1&&s==-1?g:u+"T"+g}var EMe=function(){var t={};t.version="1.2.0";function e(){for(var E=0,_=new Array(256),S=0;S!=256;++S)E=S,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,_[S]=E;return typeof Int32Array<"u"?new Int32Array(_):_}var r=e();function n(E){var _=0,S=0,j=0,w=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)w[j]=E[j];for(j=0;j!=256;++j)for(S=E[j],_=256+j;_<4096;_+=256)S=w[_]=S>>>8^E[S&255];var R=[];for(j=1;j!=16;++j)R[j-1]=typeof Int32Array<"u"?w.subarray(j*256,j*256+256):w.slice(j*256,j*256+256);return R}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],g=i[5],d=i[6],f=i[7],h=i[8],A=i[9],C=i[10],I=i[11],p=i[12],m=i[13],v=i[14];function y(E,_){for(var S=_^-1,j=0,w=E.length;j<w;)S=S>>>8^r[(S^E.charCodeAt(j++))&255];return~S}function x(E,_){for(var S=_^-1,j=E.length-15,w=0;w<j;)S=v[E[w++]^S&255]^m[E[w++]^S>>8&255]^p[E[w++]^S>>16&255]^I[E[w++]^S>>>24]^C[E[w++]]^A[E[w++]]^h[E[w++]]^f[E[w++]]^d[E[w++]]^g[E[w++]]^u[E[w++]]^l[E[w++]]^a[E[w++]]^o[E[w++]]^s[E[w++]]^r[E[w++]];for(j+=15;w<j;)S=S>>>8^r[(S^E[w++])&255];return~S}function T(E,_){for(var S=_^-1,j=0,w=E.length,R=0,N=0;j<w;)R=E.charCodeAt(j++),R<128?S=S>>>8^r[(S^R)&255]:R<2048?(S=S>>>8^r[(S^(192|R>>6&31))&255],S=S>>>8^r[(S^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,N=E.charCodeAt(j++)&1023,S=S>>>8^r[(S^(240|R>>8&7))&255],S=S>>>8^r[(S^(128|R>>2&63))&255],S=S>>>8^r[(S^(128|N>>6&15|(R&3)<<4))&255],S=S>>>8^r[(S^(128|N&63))&255]):(S=S>>>8^r[(S^(224|R>>12&15))&255],S=S>>>8^r[(S^(128|R>>6&63))&255],S=S>>>8^r[(S^(128|R&63))&255]);return~S}return t.table=r,t.bstr=y,t.buf=x,t.str=T,t}(),Fn=function(){var e={};e.version="1.2.1";function r(J,de){for(var oe=J.split("/"),ce=de.split("/"),ge=0,Ie=0,De=Math.min(oe.length,ce.length);ge<De;++ge){if(Ie=oe[ge].length-ce[ge].length)return Ie;if(oe[ge]!=ce[ge])return oe[ge]<ce[ge]?-1:1}return oe.length-ce.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var de=J.lastIndexOf("/");return de===-1?J:J.slice(0,de+1)}function i(J){if(J.charAt(J.length-1)=="/")return i(J.slice(0,-1));var de=J.lastIndexOf("/");return de===-1?J:J.slice(de+1)}function s(J,de){typeof de=="string"&&(de=new Date(de));var oe=de.getHours();oe=oe<<6|de.getMinutes(),oe=oe<<5|de.getSeconds()>>>1,J.write_shift(2,oe);var ce=de.getFullYear()-1980;ce=ce<<4|de.getMonth()+1,ce=ce<<5|de.getDate(),J.write_shift(2,ce)}function o(J){var de=J.read_shift(2)&65535,oe=J.read_shift(2)&65535,ce=new Date,ge=oe&31;oe>>>=5;var Ie=oe&15;oe>>>=4,ce.setMilliseconds(0),ce.setFullYear(oe+1980),ce.setMonth(Ie-1),ce.setDate(ge);var De=de&31;de>>>=5;var Ze=de&63;return de>>>=6,ce.setHours(de),ce.setMinutes(Ze),ce.setSeconds(De<<1),ce}function a(J){il(J,0);for(var de={},oe=0;J.l<=J.length-4;){var ce=J.read_shift(2),ge=J.read_shift(2),Ie=J.l+ge,De={};switch(ce){case 21589:oe=J.read_shift(1),oe&1&&(De.mtime=J.read_shift(4)),ge>5&&(oe&2&&(De.atime=J.read_shift(4)),oe&4&&(De.ctime=J.read_shift(4))),De.mtime&&(De.mt=new Date(De.mtime*1e3));break}J.l=Ie,de[ce]=De}return de}var l;function u(){return l||(l={})}function g(J,de){if(J[0]==80&&J[1]==75)return In(J,de);if((J[0]|32)==109&&(J[1]|32)==105)return gr(J,de);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var oe=3,ce=512,ge=0,Ie=0,De=0,Ze=0,Le=0,Me=[],ze=J.slice(0,512);il(ze,0);var ht=d(ze);switch(oe=ht[0],oe){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(ht[1]==0)return In(J,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ce!==512&&(ze=J.slice(0,ce),il(ze,28));var wt=J.slice(0,ce);f(ze,oe);var kt=ze.read_shift(4,"i");if(oe===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);ze.l+=4,De=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Ze=ze.read_shift(4,"i"),ge=ze.read_shift(4,"i"),Le=ze.read_shift(4,"i"),Ie=ze.read_shift(4,"i");for(var mt=-1,Ot=0;Ot<109&&(mt=ze.read_shift(4,"i"),!(mt<0));++Ot)Me[Ot]=mt;var pr=h(J,ce);I(Le,Ie,pr,ce,Me);var pn=m(pr,De,Me,ce);pn[De].name="!Directory",ge>0&&Ze!==N&&(pn[Ze].name="!MiniFAT"),pn[Me[0]].name="!FAT",pn.fat_addrs=Me,pn.ssz=ce;var Gr={},di=[],Ua=[],Wa=[];v(De,pn,pr,di,ge,Gr,Ua,Ze),A(Ua,Wa,di),di.shift();var wl={FileIndex:Ua,FullPaths:Wa};return de&&de.raw&&(wl.raw={header:wt,sectors:pr}),wl}function d(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(P,"Header Signature: "),J.l+=16;var de=J.read_shift(2,"u");return[J.read_shift(2,"u"),de]}function f(J,de){var oe=9;switch(J.l+=2,oe=J.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function h(J,de){for(var oe=Math.ceil(J.length/de)-1,ce=[],ge=1;ge<oe;++ge)ce[ge-1]=J.slice(ge*de,(ge+1)*de);return ce[oe-1]=J.slice(oe*de),ce}function A(J,de,oe){for(var ce=0,ge=0,Ie=0,De=0,Ze=0,Le=oe.length,Me=[],ze=[];ce<Le;++ce)Me[ce]=ze[ce]=ce,de[ce]=oe[ce];for(;Ze<ze.length;++Ze)ce=ze[Ze],ge=J[ce].L,Ie=J[ce].R,De=J[ce].C,Me[ce]===ce&&(ge!==-1&&Me[ge]!==ge&&(Me[ce]=Me[ge]),Ie!==-1&&Me[Ie]!==Ie&&(Me[ce]=Me[Ie])),De!==-1&&(Me[De]=ce),ge!==-1&&ce!=Me[ce]&&(Me[ge]=Me[ce],ze.lastIndexOf(ge)<Ze&&ze.push(ge)),Ie!==-1&&ce!=Me[ce]&&(Me[Ie]=Me[ce],ze.lastIndexOf(Ie)<Ze&&ze.push(Ie));for(ce=1;ce<Le;++ce)Me[ce]===ce&&(Ie!==-1&&Me[Ie]!==Ie?Me[ce]=Me[Ie]:ge!==-1&&Me[ge]!==ge&&(Me[ce]=Me[ge]));for(ce=1;ce<Le;++ce)if(J[ce].type!==0){if(Ze=ce,Ze!=Me[Ze])do Ze=Me[Ze],de[ce]=de[Ze]+"/"+de[ce];while(Ze!==0&&Me[Ze]!==-1&&Ze!=Me[Ze]);Me[ce]=-1}for(de[0]+="/",ce=1;ce<Le;++ce)J[ce].type!==2&&(de[ce]+="/")}function C(J,de,oe){for(var ce=J.start,ge=J.size,Ie=[],De=ce;oe&&ge>0&&De>=0;)Ie.push(de.slice(De*R,De*R+R)),ge-=R,De=Qf(oe,De*4);return Ie.length===0?Je(0):mo(Ie).slice(0,J.size)}function I(J,de,oe,ce,ge){var Ie=N;if(J===N){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var De=oe[J],Ze=(ce>>>2)-1;if(!De)return;for(var Le=0;Le<Ze&&(Ie=Qf(De,Le*4))!==N;++Le)ge.push(Ie);I(Qf(De,ce-4),de-1,oe,ce,ge)}}function p(J,de,oe,ce,ge){var Ie=[],De=[];ge||(ge=[]);var Ze=ce-1,Le=0,Me=0;for(Le=de;Le>=0;){ge[Le]=!0,Ie[Ie.length]=Le,De.push(J[Le]);var ze=oe[Math.floor(Le*4/ce)];if(Me=Le*4&Ze,ce<4+Me)throw new Error("FAT boundary crossed: "+Le+" 4 "+ce);if(!J[ze])break;Le=Qf(J[ze],Me)}return{nodes:Ie,data:iK([De])}}function m(J,de,oe,ce){var ge=J.length,Ie=[],De=[],Ze=[],Le=[],Me=ce-1,ze=0,ht=0,wt=0,kt=0;for(ze=0;ze<ge;++ze)if(Ze=[],wt=ze+de,wt>=ge&&(wt-=ge),!De[wt]){Le=[];var mt=[];for(ht=wt;ht>=0;){mt[ht]=!0,De[ht]=!0,Ze[Ze.length]=ht,Le.push(J[ht]);var Ot=oe[Math.floor(ht*4/ce)];if(kt=ht*4&Me,ce<4+kt)throw new Error("FAT boundary crossed: "+ht+" 4 "+ce);if(!J[Ot]||(ht=Qf(J[Ot],kt),mt[ht]))break}Ie[wt]={nodes:Ze,data:iK([Le])}}return Ie}function v(J,de,oe,ce,ge,Ie,De,Ze){for(var Le=0,Me=ce.length?2:0,ze=de[J].data,ht=0,wt=0,kt;ht<ze.length;ht+=128){var mt=ze.slice(ht,ht+128);il(mt,64),wt=mt.read_shift(2),kt=LU(mt,0,wt-Me),ce.push(kt);var Ot={name:kt,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},pr=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);pr!==0&&(Ot.ct=y(mt,mt.l-8));var pn=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);pn!==0&&(Ot.mt=y(mt,mt.l-8)),Ot.start=mt.read_shift(4,"i"),Ot.size=mt.read_shift(4,"i"),Ot.size<0&&Ot.start<0&&(Ot.size=Ot.type=0,Ot.start=N,Ot.name=""),Ot.type===5?(Le=Ot.start,ge>0&&Le!==N&&(de[Le].name="!StreamData")):Ot.size>=4096?(Ot.storage="fat",de[Ot.start]===void 0&&(de[Ot.start]=p(oe,Ot.start,de.fat_addrs,de.ssz)),de[Ot.start].name=Ot.name,Ot.content=de[Ot.start].data.slice(0,Ot.size)):(Ot.storage="minifat",Ot.size<0?Ot.size=0:Le!==N&&Ot.start!==N&&de[Le]&&(Ot.content=C(Ot,de[Le].data,(de[Ze]||{}).data))),Ot.content&&il(Ot.content,0),Ie[kt]=Ot,De.push(Ot)}}function y(J,de){return new Date((al(J,de+4)/1e7*Math.pow(2,32)+al(J,de)/1e7-11644473600)*1e3)}function x(J,de){return u(),g(l.readFileSync(J),de)}function T(J,de){var oe=de&&de.type;switch(oe||An&&Buffer.isBuffer(J)&&(oe="buffer"),oe||"base64"){case"file":return x(J,de);case"base64":return g(Rc(ud(J)),de);case"binary":return g(Rc(J),de)}return g(J,de)}function E(J,de){var oe=de||{},ce=oe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=ce+"/",J.FileIndex[0]={name:ce,type:5}),oe.CLSID&&(J.FileIndex[0].clsid=oe.CLSID),_(J)}function _(J){var de="Sh33tJ5";if(!Fn.find(J,"/"+de)){var oe=Je(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,J.FileIndex.push({name:de,type:2,content:oe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+de),S(J)}}function S(J,de){E(J);for(var oe=!1,ce=!1,ge=J.FullPaths.length-1;ge>=0;--ge){var Ie=J.FileIndex[ge];switch(Ie.type){case 0:ce?oe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(oe=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!de)){var De=new Date(1987,1,19),Ze=0,Le=Object.create?Object.create(null):{},Me=[];for(ge=0;ge<J.FullPaths.length;++ge)Le[J.FullPaths[ge]]=!0,J.FileIndex[ge].type!==0&&Me.push([J.FullPaths[ge],J.FileIndex[ge]]);for(ge=0;ge<Me.length;++ge){var ze=n(Me[ge][0]);ce=Le[ze],ce||(Me.push([ze,{name:i(ze).replace("/",""),type:1,clsid:B,ct:De,mt:De,content:null}]),Le[ze]=!0)}for(Me.sort(function(kt,mt){return r(kt[0],mt[0])}),J.FullPaths=[],J.FileIndex=[],ge=0;ge<Me.length;++ge)J.FullPaths[ge]=Me[ge][0],J.FileIndex[ge]=Me[ge][1];for(ge=0;ge<Me.length;++ge){var ht=J.FileIndex[ge],wt=J.FullPaths[ge];if(ht.name=i(wt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||B,ge===0)ht.C=Me.length>1?1:-1,ht.size=0,ht.type=5;else if(wt.slice(-1)=="/"){for(Ze=ge+1;Ze<Me.length&&n(J.FullPaths[Ze])!=wt;++Ze);for(ht.C=Ze>=Me.length?-1:Ze,Ze=ge+1;Ze<Me.length&&n(J.FullPaths[Ze])!=n(wt);++Ze);ht.R=Ze>=Me.length?-1:Ze,ht.type=1}else n(J.FullPaths[ge+1]||"")==n(wt)&&(ht.R=ge+1),ht.type=2}}}function j(J,de){var oe=de||{};if(oe.fileType=="mad")return qa(J,oe);switch(S(J),oe.fileType){case"zip":return ln(J,oe)}var ce=function(kt){for(var mt=0,Ot=0,pr=0;pr<kt.FileIndex.length;++pr){var pn=kt.FileIndex[pr];if(pn.content){var Gr=pn.content.length;Gr>0&&(Gr<4096?mt+=Gr+63>>6:Ot+=Gr+511>>9)}}for(var di=kt.FullPaths.length+3>>2,Ua=mt+7>>3,Wa=mt+127>>7,wl=Ua+Ot+di+Wa,ha=wl+127>>7,Sl=ha<=109?0:Math.ceil((ha-109)/127);wl+ha+Sl+127>>7>ha;)Sl=++ha<=109?0:Math.ceil((ha-109)/127);var _o=[1,Sl,ha,Wa,di,Ot,mt,0];return kt.FileIndex[0].size=mt<<6,_o[7]=(kt.FileIndex[0].start=_o[0]+_o[1]+_o[2]+_o[3]+_o[4]+_o[5])+(_o[6]+7>>3),_o}(J),ge=Je(ce[7]<<9),Ie=0,De=0;{for(Ie=0;Ie<8;++Ie)ge.write_shift(1,M[Ie]);for(Ie=0;Ie<8;++Ie)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),Ie=0;Ie<3;++Ie)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,ce[2]),ge.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:N),ge.write_shift(4,ce[3]),ge.write_shift(-4,ce[1]?ce[0]-1:N),ge.write_shift(4,ce[1]),Ie=0;Ie<109;++Ie)ge.write_shift(-4,Ie<ce[2]?ce[1]+Ie:-1)}if(ce[1])for(De=0;De<ce[1];++De){for(;Ie<236+De*127;++Ie)ge.write_shift(-4,Ie<ce[2]?ce[1]+Ie:-1);ge.write_shift(-4,De===ce[1]-1?N:De+1)}var Ze=function(kt){for(De+=kt;Ie<De-1;++Ie)ge.write_shift(-4,Ie+1);kt&&(++Ie,ge.write_shift(-4,N))};for(De=Ie=0,De+=ce[1];Ie<De;++Ie)ge.write_shift(-4,W.DIFSECT);for(De+=ce[2];Ie<De;++Ie)ge.write_shift(-4,W.FATSECT);Ze(ce[3]),Ze(ce[4]);for(var Le=0,Me=0,ze=J.FileIndex[0];Le<J.FileIndex.length;++Le)ze=J.FileIndex[Le],ze.content&&(Me=ze.content.length,!(Me<4096)&&(ze.start=De,Ze(Me+511>>9)));for(Ze(ce[6]+7>>3);ge.l&511;)ge.write_shift(-4,W.ENDOFCHAIN);for(De=Ie=0,Le=0;Le<J.FileIndex.length;++Le)ze=J.FileIndex[Le],ze.content&&(Me=ze.content.length,!(!Me||Me>=4096)&&(ze.start=De,Ze(Me+63>>6)));for(;ge.l&511;)ge.write_shift(-4,W.ENDOFCHAIN);for(Ie=0;Ie<ce[4]<<2;++Ie){var ht=J.FullPaths[Ie];if(!ht||ht.length===0){for(Le=0;Le<17;++Le)ge.write_shift(4,0);for(Le=0;Le<3;++Le)ge.write_shift(4,-1);for(Le=0;Le<12;++Le)ge.write_shift(4,0);continue}ze=J.FileIndex[Ie],Ie===0&&(ze.start=ze.size?ze.start-1:N);var wt=Ie===0&&oe.root||ze.name;if(Me=2*(wt.length+1),ge.write_shift(64,wt,"utf16le"),ge.write_shift(2,Me),ge.write_shift(1,ze.type),ge.write_shift(1,ze.color),ge.write_shift(-4,ze.L),ge.write_shift(-4,ze.R),ge.write_shift(-4,ze.C),ze.clsid)ge.write_shift(16,ze.clsid,"hex");else for(Le=0;Le<4;++Le)ge.write_shift(4,0);ge.write_shift(4,ze.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,ze.start),ge.write_shift(4,ze.size),ge.write_shift(4,0)}for(Ie=1;Ie<J.FileIndex.length;++Ie)if(ze=J.FileIndex[Ie],ze.size>=4096)if(ge.l=ze.start+1<<9,An&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+511&-512;else{for(Le=0;Le<ze.size;++Le)ge.write_shift(1,ze.content[Le]);for(;Le&511;++Le)ge.write_shift(1,0)}for(Ie=1;Ie<J.FileIndex.length;++Ie)if(ze=J.FileIndex[Ie],ze.size>0&&ze.size<4096)if(An&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+63&-64;else{for(Le=0;Le<ze.size;++Le)ge.write_shift(1,ze.content[Le]);for(;Le&63;++Le)ge.write_shift(1,0)}if(An)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function w(J,de){var oe=J.FullPaths.map(function(Le){return Le.toUpperCase()}),ce=oe.map(function(Le){var Me=Le.split("/");return Me[Me.length-(Le.slice(-1)=="/"?2:1)]}),ge=!1;de.charCodeAt(0)===47?(ge=!0,de=oe[0].slice(0,-1)+de):ge=de.indexOf("/")!==-1;var Ie=de.toUpperCase(),De=ge===!0?oe.indexOf(Ie):ce.indexOf(Ie);if(De!==-1)return J.FileIndex[De];var Ze=!Ie.match(ub);for(Ie=Ie.replace(Lv,""),Ze&&(Ie=Ie.replace(ub,"!")),De=0;De<oe.length;++De)if((Ze?oe[De].replace(ub,"!"):oe[De]).replace(Lv,"")==Ie||(Ze?ce[De].replace(ub,"!"):ce[De]).replace(Lv,"")==Ie)return J.FileIndex[De];return null}var R=64,N=-2,P="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:P,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(J,de,oe){u();var ce=j(J,oe);l.writeFileSync(de,ce)}function V(J){for(var de=new Array(J.length),oe=0;oe<J.length;++oe)de[oe]=String.fromCharCode(J[oe]);return de.join("")}function K(J,de){var oe=j(J,de);switch(de&&de.type||"buffer"){case"file":return u(),l.writeFileSync(de.filename,oe),oe;case"binary":return typeof oe=="string"?oe:V(oe);case"base64":return Cy(typeof oe=="string"?oe:V(oe));case"buffer":if(An)return Buffer.isBuffer(oe)?oe:yd(oe);case"array":return typeof oe=="string"?Rc(oe):oe}return oe}var Y;function k(J){try{var de=J.InflateRaw,oe=new de;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)Y=J;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function q(J,de){if(!Y)return Cr(J,de);var oe=Y.InflateRaw,ce=new oe,ge=ce._processChunk(J.slice(J.l),ce._finishFlushFlag);return J.l+=ce.bytesRead,ge}function z(J){return Y?Y.deflateRawSync(J):Ht(J)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function re(J){var de=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(de>>16|de>>8|de)&255}for(var ie=typeof Uint8Array<"u",Ce=ie?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)Ce[Pe]=re(Pe);function Fe(J,de){var oe=Ce[J&255];return de<=8?oe>>>8-de:(oe=oe<<8|Ce[J>>8&255],de<=16?oe>>>16-de:(oe=oe<<8|Ce[J>>16&255],oe>>>24-de))}function He(J,de){var oe=de&7,ce=de>>>3;return(J[ce]|(oe<=6?0:J[ce+1]<<8))>>>oe&3}function Te(J,de){var oe=de&7,ce=de>>>3;return(J[ce]|(oe<=5?0:J[ce+1]<<8))>>>oe&7}function se(J,de){var oe=de&7,ce=de>>>3;return(J[ce]|(oe<=4?0:J[ce+1]<<8))>>>oe&15}function Ct(J,de){var oe=de&7,ce=de>>>3;return(J[ce]|(oe<=3?0:J[ce+1]<<8))>>>oe&31}function Re(J,de){var oe=de&7,ce=de>>>3;return(J[ce]|(oe<=1?0:J[ce+1]<<8))>>>oe&127}function ke(J,de,oe){var ce=de&7,ge=de>>>3,Ie=(1<<oe)-1,De=J[ge]>>>ce;return oe<8-ce||(De|=J[ge+1]<<8-ce,oe<16-ce)||(De|=J[ge+2]<<16-ce,oe<24-ce)||(De|=J[ge+3]<<24-ce),De&Ie}function Ye(J,de,oe){var ce=de&7,ge=de>>>3;return ce<=5?J[ge]|=(oe&7)<<ce:(J[ge]|=oe<<ce&255,J[ge+1]=(oe&7)>>8-ce),de+3}function xt(J,de,oe){var ce=de&7,ge=de>>>3;return oe=(oe&1)<<ce,J[ge]|=oe,de+1}function ft(J,de,oe){var ce=de&7,ge=de>>>3;return oe<<=ce,J[ge]|=oe&255,oe>>>=8,J[ge+1]=oe,de+8}function $t(J,de,oe){var ce=de&7,ge=de>>>3;return oe<<=ce,J[ge]|=oe&255,oe>>>=8,J[ge+1]=oe&255,J[ge+2]=oe>>>8,de+16}function bt(J,de){var oe=J.length,ce=2*oe>de?2*oe:de+5,ge=0;if(oe>=de)return J;if(An){var Ie=UH(ce);if(J.copy)J.copy(Ie);else for(;ge<J.length;++ge)Ie[ge]=J[ge];return Ie}else if(ie){var De=new Uint8Array(ce);if(De.set)De.set(J);else for(;ge<oe;++ge)De[ge]=J[ge];return De}return J.length=ce,J}function Gt(J){for(var de=new Array(J),oe=0;oe<J;++oe)de[oe]=0;return de}function Wt(J,de,oe){var ce=1,ge=0,Ie=0,De=0,Ze=0,Le=J.length,Me=ie?new Uint16Array(32):Gt(32);for(Ie=0;Ie<32;++Ie)Me[Ie]=0;for(Ie=Le;Ie<oe;++Ie)J[Ie]=0;Le=J.length;var ze=ie?new Uint16Array(Le):Gt(Le);for(Ie=0;Ie<Le;++Ie)Me[ge=J[Ie]]++,ce<ge&&(ce=ge),ze[Ie]=0;for(Me[0]=0,Ie=1;Ie<=ce;++Ie)Me[Ie+16]=Ze=Ze+Me[Ie-1]<<1;for(Ie=0;Ie<Le;++Ie)Ze=J[Ie],Ze!=0&&(ze[Ie]=Me[Ze+16]++);var ht=0;for(Ie=0;Ie<Le;++Ie)if(ht=J[Ie],ht!=0)for(Ze=Fe(ze[Ie],ce)>>ce-ht,De=(1<<ce+4-ht)-1;De>=0;--De)de[Ze|De<<ht]=ht&15|Ie<<4;return ce}var Qt=ie?new Uint16Array(512):Gt(512),hr=ie?new Uint16Array(32):Gt(32);if(!ie){for(var Bt=0;Bt<512;++Bt)Qt[Bt]=0;for(Bt=0;Bt<32;++Bt)hr[Bt]=0}(function(){for(var J=[],de=0;de<32;de++)J.push(5);Wt(J,hr,32);var oe=[];for(de=0;de<=143;de++)oe.push(8);for(;de<=255;de++)oe.push(9);for(;de<=279;de++)oe.push(7);for(;de<=287;de++)oe.push(8);Wt(oe,Qt,288)})();var Ft=function(){for(var de=ie?new Uint8Array(32768):[],oe=0,ce=0;oe<ue.length-1;++oe)for(;ce<ue[oe+1];++ce)de[ce]=oe;for(;ce<32768;++ce)de[ce]=29;var ge=ie?new Uint8Array(259):[];for(oe=0,ce=0;oe<Z.length-1;++oe)for(;ce<Z[oe+1];++ce)ge[ce]=oe;function Ie(Ze,Le){for(var Me=0;Me<Ze.length;){var ze=Math.min(65535,Ze.length-Me),ht=Me+ze==Ze.length;for(Le.write_shift(1,+ht),Le.write_shift(2,ze),Le.write_shift(2,~ze&65535);ze-- >0;)Le[Le.l++]=Ze[Me++]}return Le.l}function De(Ze,Le){for(var Me=0,ze=0,ht=ie?new Uint16Array(32768):[];ze<Ze.length;){var wt=Math.min(65535,Ze.length-ze);if(wt<10){for(Me=Ye(Le,Me,+(ze+wt==Ze.length)),Me&7&&(Me+=8-(Me&7)),Le.l=Me/8|0,Le.write_shift(2,wt),Le.write_shift(2,~wt&65535);wt-- >0;)Le[Le.l++]=Ze[ze++];Me=Le.l*8;continue}Me=Ye(Le,Me,+(ze+wt==Ze.length)+2);for(var kt=0;wt-- >0;){var mt=Ze[ze];kt=(kt<<5^mt)&32767;var Ot=-1,pr=0;if((Ot=ht[kt])&&(Ot|=ze&-32768,Ot>ze&&(Ot-=32768),Ot<ze))for(;Ze[Ot+pr]==Ze[ze+pr]&&pr<250;)++pr;if(pr>2){mt=ge[pr],mt<=22?Me=ft(Le,Me,Ce[mt+1]>>1)-1:(ft(Le,Me,3),Me+=5,ft(Le,Me,Ce[mt-23]>>5),Me+=3);var pn=mt<8?0:mt-4>>2;pn>0&&($t(Le,Me,pr-Z[mt]),Me+=pn),mt=de[ze-Ot],Me=ft(Le,Me,Ce[mt]>>3),Me-=3;var Gr=mt<4?0:mt-2>>1;Gr>0&&($t(Le,Me,ze-Ot-ue[mt]),Me+=Gr);for(var di=0;di<pr;++di)ht[kt]=ze&32767,kt=(kt<<5^Ze[ze])&32767,++ze;wt-=pr-1}else mt<=143?mt=mt+48:Me=xt(Le,Me,1),Me=ft(Le,Me,Ce[mt]),ht[kt]=ze&32767,++ze}Me=ft(Le,Me,0)-1}return Le.l=(Me+7)/8|0,Le.l}return function(Le,Me){return Le.length<8?Ie(Le,Me):De(Le,Me)}}();function Ht(J){var de=Je(50+Math.floor(J.length*1.1)),oe=Ft(J,de);return de.slice(0,oe)}var Qe=ie?new Uint16Array(32768):Gt(32768),it=ie?new Uint16Array(32768):Gt(32768),ot=ie?new Uint16Array(128):Gt(128),Ve=1,ut=1;function qt(J,de){var oe=Ct(J,de)+257;de+=5;var ce=Ct(J,de)+1;de+=5;var ge=se(J,de)+4;de+=4;for(var Ie=0,De=ie?new Uint8Array(19):Gt(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,Me=ie?new Uint8Array(8):Gt(8),ze=ie?new Uint8Array(8):Gt(8),ht=De.length,wt=0;wt<ge;++wt)De[G[wt]]=Ie=Te(J,de),Le<Ie&&(Le=Ie),Me[Ie]++,de+=3;var kt=0;for(Me[0]=0,wt=1;wt<=Le;++wt)ze[wt]=kt=kt+Me[wt-1]<<1;for(wt=0;wt<ht;++wt)(kt=De[wt])!=0&&(Ze[wt]=ze[kt]++);var mt=0;for(wt=0;wt<ht;++wt)if(mt=De[wt],mt!=0){kt=Ce[Ze[wt]]>>8-mt;for(var Ot=(1<<7-mt)-1;Ot>=0;--Ot)ot[kt|Ot<<mt]=mt&7|wt<<3}var pr=[];for(Le=1;pr.length<oe+ce;)switch(kt=ot[Re(J,de)],de+=kt&7,kt>>>=3){case 16:for(Ie=3+He(J,de),de+=2,kt=pr[pr.length-1];Ie-- >0;)pr.push(kt);break;case 17:for(Ie=3+Te(J,de),de+=3;Ie-- >0;)pr.push(0);break;case 18:for(Ie=11+Re(J,de),de+=7;Ie-- >0;)pr.push(0);break;default:pr.push(kt),Le<kt&&(Le=kt);break}var pn=pr.slice(0,oe),Gr=pr.slice(oe);for(wt=oe;wt<286;++wt)pn[wt]=0;for(wt=ce;wt<30;++wt)Gr[wt]=0;return Ve=Wt(pn,Qe,286),ut=Wt(Gr,it,30),de}function zt(J,de){if(J[0]==3&&!(J[1]&3))return[UA(de),2];for(var oe=0,ce=0,ge=UH(de||1<<18),Ie=0,De=ge.length>>>0,Ze=0,Le=0;!(ce&1);){if(ce=Te(J,oe),oe+=3,ce>>>1)ce>>1==1?(Ze=9,Le=5):(oe=qt(J,oe),Ze=Ve,Le=ut);else{oe&7&&(oe+=8-(oe&7));var Me=J[oe>>>3]|J[(oe>>>3)+1]<<8;if(oe+=32,Me>0)for(!de&&De<Ie+Me&&(ge=bt(ge,Ie+Me),De=ge.length);Me-- >0;)ge[Ie++]=J[oe>>>3],oe+=8;continue}for(;;){!de&&De<Ie+32767&&(ge=bt(ge,Ie+32767),De=ge.length);var ze=ke(J,oe,Ze),ht=ce>>>1==1?Qt[ze]:Qe[ze];if(oe+=ht&15,ht>>>=4,!(ht>>>8&255))ge[Ie++]=ht;else{if(ht==256)break;ht-=257;var wt=ht<8?0:ht-4>>2;wt>5&&(wt=0);var kt=Ie+Z[ht];wt>0&&(kt+=ke(J,oe,wt),oe+=wt),ze=ke(J,oe,Le),ht=ce>>>1==1?hr[ze]:it[ze],oe+=ht&15,ht>>>=4;var mt=ht<4?0:ht-2>>1,Ot=ue[ht];for(mt>0&&(Ot+=ke(J,oe,mt),oe+=mt),!de&&De<kt&&(ge=bt(ge,kt+100),De=ge.length);Ie<kt;)ge[Ie]=ge[Ie-Ot],++Ie}}}return de?[ge,oe+7>>>3]:[ge.slice(0,Ie),oe+7>>>3]}function Cr(J,de){var oe=J.slice(J.l||0),ce=zt(oe,de);return J.l+=ce[1],ce[0]}function Ir(J,de){if(J)typeof console<"u"&&console.error(de);else throw new Error(de)}function In(J,de){var oe=J;il(oe,0);var ce=[],ge=[],Ie={FileIndex:ce,FullPaths:ge};E(Ie,{root:de.root});for(var De=oe.length-4;(oe[De]!=80||oe[De+1]!=75||oe[De+2]!=5||oe[De+3]!=6)&&De>=0;)--De;oe.l=De+4,oe.l+=4;var Ze=oe.read_shift(2);oe.l+=6;var Le=oe.read_shift(4);for(oe.l=Le,De=0;De<Ze;++De){oe.l+=20;var Me=oe.read_shift(4),ze=oe.read_shift(4),ht=oe.read_shift(2),wt=oe.read_shift(2),kt=oe.read_shift(2);oe.l+=8;var mt=oe.read_shift(4),Ot=a(oe.slice(oe.l+ht,oe.l+ht+wt));oe.l+=ht+wt+kt;var pr=oe.l;oe.l=mt+4,ri(oe,Me,ze,Ie,Ot),oe.l=pr}return Ie}function ri(J,de,oe,ce,ge){J.l+=2;var Ie=J.read_shift(2),De=J.read_shift(2),Ze=o(J);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var Le=J.read_shift(4),Me=J.read_shift(4),ze=J.read_shift(4),ht=J.read_shift(2),wt=J.read_shift(2),kt="",mt=0;mt<ht;++mt)kt+=String.fromCharCode(J[J.l++]);if(wt){var Ot=a(J.slice(J.l,J.l+wt));(Ot[21589]||{}).mt&&(Ze=Ot[21589].mt),((ge||{})[21589]||{}).mt&&(Ze=ge[21589].mt)}J.l+=wt;var pr=J.slice(J.l,J.l+Me);switch(De){case 8:pr=q(J,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+De)}var pn=!1;Ie&8&&(Le=J.read_shift(4),Le==134695760&&(Le=J.read_shift(4),pn=!0),Me=J.read_shift(4),ze=J.read_shift(4)),Me!=de&&Ir(pn,"Bad compressed size: "+de+" != "+Me),ze!=oe&&Ir(pn,"Bad uncompressed size: "+oe+" != "+ze),Ms(ce,kt,pr,{unsafe:!0,mt:Ze})}function ln(J,de){var oe=de||{},ce=[],ge=[],Ie=Je(1),De=oe.compression?8:0,Ze=0,Le=0,Me=0,ze=0,ht=0,wt=J.FullPaths[0],kt=wt,mt=J.FileIndex[0],Ot=[],pr=0;for(Le=1;Le<J.FullPaths.length;++Le)if(kt=J.FullPaths[Le].slice(wt.length),mt=J.FileIndex[Le],!(!mt.size||!mt.content||kt=="Sh33tJ5")){var pn=ze,Gr=Je(kt.length);for(Me=0;Me<kt.length;++Me)Gr.write_shift(1,kt.charCodeAt(Me)&127);Gr=Gr.slice(0,Gr.l),Ot[ht]=EMe.buf(mt.content,0);var di=mt.content;De==8&&(di=z(di)),Ie=Je(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,Ze),Ie.write_shift(2,De),mt.mt?s(Ie,mt.mt):Ie.write_shift(4,0),Ie.write_shift(-4,Ot[ht]),Ie.write_shift(4,di.length),Ie.write_shift(4,mt.content.length),Ie.write_shift(2,Gr.length),Ie.write_shift(2,0),ze+=Ie.length,ce.push(Ie),ze+=Gr.length,ce.push(Gr),ze+=di.length,ce.push(di),Ie=Je(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,Ze),Ie.write_shift(2,De),Ie.write_shift(4,0),Ie.write_shift(-4,Ot[ht]),Ie.write_shift(4,di.length),Ie.write_shift(4,mt.content.length),Ie.write_shift(2,Gr.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,pn),pr+=Ie.l,ge.push(Ie),pr+=Gr.length,ge.push(Gr),++ht}return Ie=Je(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,ht),Ie.write_shift(2,ht),Ie.write_shift(4,pr),Ie.write_shift(4,ze),Ie.write_shift(2,0),mo([mo(ce),mo(ge),Ie])}var nr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rn(J,de){if(J.ctype)return J.ctype;var oe=J.name||"",ce=oe.match(/\.([^\.]+)$/);return ce&&nr[ce[1]]||de&&(ce=(oe=de).match(/[\.\\]([^\.\\])+$/),ce&&nr[ce[1]])?nr[ce[1]]:"application/octet-stream"}function cc(J){for(var de=Cy(J),oe=[],ce=0;ce<de.length;ce+=76)oe.push(de.slice(ce,ce+76));return oe.join(`\r
`)+`\r
`}function ns(J){var de=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Me){var ze=Me.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ce=de.split(`\r
`),ge=0;ge<ce.length;++ge){var Ie=ce[ge];if(Ie.length==0){oe.push("");continue}for(var De=0;De<Ie.length;){var Ze=76,Le=Ie.slice(De,De+Ze);Le.charAt(Ze-1)=="="?Ze--:Le.charAt(Ze-2)=="="?Ze-=2:Le.charAt(Ze-3)=="="&&(Ze-=3),Le=Ie.slice(De,De+Ze),De+=Ze,De<Ie.length&&(Le+="="),oe.push(Le)}}return oe.join(`\r
`)}function $a(J){for(var de=[],oe=0;oe<J.length;++oe){for(var ce=J[oe];oe<=J.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+J[++oe];de.push(ce)}for(var ge=0;ge<de.length;++ge)de[ge]=de[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return Rc(de.join(`\r
`))}function da(J,de,oe){for(var ce="",ge="",Ie="",De,Ze=0;Ze<10;++Ze){var Le=de[Ze];if(!Le||Le.match(/^\s*$/))break;var Me=Le.match(/^(.*?):\s*([^\s].*)$/);if(Me)switch(Me[1].toLowerCase()){case"content-location":ce=Me[2].trim();break;case"content-type":Ie=Me[2].trim();break;case"content-transfer-encoding":ge=Me[2].trim();break}}switch(++Ze,ge.toLowerCase()){case"base64":De=Rc(ud(de.slice(Ze).join("")));break;case"quoted-printable":De=$a(de.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var ze=Ms(J,ce.slice(oe.length),De,{unsafe:!0});Ie&&(ze.ctype=Ie)}function gr(J,de){if(V(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=de&&de.root||"",ce=(An&&Buffer.isBuffer(J)?J.toString("binary"):V(J)).split(`\r
`),ge=0,Ie="";for(ge=0;ge<ce.length;++ge)if(Ie=ce[ge],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),oe||(oe=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),Ie.slice(0,oe.length)!=oe););var De=(ce[1]||"").match(/boundary="(.*?)"/);if(!De)throw new Error("MAD cannot find boundary");var Ze="--"+(De[1]||""),Le=[],Me=[],ze={FileIndex:Le,FullPaths:Me};E(ze);var ht,wt=0;for(ge=0;ge<ce.length;++ge){var kt=ce[ge];kt!==Ze&&kt!==Ze+"--"||(wt++&&da(ze,ce.slice(ht,ge),oe),ht=ge)}return ze}function qa(J,de){var oe=de||{},ce=oe.boundary||"SheetJS";ce="------="+ce;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],Ie=J.FullPaths[0],De=Ie,Ze=J.FileIndex[0],Le=1;Le<J.FullPaths.length;++Le)if(De=J.FullPaths[Le].slice(Ie.length),Ze=J.FileIndex[Le],!(!Ze.size||!Ze.content||De=="Sh33tJ5")){De=De.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pr){return"_x"+pr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pr){return"_u"+pr.charCodeAt(0).toString(16)+"_"});for(var Me=Ze.content,ze=An&&Buffer.isBuffer(Me)?Me.toString("binary"):V(Me),ht=0,wt=Math.min(1024,ze.length),kt=0,mt=0;mt<=wt;++mt)(kt=ze.charCodeAt(mt))>=32&&kt<128&&++ht;var Ot=ht>=wt*4/5;ge.push(ce),ge.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+De),ge.push("Content-Transfer-Encoding: "+(Ot?"quoted-printable":"base64")),ge.push("Content-Type: "+rn(Ze,De)),ge.push(""),ge.push(Ot?ns(ze):cc(ze))}return ge.push(ce+`--\r
`),ge.join(`\r
`)}function za(J){var de={};return E(de,J),de}function Ms(J,de,oe,ce){var ge=ce&&ce.unsafe;ge||E(J);var Ie=!ge&&Fn.find(J,de);if(!Ie){var De=J.FullPaths[0];de.slice(0,De.length)==De?De=de:(De.slice(-1)!="/"&&(De+="/"),De=(De+de).replace("//","/")),Ie={name:i(de),type:2},J.FileIndex.push(Ie),J.FullPaths.push(De),ge||Fn.utils.cfb_gc(J)}return Ie.content=oe,Ie.size=oe?oe.length:0,ce&&(ce.CLSID&&(Ie.clsid=ce.CLSID),ce.mt&&(Ie.mt=ce.mt),ce.ct&&(Ie.ct=ce.ct)),Ie}function Eo(J,de){E(J);var oe=Fn.find(J,de);if(oe){for(var ce=0;ce<J.FileIndex.length;++ce)if(J.FileIndex[ce]==oe)return J.FileIndex.splice(ce,1),J.FullPaths.splice(ce,1),!0}return!1}function Hn(J,de,oe){E(J);var ce=Fn.find(J,de);if(ce){for(var ge=0;ge<J.FileIndex.length;++ge)if(J.FileIndex[ge]==ce)return J.FileIndex[ge].name=i(oe),J.FullPaths[ge]=oe,!0}return!1}function bi(J){S(J,!0)}return e.find=w,e.read=T,e.parse=g,e.write=K,e.writeFile=H,e.utils={cfb_new:za,cfb_add:Ms,cfb_del:Eo,cfb_mov:Hn,cfb_gc:bi,ReadShift:Bv,CheckField:Hbe,prep_blob:il,bconcat:mo,use_zlib:k,_deflateRaw:Ht,_inflateRaw:Cr,consts:W},e}();function _Me(t){return typeof t=="string"?DS(t):Array.isArray(t)?JLe(t):t}function m1(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=DS(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?py(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([_Me(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(t);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=p1(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function wo(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function XH(t,e){for(var r=[],n=wo(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function PU(t){for(var e=[],r=wo(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function MS(t){for(var e=[],r=wo(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function TMe(t){for(var e=[],r=wo(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var o2=new Date(1899,11,30,0,0,0);function Ta(t,e){var r=t.getTime(),n=o2.getTime()+(t.getTimezoneOffset()-o2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Nbe=new Date,RMe=o2.getTime()+(Nbe.getTimezoneOffset()-o2.getTimezoneOffset())*6e4,QH=Nbe.getTimezoneOffset();function Obe(t){var e=new Date;return e.setTime(t*24*60*60*1e3+RMe),e.getTimezoneOffset()!==QH&&e.setTime(e.getTime()+(e.getTimezoneOffset()-QH)*6e4),e}var JH=new Date("2017-02-19T19:06:09.000Z"),jbe=isNaN(JH.getFullYear())?new Date("2/19/17"):JH,NMe=jbe.getFullYear()==2017;function oa(t,e){var r=new Date(t);if(NMe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(jbe.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function BS(t,e){if(An&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Ra(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ra(t[r]));return e}function Oi(t,e){for(var r="";r.length<e;)r+=t;return r}function Xg(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var OMe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Iy(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&OMe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Br(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return An?n=yd(r):n=eMe(r),Fn.utils.cfb_add(t,e,n)}Fn.utils.cfb_add(t,e,r)}else t.file(e,r)}function kU(){return Fn.utils.cfb_new()}var hs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,jMe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},DU=PU(jMe),FU=/[&<>'"]/g,PMe=/[\u0000-\u0008\u000b-\u001f]/g;function On(t){var e=t+"";return e.replace(FU,function(r){return DU[r]}).replace(PMe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function eK(t){return On(t).replace(/ /g,"_x0020_")}var Pbe=/[\u0000-\u001f]/g;function kMe(t){var e=t+"";return e.replace(FU,function(r){return DU[r]}).replace(/\n/g,"<br/>").replace(Pbe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function DMe(t){var e=t+"";return e.replace(FU,function(r){return DU[r]}).replace(Pbe,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function FMe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function LMe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function CT(t){for(var e="",r=0,n=0,i=0,s=0,o=0,a=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(r++),a=((n&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function tK(t){var e=UA(2*t.length),r,n,i=1,s=0,o=0,a;for(n=0;n<t.length;n+=i)i=1,(a=t.charCodeAt(n))<128?r=a:a<224?(r=(a&31)*64+(t.charCodeAt(n+1)&63),i=2):a<240?(r=(a&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(a&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function rK(t){return yd(t,"binary").toString("utf8")}var db="foo bar baz",Mv=An&&(rK(db)==CT(db)&&rK||tK(db)==CT(db)&&tK)||CT,py=An?function(t){return yd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},MMe=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),kbe=/(^\s|\s$|\n)/;function vo(t,e){return"<"+t+(e.match(kbe)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function my(t){return wo(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Et(t,e,r){return"<"+t+(r!=null?my(r):"")+(e!=null?(e.match(kbe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function yz(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function BMe(t,e){switch(typeof t){case"string":var r=Et("vt:lpwstr",On(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Et((t|0)==t?"vt:i4":"vt:r8",On(String(t)));case"boolean":return Et("vt:bool",t?"true":"false")}if(t instanceof Date)return Et("vt:filetime",yz(t));throw new Error("Unable to serialize "+t)}var Us={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},gm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ol={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $Me(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function qMe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=n?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)t[r+a]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var nK=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},iK=An?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:yd(e)})):nK(t)}:nK,sK=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(dv(t,i)));return n.join("").replace(Lv,"")},LU=An?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Lv,""):sK(t,e,r)}:sK,oK=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},Dbe=An?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):oK(t,e,r)}:oK,aK=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(DI(t,i)));return n.join("")},v1=An?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):aK(e,r,n)}:aK,Fbe=function(t,e){var r=al(t,e);return r>0?v1(t,e+4,e+4+r-1):""},Lbe=Fbe,Mbe=function(t,e){var r=al(t,e);return r>0?v1(t,e+4,e+4+r-1):""},Bbe=Mbe,$be=function(t,e){var r=2*al(t,e);return r>0?v1(t,e+4,e+4+r-1):""},qbe=$be,zbe=function(e,r){var n=al(e,r);return n>0?LU(e,r+4,r+4+n):""},Ube=zbe,Wbe=function(t,e){var r=al(t,e);return r>0?v1(t,e+4,e+4+r):""},Gbe=Wbe,Vbe=function(t,e){return $Me(t,e)},a2=Vbe,MU=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};An&&(Lbe=function(e,r){if(!Buffer.isBuffer(e))return Fbe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Bbe=function(e,r){if(!Buffer.isBuffer(e))return Mbe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},qbe=function(e,r){if(!Buffer.isBuffer(e))return $be(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},Ube=function(e,r){if(!Buffer.isBuffer(e))return zbe(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},Gbe=function(e,r){if(!Buffer.isBuffer(e))return Wbe(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},a2=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):Vbe(e,r)},MU=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var DI=function(t,e){return t[e]},dv=function(t,e){return t[e+1]*256+t[e]},zMe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},al=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Qf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},UMe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Bv(t,e){var r="",n,i,s=[],o,a,l,u;switch(e){case"dbcs":if(u=this.l,An&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(dv(this,u)),u+=2;t*=2;break;case"utf8":r=v1(this,this.l,this.l+t);break;case"utf16le":t*=2,r=LU(this,this.l,this.l+t);break;case"wstr":return Bv.call(this,t,"dbcs");case"lpstr-ansi":r=Lbe(this,this.l),t=4+al(this,this.l);break;case"lpstr-cp":r=Bbe(this,this.l),t=4+al(this,this.l);break;case"lpwstr":r=qbe(this,this.l),t=4+2*al(this,this.l);break;case"lpp4":t=4+al(this,this.l),r=Ube(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+al(this,this.l),r=Gbe(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=DI(this,this.l+t++))!==0;)s.push(cb(o));r=s.join("");break;case"_wstr":for(t=0,r="";(o=dv(this,this.l+t))!==0;)s.push(cb(o)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=DI(this,u),this.l=u+1,a=Bv.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(cb(dv(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=DI(this,u),this.l=u+1,a=Bv.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(cb(DI(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=DI(this,this.l),this.l++,n;case 2:return n=(e==="i"?zMe:dv)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Qf:UMe)(this,this.l),this.l+=4,n):(i=al(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=a2(this,this.l):i=a2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=Dbe(this,this.l,t);break}}return this.l+=t,r}var WMe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},GMe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},VMe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function HMe(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)VMe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,WMe(this,e,this.l);break;case 8:if(n=8,r==="f"){qMe(this,e,this.l);break}case 16:break;case-4:n=4,GMe(this,e,this.l);break}return this.l+=n,this}function Hbe(t,e){var r=Dbe(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function il(t,e){t.l=e,t.read_shift=Bv,t.chk=Hbe,t.write_shift=HMe}function Vu(t,e){t.l+=e}function Je(t){var e=UA(t);return il(e,0),e}function wa(){var t=[],e=An?256:2048,r=function(u){var g=Je(u);return il(g,0),g},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},o=function(){return i(),mo(t)},a=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:a,end:o,_bufs:t}}function ct(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=$ze[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=t.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&MU(r)&&t.push(r)}}function $v(t,e,r){var n=Ra(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function lK(t,e,r){var n=Ra(t);return n.s=$v(n.s,e.s,r),n.e=$v(n.e,e.s,r),n}function qv(t,e){if(t.cRel&&t.c<0)for(t=Ra(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ra(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Pn(t);return!t.cRel&&t.cRel!=null&&(r=ZMe(r)),!t.rRel&&t.rRel!=null&&(r=KMe(r)),r}function IT(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Lo(t.s.c)+":"+(t.e.cRel?"":"$")+Lo(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+bo(t.s.r)+":"+(t.e.rRel?"":"$")+bo(t.e.r):qv(t.s,e.biff)+":"+qv(t.e,e.biff)}function BU(t){return parseInt(YMe(t),10)-1}function bo(t){return""+(t+1)}function KMe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function YMe(t){return t.replace(/\$(\d+)$/,"$1")}function $U(t){for(var e=XMe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Lo(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function ZMe(t){return t.replace(/^([A-Z])/,"$$$1")}function XMe(t){return t.replace(/^\$([A-Z])/,"$1")}function QMe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hs(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Pn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Il(t){var e=t.indexOf(":");return e==-1?{s:Hs(t),e:Hs(t)}:{s:Hs(t.slice(0,e)),e:Hs(t.slice(e+1))}}function us(t,e){return typeof e>"u"||typeof e=="number"?us(t.s,t.e):(typeof t!="string"&&(t=Pn(t)),typeof e!="string"&&(e=Pn(e)),t==e?t:t+":"+e)}function gi(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function cK(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Zh(t.z,r?Ta(e):e)}catch{}try{return t.w=Zh((t.XF||{}).numFmtId||(r?14:0),r?Ta(e):e)}catch{return""+e}}function gd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?y1[t.v]||t.v:e==null?cK(t,t.v):cK(t,e))}function pC(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Kbe(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),o=0,a=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Hs(n.origin):n.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var g=gi(s["!ref"]);u.s.c=g.s.c,u.s.r=g.s.r,u.e.c=Math.max(u.e.c,g.e.c),u.e.r=Math.max(u.e.r,g.e.r),o==-1&&(u.e.r=o=g.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[d].length;++f)if(!(typeof e[d][f]>"u")){var h={v:e[d][f]},A=o+d,C=a+f;if(u.s.r>A&&(u.s.r=A),u.s.c>C&&(u.s.c=C),u.e.r<A&&(u.e.r=A),u.e.c<C&&(u.e.c=C),e[d][f]&&typeof e[d][f]=="object"&&!Array.isArray(e[d][f])&&!(e[d][f]instanceof Date))h=e[d][f];else if(Array.isArray(h.v)&&(h.f=e[d][f][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Li[14],n.cellDates?(h.t="d",h.w=Zh(h.z,Ta(h.v))):(h.t="n",h.v=Ta(h.v),h.w=Zh(h.z,h.v))):h.t="s";if(i)s[A]||(s[A]=[]),s[A][C]&&s[A][C].z&&(h.z=s[A][C].z),s[A][C]=h;else{var I=Pn({c:C,r:A});s[I]&&s[I].z&&(h.z=s[I].z),s[I]=h}}}return u.s.c<1e7&&(s["!ref"]=us(u)),s}function dm(t,e){return Kbe(null,t,e)}function JMe(t){return t.read_shift(4,"i")}function Mc(t,e){return e||(e=Je(4)),e.write_shift(4,t),e}function Mo(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ks(t,e){var r=!1;return e==null&&(r=!0,e=Je(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function e6e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function t6e(t,e){return e||(e=Je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function qU(t,e){var r=t.l,n=t.read_shift(1),i=Mo(t),s=[],o={t:i,h:i};if(n&1){for(var a=t.read_shift(4),l=0;l!=a;++l)s.push(e6e(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function r6e(t,e){var r=!1;return e==null&&(r=!0,e=Je(15+4*t.t.length)),e.write_shift(1,0),Ks(t.t,e),r?e.slice(0,e.l):e}var n6e=qU;function i6e(t,e){var r=!1;return e==null&&(r=!0,e=Je(23+4*t.t.length)),e.write_shift(1,1),Ks(t.t,e),e.write_shift(4,1),t6e({},e),r?e.slice(0,e.l):e}function tc(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function mC(t,e){return e==null&&(e=Je(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function vC(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function yC(t,e){return e==null&&(e=Je(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var s6e=Mo,Ybe=Ks;function zU(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function l2(t,e){var r=!1;return e==null&&(r=!0,e=Je(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var o6e=Mo,xz=zU,UU=l2;function Zbe(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?a2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Qf(e,0)>>2;return r?i/100:i}function Xbe(t,e){e==null&&(e=Je(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Qbe(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function a6e(t,e){return e||(e=Je(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var xC=Qbe,hm=a6e;function fm(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function WA(t,e){return(e||Je(8)).write_shift(8,t,"f")}function l6e(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),a=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=I6e[i];u&&(e.rgb=vK(u));break;case 2:e.rgb=vK([o,a,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function c2(t,e){if(e||(e=Je(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function c6e(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function u6e(t,e){e||(e=Je(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var Jbe=2,rl=3,hb=11,u2=19,fb=64,g6e=65,d6e=71,h6e=4108,f6e=4126,go=80,uK={1:{n:"CodePage",t:Jbe},2:{n:"Category",t:go},3:{n:"PresentationFormat",t:go},4:{n:"ByteCount",t:rl},5:{n:"LineCount",t:rl},6:{n:"ParagraphCount",t:rl},7:{n:"SlideCount",t:rl},8:{n:"NoteCount",t:rl},9:{n:"HiddenCount",t:rl},10:{n:"MultimediaClipCount",t:rl},11:{n:"ScaleCrop",t:hb},12:{n:"HeadingPairs",t:h6e},13:{n:"TitlesOfParts",t:f6e},14:{n:"Manager",t:go},15:{n:"Company",t:go},16:{n:"LinksUpToDate",t:hb},17:{n:"CharacterCount",t:rl},19:{n:"SharedDoc",t:hb},22:{n:"HyperlinksChanged",t:hb},23:{n:"AppVersion",t:rl,p:"version"},24:{n:"DigSig",t:g6e},26:{n:"ContentType",t:go},27:{n:"ContentStatus",t:go},28:{n:"Language",t:go},29:{n:"Version",t:go},255:{},2147483648:{n:"Locale",t:u2},2147483651:{n:"Behavior",t:u2},1919054434:{}},gK={1:{n:"CodePage",t:Jbe},2:{n:"Title",t:go},3:{n:"Subject",t:go},4:{n:"Author",t:go},5:{n:"Keywords",t:go},6:{n:"Comments",t:go},7:{n:"Template",t:go},8:{n:"LastAuthor",t:go},9:{n:"RevNumber",t:go},10:{n:"EditTime",t:fb},11:{n:"LastPrinted",t:fb},12:{n:"CreatedDate",t:fb},13:{n:"ModifiedDate",t:fb},14:{n:"PageCount",t:rl},15:{n:"WordCount",t:rl},16:{n:"CharCount",t:rl},17:{n:"Thumbnail",t:d6e},18:{n:"Application",t:go},19:{n:"DocSecurity",t:rl},255:{},2147483648:{n:"Locale",t:u2},2147483651:{n:"Behavior",t:u2},1919054434:{}};function A6e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var C6e=A6e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),I6e=Ra(C6e),y1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},p6e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ab={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ewe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function twe(t,e){var r=TMe(p6e),n=[],i;n[n.length]=hs,n[n.length]=Et("Types",null,{xmlns:Us.CT,"xmlns:xsd":Us.xsd,"xmlns:xsi":Us.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Et("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=Et("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ab[l][e.bookType]||Ab[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=Et("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ab[l][e.bookType]||Ab[l].xlsx})})},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=Et("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var un={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function rwe(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ip(t){var e=[hs,Et("Relationships",null,{xmlns:Us.RELS})];return wo(t["!id"]).forEach(function(r){e[e.length]=Et("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Rn(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[un.HLINK,un.XPATH,un.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function m6e(t){var e=[hs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function dK(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function v6e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function y6e(t){var e=[hs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(dK(t[r][0],t[r][1])),e.push(v6e("",t[r][0]));return e.push(dK("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function nwe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+t2.version+"</meta:generator></office:meta></office:document-meta>"}var SA=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function pT(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=On(e),n[n.length]=r?Et(t,e,r):vo(t,e))}function iwe(t,e){var r=e||{},n=[hs,Et("cp:coreProperties",null,{"xmlns:cp":Us.CORE_PROPS,"xmlns:dc":Us.dc,"xmlns:dcterms":Us.dcterms,"xmlns:dcmitype":Us.dcmitype,"xmlns:xsi":Us.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&pT("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:yz(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&pT("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:yz(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=SA.length;++s){var o=SA[s],a=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&pT(o[0],a,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var sp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],swe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function owe(t){var e=[],r=Et;return t||(t={}),t.Application="SheetJS",e[e.length]=hs,e[e.length]=Et("Properties",null,{xmlns:Us.EXT_PROPS,"xmlns:vt":Us.vt}),sp.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=On(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+On(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function awe(t){var e=[hs,Et("Properties",null,{xmlns:Us.CUST_PROPS,"xmlns:vt":Us.vt})];if(!t)return e.join("");var r=1;return wo(t).forEach(function(i){++r,e[e.length]=Et("property",BMe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:On(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var hK={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function x6e(t,e){var r=[];return wo(hK).map(function(n){for(var i=0;i<SA.length;++i)if(SA[i][1]==n)return SA[i];for(i=0;i<sp.length;++i)if(sp[i][1]==n)return sp[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(vo(hK[n[1]]||n[1],i))}}),Et("DocumentProperties",r.join(""),{xmlns:ol.o})}function b6e(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&wo(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var o=0;o<SA.length;++o)if(s==SA[o][1])return;for(o=0;o<sp.length;++o)if(s==sp[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var a=t[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(Et(eK(s),a,{"dt:dt":l}))}}),e&&wo(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Et(eK(s),o,{"dt:dt":a}))}}),"<"+n+' xmlns="'+ol.o+'">'+i.join("")+"</"+n+">"}function w6e(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var o=Je(8);return o.write_shift(4,n),o.write_shift(4,i),o}function fK(t,e){var r=Je(4),n=Je(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Je(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=w6e(e);break;case 31:case 80:for(n=Je(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return mo([r,n])}var lwe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function S6e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function AK(t,e,r){var n=Je(8),i=[],s=[],o=8,a=0,l=Je(8),u=Je(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),o+=8+l.length,!e){u=Je(8),u.write_shift(4,0),i.unshift(u);var g=[Je(4)];for(g[0].write_shift(4,t.length),a=0;a<t.length;++a){var d=t[a][0];for(l=Je(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);g.push(l)}l=mo(g),s.unshift(l),o+=8+l.length}for(a=0;a<t.length;++a)if(!(e&&!e[t[a][0]])&&!(lwe.indexOf(t[a][0])>-1||swe.indexOf(t[a][0])>-1)&&t[a][1]!=null){var f=t[a][1],h=0;if(e){h=+e[t[a][0]];var A=r[h];if(A.p=="version"&&typeof f=="string"){var C=f.split(".");f=(+C[0]<<16)+(+C[1]||0)}l=fK(A.t,f)}else{var I=S6e(f);I==-1&&(I=31,f=String(f)),l=fK(I,f)}s.push(l),u=Je(8),u.write_shift(4,e?h:2+a),i.push(u),o+=8+l.length}var p=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,p),p+=s[a].length;return n.write_shift(4,o),n.write_shift(4,s.length),mo([n].concat(i).concat(s))}function CK(t,e,r,n,i,s){var o=Je(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Fn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=AK(t,r,n);if(a.push(l),i){var u=AK(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(u)}return mo(a)}function E6e(t,e){e||(e=Je(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function _6e(t,e){return t.read_shift(e)===1}function Jo(t,e){return e||(e=Je(2)),e.write_shift(2,+!!t),e}function cwe(t){return t.read_shift(2,"u")}function Ml(t,e){return e||(e=Je(2)),e.write_shift(2,t),e}function uwe(t,e,r){return r||(r=Je(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function gwe(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?t.read_shift(n,i):"";return o}function T6e(t){var e=t.t||"",r=Je(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Je(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return mo(i)}function R6e(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function N6e(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):R6e(t,n,r)}function O6e(t,e,r){if(r.biff>5)return N6e(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function dwe(t,e,r){return r||(r=Je(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function IK(t,e){e||(e=Je(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function j6e(t){var e=Je(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(s==28)n=n.slice(1),IK(n,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var a=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(a.length+1)),r=0;r<a.length;++r)e.write_shift(2,a.charCodeAt(r));e.write_shift(2,0),s&8&&IK(i>-1?n.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function GA(t,e,r,n){return n||(n=Je(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function P6e(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[i,s,o]}function k6e(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function hwe(t,e){return e||(e=Je(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function WU(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Je(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function D6e(t,e){var r=!e||e.biff==8,n=Je(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function F6e(t,e){var r=!e||e.biff>=8?2:1,n=Je(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function L6e(t,e){var r=Je(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=T6e(t[i]);var s=mo([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function M6e(){var t=Je(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function B6e(t){var e=Je(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function $6e(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Je(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function q6e(t,e,r,n){var i=Je(10);return GA(t,e,n,i),i.write_shift(4,r),i}function z6e(t,e,r,n,i){var s=!i||i.biff==8,o=Je(8+ +s+(1+s)*r.length);return GA(t,e,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function U6e(t,e,r,n){var i=r&&r.biff==5;n||(n=Je(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function W6e(t,e){var r=e.biff==8||!e.biff?4:2,n=Je(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function pK(t,e,r,n){var i=r&&r.biff==5;n||(n=Je(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function G6e(t){var e=Je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function V6e(t,e,r,n,i,s){var o=Je(8);return GA(t,e,n,o),uwe(r,s,o),o}function H6e(t,e,r,n){var i=Je(14);return GA(t,e,n,i),WA(r,i),i}function K6e(t,e,r){if(r.biff<8)return Y6e(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(P6e(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function Y6e(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=gwe(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Z6e(t){var e=Je(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)hwe(t[r],e);return e}function X6e(t){var e=Je(24),r=Hs(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return mo([e,j6e(t[1])])}function Q6e(t){var e=t[1].Tooltip,r=Je(10+2*(e.length+1));r.write_shift(2,2048);var n=Hs(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function J6e(t){return t||(t=Je(4)),t.write_shift(2,1),t.write_shift(2,1),t}function eBe(t,e,r){if(!r.cellStyles)return Vu(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),a=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:o,ixfe:a,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function tBe(t,e){var r=Je(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function rBe(t){for(var e=Je(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function nBe(t,e,r){var n=Je(15);return b1(n,t,e),n.write_shift(8,r,"f"),n}function iBe(t,e,r){var n=Je(9);return b1(n,t,e),n.write_shift(2,r),n}var sBe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=PU({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(a,l){var u=[],g=UA(1);switch(l.type){case"base64":g=Rc(ud(a));break;case"binary":g=Rc(a);break;case"buffer":case"array":g=a;break}il(g,0);var d=g.read_shift(1),f=!!(d&136),h=!1,A=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,f=!0;break;case 49:h=!0,f=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var C=0,I=521;d==2&&(C=g.read_shift(2)),g.l+=3,d!=2&&(C=g.read_shift(4)),C>1048576&&(C=1e6),d!=2&&(I=g.read_shift(2));var p=g.read_shift(2),m=l.codepage||1252;d!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(m=t[g[g.l]]),g.l+=1,g.l+=2),A&&(g.l+=36);for(var v=[],y={},x=Math.min(g.length,d==2?521:I-10-(h?264:0)),T=A?32:11;g.l<x&&g[g.l]!=13;)switch(y={},y.name=r2.utils.decode(m,g.slice(g.l,g.l+T)).replace(/[\u0000\r\n].*$/g,""),g.l+=T,y.type=String.fromCharCode(g.read_shift(1)),d!=2&&!A&&(y.offset=g.read_shift(4)),y.len=g.read_shift(1),d==2&&(y.offset=g.read_shift(2)),y.dec=g.read_shift(1),y.name.length&&v.push(y),d!=2&&(g.l+=A?13:14),y.type){case"B":(!h||y.len!=8)&&l.WTF&&console.log("Skipping "+y.name+":"+y.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+y.name+":"+y.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+y.type)}if(g[g.l]!==13&&(g.l=I-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=I;var E=0,_=0;for(u[0]=[],_=0;_!=v.length;++_)u[0][_]=v[_].name;for(;C-- >0;){if(g[g.l]===42){g.l+=p;continue}for(++g.l,u[++E]=[],_=0,_=0;_!=v.length;++_){var S=g.slice(g.l,g.l+v[_].len);g.l+=v[_].len,il(S,0);var j=r2.utils.decode(m,S);switch(v[_].type){case"C":j.trim().length&&(u[E][_]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[E][_]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[E][_]=j;break;case"F":u[E][_]=parseFloat(j.trim());break;case"+":case"I":u[E][_]=A?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[E][_]=!0;break;case"N":case"F":u[E][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[E][_]="##MEMO##"+(A?parseInt(j.trim(),10):S.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[E][_]=+j||0);break;case"@":u[E][_]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":u[E][_]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":u[E][_]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][_]=-S.read_shift(-8,"f");break;case"B":if(h&&v[_].len==8){u[E][_]=S.read_shift(8,"f");break}case"G":case"P":S.l+=v[_].len;break;case"0":if(v[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[_].type)}}}if(d!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=v,u}function n(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var g=dm(r(a,u),u);return g["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,g}function i(a,l){try{return pC(n(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&Ay(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var g=wa(),d=A2(a,{header:1,raw:!0,cellDates:!0}),f=d[0],h=d.slice(1),A=a["!cols"]||[],C=0,I=0,p=0,m=1;for(C=0;C<f.length;++C){if(((A[C]||{}).DBF||{}).name){f[C]=A[C].DBF.name,++p;continue}if(f[C]!=null){if(++p,typeof f[C]=="number"&&(f[C]=f[C].toString(10)),typeof f[C]!="string")throw new Error("DBF Invalid column name "+f[C]+" |"+typeof f[C]+"|");if(f.indexOf(f[C])!==C){for(I=0;I<1024;++I)if(f.indexOf(f[C]+"_"+I)==-1){f[C]+="_"+I;break}}}}var v=gi(a["!ref"]),y=[],x=[],T=[];for(C=0;C<=v.e.c-v.s.c;++C){var E="",_="",S=0,j=[];for(I=0;I<h.length;++I)h[I][C]!=null&&j.push(h[I][C]);if(j.length==0||f[C]==null){y[C]="?";continue}for(I=0;I<j.length;++I){switch(typeof j[I]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=j[I]instanceof Date?"D":"C";break;default:_="C"}S=Math.max(S,String(j[I]).length),E=E&&E!=_?"C":_}S>250&&(S=250),_=((A[C]||{}).DBF||{}).type,_=="C"&&A[C].DBF.len>S&&(S=A[C].DBF.len),E=="B"&&_=="N"&&(E="N",T[C]=A[C].DBF.dec,S=A[C].DBF.len),x[C]=E=="C"||_=="N"?S:s[E]||0,m+=x[C],y[C]=E}var w=g.next(32);for(w.write_shift(4,318902576),w.write_shift(4,h.length),w.write_shift(2,296+32*p),w.write_shift(2,m),C=0;C<4;++C)w.write_shift(4,0);for(w.write_shift(4,0|(+e[Abe]||3)<<8),C=0,I=0;C<f.length;++C)if(f[C]!=null){var R=g.next(32),N=(f[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,N,"sbcs"),R.write_shift(1,y[C]=="?"?"C":y[C],"sbcs"),R.write_shift(4,I),R.write_shift(1,x[C]||s[y[C]]||0),R.write_shift(1,T[C]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),I+=x[C]||s[y[C]]||0}var P=g.next(264);for(P.write_shift(4,13),C=0;C<65;++C)P.write_shift(4,0);for(C=0;C<h.length;++C){var M=g.next(m);for(M.write_shift(1,0),I=0;I<f.length;++I)if(f[I]!=null)switch(y[I]){case"L":M.write_shift(1,h[C][I]==null?63:h[C][I]?84:70);break;case"B":M.write_shift(8,h[C][I]||0,"f");break;case"N":var B="0";for(typeof h[C][I]=="number"&&(B=h[C][I].toFixed(T[I]||0)),p=0;p<x[I]-B.length;++p)M.write_shift(1,32);M.write_shift(1,B,"sbcs");break;case"D":h[C][I]?(M.write_shift(4,("0000"+h[C][I].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(h[C][I].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+h[C][I].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var W=String(h[C][I]!=null?h[C][I]:"").slice(0,x[I]);for(M.write_shift(1,W,"sbcs"),p=0;p<x[I]-W.length;++p)M.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),oBe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+wo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,h){var A=t[h];return typeof A=="number"?zH(A):A},n=function(f,h,A){var C=h.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return C==59?f:zH(C)};t["|"]=254;function i(f,h){switch(h.type){case"base64":return s(ud(f),h);case"binary":return s(f,h);case"buffer":return s(An&&Buffer.isBuffer(f)?f.toString("binary"):p1(f),h);case"array":return s(BS(f),h)}throw new Error("Unrecognized type "+h.type)}function s(f,h){var A=f.split(/[\n\r]+/),C=-1,I=-1,p=0,m=0,v=[],y=[],x=null,T={},E=[],_=[],S=[],j=0,w;for(+h.codepage>=0&&Ay(+h.codepage);p!==A.length;++p){j=0;var R=A[p].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),N=R.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),P=N[0],M;if(R.length>0)switch(P){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&y.push(R.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,W=!1,H=!1,V=!1,K=-1,Y=-1;for(m=1;m<N.length;++m)switch(N[m].charAt(0)){case"A":break;case"X":I=parseInt(N[m].slice(1))-1,W=!0;break;case"Y":for(C=parseInt(N[m].slice(1))-1,W||(I=0),w=v.length;w<=C;++w)v[w]=[];break;case"K":M=N[m].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(Xg(M))?isNaN(Iy(M).getDate())||(M=oa(M)):(M=Xg(M),x!==null&&_be(x)&&(M=Obe(M))),B=!0;break;case"E":V=!0;var k=i8e(N[m].slice(1),{r:C,c:I});v[C][I]=[v[C][I],k];break;case"S":H=!0,v[C][I]=[v[C][I],"S5S"];break;case"G":break;case"R":K=parseInt(N[m].slice(1))-1;break;case"C":Y=parseInt(N[m].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}if(B&&(v[C][I]&&v[C][I].length==2?v[C][I][0]=M:v[C][I]=M,x=null),H){if(V)throw new Error("SYLK shared formula cannot have own formula");var q=K>-1&&v[K][Y];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");v[C][I][1]=s8e(q[1],{r:C-K,c:I-Y})}break;case"F":var z=0;for(m=1;m<N.length;++m)switch(N[m].charAt(0)){case"X":I=parseInt(N[m].slice(1))-1,++z;break;case"Y":for(C=parseInt(N[m].slice(1))-1,w=v.length;w<=C;++w)v[w]=[];break;case"M":j=parseInt(N[m].slice(1))/20;break;case"F":break;case"G":break;case"P":x=y[parseInt(N[m].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=N[m].slice(1).split(" "),w=parseInt(S[0],10);w<=parseInt(S[1],10);++w)j=parseInt(S[2],10),_[w-1]=j===0?{hidden:!0}:{wch:j},GU(_[w-1]);break;case"C":I=parseInt(N[m].slice(1))-1,_[I]||(_[I]={});break;case"R":C=parseInt(N[m].slice(1))-1,E[C]||(E[C]={}),j>0?(E[C].hpt=j,E[C].hpx=pwe(j)):j===0&&(E[C].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}z<1&&(x=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}}return E.length>0&&(T["!rows"]=E),_.length>0&&(T["!cols"]=_),h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),[v,T]}function o(f,h){var A=i(f,h),C=A[0],I=A[1],p=dm(C,h);return wo(I).forEach(function(m){p[m]=I[m]}),p}function a(f,h){return pC(o(f,h),h)}function l(f,h,A,C){var I="C;Y"+(A+1)+";X"+(C+1)+";K";switch(f.t){case"n":I+=f.v||0,f.f&&!f.F&&(I+=";E"+HU(f.f,{r:A,c:C}));break;case"b":I+=f.v?"TRUE":"FALSE";break;case"e":I+=f.w||f.v;break;case"d":I+='"'+(f.w||f.v)+'"';break;case"s":I+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function u(f,h){h.forEach(function(A,C){var I="F;W"+(C+1)+" "+(C+1)+" ";A.hidden?I+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=g2(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=d2(A.wpx)),typeof A.wch=="number"&&(I+=Math.round(A.wch))),I.charAt(I.length-1)!=" "&&f.push(I)})}function g(f,h){h.forEach(function(A,C){var I="F;";A.hidden?I+="M0;":A.hpt?I+="M"+20*A.hpt+";":A.hpx&&(I+="M"+20*h2(A.hpx)+";"),I.length>2&&f.push(I+"R"+(C+1))})}function d(f,h){var A=["ID;PWXL;N;E"],C=[],I=gi(f["!ref"]),p,m=Array.isArray(f),v=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),f["!cols"]&&u(A,f["!cols"]),f["!rows"]&&g(A,f["!rows"]),A.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var y=I.s.r;y<=I.e.r;++y)for(var x=I.s.c;x<=I.e.c;++x){var T=Pn({r:y,c:x});p=m?(f[y]||[])[x]:f[T],!(!p||p.v==null&&(!p.f||p.F))&&C.push(l(p,f,y,x))}return A.join(v)+v+C.join(v)+v+"E"+v}return{to_workbook:a,to_sheet:o,from_sheet:d}}(),aBe=function(){function t(s,o){switch(o.type){case"base64":return e(ud(s),o);case"binary":return e(s,o);case"buffer":return e(An&&Buffer.isBuffer(s)?s.toString("binary"):p1(s),o);case"array":return e(BS(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,u=-1,g=0,d=[];g!==a.length;++g){if(a[g].trim()==="BOT"){d[++l]=[],u=0;continue}if(!(l<0)){var f=a[g].trim().split(","),h=f[0],A=f[1];++g;for(var C=a[g]||"";(C.match(/["]/g)||[]).length&1&&g<a.length-1;)C+=`
`+a[++g];switch(C=C.trim(),+h){case-1:if(C==="BOT"){d[++l]=[],u=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?d[l][u]=!0:C==="FALSE"?d[l][u]=!1:isNaN(Xg(A))?isNaN(Iy(A).getDate())?d[l][u]=A:d[l][u]=oa(A):d[l][u]=Xg(A),++u;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),d[l][u++]=C!==""?C:null;break}if(C==="EOD")break}}return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function r(s,o){return dm(t(s,o),o)}function n(s,o){return pC(r(s,o),o)}var i=function(){var s=function(l,u,g,d,f){l.push(u),l.push(g+","+d),l.push('"'+f.replace(/"/g,'""')+'"')},o=function(l,u,g,d){l.push(u+","+g),l.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var u=[],g=gi(l["!ref"]),d,f=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,g.e.r-g.s.r+1,""),s(u,"TUPLES",0,g.e.c-g.s.c+1,""),s(u,"DATA",0,0,"");for(var h=g.s.r;h<=g.e.r;++h){o(u,-1,0,"BOT");for(var A=g.s.c;A<=g.e.c;++A){var C=Pn({r:h,c:A});if(d=f?(l[h]||[])[A]:l[C],!d){o(u,1,0,"");continue}switch(d.t){case"n":var I=d.w;!I&&d.v!=null&&(I=d.v),I==null?d.f&&!d.F?o(u,1,0,"="+d.f):o(u,1,0,""):o(u,0,I,"V");break;case"b":o(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Zh(d.z||Li[14],Ta(oa(d.v)))),o(u,0,d.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var p=`\r
`,m=u.join(p);return m}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),fwe=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,f){for(var h=d.split(`
`),A=-1,C=-1,I=0,p=[];I!==h.length;++I){var m=h[I].trim().split(":");if(m[0]==="cell"){var v=Hs(m[1]);if(p.length<=v.r)for(A=p.length;A<=v.r;++A)p[A]||(p[A]=[]);switch(A=v.r,C=v.c,m[2]){case"t":p[A][C]=t(m[3]);break;case"v":p[A][C]=+m[3];break;case"vtf":var y=m[m.length-1];case"vtc":switch(m[3]){case"nl":p[A][C]=!!+m[4];break;default:p[A][C]=+m[4];break}m[2]=="vtf"&&(p[A][C]=[p[A][C],y])}}}return f&&f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}function n(d,f){return dm(r(d,f),f)}function i(d,f){return pC(n(d,f),f)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var f=[],h=[],A,C="",I=Il(d["!ref"]),p=Array.isArray(d),m=I.s.r;m<=I.e.r;++m)for(var v=I.s.c;v<=I.e.c;++v)if(C=Pn({r:m,c:v}),A=p?(d[m]||[])[v]:d[C],!(!A||A.v==null||A.t==="z")){switch(h=["cell",C,"t"],A.t){case"s":case"str":h.push(e(A.v));break;case"n":A.f?(h[2]="vtf",h[3]="n",h[4]=A.v,h[5]=e(A.f)):(h[2]="v",h[3]=A.v);break;case"b":h[2]="vt"+(A.f?"f":"c"),h[3]="nl",h[4]=A.v?"1":"0",h[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var y=Ta(oa(A.v));h[2]="vtc",h[3]="nd",h[4]=""+y,h[5]=A.w||Zh(A.z||Li[14],y);break;case"e":continue}f.push(h.join(":"))}return f.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function g(d){return[s,o,a,o,u(d),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:g}}(),lBe=function(){function t(g,d,f,h,A){A.raw?d[f][h]=g:g===""||(g==="TRUE"?d[f][h]=!0:g==="FALSE"?d[f][h]=!1:isNaN(Xg(g))?isNaN(Iy(g).getDate())?d[f][h]=g:d[f][h]=oa(g):d[f][h]=Xg(g))}function e(g,d){var f=d||{},h=[];if(!g||g.length===0)return h;for(var A=g.split(/[\r\n]/),C=A.length-1;C>=0&&A[C].length===0;)--C;for(var I=10,p=0,m=0;m<=C;++m)p=A[m].indexOf(" "),p==-1?p=A[m].length:p++,I=Math.max(I,p);for(m=0;m<=C;++m){h[m]=[];var v=0;for(t(A[m].slice(0,I).trim(),h,m,v,f),v=1;v<=(A[m].length-I)/10+1;++v)t(A[m].slice(I+(v-1)*10,I+v*10).trim(),h,m,v,f)}return f.sheetRows&&(h=h.slice(0,f.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(g){for(var d={},f=!1,h=0,A=0;h<g.length;++h)(A=g.charCodeAt(h))==34?f=!f:!f&&A in r&&(d[A]=(d[A]||0)+1);A=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&A.push([d[h],h]);if(!A.length){d=n;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&A.push([d[h],h])}return A.sort(function(C,I){return C[0]-I[0]||n[C[1]]-n[I[1]]}),r[A.pop()[1]]||44}function s(g,d){var f=d||{},h="",A=f.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(h=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(h=g.charAt(4),g=g.slice(6)):h=i(g.slice(0,1024)):f&&f.FS?h=f.FS:h=i(g.slice(0,1024));var I=0,p=0,m=0,v=0,y=0,x=h.charCodeAt(0),T=!1,E=0,_=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var S=f.dateNF!=null?wMe(f.dateNF):null;function j(){var w=g.slice(v,y),R={};if(w.charAt(0)=='"'&&w.charAt(w.length-1)=='"'&&(w=w.slice(1,-1).replace(/""/g,'"')),w.length===0)R.t="z";else if(f.raw)R.t="s",R.v=w;else if(w.trim().length===0)R.t="s",R.v=w;else if(w.charCodeAt(0)==61)w.charCodeAt(1)==34&&w.charCodeAt(w.length-1)==34?(R.t="s",R.v=w.slice(2,-1).replace(/""/g,'"')):o8e(w)?(R.t="n",R.f=w.slice(1)):(R.t="s",R.v=w);else if(w=="TRUE")R.t="b",R.v=!0;else if(w=="FALSE")R.t="b",R.v=!1;else if(!isNaN(m=Xg(w)))R.t="n",f.cellText!==!1&&(R.w=w),R.v=m;else if(!isNaN(Iy(w).getDate())||S&&w.match(S)){R.z=f.dateNF||Li[14];var N=0;S&&w.match(S)&&(w=SMe(w,f.dateNF,w.match(S)||[]),N=1),f.cellDates?(R.t="d",R.v=oa(w,N)):(R.t="n",R.v=Ta(oa(w,N))),f.cellText!==!1&&(R.w=Zh(R.z,R.v instanceof Date?Ta(R.v):R.v)),f.cellNF||delete R.z}else R.t="s",R.v=w;if(R.t=="z"||(f.dense?(A[I]||(A[I]=[]),A[I][p]=R):A[Pn({c:p,r:I})]=R),v=y+1,_=g.charCodeAt(v),C.e.c<p&&(C.e.c=p),C.e.r<I&&(C.e.r=I),E==x)++p;else if(p=0,++I,f.sheetRows&&f.sheetRows<=I)return!0}e:for(;y<g.length;++y)switch(E=g.charCodeAt(y)){case 34:_===34&&(T=!T);break;case x:case 10:case 13:if(!T&&j())break e;break}return y-v>0&&j(),A["!ref"]=us(C),A}function o(g,d){return!(d&&d.PRN)||d.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?s(g,d):dm(e(g,d),d)}function a(g,d){var f="",h=d.type=="string"?[0,0,0,0]:v7e(g,d);switch(d.type){case"base64":f=ud(g);break;case"binary":f=g;break;case"buffer":d.codepage==65001?f=g.toString("utf8"):d.codepage&&typeof r2<"u"||(f=An&&Buffer.isBuffer(g)?g.toString("binary"):p1(g));break;case"array":f=BS(g);break;case"string":f=g;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?f=Mv(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=Mv(f):d.type=="binary"&&typeof r2<"u",f.slice(0,19)=="socialcalc:version:"?fwe.to_sheet(d.type=="string"?f:Mv(f),d):o(f,d)}function l(g,d){return pC(a(g,d),d)}function u(g){for(var d=[],f=gi(g["!ref"]),h,A=Array.isArray(g),C=f.s.r;C<=f.e.r;++C){for(var I=[],p=f.s.c;p<=f.e.c;++p){var m=Pn({r:C,c:p});if(h=A?(g[C]||[])[p]:g[m],!h||h.v==null){I.push("          ");continue}for(var v=(h.w||(gd(h),h.w)||"").slice(0,10);v.length<10;)v+=" ";I.push(v+(p===0?" ":""))}d.push(I.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),mK=function(){function t(k,q,z){if(k){il(k,k.l||0);for(var G=z.Enum||K;k.l<k.length;){var Z=k.read_shift(2),ue=G[Z]||G[65535],re=k.read_shift(2),ie=k.l+re,Ce=ue.f&&ue.f(k,re,z);if(k.l=ie,q(Ce,ue,Z))return}}}function e(k,q){switch(q.type){case"base64":return r(Rc(ud(k)),q);case"binary":return r(Rc(k),q);case"buffer":case"array":return r(k,q)}throw"Unsupported type "+q.type}function r(k,q){if(!k)return k;var z=q||{},G=z.dense?[]:{},Z="Sheet1",ue="",re=0,ie={},Ce=[],Pe=[],Fe={s:{r:0,c:0},e:{r:0,c:0}},He=z.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)z.Enum=K,t(k,function(Re,ke,Ye){switch(Ye){case 0:z.vers=Re,Re>=4096&&(z.qpro=!0);break;case 6:Fe=Re;break;case 204:Re&&(ue=Re);break;case 222:ue=Re;break;case 15:case 51:z.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=z.dateNF||Li[14],z.cellDates&&(Re[1].t="d",Re[1].v=Obe(Re[1].v))),z.qpro&&Re[3]>re&&(G["!ref"]=us(Fe),ie[Z]=G,Ce.push(Z),G=z.dense?[]:{},Fe={s:{r:0,c:0},e:{r:0,c:0}},re=Re[3],Z=ue||"Sheet"+(re+1),ue="");var xt=z.dense?(G[Re[0].r]||[])[Re[0].c]:G[Pn(Re[0])];if(xt){xt.t=Re[1].t,xt.v=Re[1].v,Re[1].z!=null&&(xt.z=Re[1].z),Re[1].f!=null&&(xt.f=Re[1].f);break}z.dense?(G[Re[0].r]||(G[Re[0].r]=[]),G[Re[0].r][Re[0].c]=Re[1]):G[Pn(Re[0])]=Re[1];break}},z);else if(k[2]==26||k[2]==14)z.Enum=Y,k[2]==14&&(z.qpro=!0,k.l=0),t(k,function(Re,ke,Ye){switch(Ye){case 204:Z=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>re&&(G["!ref"]=us(Fe),ie[Z]=G,Ce.push(Z),G=z.dense?[]:{},Fe={s:{r:0,c:0},e:{r:0,c:0}},re=Re[3],Z="Sheet"+(re+1)),He>0&&Re[0].r>=He)break;z.dense?(G[Re[0].r]||(G[Re[0].r]=[]),G[Re[0].r][Re[0].c]=Re[1]):G[Pn(Re[0])]=Re[1],Fe.e.c<Re[0].c&&(Fe.e.c=Re[0].c),Fe.e.r<Re[0].r&&(Fe.e.r=Re[0].r);break;case 27:Re[14e3]&&(Pe[Re[14e3][0]]=Re[14e3][1]);break;case 1537:Pe[Re[0]]=Re[1],Re[0]==re&&(Z=Re[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(G["!ref"]=us(Fe),ie[ue||Z]=G,Ce.push(ue||Z),!Pe.length)return{SheetNames:Ce,Sheets:ie};for(var Te={},se=[],Ct=0;Ct<Pe.length;++Ct)ie[Ce[Ct]]?(se.push(Pe[Ct]||Ce[Ct]),Te[Pe[Ct]]=ie[Pe[Ct]]||ie[Ce[Ct]]):(se.push(Pe[Ct]),Te[Pe[Ct]]={"!ref":"A1"});return{SheetNames:se,Sheets:Te}}function n(k,q){var z=q||{};if(+z.codepage>=0&&Ay(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var G=wa(),Z=gi(k["!ref"]),ue=Array.isArray(k),re=[];_t(G,0,s(1030)),_t(G,6,l(Z));for(var ie=Math.min(Z.e.r,8191),Ce=Z.s.r;Ce<=ie;++Ce)for(var Pe=bo(Ce),Fe=Z.s.c;Fe<=Z.e.c;++Fe){Ce===Z.s.r&&(re[Fe]=Lo(Fe));var He=re[Fe]+Pe,Te=ue?(k[Ce]||[])[Fe]:k[He];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?_t(G,13,h(Ce,Fe,Te.v)):_t(G,14,C(Ce,Fe,Te.v));else{var se=gd(Te);_t(G,15,d(Ce,Fe,se.slice(0,239)))}}return _t(G,1),G.end()}function i(k,q){var z=q||{};if(+z.codepage>=0&&Ay(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var G=wa();_t(G,0,o(k));for(var Z=0,ue=0;Z<k.SheetNames.length;++Z)(k.Sheets[k.SheetNames[Z]]||{})["!ref"]&&_t(G,27,V(k.SheetNames[Z],ue++));var re=0;for(Z=0;Z<k.SheetNames.length;++Z){var ie=k.Sheets[k.SheetNames[Z]];if(!(!ie||!ie["!ref"])){for(var Ce=gi(ie["!ref"]),Pe=Array.isArray(ie),Fe=[],He=Math.min(Ce.e.r,8191),Te=Ce.s.r;Te<=He;++Te)for(var se=bo(Te),Ct=Ce.s.c;Ct<=Ce.e.c;++Ct){Te===Ce.s.r&&(Fe[Ct]=Lo(Ct));var Re=Fe[Ct]+se,ke=Pe?(ie[Te]||[])[Ct]:ie[Re];if(!(!ke||ke.t=="z"))if(ke.t=="n")_t(G,23,j(Te,Ct,re,ke.v));else{var Ye=gd(ke);_t(G,22,E(Te,Ct,re,Ye.slice(0,239)))}}++re}}return _t(G,1),G.end()}function s(k){var q=Je(2);return q.write_shift(2,k),q}function o(k){var q=Je(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var z=0,G=0,Z=0,ue=0;ue<k.SheetNames.length;++ue){var re=k.SheetNames[ue],ie=k.Sheets[re];if(!(!ie||!ie["!ref"])){++Z;var Ce=Il(ie["!ref"]);z<Ce.e.r&&(z=Ce.e.r),G<Ce.e.c&&(G=Ce.e.c)}}return z>8191&&(z=8191),q.write_shift(2,z),q.write_shift(1,Z),q.write_shift(1,G),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function a(k,q,z){var G={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&z.qpro?(G.s.c=k.read_shift(1),k.l++,G.s.r=k.read_shift(2),G.e.c=k.read_shift(1),k.l++,G.e.r=k.read_shift(2),G):(G.s.c=k.read_shift(2),G.s.r=k.read_shift(2),q==12&&z.qpro&&(k.l+=2),G.e.c=k.read_shift(2),G.e.r=k.read_shift(2),q==12&&z.qpro&&(k.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(k){var q=Je(8);return q.write_shift(2,k.s.c),q.write_shift(2,k.s.r),q.write_shift(2,k.e.c),q.write_shift(2,k.e.r),q}function u(k,q,z){var G=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(G[0].c=k.read_shift(1),G[3]=k.read_shift(1),G[0].r=k.read_shift(2),k.l+=2):(G[2]=k.read_shift(1),G[0].c=k.read_shift(2),G[0].r=k.read_shift(2)),G}function g(k,q,z){var G=k.l+q,Z=u(k,q,z);if(Z[1].t="s",z.vers==20768){k.l++;var ue=k.read_shift(1);return Z[1].v=k.read_shift(ue,"utf8"),Z}return z.qpro&&k.l++,Z[1].v=k.read_shift(G-k.l,"cstr"),Z}function d(k,q,z){var G=Je(7+z.length);G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,k),G.write_shift(1,39);for(var Z=0;Z<G.length;++Z){var ue=z.charCodeAt(Z);G.write_shift(1,ue>=128?95:ue)}return G.write_shift(1,0),G}function f(k,q,z){var G=u(k,q,z);return G[1].v=k.read_shift(2,"i"),G}function h(k,q,z){var G=Je(7);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,k),G.write_shift(2,z,"i"),G}function A(k,q,z){var G=u(k,q,z);return G[1].v=k.read_shift(8,"f"),G}function C(k,q,z){var G=Je(13);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,k),G.write_shift(8,z,"f"),G}function I(k,q,z){var G=k.l+q,Z=u(k,q,z);if(Z[1].v=k.read_shift(8,"f"),z.qpro)k.l=G;else{var ue=k.read_shift(2);y(k.slice(k.l,k.l+ue),Z),k.l+=ue}return Z}function p(k,q,z){var G=q&32768;return q&=-32769,q=(G?k:0)+(q>=8192?q-16384:q),(G?"":"$")+(z?Lo(q):bo(q))}var m={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function y(k,q){il(k,0);for(var z=[],G=0,Z="",ue="",re="",ie="";k.l<k.length;){var Ce=k[k.l++];switch(Ce){case 0:z.push(k.read_shift(8,"f"));break;case 1:ue=p(q[0].c,k.read_shift(2),!0),Z=p(q[0].r,k.read_shift(2),!1),z.push(ue+Z);break;case 2:{var Pe=p(q[0].c,k.read_shift(2),!0),Fe=p(q[0].r,k.read_shift(2),!1);ue=p(q[0].c,k.read_shift(2),!0),Z=p(q[0].r,k.read_shift(2),!1),z.push(Pe+Fe+":"+ue+Z)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(k.read_shift(2));break;case 6:{for(var He="";Ce=k[k.l++];)He+=String.fromCharCode(Ce);z.push('"'+He.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ie=z.pop(),re=z.pop(),z.push(["AND","OR"][Ce-20]+"("+re+","+ie+")");break;default:if(Ce<32&&v[Ce])ie=z.pop(),re=z.pop(),z.push(re+v[Ce]+ie);else if(m[Ce]){if(G=m[Ce][1],G==69&&(G=k[k.l++]),G>z.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+z.join("|")+"|");return}var Te=z.slice(-G);z.length-=G,z.push(m[Ce][0]+"("+Te.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}z.length==1?q[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function x(k){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=k.read_shift(2),q[3]=k[k.l++],q[0].c=k[k.l++],q}function T(k,q){var z=x(k);return z[1].t="s",z[1].v=k.read_shift(q-4,"cstr"),z}function E(k,q,z,G){var Z=Je(6+G.length);Z.write_shift(2,k),Z.write_shift(1,z),Z.write_shift(1,q),Z.write_shift(1,39);for(var ue=0;ue<G.length;++ue){var re=G.charCodeAt(ue);Z.write_shift(1,re>=128?95:re)}return Z.write_shift(1,0),Z}function _(k,q){var z=x(k);z[1].v=k.read_shift(2);var G=z[1].v>>1;if(z[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return z[1].v=G,z}function S(k,q){var z=x(k),G=k.read_shift(4),Z=k.read_shift(4),ue=k.read_shift(2);if(ue==65535)return G===0&&Z===3221225472?(z[1].t="e",z[1].v=15):G===0&&Z===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var re=ue&32768;return ue=(ue&32767)-16446,z[1].v=(1-re*2)*(Z*Math.pow(2,ue+32)+G*Math.pow(2,ue)),z}function j(k,q,z,G){var Z=Je(14);if(Z.write_shift(2,k),Z.write_shift(1,z),Z.write_shift(1,q),G==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var ue=0,re=0,ie=0,Ce=0;return G<0&&(ue=1,G=-G),re=Math.log2(G)|0,G/=Math.pow(2,re-31),Ce=G>>>0,Ce&2147483648||(G/=2,++re,Ce=G>>>0),G-=Ce,Ce|=2147483648,Ce>>>=0,G*=Math.pow(2,32),ie=G>>>0,Z.write_shift(4,ie),Z.write_shift(4,Ce),re+=16383+(ue?32768:0),Z.write_shift(2,re),Z}function w(k,q){var z=S(k);return k.l+=q-14,z}function R(k,q){var z=x(k),G=k.read_shift(4);return z[1].v=G>>6,z}function N(k,q){var z=x(k),G=k.read_shift(8,"f");return z[1].v=G,z}function P(k,q){var z=N(k);return k.l+=q-10,z}function M(k,q){return k[k.l+q-1]==0?k.read_shift(q,"cstr"):""}function B(k,q){var z=k[k.l++];z>q-1&&(z=q-1);for(var G="";G.length<z;)G+=String.fromCharCode(k[k.l++]);return G}function W(k,q,z){if(!(!z.qpro||q<21)){var G=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var Z=k.read_shift(q-21,"cstr");return[G,Z]}}function H(k,q){for(var z={},G=k.l+q;k.l<G;){var Z=k.read_shift(2);if(Z==14e3){for(z[Z]=[0,""],z[Z][0]=k.read_shift(2);k[k.l];)z[Z][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return z}function V(k,q){var z=Je(5+k.length);z.write_shift(2,14e3),z.write_shift(2,q);for(var G=0;G<k.length;++G){var Z=k.charCodeAt(G);z[z.l++]=Z>127?95:Z}return z[z.l++]=0,z}var K={0:{n:"BOF",f:cwe},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:w},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:P},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),cBe=/^\s|\s$|[\t\n\r]/;function Awe(t,e){if(!e.bookSST)return"";var r=[hs];r[r.length]=Et("sst",null,{xmlns:gm[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(cBe)&&(s+=' xml:space="preserve"'),s+=">"+On(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function uBe(t){return[t.read_shift(4),t.read_shift(4)]}function gBe(t,e){return e||(e=Je(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var dBe=r6e;function hBe(t){var e=wa();ct(e,159,gBe(t));for(var r=0;r<t.length;++r)ct(e,19,dBe(t[r]));return ct(e,160),e.end()}function fBe(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Cwe(t){var e=0,r,n=fBe(t),i=n.length+1,s,o,a,l,u;for(r=UA(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)o=r[s],a=e&16384?1:0,l=e<<1&32767,u=a|l,e=u^o;return e^52811}var ABe=function(){function t(i,s){switch(s.type){case"base64":return e(ud(i),s);case"binary":return e(i,s);case"buffer":return e(An&&Buffer.isBuffer(i)?i.toString("binary"):p1(i),s);case"array":return e(BS(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(g,d){Array.isArray(a)&&(a[d]=[]);for(var f=/\\\w+\b/g,h=0,A,C=-1;A=f.exec(g);){switch(A[0]){case"\\cell":var I=g.slice(h,f.lastIndex-A[0].length);if(I[0]==" "&&(I=I.slice(1)),++C,I.length){var p={v:I,t:"s"};Array.isArray(a)?a[d][C]=p:a[Pn({r:d,c:C})]=p}break}h=f.lastIndex}C>u.e.c&&(u.e.c=C)}),a["!ref"]=us(u),a}function r(i,s){return pC(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],o=gi(i["!ref"]),a,l=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var g=o.s.c;g<=o.e.c;++g)s.push("\\cellx"+(g+1));for(s.push("\\pard\\intbl"),g=o.s.c;g<=o.e.c;++g){var d=Pn({r:u,c:g});a=l?(i[u]||[])[g]:i[d],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(gd(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function vK(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var CBe=6,Qg=CBe;function g2(t){return Math.floor((t+Math.round(128/Qg)/256)*Qg)}function d2(t){return Math.floor((t-5)/Qg*100+.5)/100}function bz(t){return Math.round((t*Qg+5)/Qg*256)/256}function GU(t){t.width?(t.wpx=g2(t.width),t.wch=d2(t.wpx),t.MDW=Qg):t.wpx?(t.wch=d2(t.wpx),t.width=bz(t.wch),t.MDW=Qg):typeof t.wch=="number"&&(t.width=bz(t.wch),t.wpx=g2(t.width),t.MDW=Qg),t.customWidth&&delete t.customWidth}var IBe=96,Iwe=IBe;function h2(t){return t*96/Iwe}function pwe(t){return t*Iwe/96}function pBe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Et("numFmt",null,{numFmtId:n,formatCode:On(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function mBe(t){var e=[];return e[e.length]=Et("cellXfs",null),t.forEach(function(r){e[e.length]=Et("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function mwe(t,e){var r=[hs,Et("styleSheet",null,{xmlns:gm[0],"xmlns:vt":Us.vt})],n;return t.SSF&&(n=pBe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=mBe(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function vBe(t,e){var r=t.read_shift(2),n=Mo(t);return[r,n]}function yBe(t,e,r){r||(r=Je(6+4*e.length)),r.write_shift(2,t),Ks(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function xBe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=c6e(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var a=t.read_shift(1);a>0&&(n.family=a);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=l6e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Mo(t),n}function bBe(t,e){e||(e=Je(25+4*32)),e.write_shift(2,t.sz*20),u6e(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),c2(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ks(t.name,e),e.length>e.l?e.slice(0,e.l):e}var wBe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],mT,SBe=Vu;function yK(t,e){e||(e=Je(4*3+8*7+16*1)),mT||(mT=PU(wBe));var r=mT[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(c2({auto:1},e),c2({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function EBe(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function vwe(t,e,r){r||(r=Je(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function k0(t,e){return e||(e=Je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var _Be=Vu;function TBe(t,e){return e||(e=Je(51)),e.write_shift(1,0),k0(null,e),k0(null,e),k0(null,e),k0(null,e),k0(null,e),e.length>e.l?e.slice(0,e.l):e}function RBe(t,e){return e||(e=Je(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),l2(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function NBe(t,e,r){var n=Je(2052);return n.write_shift(4,t),l2(e,n),l2(r,n),n.length>n.l?n.slice(0,n.l):n}function OBe(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ct(t,615,Mc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ct(t,44,yBe(i,e[i]))}),ct(t,616))}}function jBe(t){var e=1;ct(t,611,Mc(e)),ct(t,43,bBe({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(t,612)}function PBe(t){var e=2;ct(t,603,Mc(e)),ct(t,45,yK({patternType:"none"})),ct(t,45,yK({patternType:"gray125"})),ct(t,604)}function kBe(t){var e=1;ct(t,613,Mc(e)),ct(t,46,TBe()),ct(t,614)}function DBe(t){var e=1;ct(t,626,Mc(e)),ct(t,47,vwe({numFmtId:0},65535)),ct(t,627)}function FBe(t,e){ct(t,617,Mc(e.length)),e.forEach(function(r){ct(t,47,vwe(r,0))}),ct(t,618)}function LBe(t){var e=1;ct(t,619,Mc(e)),ct(t,48,RBe({xfId:0,name:"Normal"})),ct(t,620)}function MBe(t){var e=0;ct(t,505,Mc(e)),ct(t,506)}function BBe(t){var e=0;ct(t,508,NBe(e,"TableStyleMedium9","PivotStyleMedium4")),ct(t,509)}function $Be(t,e){var r=wa();return ct(r,278),OBe(r,t.SSF),jBe(r),PBe(r),kBe(r),DBe(r),FBe(r,e.cellXfs),LBe(r),MBe(r),BBe(r),ct(r,279),r.end()}function ywe(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[hs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function qBe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Mo(t)}}function zBe(t){var e=Je(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ks(t.name,e),e.slice(0,e.l)}function UBe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function WBe(t){var e=Je(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function GBe(t,e){var r=Je(8+2*e.length);return r.write_shift(4,t),Ks(e,r),r.slice(0,r.l)}function VBe(t){return t.l+=4,t.read_shift(4)!=0}function HBe(t,e){var r=Je(8);return r.write_shift(4,t),r.write_shift(4,1),r}function KBe(){var t=wa();return ct(t,332),ct(t,334,Mc(1)),ct(t,335,zBe({name:"XLDAPR",version:12e4,flags:3496657072})),ct(t,336),ct(t,339,GBe(1,"XLDAPR")),ct(t,52),ct(t,35,Mc(514)),ct(t,4096,Mc(0)),ct(t,4097,Ml(1)),ct(t,36),ct(t,53),ct(t,340),ct(t,337,HBe(1)),ct(t,51,WBe([[1,0]])),ct(t,338),ct(t,333),t.end()}function xwe(){var t=[hs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function YBe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Pn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var UI=1024;function bwe(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Et("xml",null,{"xmlns:v":ol.v,"xmlns:o":ol.o,"xmlns:x":ol.x,"xmlns:mv":ol.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];UI<t*1e3;)UI+=1e3;return e.forEach(function(s){var o=Hs(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Et("v:fill",l,a),g={on:"t",obscured:"t"};++UI,i=i.concat(["<v:shape"+my({id:"_x0000_s"+UI,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Et("v:shadow",null,g),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vo("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),vo("x:AutoFill","False"),vo("x:Row",String(o.r)),vo("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function wwe(t){var e=[hs,Et("comments",null,{xmlns:gm[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=On(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(On(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(vo("t",On(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(vo("t",On(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function ZBe(t,e,r){var n=[hs,Et("ThreadedComments",null,{xmlns:Us.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(Et("threadedComment",vo("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function XBe(t){var e=[hs,Et("personList",null,{xmlns:Us.TCMNT,"xmlns:x":gm[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function QBe(t){var e={};e.iauthor=t.read_shift(4);var r=xC(t);return e.rfx=r.s,e.ref=Pn(r.s),t.l+=16,e}function JBe(t,e){return e==null&&(e=Je(36)),e.write_shift(4,t[1].iauthor),hm(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var e8e=Mo;function t8e(t){return Ks(t.slice(0,54))}function r8e(t){var e=wa(),r=[];return ct(e,628),ct(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ct(e,632,t8e(i.a)))})}),ct(e,631),ct(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Hs(n[0]),e:Hs(n[0])};ct(e,635,JBe([s,i])),i.t&&i.t.length>0&&ct(e,637,i6e(i)),ct(e,636),delete i.iauthor})}),ct(e,634),ct(e,629),e.end()}function n8e(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Fn.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var Swe=["xlsb","xlsm","xlam","biff8","xla"],i8e=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,g=o.length>0?parseInt(o,10)|0:0;return a?g+=e.c:--g,l?u+=e.r:--u,i+(a?"":"$")+Lo(g)+(l?"":"$")+bo(u)}return function(i,s){return e=s,i.replace(t,r)}}(),VU=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,HU=function(){return function(e,r){return e.replace(VU,function(n,i,s,o,a,l){var u=$U(o)-(s?0:r.c),g=BU(l)-(a?0:r.r),d=g==0?"":a?g+1:"["+g+"]",f=u==0?"":s?u+1:"["+u+"]";return i+"R"+d+"C"+f})}}();function s8e(t,e){return t.replace(VU,function(r,n,i,s,o,a){return n+(i=="$"?i+s:Lo($U(s)+e.c))+(o=="$"?o+a:bo(BU(a)+e.r))})}function o8e(t){return t.length!=1}function as(t){t.l+=1}function Xh(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Ewe(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return _we(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),o=Xh(t),a=Xh(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function _we(t){var e=Xh(t),r=Xh(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function a8e(t,e,r){if(r.biff<8)return _we(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Xh(t),o=Xh(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Twe(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return l8e(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Xh(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function l8e(t){var e=Xh(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function c8e(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function u8e(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return g8e(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function g8e(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function d8e(t,e,r){var n=(t[t.l++]&96)>>5,i=Ewe(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function h8e(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=Ewe(t,s,r);return[n,i,o]}function f8e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function A8e(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function C8e(t,e,r){var n=(t[t.l++]&96)>>5,i=a8e(t,e-1,r);return[n,i]}function I8e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xK(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function p8e(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function m8e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function v8e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function y8e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function x8e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Rwe(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function b8e(t){return t.read_shift(2),Rwe(t)}function w8e(t){return t.read_shift(2),Rwe(t)}function S8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Twe(t,0,r);return[n,i]}function E8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=u8e(t,0,r);return[n,i]}function _8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=Twe(t,0,r);return[n,i,s]}function T8e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[T$e[i],jwe[i],n]}function R8e(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:N8e(t);return[i,(s[0]===0?jwe:_$e)[s[1]]]}function N8e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function O8e(t,e,r){t.l+=r&&r.biff==2?3:4}function j8e(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function P8e(t){return t.l++,y1[t.read_shift(1)]}function k8e(t){return t.l++,t.read_shift(2)}function D8e(t){return t.l++,t.read_shift(1)!==0}function F8e(t){return t.l++,fm(t)}function L8e(t,e,r){return t.l++,gwe(t,e-1,r)}function M8e(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=_6e(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=y1[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=fm(t);break;case 2:r[1]=O6e(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function B8e(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?xC:k6e)(t));return i}function $8e(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=M8e(t,r.biff);return o}function q8e(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function z8e(t,e,r){if(r.biff==5)return U8e(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function U8e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function W8e(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function G8e(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function V8e(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function H8e(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var K8e=Vu,Y8e=Vu,Z8e=Vu;function x1(t,e,r){return t.l+=2,[c8e(t)]}function KU(t){return t.l+=6,[]}var X8e=x1,Q8e=KU,J8e=KU,e$e=x1;function Nwe(t){return t.l+=2,[cwe(t),t.read_shift(2)&1]}var t$e=x1,r$e=Nwe,n$e=KU,i$e=x1,s$e=x1,o$e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function a$e(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=o$e[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:i,C:s}}function l$e(t){return t.l+=2,[t.read_shift(4)]}function c$e(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function u$e(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function g$e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function d$e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function h$e(t){return t.l+=4,[0,0]}var bK={1:{n:"PtgExp",f:j8e},2:{n:"PtgTbl",f:Z8e},3:{n:"PtgAdd",f:as},4:{n:"PtgSub",f:as},5:{n:"PtgMul",f:as},6:{n:"PtgDiv",f:as},7:{n:"PtgPower",f:as},8:{n:"PtgConcat",f:as},9:{n:"PtgLt",f:as},10:{n:"PtgLe",f:as},11:{n:"PtgEq",f:as},12:{n:"PtgGe",f:as},13:{n:"PtgGt",f:as},14:{n:"PtgNe",f:as},15:{n:"PtgIsect",f:as},16:{n:"PtgUnion",f:as},17:{n:"PtgRange",f:as},18:{n:"PtgUplus",f:as},19:{n:"PtgUminus",f:as},20:{n:"PtgPercent",f:as},21:{n:"PtgParen",f:as},22:{n:"PtgMissArg",f:as},23:{n:"PtgStr",f:L8e},26:{n:"PtgSheet",f:c$e},27:{n:"PtgEndSheet",f:u$e},28:{n:"PtgErr",f:P8e},29:{n:"PtgBool",f:D8e},30:{n:"PtgInt",f:k8e},31:{n:"PtgNum",f:F8e},32:{n:"PtgArray",f:I8e},33:{n:"PtgFunc",f:T8e},34:{n:"PtgFuncVar",f:R8e},35:{n:"PtgName",f:q8e},36:{n:"PtgRef",f:S8e},37:{n:"PtgArea",f:d8e},38:{n:"PtgMemArea",f:W8e},39:{n:"PtgMemErr",f:K8e},40:{n:"PtgMemNoMem",f:Y8e},41:{n:"PtgMemFunc",f:G8e},42:{n:"PtgRefErr",f:V8e},43:{n:"PtgAreaErr",f:f8e},44:{n:"PtgRefN",f:E8e},45:{n:"PtgAreaN",f:C8e},46:{n:"PtgMemAreaN",f:g$e},47:{n:"PtgMemNoMemN",f:d$e},57:{n:"PtgNameX",f:z8e},58:{n:"PtgRef3d",f:_8e},59:{n:"PtgArea3d",f:h8e},60:{n:"PtgRefErr3d",f:H8e},61:{n:"PtgAreaErr3d",f:A8e},255:{}},f$e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},A$e={1:{n:"PtgElfLel",f:Nwe},2:{n:"PtgElfRw",f:i$e},3:{n:"PtgElfCol",f:X8e},6:{n:"PtgElfRwV",f:s$e},7:{n:"PtgElfColV",f:e$e},10:{n:"PtgElfRadical",f:t$e},11:{n:"PtgElfRadicalS",f:n$e},13:{n:"PtgElfColS",f:Q8e},15:{n:"PtgElfColSV",f:J8e},16:{n:"PtgElfRadicalLel",f:r$e},25:{n:"PtgList",f:a$e},29:{n:"PtgSxName",f:l$e},255:{}},C$e={0:{n:"PtgAttrNoop",f:h$e},1:{n:"PtgAttrSemi",f:x8e},2:{n:"PtgAttrIf",f:v8e},4:{n:"PtgAttrChoose",f:p8e},8:{n:"PtgAttrGoto",f:m8e},16:{n:"PtgAttrSum",f:O8e},32:{n:"PtgAttrBaxcel",f:xK},33:{n:"PtgAttrBaxcel",f:xK},64:{n:"PtgAttrSpace",f:b8e},65:{n:"PtgAttrSpaceSemi",f:w8e},128:{n:"PtgAttrIfError",f:y8e},255:{}};function I$e(t,e,r,n){if(n.biff<8)return Vu(t,e);for(var i=t.l+e,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=$8e(t,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=B8e(t,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=i-t.l,e!==0&&s.push(Vu(t,e)),s}function p$e(t,e,r){for(var n=t.l+e,i,s,o=[];n!=t.l;)e=n-t.l,s=t[t.l],i=bK[s]||bK[f$e[s]],(s===24||s===25)&&(i=(s===24?A$e:C$e)[t[t.l+1]]),!i||!i.f?Vu(t,e):o.push([i.n,i.f(t,e,r)]);return o}function m$e(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var v$e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function y$e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Owe(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function wK(t,e,r){var n=Owe(t,e,r);return n=="#REF"?n:y$e(n,r)}function Mp(t,e,r,n,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,u,g,d=0,f=0,h,A="";if(!t[0]||!t[0][0])return"";for(var C=-1,I="",p=0,m=t[0].length;p<m;++p){var v=t[0][p];switch(v[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),C>=0){switch(t[0][C][1][0]){case 0:I=Oi(" ",t[0][C][1][1]);break;case 1:I=Oi("\r",t[0][C][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][C][1][0])}u=u+I,C=-1}a.push(u+v$e[v[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=$v(v[1][1],o,i),a.push(qv(g,s));break;case"PtgRefN":g=r?$v(v[1][1],r,i):v[1][1],a.push(qv(g,s));break;case"PtgRef3d":d=v[1][1],g=$v(v[1][2],o,i),A=wK(n,d,i),a.push(A+"!"+qv(g,s));break;case"PtgFunc":case"PtgFuncVar":var y=v[1][0],x=v[1][1];y||(y=0),y&=127;var T=y==0?[]:a.slice(-y);a.length-=y,x==="User"&&(x=T.shift()),a.push(x+"("+T.join(",")+")");break;case"PtgBool":a.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(v[1]);break;case"PtgNum":a.push(String(v[1]));break;case"PtgStr":a.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(v[1]);break;case"PtgAreaN":h=lK(v[1][1],r?{s:r}:o,i),a.push(IT(h,i));break;case"PtgArea":h=lK(v[1][1],o,i),a.push(IT(h,i));break;case"PtgArea3d":d=v[1][1],h=v[1][2],A=wK(n,d,i),a.push(A+"!"+IT(h,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=v[1][2];var E=(n.names||[])[f-1]||(n[0]||[])[f],_=E?E.Name:"SH33TJSNAME"+String(f);_&&_.slice(0,6)=="_xlfn."&&!i.xlfn&&(_=_.slice(6)),a.push(_);break;case"PtgNameX":var S=v[1][1];f=v[1][2];var j;if(i.biff<=5)S<0&&(S=-S),n[S]&&(j=n[S][f]);else{var w="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][f]&&n[S][f].itab>0&&(w=n.SheetNames[n[S][f].itab-1]+"!"):w=n.SheetNames[f-1]+"!"),n[S]&&n[S][f])w+=n[S][f].Name;else if(n[0]&&n[0][f])w+=n[0][f].Name;else{var R=(Owe(n,S,i)||"").split(";;");R[f-1]?w=R[f-1]:w+="SH33TJSERRX"}a.push(w);break}j||(j={Name:"SH33TJSERRY"}),a.push(j.Name);break;case"PtgParen":var N="(",P=")";if(C>=0){switch(I="",t[0][C][1][0]){case 2:N=Oi(" ",t[0][C][1][1])+N;break;case 3:N=Oi("\r",t[0][C][1][1])+N;break;case 4:P=Oi(" ",t[0][C][1][1])+P;break;case 5:P=Oi("\r",t[0][C][1][1])+P;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][C][1][0])}C=-1}a.push(N+a.pop()+P);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":g={c:v[1][1],r:v[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[Pn(g)]){var B=n.sharedf[Pn(g)];a.push(Mp(B,o,M,n,i))}else{var W=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(g.c<u[0].s.c||g.c>u[0].e.c)&&!(g.r<u[0].s.r||g.r>u[0].e.r)){a.push(Mp(u[1],o,M,n,i)),W=!0;break}W||a.push(v[1])}break;case"PtgArray":a.push("{"+m$e(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=p;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&H.indexOf(t[0][p][0])==-1){v=t[0][C];var V=!0;switch(v[1][0]){case 4:V=!1;case 0:I=Oi(" ",v[1][1]);break;case 5:V=!1;case 1:I=Oi("\r",v[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}a.push((V?I:"")+a.pop()+(V?"":I)),C=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function x$e(t){if(t==null){var e=Je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return WA(t);return WA(0)}function b$e(t,e,r,n,i){var s=GA(e,r,i),o=x$e(t.v),a=Je(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=Je(t.bf.length),g=0;g<t.bf.length;++g)u[g]=t.bf[g];var d=mo([s,o,a,u]);return d}function $S(t,e,r){var n=t.read_shift(4),i=p$e(t,n,r),s=t.read_shift(4),o=s>0?I$e(t,s,i,r):null;return[i,o]}var w$e=$S,qS=$S,S$e=$S,E$e=$S,_$e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},jwe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},T$e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function R$e(t){var e="of:="+t.replace(VU,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function N$e(t){return t.replace(/\./,"!")}var zv=typeof Map<"u";function YU(t,e,r){var n=0,i=t.length;if(r){if(zv?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=zv?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(zv?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function zS(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Qg=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=d2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=bz(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Pwe(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function uf(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){Tbe(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function O$e(t,e,r){if(t&&t["!ref"]){var n=gi(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function j$e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+us(t[r])+'"/>';return e+"</mergeCells>"}function P$e(t,e,r,n,i){var s=!1,o={},a=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,o.codeName=py(On(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),a=(a||"")+Et("outlinePr",null,u)}!s&&!a||(i[i.length]=Et("sheetPr",a,o))}var k$e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],D$e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function F$e(t){var e={sheet:1};return k$e.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),D$e.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Cwe(t.password).toString(16).toUpperCase()),Et("sheetProtection",null,e)}function L$e(t){return Pwe(t),Et("pageMargins",null,t)}function M$e(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Et("col",null,zS(i,n)));return r[r.length]="</cols>",r.join("")}function B$e(t,e,r,n){var i=typeof t.ref=="string"?t.ref:us(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Il(i);o.s.r==o.e.r&&(o.e.r=Il(e["!ref"]).e.r,i=us(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Et("autoFilter",null,{ref:i})}function $$e(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,i),{})}function q$e(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=y1[t.v];break;case"d":n&&n.cellDates?i=oa(t.v,-1).toISOString():(t=Ra(t),t.t="n",i=""+(t.v=Ta(oa(t.v)))),typeof t.z>"u"&&(t.z=Li[14]);break;default:i=t.v;break}var a=vo("v",On(i)),l={r:e},u=uf(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){a=vo("v",""+YU(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=o),typeof t.f=="string"&&t.f){var g=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;a=Et("f",On(t.f),g)+(t.v!=null?a:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),Et("c",a,l)}function z$e(t,e,r,n){var i=[],s=[],o=gi(t["!ref"]),a="",l,u="",g=[],d=0,f=0,h=t["!rows"],A=Array.isArray(t),C={r:u},I,p=-1;for(f=o.s.c;f<=o.e.c;++f)g[f]=Lo(f);for(d=o.s.r;d<=o.e.r;++d){for(s=[],u=bo(d),f=o.s.c;f<=o.e.c;++f){l=g[f]+u;var m=A?(t[d]||[])[f]:t[l];m!==void 0&&(a=q$e(m,l,t,e))!=null&&s.push(a)}(s.length>0||h&&h[d])&&(C={r:u},h&&h[d]&&(I=h[d],I.hidden&&(C.hidden=1),p=-1,I.hpx?p=h2(I.hpx):I.hpt&&(p=I.hpt),p>-1&&(C.ht=p,C.customHeight=1),I.level&&(C.outlineLevel=I.level)),i[i.length]=Et("row",s.join(""),C))}if(h)for(;d<h.length;++d)h&&h[d]&&(C={r:d+1},I=h[d],I.hidden&&(C.hidden=1),p=-1,I.hpx?p=h2(I.hpx):I.hpt&&(p=I.hpt),p>-1&&(C.ht=p,C.customHeight=1),I.level&&(C.outlineLevel=I.level),i[i.length]=Et("row","",C));return i.join("")}function kwe(t,e,r,n){var i=[hs,Et("worksheet",null,{xmlns:gm[0],"xmlns:r":Us.r})],s=r.SheetNames[t],o=0,a="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",g=gi(u);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),u=us(g)}n||(n={}),l["!comments"]=[];var d=[];P$e(l,r,t,e,i),i[i.length]=Et("dimension",null,{ref:u}),i[i.length]=$$e(l,e,t,r),e.sheetFormat&&(i[i.length]=Et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=M$e(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=z$e(l,e),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=F$e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=B$e(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=j$e(l["!merges"]));var f=-1,h,A=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(C){C[1].Target&&(h={ref:C[0]},C[1].Target.charAt(0)!="#"&&(A=Rn(n,-1,On(C[1].Target).replace(/#.*$/,""),un.HLINK),h["r:id"]="rId"+A),(f=C[1].Target.indexOf("#"))>-1&&(h.location=On(C[1].Target.slice(f+1))),C[1].Tooltip&&(h.tooltip=On(C[1].Tooltip)),i[i.length]=Et("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=L$e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=vo("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(A=Rn(n,-1,"../drawings/drawing"+(t+1)+".xml",un.DRAW),i[i.length]=Et("drawing",null,{"r:id":"rId"+A}),l["!drawing"]=d),l["!comments"].length>0&&(A=Rn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",un.VML),i[i.length]=Et("legacyDrawing",null,{"r:id":"rId"+A}),l["!legacy"]=A),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function U$e(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function W$e(t,e,r){var n=Je(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=h2(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var a=0,l=n.l;n.l+=4;for(var u={r:t,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var d=-1,f=-1,h=g<<10;h<g+1<<10;++h){u.c=h;var A=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Pn(u)];A&&(d<0&&(d=h),f=h)}d<0||(++a,n.write_shift(4,d),n.write_shift(4,f))}var C=n.l;return n.l=l,n.write_shift(4,a),n.l=C,n.length>n.l?n.slice(0,n.l):n}function G$e(t,e,r,n){var i=W$e(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ct(t,0,i)}var V$e=xC,H$e=hm;function K$e(){}function Y$e(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=s6e(t),r}function Z$e(t,e,r){r==null&&(r=Je(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return c2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Ybe(t,r),r.slice(0,r.l)}function X$e(t){var e=tc(t);return[e]}function Q$e(t,e,r){return r==null&&(r=Je(8)),mC(e,r)}function J$e(t){var e=vC(t);return[e]}function eqe(t,e,r){return r==null&&(r=Je(4)),yC(e,r)}function tqe(t){var e=tc(t),r=t.read_shift(1);return[e,r,"b"]}function rqe(t,e,r){return r==null&&(r=Je(9)),mC(e,r),r.write_shift(1,t.v?1:0),r}function nqe(t){var e=vC(t),r=t.read_shift(1);return[e,r,"b"]}function iqe(t,e,r){return r==null&&(r=Je(5)),yC(e,r),r.write_shift(1,t.v?1:0),r}function sqe(t){var e=tc(t),r=t.read_shift(1);return[e,r,"e"]}function oqe(t,e,r){return r==null&&(r=Je(9)),mC(e,r),r.write_shift(1,t.v),r}function aqe(t){var e=vC(t),r=t.read_shift(1);return[e,r,"e"]}function lqe(t,e,r){return r==null&&(r=Je(8)),yC(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function cqe(t){var e=tc(t),r=t.read_shift(4);return[e,r,"s"]}function uqe(t,e,r){return r==null&&(r=Je(12)),mC(e,r),r.write_shift(4,e.v),r}function gqe(t){var e=vC(t),r=t.read_shift(4);return[e,r,"s"]}function dqe(t,e,r){return r==null&&(r=Je(8)),yC(e,r),r.write_shift(4,e.v),r}function hqe(t){var e=tc(t),r=fm(t);return[e,r,"n"]}function fqe(t,e,r){return r==null&&(r=Je(16)),mC(e,r),WA(t.v,r),r}function Aqe(t){var e=vC(t),r=fm(t);return[e,r,"n"]}function Cqe(t,e,r){return r==null&&(r=Je(12)),yC(e,r),WA(t.v,r),r}function Iqe(t){var e=tc(t),r=Zbe(t);return[e,r,"n"]}function pqe(t,e,r){return r==null&&(r=Je(12)),mC(e,r),Xbe(t.v,r),r}function mqe(t){var e=vC(t),r=Zbe(t);return[e,r,"n"]}function vqe(t,e,r){return r==null&&(r=Je(8)),yC(e,r),Xbe(t.v,r),r}function yqe(t){var e=tc(t),r=qU(t);return[e,r,"is"]}function xqe(t){var e=tc(t),r=Mo(t);return[e,r,"str"]}function bqe(t,e,r){return r==null&&(r=Je(12+4*t.v.length)),mC(e,r),Ks(t.v,r),r.length>r.l?r.slice(0,r.l):r}function wqe(t){var e=vC(t),r=Mo(t);return[e,r,"str"]}function Sqe(t,e,r){return r==null&&(r=Je(8+4*t.v.length)),yC(e,r),Ks(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Eqe(t,e,r){var n=t.l+e,i=tc(t);i.r=r["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(r.cellFormula){t.l+=2;var a=qS(t,n-t.l,r);o[3]=Mp(a,null,i,r.supbooks,r)}else t.l=n;return o}function _qe(t,e,r){var n=t.l+e,i=tc(t);i.r=r["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(r.cellFormula){t.l+=2;var a=qS(t,n-t.l,r);o[3]=Mp(a,null,i,r.supbooks,r)}else t.l=n;return o}function Tqe(t,e,r){var n=t.l+e,i=tc(t);i.r=r["!row"];var s=fm(t),o=[i,s,"n"];if(r.cellFormula){t.l+=2;var a=qS(t,n-t.l,r);o[3]=Mp(a,null,i,r.supbooks,r)}else t.l=n;return o}function Rqe(t,e,r){var n=t.l+e,i=tc(t);i.r=r["!row"];var s=Mo(t),o=[i,s,"str"];if(r.cellFormula){t.l+=2;var a=qS(t,n-t.l,r);o[3]=Mp(a,null,i,r.supbooks,r)}else t.l=n;return o}var Nqe=xC,Oqe=hm;function jqe(t,e){return e==null&&(e=Je(4)),e.write_shift(4,t),e}function Pqe(t,e){var r=t.l+e,n=xC(t),i=zU(t),s=Mo(t),o=Mo(t),a=Mo(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function kqe(t,e){var r=Je(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));hm({s:Hs(t[0]),e:Hs(t[0])},r),UU("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Ks(i||"",r),Ks(t[1].Tooltip||"",r),Ks("",r),r.slice(0,r.l)}function Dqe(){}function Fqe(t,e,r){var n=t.l+e,i=Qbe(t),s=t.read_shift(1),o=[i];if(o[2]=s,r.cellFormula){var a=w$e(t,n-t.l,r);o[1]=a}else t.l=n;return o}function Lqe(t,e,r){var n=t.l+e,i=xC(t),s=[i];if(r.cellFormula){var o=E$e(t,n-t.l,r);s[1]=o,t.l=n}else t.l=n;return s}function Mqe(t,e,r){r==null&&(r=Je(18));var n=zS(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var Dwe=["left","right","top","bottom","header","footer"];function Bqe(t){var e={};return Dwe.forEach(function(r){e[r]=fm(t)}),e}function $qe(t,e){return e==null&&(e=Je(6*8)),Pwe(t),Dwe.forEach(function(r){WA(t[r],e)}),e}function qqe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function zqe(t,e,r){r==null&&(r=Je(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Uqe(t){var e=Je(24);return e.write_shift(4,4),e.write_shift(4,1),hm(t,e),e}function Wqe(t,e){return e==null&&(e=Je(16*4+2)),e.write_shift(2,t.password?Cwe(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Gqe(){}function Vqe(){}function Hqe(t,e,r,n,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=Ra(e),e.z=e.z||Li[14],e.v=Ta(oa(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r,c:n};switch(l.s=uf(i.cellXfs,e,i),e.l&&s["!links"].push([Pn(l),e.l]),e.c&&s["!comments"].push([Pn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(a=YU(i.Strings,e.v,i.revStrings),l.t="s",l.v=a,o?ct(t,18,dqe(e,l)):ct(t,7,uqe(e,l))):(l.t="str",o?ct(t,17,Sqe(e,l)):ct(t,6,bqe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ct(t,13,vqe(e,l)):ct(t,2,pqe(e,l)):o?ct(t,16,Cqe(e,l)):ct(t,5,fqe(e,l)),!0;case"b":return l.t="b",o?ct(t,15,iqe(e,l)):ct(t,4,rqe(e,l)),!0;case"e":return l.t="e",o?ct(t,14,lqe(e,l)):ct(t,3,oqe(e,l)),!0}return o?ct(t,12,eqe(e,l)):ct(t,1,Q$e(e,l)),!0}function Kqe(t,e,r,n){var i=gi(e["!ref"]||"A1"),s,o="",a=[];ct(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var g=i.s.r;g<=u;++g){o=bo(g),G$e(t,e,i,g);var d=!1;if(g<=i.e.r)for(var f=i.s.c;f<=i.e.c;++f){g===i.s.r&&(a[f]=Lo(f)),s=a[f]+o;var h=l?(e[g]||[])[f]:e[s];if(!h){d=!1;continue}d=Hqe(t,h,g,f,n,e,d)}}ct(t,146)}function Yqe(t,e){!e||!e["!merges"]||(ct(t,177,jqe(e["!merges"].length)),e["!merges"].forEach(function(r){ct(t,176,Oqe(r))}),ct(t,178))}function Zqe(t,e){!e||!e["!cols"]||(ct(t,390),e["!cols"].forEach(function(r,n){r&&ct(t,60,Mqe(n,r))}),ct(t,391))}function Xqe(t,e){!e||!e["!ref"]||(ct(t,648),ct(t,649,Uqe(gi(e["!ref"]))),ct(t,650))}function Qqe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Rn(r,-1,n[1].Target.replace(/#.*$/,""),un.HLINK);ct(t,494,kqe(n,i))}}),delete e["!links"]}function Jqe(t,e,r,n){if(e["!comments"].length>0){var i=Rn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",un.VML);ct(t,551,UU("rId"+i)),e["!legacy"]=i}}function eze(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:us(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,a=Il(s);a.s.r==a.e.r&&(a.e.r=Il(e["!ref"]).e.r,s=us(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ct(t,161,hm(gi(s))),ct(t,162)}}function tze(t,e,r){ct(t,133),ct(t,137,zqe(e,r)),ct(t,138),ct(t,134)}function rze(t,e){e["!protect"]&&ct(t,535,Wqe(e["!protect"]))}function nze(t,e,r,n){var i=wa(),s=r.SheetNames[t],o=r.Sheets[s]||{},a=s;try{r&&r.Workbook&&(a=r.Workbook.Sheets[t].CodeName||a)}catch{}var l=gi(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ct(i,129),(r.vbaraw||o["!outline"])&&ct(i,147,Z$e(a,o["!outline"])),ct(i,148,H$e(l)),tze(i,o,r.Workbook),Zqe(i,o),Kqe(i,o,t,e),rze(i,o),eze(i,o,r,t),Yqe(i,o),Qqe(i,o,n),o["!margins"]&&ct(i,476,$qe(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Xqe(i,o),Jqe(i,o,t,n),ct(i,130),i.end()}function ize(t,e){t.l+=10;var r=Mo(t);return{name:r}}var sze=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function oze(t){return!t.Workbook||!t.Workbook.WBProps?"false":LMe(t.Workbook.WBProps.date1904)?"true":"false"}var aze="][*?/\\".split("");function Fwe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return aze.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function lze(t,e,r){t.forEach(function(n,i){Fwe(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[i]&&e[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function cze(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];lze(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)O$e(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Lwe(t){var e=[hs];e[e.length]=Et("workbook",null,{xmlns:gm[0],"xmlns:r":Us.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(sze.forEach(function(a){t.Workbook.WBProps[a[0]]!=null&&t.Workbook.WBProps[a[0]]!=a[1]&&(n[a[0]]=t.Workbook.WBProps[a[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Et("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var o={name:On(t.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Et("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=Et("definedName",On(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function uze(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=xz(t),r.name=Mo(t),r}function gze(t,e){return e||(e=Je(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),UU(t.strRelID,e),Ks(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function dze(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Mo(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function hze(t,e){e||(e=Je(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Ybe(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function fze(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=o6e(t),o=S$e(t,0,r),a=zU(t);t.l=n;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function Aze(t,e){ct(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ct(t,156,gze(i))}ct(t,144)}function Cze(t,e){e||(e=Je(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ks("SheetJS",e),Ks(t2.version,e),Ks(t2.version,e),Ks("7262",e),e.length>e.l?e.slice(0,e.l):e}function Ize(t,e){e||(e=Je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function pze(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(ct(t,135),ct(t,158,Ize(i)),ct(t,136))}}function mze(t,e){var r=wa();return ct(r,131),ct(r,128,Cze()),ct(r,153,hze(t.Workbook&&t.Workbook.WBProps||null)),pze(r,t),Aze(r,t),ct(r,132),r.end()}function vze(t,e,r){return(e.slice(-4)===".bin"?mze:Lwe)(t)}function yze(t,e,r,n,i){return(e.slice(-4)===".bin"?nze:kwe)(t,r,n,i)}function xze(t,e,r){return(e.slice(-4)===".bin"?$Be:mwe)(t,r)}function bze(t,e,r){return(e.slice(-4)===".bin"?hBe:Awe)(t,r)}function wze(t,e,r){return(e.slice(-4)===".bin"?r8e:wwe)(t)}function Sze(t){return(t.slice(-4)===".bin"?KBe:xwe)()}function Eze(t,e){var r=[];return t.Props&&r.push(x6e(t.Props,e)),t.Custprops&&r.push(b6e(t.Props,t.Custprops)),r.join("")}function _ze(){return""}function Tze(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(Et("NumberFormat",null,{"ss:Format":On(Li[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(Et("Style",s.join(""),o))}),Et("Styles",r.join(""))}function Mwe(t){return Et("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+HU(t.Ref,{r:0,c:0})})}function Rze(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(Mwe(i)))}return Et("Names",r.join(""))}function Nze(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==r&&(a.Name.match(/^_xlfn\./)||s.push(Mwe(a)))}return s.join("")}function Oze(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Et("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Et("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Et("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Et("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(vo("ProtectContents","True")),t["!protect"].objects&&i.push(vo("ProtectObjects","True")),t["!protect"].scenarios&&i.push(vo("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(vo("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(vo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Et("WorksheetOptions",i.join(""),{xmlns:ol.x})}function jze(t){return t.map(function(e){var r=FMe(e.t||""),n=Et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",n,{"ss:Author":e.a})}).join("")}function Pze(t,e,r,n,i,s,o){if(!t||t.v==null&&t.f==null)return"";var a={};if(t.f&&(a["ss:Formula"]="="+On(HU(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var l=Hs(t.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(t.l&&t.l.Target&&(a["ss:HRef"]=On(t.l.Target),t.l.Tooltip&&(a["x:HRefScreenTip"]=On(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],g=0;g!=u.length;++g)u[g].s.c!=o.c||u[g].s.r!=o.r||(u[g].e.c>u[g].s.c&&(a["ss:MergeAcross"]=u[g].e.c-u[g].s.c),u[g].e.r>u[g].s.r&&(a["ss:MergeDown"]=u[g].e.r-u[g].s.r));var d="",f="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",f=String(t.v);break;case"b":d="Boolean",f=t.v?"1":"0";break;case"e":d="Error",f=y1[t.v];break;case"d":d="DateTime",f=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Li[14]);break;case"s":d="String",f=DMe(t.v||"");break}var h=uf(n.cellXfs,t,n);a["ss:StyleID"]="s"+(21+h),a["ss:Index"]=o.c+1;var A=t.v!=null?f:"",C=t.t=="z"?"":'<Data ss:Type="'+d+'">'+A+"</Data>";return(t.c||[]).length>0&&(C+=jze(t.c)),Et("Cell",C,a)}function kze(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=pwe(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Dze(t,e,r,n){if(!t["!ref"])return"";var i=gi(t["!ref"]),s=t["!merges"]||[],o=0,a=[];t["!cols"]&&t["!cols"].forEach(function(I,p){GU(I);var m=!!I.width,v=zS(p,I),y={"ss:Index":p+1};m&&(y["ss:Width"]=g2(v.width)),I.hidden&&(y["ss:Hidden"]="1"),a.push(Et("Column",null,y))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var g=[kze(u,(t["!rows"]||[])[u])],d=i.s.c;d<=i.e.c;++d){var f=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>d)&&!(s[o].s.r>u)&&!(s[o].e.c<d)&&!(s[o].e.r<u)){(s[o].s.c!=d||s[o].s.r!=u)&&(f=!0);break}if(!f){var h={r:u,c:d},A=Pn(h),C=l?(t[u]||[])[d]:t[A];g.push(Pze(C,A,t,e,r,n,h))}}g.push("</Row>"),g.length>2&&a.push(g.join(""))}return a.join("")}function Fze(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],o=s?Nze(s,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?Dze(s,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(Oze(s,e,t,r)),n.join("")}function Lze(t,e){e||(e={}),t.SSF||(t.SSF=Ra(Li)),t.SSF&&(LS(),FS(t.SSF),e.revssf=MS(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],uf(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Eze(t,e)),r.push(_ze()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Et("Worksheet",Fze(n,e,t),{"ss:Name":On(t.SheetNames[n])}));return r[2]=Tze(t,e),r[3]=Rze(t),hs+Et("Workbook",r.join(""),{xmlns:ol.ss,"xmlns:o":ol.o,"xmlns:x":ol.x,"xmlns:ss":ol.ss,"xmlns:dt":ol.dt,"xmlns:html":ol.html})}var vT={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Mze(t,e){var r=[],n=[],i=[],s=0,o,a=XH(uK,"n"),l=XH(gK,"n");if(t.Props)for(o=wo(t.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?r:Object.prototype.hasOwnProperty.call(l,o[s])?n:i).push([o[s],t.Props[o[s]]]);if(t.Custprops)for(o=wo(t.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?r:Object.prototype.hasOwnProperty.call(l,o[s])?n:i).push([o[s],t.Custprops[o[s]]]);var u=[];for(s=0;s<i.length;++s)lwe.indexOf(i[s][0])>-1||swe.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&Fn.utils.cfb_add(e,"/SummaryInformation",CK(n,vT.SI,l,gK)),(r.length||u.length)&&Fn.utils.cfb_add(e,"/DocumentSummaryInformation",CK(r,vT.DSI,a,uK,u.length?u:null,vT.UDI))}function Bze(t,e){var r=e||{},n=Fn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Fn.utils.cfb_add(n,i,Bwe(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Mze(t,n),r.biff==8&&t.vbaraw&&n8e(n,Fn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var $ze={0:{f:U$e},1:{f:X$e},2:{f:Iqe},3:{f:sqe},4:{f:tqe},5:{f:hqe},6:{f:xqe},7:{f:cqe},8:{f:Rqe},9:{f:Tqe},10:{f:Eqe},11:{f:_qe},12:{f:J$e},13:{f:mqe},14:{f:aqe},15:{f:nqe},16:{f:Aqe},17:{f:wqe},18:{f:gqe},19:{f:qU},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fze},40:{},42:{},43:{f:xBe},44:{f:vBe},45:{f:SBe},46:{f:_Be},47:{f:EBe},48:{},49:{f:JMe},50:{},51:{f:UBe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eBe},62:{f:yqe},63:{f:YBe},64:{f:Gqe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qqe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Y$e},148:{f:V$e,p:16},151:{f:Dqe},152:{},153:{f:dze},154:{},155:{},156:{f:uze},157:{},158:{},159:{T:1,f:uBe},160:{T:-1},161:{T:1,f:xC},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Nqe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qBe},336:{T:-1},337:{f:VBe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:xz},357:{},358:{},359:{},360:{T:1},361:{},362:{f:K6e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Fqe},427:{f:Lqe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Bqe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:K$e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Pqe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:xz},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:e8e},633:{T:1},634:{T:-1},635:{T:1,f:QBe},636:{T:-1},637:{f:n6e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ize},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Vqe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function _t(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&MU(r)&&t.push(r)}}function qze(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return _t(t,e,r,i);var s=e;if(!isNaN(s)){for(var o=r.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var g=t.next(4);for(g.write_shift(2,s),g.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(g=t.next(4),g.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;g.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function b1(t,e,r){return t||(t=Je(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function zze(t,e,r,n){var i=Je(9);return b1(i,t,e),uwe(r,n||"b",i),i}function Uze(t,e,r){var n=Je(8+2*r.length);return b1(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Wze(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ta(oa(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?_t(t,2,iBe(r,n,i)):_t(t,3,nBe(r,n,i));return;case"b":case"e":_t(t,5,zze(r,n,e.v,e.t));return;case"s":case"str":_t(t,4,Uze(r,n,(e.v||"").slice(0,255)));return}_t(t,1,b1(null,r,n))}function Gze(t,e,r,n){var i=Array.isArray(e),s=gi(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=us(s)}for(var u=s.s.r;u<=s.e.r;++u){a=bo(u);for(var g=s.s.c;g<=s.e.c;++g){u===s.s.r&&(l[g]=Lo(g)),o=l[g]+a;var d=i?(e[u]||[])[g]:e[o];d&&Wze(t,d,u,g)}}}function Vze(t,e){for(var r=e||{},n=wa(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return _t(n,r.biff==4?1033:r.biff==3?521:9,WU(t,16,r)),Gze(n,t.Sheets[t.SheetNames[i]],i,r),_t(n,10),n.end()}function Hze(t,e,r){_t(t,49,$6e({sz:12,name:"Arial"},r))}function Kze(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&_t(t,1054,U6e(i,e[i],r))})}function Yze(t,e){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),_t(t,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),hwe(gi(e["!ref"]||"A1"),r),r.write_shift(4,4),_t(t,2152,r)}function Zze(t,e){for(var r=0;r<16;++r)_t(t,224,pK({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){_t(t,224,pK(n,0,e))})}function Xze(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];_t(t,440,X6e(n)),n[1].Tooltip&&_t(t,2048,Q6e(n))}delete e["!links"]}function Qze(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&_t(t,125,tBe(zS(i,n),i))})}}function Jze(t,e,r,n,i){var s=16+uf(i.cellXfs,e,i);if(e.v==null&&!e.bf){_t(t,513,GA(r,n,s));return}if(e.bf)_t(t,6,b$e(e,r,n,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?Ta(oa(e.v)):e.v;_t(t,515,H6e(r,n,o,s));break;case"b":case"e":_t(t,517,V6e(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=YU(i.Strings,e.v,i.revStrings);_t(t,253,q6e(r,n,a,s))}else _t(t,516,z6e(r,n,(e.v||"").slice(0,255),s,i));break;default:_t(t,513,GA(r,n,s))}}function e7e(t,e,r){var n=wa(),i=r.SheetNames[t],s=r.Sheets[i]||{},o=(r||{}).Workbook||{},a=(o.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,g,d="",f=[],h=gi(s["!ref"]||"A1"),A=u?65536:16384;if(h.e.c>255||h.e.r>=A){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,A-1)}_t(n,2057,WU(r,16,e)),_t(n,13,Ml(1)),_t(n,12,Ml(100)),_t(n,15,Jo(!0)),_t(n,17,Jo(!1)),_t(n,16,WA(.001)),_t(n,95,Jo(!0)),_t(n,42,Jo(!1)),_t(n,43,Jo(!1)),_t(n,130,Ml(1)),_t(n,128,G6e()),_t(n,131,Jo(!1)),_t(n,132,Jo(!1)),u&&Qze(n,s["!cols"]),_t(n,512,W6e(h,e)),u&&(s["!links"]=[]);for(var C=h.s.r;C<=h.e.r;++C){d=bo(C);for(var I=h.s.c;I<=h.e.c;++I){C===h.s.r&&(f[I]=Lo(I)),g=f[I]+d;var p=l?(s[C]||[])[I]:s[g];p&&(Jze(n,p,C,I,e),u&&p.l&&s["!links"].push([g,p.l]))}}var m=a.CodeName||a.name||i;return u&&_t(n,574,B6e((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&_t(n,229,Z6e(s["!merges"])),u&&Xze(n,s),_t(n,442,dwe(m)),u&&Yze(n,s),_t(n,10),n.end()}function t7e(t,e,r){var n=wa(),i=(t||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=r.biff==8,l=r.biff==5;if(_t(n,2057,WU(t,5,r)),r.bookType=="xla"&&_t(n,135),_t(n,225,a?Ml(1200):null),_t(n,193,E6e(2)),l&&_t(n,191),l&&_t(n,192),_t(n,226),_t(n,92,D6e("SheetJS",r)),_t(n,66,Ml(a?1200:1252)),a&&_t(n,353,Ml(0)),a&&_t(n,448),_t(n,317,rBe(t.SheetNames.length)),a&&t.vbaraw&&_t(n,211),a&&t.vbaraw){var u=o.CodeName||"ThisWorkbook";_t(n,442,dwe(u))}_t(n,156,Ml(17)),_t(n,25,Jo(!1)),_t(n,18,Jo(!1)),_t(n,19,Ml(0)),a&&_t(n,431,Jo(!1)),a&&_t(n,444,Ml(0)),_t(n,61,M6e()),_t(n,64,Jo(!1)),_t(n,141,Ml(0)),_t(n,34,Jo(oze(t)=="true")),_t(n,14,Jo(!0)),a&&_t(n,439,Jo(!1)),_t(n,218,Ml(0)),Hze(n,t,r),Kze(n,t.SSF,r),Zze(n,r),a&&_t(n,352,Jo(!1));var g=n.end(),d=wa();a&&_t(d,140,J6e()),a&&r.Strings&&qze(d,252,L6e(r.Strings)),_t(d,10);var f=d.end(),h=wa(),A=0,C=0;for(C=0;C<t.SheetNames.length;++C)A+=(a?12:11)+(a?2:1)*t.SheetNames[C].length;var I=g.length+A+f.length;for(C=0;C<t.SheetNames.length;++C){var p=s[C]||{};_t(h,133,F6e({pos:I,hs:p.Hidden||0,dt:0,name:t.SheetNames[C]},r)),I+=e[C].length}var m=h.end();if(A!=m.length)throw new Error("BS8 "+A+" != "+m.length);var v=[];return g.length&&v.push(g),m.length&&v.push(m),f.length&&v.push(f),mo(v)}function r7e(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Ra(Li)),t&&t.SSF&&(LS(),FS(t.SSF),r.revssf=MS(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,ZU(r),r.cellXfs=[],uf(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=e7e(i,r,t);return n.unshift(t7e(t,n,r)),mo(n)}function Bwe(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Il(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return r7e(t,e);case 4:case 3:case 2:return Vze(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function n7e(t,e,r,n){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){a=-1;break}a=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var g=Pn({r,c:o}),d=n.dense?(t[r]||[])[o]:t[g],f=d&&d.v!=null&&(d.h||kMe(d.w||(gd(d),d.w)||""))||"",h={};a>1&&(h.rowspan=a),l>1&&(h.colspan=l),n.editable?f='<span contenteditable="true">'+f+"</span>":d&&(h["data-t"]=d&&d.t||"z",d.v!=null&&(h["data-v"]=d.v),d.z!=null&&(h["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+d.l.Target+'">'+f+"</a>")),h.id=(n.id||"sjs")+"-"+g,s.push(Et("td",f,h))}}var A="<tr>";return A+s.join("")+"</tr>"}var i7e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s7e="</body></html>";function o7e(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $we(t,e){var r=e||{},n=r.header!=null?r.header:i7e,i=r.footer!=null?r.footer:s7e,s=[n],o=Il(t["!ref"]);r.dense=Array.isArray(t),s.push(o7e(t,o,r));for(var a=o.s.r;a<=o.e.r;++a)s.push(n7e(t,o,a,r));return s.push("</table>"+i),s.join("")}function qwe(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?Hs(n.origin):n.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var g=Il(t["!ref"]);u.s.r=Math.min(u.s.r,g.s.r),u.s.c=Math.min(u.s.c,g.s.c),u.e.r=Math.max(u.e.r,g.e.r),u.e.c=Math.max(u.e.c,g.e.c),i==-1&&(u.e.r=i=g.e.r+1)}var d=[],f=0,h=t["!rows"]||(t["!rows"]=[]),A=0,C=0,I=0,p=0,m=0,v=0;for(t["!cols"]||(t["!cols"]=[]);A<a.length&&C<l;++A){var y=a[A];if(SK(y)){if(n.display)continue;h[C]={hidden:!0}}var x=y.children;for(I=p=0;I<x.length;++I){var T=x[I];if(!(n.display&&SK(T))){var E=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):MMe(T.innerHTML),_=T.getAttribute("data-z")||T.getAttribute("z");for(f=0;f<d.length;++f){var S=d[f];S.s.c==p+s&&S.s.r<C+i&&C+i<=S.e.r&&(p=S.e.c+1-s,f=-1)}v=+T.getAttribute("colspan")||1,((m=+T.getAttribute("rowspan")||1)>1||v>1)&&d.push({s:{r:C+i,c:p+s},e:{r:C+i+(m||1)-1,c:p+s+(v||1)-1}});var j={t:"s",v:E},w=T.getAttribute("data-t")||T.getAttribute("t")||"";E!=null&&(E.length==0?j.t=w||"z":n.raw||E.trim().length==0||w=="s"||(E==="TRUE"?j={t:"b",v:!0}:E==="FALSE"?j={t:"b",v:!1}:isNaN(Xg(E))?isNaN(Iy(E).getDate())||(j={t:"d",v:oa(E)},n.cellDates||(j={t:"n",v:Ta(j.v)}),j.z=n.dateNF||Li[14]):j={t:"n",v:Xg(E)})),j.z===void 0&&_!=null&&(j.z=_);var R="",N=T.getElementsByTagName("A");if(N&&N.length)for(var P=0;P<N.length&&!(N[P].hasAttribute("href")&&(R=N[P].getAttribute("href"),R.charAt(0)!="#"));++P);R&&R.charAt(0)!="#"&&(j.l={Target:R}),n.dense?(t[C+i]||(t[C+i]=[]),t[C+i][p+s]=j):t[Pn({c:p+s,r:C+i})]=j,u.e.c<p+s&&(u.e.c=p+s),p+=v}}++C}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,C-1+i),t["!ref"]=us(u),C>=l&&(t["!fullref"]=us((u.e.r=a.length-A+C-1+i,u))),t}function zwe(t,e){var r=e||{},n=r.dense?[]:{};return qwe(n,t,e)}function a7e(t,e){return pC(zwe(t,e),e)}function SK(t){var e="",r=l7e(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function l7e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var c7e=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+my({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return hs+e}}(),EK=function(){var t=function(s){return On(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,a){var l=[];l.push('      <table:table table:name="'+On(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,g=0,d=Il(s["!ref"]||"A1"),f=s["!merges"]||[],h=0,A=Array.isArray(s);if(s["!cols"])for(g=0;g<=d.e.c;++g)l.push("        <table:table-column"+(s["!cols"][g]?' table:style-name="co'+s["!cols"][g].ods+'"':"")+`></table:table-column>
`);var C="",I=s["!rows"]||[];for(u=0;u<d.s.r;++u)C=I[u]?' table:style-name="ro'+I[u].ods+'"':"",l.push("        <table:table-row"+C+`></table:table-row>
`);for(;u<=d.e.r;++u){for(C=I[u]?' table:style-name="ro'+I[u].ods+'"':"",l.push("        <table:table-row"+C+`>
`),g=0;g<d.s.c;++g)l.push(e);for(;g<=d.e.c;++g){var p=!1,m={},v="";for(h=0;h!=f.length;++h)if(!(f[h].s.c>g)&&!(f[h].s.r>u)&&!(f[h].e.c<g)&&!(f[h].e.r<u)){(f[h].s.c!=g||f[h].s.r!=u)&&(p=!0),m["table:number-columns-spanned"]=f[h].e.c-f[h].s.c+1,m["table:number-rows-spanned"]=f[h].e.r-f[h].s.r+1;break}if(p){l.push(r);continue}var y=Pn({r:u,c:g}),x=A?(s[u]||[])[g]:s[y];if(x&&x.f&&(m["table:formula"]=On(R$e(x.f)),x.F&&x.F.slice(0,y.length)==y)){var T=Il(x.F);m["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,m["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!x){l.push(e);continue}switch(x.t){case"b":v=x.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=x.v?"true":"false";break;case"n":v=x.w||String(x.v||0),m["office:value-type"]="float",m["office:value"]=x.v||0;break;case"s":case"str":v=x.v==null?"":x.v,m["office:value-type"]="string";break;case"d":v=x.w||oa(x.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=oa(x.v).toISOString(),m["table:style-name"]="ce1";break;default:l.push(e);continue}var E=t(v);if(x.l&&x.l.Target){var _=x.l.Target;_=_.charAt(0)=="#"?"#"+N$e(_.slice(1)):_,_.charAt(0)!="#"&&!_.match(/^\w+:/)&&(_="../"+_),E=Et("text:a",E,{"xlink:href":_.replace(/&/g,"&amp;")})}l.push("          "+Et("table:table-cell",Et("text:p",E,{}),m)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var g=0;g<u["!cols"].length;++g)if(u["!cols"][g]){var d=u["!cols"][g];if(d.width==null&&d.wpx==null&&d.wch==null)continue;GU(d),d.ods=a;var f=u["!cols"][g].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var g=0;g<u["!rows"].length;++g)if(u["!rows"][g]){u["!rows"][g].ods=l;var d=u["!rows"][g].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[hs],u=my({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=my({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+g+`>
`),l.push(nwe().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=o.SheetNames.length;++d)l.push(n(o.Sheets[o.SheetNames[d]],o,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function Uwe(t,e){if(e.bookType=="fods")return EK(t,e);var r=kU(),n="",i=[],s=[];return n="mimetype",Br(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Br(r,n,EK(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Br(r,n,c7e(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Br(r,n,hs+nwe()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Br(r,n,y6e(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Br(r,n,m6e(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function f2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function u7e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Rc(py(t))}function g7e(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Qh(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function d7e(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function vy(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Tn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function op(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ss(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=vy(t,r),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);a=t.slice(l,r[0])}break;case 5:o=4,a=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,a=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=vy(t,r),a=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:a,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function uo(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Tn(n*8+i.type)),i.type==2&&e.push(Tn(i.data.length)),e.push(i.data))})}),Qh(e)}function Ac(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=vy(t,n),s=Ss(t.slice(n[0],n[0]+i));n[0]+=i;var o={id:op(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Ss(a.data),u=op(l[3][0].data);o.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(o.merge=op(s[3][0].data)>>>0>0),r.push(o)}return r}function cI(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Tn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Tn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Tn(o.data.length)}],n[2].push({data:uo(o.meta),type:2})});var s=uo(n);e.push(Tn(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),Qh(e)}function h7e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=vy(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[r[0]],a>1&&(o|=e[r[0]+1]<<8),a>2&&(o|=e[r[0]+2]<<16),a>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=a}i.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Qh(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var g=Qh(i);if(g.length!=n)throw new Error("Unexpected length: ".concat(g.length," != ").concat(n));return g}function Cc(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(h7e(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Qh(e)}function uI(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Tn(n),o=s.length;e.push(s),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return Qh(e)}function yT(t,e){var r=new Uint8Array(32),n=f2(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,d7e(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function xT(t,e){var r=new Uint8Array(32),n=f2(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Xd(t){var e=Ss(t);return vy(e[1][0].data)}function f7e(t,e,r){var n,i,s,o;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=t[8])==null?void 0:s[0])==null?void 0:o.data)&&op(t[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=f2(t[7][0].data),g=0,d=[],f=f2(t[4][0].data),h=0,A=[],C=0;C<e.length;++C){if(e[C]==null){u.setUint16(C*2,65535,!0),f.setUint16(C*2,65535);continue}u.setUint16(C*2,g,!0),f.setUint16(C*2,h,!0);var I,p;switch(typeof e[C]){case"string":I=yT({t:"s",v:e[C]},r),p=xT({t:"s",v:e[C]},r);break;case"number":I=yT({t:"n",v:e[C]},r),p=xT({t:"n",v:e[C]},r);break;case"boolean":I=yT({t:"b",v:e[C]},r),p=xT({t:"b",v:e[C]},r);break;default:throw new Error("Unsupported value "+e[C])}d.push(I),g+=I.length,A.push(p),h+=p.length,++l}for(t[2][0].data=Tn(l);C<t[7][0].data.length/2;++C)u.setUint16(C*2,65535,!0),f.setUint16(C*2,65535,!0);return t[6][0].data=Qh(d),t[3][0].data=Qh(A),l}function A7e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Il(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(us(n)));var s=A2(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(z){typeof z=="string"&&o.push(z)})});var a={},l=[],u=Fn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(q,z){return[q,u.FullPaths[z]]}).forEach(function(q){var z=q[0],G=q[1];if(z.type==2&&z.name.match(/\.iwa/)){var Z=z.content,ue=Cc(Z),re=Ac(ue);re.forEach(function(ie){l.push(ie.id),a[ie.id]={deps:[],location:G,type:op(ie.messages[0].meta[1][0].data)}})}}),l.sort(function(q,z){return q-z});var g=l.filter(function(q){return q>1}).map(function(q){return[q,Tn(q)]});u.FileIndex.map(function(q,z){return[q,u.FullPaths[z]]}).forEach(function(q){var z=q[0];if(q[1],!!z.name.match(/\.iwa/)){var G=Ac(Cc(z.content));G.forEach(function(Z){Z.messages.forEach(function(ue){g.forEach(function(re){Z.messages.some(function(ie){return op(ie.meta[1][0].data)!=11006&&g7e(ie.data,re[1])})&&a[re[0]].deps.push(Z.id)})})})}});for(var d=Fn.find(u,a[1].location),f=Ac(Cc(d.content)),h,A=0;A<f.length;++A){var C=f[A];C.id==1&&(h=C)}var I=Xd(Ss(h.messages[0].data)[1][0].data);for(d=Fn.find(u,a[I].location),f=Ac(Cc(d.content)),A=0;A<f.length;++A)C=f[A],C.id==I&&(h=C);for(I=Xd(Ss(h.messages[0].data)[2][0].data),d=Fn.find(u,a[I].location),f=Ac(Cc(d.content)),A=0;A<f.length;++A)C=f[A],C.id==I&&(h=C);for(I=Xd(Ss(h.messages[0].data)[2][0].data),d=Fn.find(u,a[I].location),f=Ac(Cc(d.content)),A=0;A<f.length;++A)C=f[A],C.id==I&&(h=C);var p=Ss(h.messages[0].data);{p[6][0].data=Tn(n.e.r+1),p[7][0].data=Tn(n.e.c+1);var m=Xd(p[46][0].data),v=Fn.find(u,a[m].location),y=Ac(Cc(v.content));{for(var x=0;x<y.length&&y[x].id!=m;++x);if(y[x].id!=m)throw"Bad ColumnRowUIDMapArchive";var T=Ss(y[x].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var E=0;E<=n.e.c;++E){var _=[];_[1]=_[2]=[{type:0,data:Tn(E+420690)}],T[1].push({type:2,data:uo(_)}),T[2].push({type:0,data:Tn(E)}),T[3].push({type:0,data:Tn(E)})}T[4]=[],T[5]=[],T[6]=[];for(var S=0;S<=n.e.r;++S)_=[],_[1]=_[2]=[{type:0,data:Tn(S+726270)}],T[4].push({type:2,data:uo(_)}),T[5].push({type:0,data:Tn(S)}),T[6].push({type:0,data:Tn(S)});y[x].messages[0].data=uo(T)}v.content=uI(cI(y)),v.size=v.content.length,delete p[46];var j=Ss(p[4][0].data);{j[7][0].data=Tn(n.e.r+1);var w=Ss(j[1][0].data),R=Xd(w[2][0].data);v=Fn.find(u,a[R].location),y=Ac(Cc(v.content));{if(y[0].id!=R)throw"Bad HeaderStorageBucket";var N=Ss(y[0].messages[0].data);for(S=0;S<s.length;++S){var P=Ss(N[2][0].data);P[1][0].data=Tn(S),P[4][0].data=Tn(s[S].length),N[2][S]={type:N[2][0].type,data:uo(P)}}y[0].messages[0].data=uo(N)}v.content=uI(cI(y)),v.size=v.content.length;var M=Xd(j[2][0].data);v=Fn.find(u,a[M].location),y=Ac(Cc(v.content));{if(y[0].id!=M)throw"Bad HeaderStorageBucket";for(N=Ss(y[0].messages[0].data),E=0;E<=n.e.c;++E)P=Ss(N[2][0].data),P[1][0].data=Tn(E),P[4][0].data=Tn(n.e.r+1),N[2][E]={type:N[2][0].type,data:uo(P)};y[0].messages[0].data=uo(N)}v.content=uI(cI(y)),v.size=v.content.length;var B=Xd(j[4][0].data);(function(){for(var q=Fn.find(u,a[B].location),z=Ac(Cc(q.content)),G,Z=0;Z<z.length;++Z){var ue=z[Z];ue.id==B&&(G=ue)}var re=Ss(G.messages[0].data);{re[3]=[];var ie=[];o.forEach(function(Fe,He){ie[1]=[{type:0,data:Tn(He)}],ie[2]=[{type:0,data:Tn(1)}],ie[3]=[{type:2,data:u7e(Fe)}],re[3].push({type:2,data:uo(ie)})})}G.messages[0].data=uo(re);var Ce=cI(z),Pe=uI(Ce);q.content=Pe,q.size=q.content.length})();var W=Ss(j[3][0].data);{var H=W[1][0];delete W[2];var V=Ss(H.data);{var K=Xd(V[2][0].data);(function(){for(var q=Fn.find(u,a[K].location),z=Ac(Cc(q.content)),G,Z=0;Z<z.length;++Z){var ue=z[Z];ue.id==K&&(G=ue)}var re=Ss(G.messages[0].data);{delete re[6],delete W[7];var ie=new Uint8Array(re[5][0].data);re[5]=[];for(var Ce=0,Pe=0;Pe<=n.e.r;++Pe){var Fe=Ss(ie);Ce+=f7e(Fe,s[Pe],o),Fe[1][0].data=Tn(Pe),re[5].push({data:uo(Fe),type:2})}re[1]=[{type:0,data:Tn(n.e.c+1)}],re[2]=[{type:0,data:Tn(n.e.r+1)}],re[3]=[{type:0,data:Tn(Ce)}],re[4]=[{type:0,data:Tn(n.e.r+1)}]}G.messages[0].data=uo(re);var He=cI(z),Te=uI(He);q.content=Te,q.size=q.content.length})()}H.data=uo(V)}j[3][0].data=uo(W)}p[4][0].data=uo(j)}h.messages[0].data=uo(p);var Y=cI(f),k=uI(Y);return d.content=k,d.size=d.content.length,u}function C7e(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function ZU(t){C7e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function I7e(t,e){return e.bookType=="ods"?Uwe(t,e):e.bookType=="numbers"?A7e(t,e):e.bookType=="xlsb"?p7e(t,e):m7e(t,e)}function p7e(t,e){UI=1024,t&&!t.SSF&&(t.SSF=Ra(Li)),t&&t.SSF&&(LS(),FS(t.SSF),e.revssf=MS(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,zv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=Swe.indexOf(e.bookType)>-1,i=ewe();ZU(e=e||{});var s=kU(),o="",a=0;if(e.cellXfs=[],uf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Br(s,o,iwe(t.Props,e)),i.coreprops.push(o),Rn(e.rels,2,o,un.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Br(s,o,owe(t.Props)),i.extprops.push(o),Rn(e.rels,3,o,un.EXT_PROPS),t.Custprops!==t.Props&&wo(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Br(s,o,awe(t.Custprops)),i.custprops.push(o),Rn(e.rels,4,o,un.CUST_PROPS)),a=1;a<=t.SheetNames.length;++a){var g={"!id":{}},d=t.Sheets[t.SheetNames[a-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,Br(s,o,yze(a-1,o,e,t,g)),i.sheets.push(o),Rn(e.wbrels,-1,"worksheets/sheet"+a+"."+r,un.WS[0])}if(d){var h=d["!comments"],A=!1,C="";h&&h.length>0&&(C="xl/comments"+a+"."+r,Br(s,C,wze(h,C)),i.comments.push(C),Rn(g,-1,"../comments"+a+"."+r,un.CMNT),A=!0),d["!legacy"]&&A&&Br(s,"xl/drawings/vmlDrawing"+a+".vml",bwe(a,d["!comments"])),delete d["!comments"],delete d["!legacy"]}g["!id"].rId1&&Br(s,rwe(o),ip(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Br(s,o,bze(e.Strings,o,e)),i.strs.push(o),Rn(e.wbrels,-1,"sharedStrings."+r,un.SST)),o="xl/workbook."+r,Br(s,o,vze(t,o)),i.workbooks.push(o),Rn(e.rels,1,o,un.WB),o="xl/theme/theme1.xml",Br(s,o,ywe(t.Themes,e)),i.themes.push(o),Rn(e.wbrels,-1,"theme/theme1.xml",un.THEME),o="xl/styles."+r,Br(s,o,xze(t,o,e)),i.styles.push(o),Rn(e.wbrels,-1,"styles."+r,un.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Br(s,o,t.vbaraw),i.vba.push(o),Rn(e.wbrels,-1,"vbaProject.bin",un.VBA)),o="xl/metadata."+r,Br(s,o,Sze(o)),i.metadata.push(o),Rn(e.wbrels,-1,"metadata."+r,un.XLMETA),Br(s,"[Content_Types].xml",twe(i,e)),Br(s,"_rels/.rels",ip(e.rels)),Br(s,"xl/_rels/workbook."+r+".rels",ip(e.wbrels)),delete e.revssf,delete e.ssf,s}function m7e(t,e){UI=1024,t&&!t.SSF&&(t.SSF=Ra(Li)),t&&t.SSF&&(LS(),FS(t.SSF),e.revssf=MS(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,zv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=Swe.indexOf(e.bookType)>-1,i=ewe();ZU(e=e||{});var s=kU(),o="",a=0;if(e.cellXfs=[],uf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Br(s,o,iwe(t.Props,e)),i.coreprops.push(o),Rn(e.rels,2,o,un.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Br(s,o,owe(t.Props)),i.extprops.push(o),Rn(e.rels,3,o,un.EXT_PROPS),t.Custprops!==t.Props&&wo(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Br(s,o,awe(t.Custprops)),i.custprops.push(o),Rn(e.rels,4,o,un.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,a=1;a<=t.SheetNames.length;++a){var d={"!id":{}},f=t.Sheets[t.SheetNames[a-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,Br(s,o,kwe(a-1,e,t,d)),i.sheets.push(o),Rn(e.wbrels,-1,"worksheets/sheet"+a+"."+r,un.WS[0])}if(f){var A=f["!comments"],C=!1,I="";if(A&&A.length>0){var p=!1;A.forEach(function(m){m[1].forEach(function(v){v.T==!0&&(p=!0)})}),p&&(I="xl/threadedComments/threadedComment"+a+"."+r,Br(s,I,ZBe(A,g,e)),i.threadedcomments.push(I),Rn(d,-1,"../threadedComments/threadedComment"+a+"."+r,un.TCMNT)),I="xl/comments"+a+"."+r,Br(s,I,wwe(A)),i.comments.push(I),Rn(d,-1,"../comments"+a+"."+r,un.CMNT),C=!0}f["!legacy"]&&C&&Br(s,"xl/drawings/vmlDrawing"+a+".vml",bwe(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Br(s,rwe(o),ip(d))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Br(s,o,Awe(e.Strings,e)),i.strs.push(o),Rn(e.wbrels,-1,"sharedStrings."+r,un.SST)),o="xl/workbook."+r,Br(s,o,Lwe(t)),i.workbooks.push(o),Rn(e.rels,1,o,un.WB),o="xl/theme/theme1.xml",Br(s,o,ywe(t.Themes,e)),i.themes.push(o),Rn(e.wbrels,-1,"theme/theme1.xml",un.THEME),o="xl/styles."+r,Br(s,o,mwe(t,e)),i.styles.push(o),Rn(e.wbrels,-1,"styles."+r,un.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Br(s,o,t.vbaraw),i.vba.push(o),Rn(e.wbrels,-1,"vbaProject.bin",un.VBA)),o="xl/metadata."+r,Br(s,o,xwe()),i.metadata.push(o),Rn(e.wbrels,-1,"metadata."+r,un.XLMETA),g.length>1&&(o="xl/persons/person.xml",Br(s,o,XBe(g)),i.people.push(o),Rn(e.wbrels,-1,"persons/person.xml",un.PEOPLE)),Br(s,"[Content_Types].xml",twe(i,e)),Br(s,"_rels/.rels",ip(e.rels)),Br(s,"xl/_rels/workbook."+r+".rels",ip(e.wbrels)),delete e.revssf,delete e.ssf,s}function v7e(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ud(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Wwe(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return m1(e.file,Fn.write(t,{type:An?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Fn.write(t,e)}function y7e(t,e){var r=Ra(e||{}),n=I7e(t,r);return x7e(n,r)}function x7e(t,e){var r={},n=An?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Fn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(DS(i))}return e.password&&typeof encrypt_agile<"u"?Wwe(encrypt_agile(i,e.password),e):e.type==="file"?m1(e.file,i):e.type=="string"?Mv(i):i}function b7e(t,e){var r=e||{},n=Bze(t,r);return Wwe(n,r)}function pu(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Cy(py(n));case"binary":return py(n);case"string":return t;case"file":return m1(e.file,n,"utf8");case"buffer":return An?yd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):pu(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function w7e(t,e){switch(e.type){case"base64":return Cy(t);case"binary":return t;case"string":return t;case"file":return m1(e.file,t,"binary");case"buffer":return An?yd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Cb(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Cy(r):e.type=="string"?Mv(r):r;case"file":return m1(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function Gwe(t,e){QLe(),cze(t);var r=Ra(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Gwe(t,r);return r.type="array",DS(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return pu(Lze(t,r),r);case"slk":case"sylk":return pu(oBe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return pu($we(t.Sheets[t.SheetNames[i]],r),r);case"txt":return w7e(Vwe(t.Sheets[t.SheetNames[i]],r),r);case"csv":return pu(XU(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return pu(aBe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Cb(sBe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return pu(lBe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return pu(ABe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return pu(fwe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return pu(Uwe(t,r),r);case"wk1":return Cb(mK.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Cb(mK.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Cb(Bwe(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),b7e(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return y7e(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function S7e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function E7e(t,e,r){var n={};return n.type="file",n.file=e,S7e(n),Gwe(t,n)}function _7e(t,e,r,n,i,s,o,a){var l=bo(r),u=a.defval,g=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),d=!0,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!o||t[r])for(var h=e.s.c;h<=e.e.c;++h){var A=o?t[r][h]:t[n[h]+l];if(A===void 0||A.t===void 0){if(u===void 0)continue;s[h]!=null&&(f[s[h]]=u);continue}var C=A.v;switch(A.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(s[h]!=null){if(C==null)if(A.t=="e"&&C===null)f[s[h]]=null;else if(u!==void 0)f[s[h]]=u;else if(g&&C===null)f[s[h]]=null;else continue;else f[s[h]]=g&&(A.t!=="n"||A.t==="n"&&a.rawNumbers!==!1)?C:gd(A,C,a);C!=null&&(d=!1)}}return{row:f,isempty:d}}function A2(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},g=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof g){case"string":l=gi(g);break;case"number":l=gi(t["!ref"]),l.s.r=g;break;default:l=g}n>0&&(i=0);var d=bo(l.s.r),f=[],h=[],A=0,C=0,I=Array.isArray(t),p=l.s.r,m=0,v={};I&&!t[p]&&(t[p]=[]);var y=u.skipHidden&&t["!cols"]||[],x=u.skipHidden&&t["!rows"]||[];for(m=l.s.c;m<=l.e.c;++m)if(!(y[m]||{}).hidden)switch(f[m]=Lo(m),r=I?t[p][m]:t[f[m]+d],n){case 1:s[m]=m-l.s.c;break;case 2:s[m]=f[m];break;case 3:s[m]=u.header[m-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),a=o=gd(r,null,u),C=v[o]||0,!C)v[o]=1;else{do a=o+"_"+C++;while(v[a]);v[o]=C,v[a]=1}s[m]=a}for(p=l.s.r+i;p<=l.e.r;++p)if(!(x[p]||{}).hidden){var T=_7e(t,l,p,f,n,s,I,u);(T.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[A++]=T.row)}return h.length=A,h}var _K=/"/g;function T7e(t,e,r,n,i,s,o,a){for(var l=!0,u=[],g="",d=bo(r),f=e.s.c;f<=e.e.c;++f)if(n[f]){var h=a.dense?(t[r]||[])[f]:t[n[f]+d];if(h==null)g="";else if(h.v!=null){l=!1,g=""+(a.rawNumbers&&h.t=="n"?h.v:gd(h,null,a));for(var A=0,C=0;A!==g.length;++A)if((C=g.charCodeAt(A))===i||C===s||C===34||a.forceQuotes){g='"'+g.replace(_K,'""')+'"';break}g=="ID"&&(g='"ID"')}else h.f!=null&&!h.F?(l=!1,g="="+h.f,g.indexOf(",")>=0&&(g='"'+g.replace(_K,'""')+'"')):g="";u.push(g)}return a.blankrows===!1&&l?null:u.join(o)}function XU(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=gi(t["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),a=n.RS!==void 0?n.RS:`
`,l=a.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),g="",d=[];n.dense=Array.isArray(t);for(var f=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(f[A]||{}).hidden||(d[A]=Lo(A));for(var C=0,I=i.s.r;I<=i.e.r;++I)(h[I]||{}).hidden||(g=T7e(t,i,I,d,o,l,s,n),g!=null&&(n.strip&&(g=g.replace(u,"")),(g||n.blankrows!==!1)&&r.push((C++?a:"")+g)));return delete n.dense,r.join("")}function Vwe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=XU(t,e);return r}function R7e(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=gi(t["!ref"]),s="",o=[],a,l=[],u=Array.isArray(t);for(a=i.s.c;a<=i.e.c;++a)o[a]=Lo(a);for(var g=i.s.r;g<=i.e.r;++g)for(s=bo(g),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,r=u?(t[g]||[])[a]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function Hwe(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},o=0,a=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Hs(n.origin):n.origin;o=l.r,a=l.c}var u,g={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var d=gi(s["!ref"]);g.e.c=Math.max(g.e.c,d.e.c),g.e.r=Math.max(g.e.r,d.e.r),o==-1&&(o=d.e.r+1,g.e.r=o+e.length-1+i)}else o==-1&&(o=0,g.e.r=e.length-1+i);var f=n.header||[],h=0;e.forEach(function(C,I){wo(C).forEach(function(p){(h=f.indexOf(p))==-1&&(f[h=f.length]=p);var m=C[p],v="z",y="",x=Pn({c:a+h,r:o+I+i});u=yy(s,x),m&&typeof m=="object"&&!(m instanceof Date)?s[x]=m:(typeof m=="number"?v="n":typeof m=="boolean"?v="b":typeof m=="string"?v="s":m instanceof Date?(v="d",n.cellDates||(v="n",m=Ta(m)),y=n.dateNF||Li[14]):m===null&&n.nullError&&(v="e",m=0),u?(u.t=v,u.v=m,delete u.w,delete u.R,y&&(u.z=y)):s[x]=u={t:v,v:m},y&&(u.z=y))})}),g.e.c=Math.max(g.e.c,a+f.length-1);var A=bo(o);if(i)for(h=0;h<f.length;++h)s[Lo(h+a)+A]={t:"s",v:f[h]};return s["!ref"]=us(g),s}function N7e(t,e){return Hwe(null,t,e)}function yy(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Hs(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?yy(t,Pn(e)):yy(t,Pn({r:e,c:r||0}))}function O7e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function j7e(){return{SheetNames:[],Sheets:{}}}function P7e(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=o+i)!=-1;++i);}if(Fwe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function k7e(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=O7e(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function D7e(t,e){return t.z=e,t}function Kwe(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function F7e(t,e,r){return Kwe(t,"#"+e,r)}function L7e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function M7e(t,e,r,n){for(var i=typeof e!="string"?e:gi(e),s=typeof e=="string"?e:us(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=yy(t,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var D0={encode_col:Lo,encode_row:bo,encode_cell:Pn,encode_range:us,decode_col:$U,decode_row:BU,split_cell:QMe,decode_cell:Hs,decode_range:Il,format_cell:gd,sheet_add_aoa:Kbe,sheet_add_json:Hwe,sheet_add_dom:qwe,aoa_to_sheet:dm,json_to_sheet:N7e,table_to_sheet:zwe,table_to_book:a7e,sheet_to_csv:XU,sheet_to_txt:Vwe,sheet_to_json:A2,sheet_to_html:$we,sheet_to_formulae:R7e,sheet_to_row_object_array:A2,sheet_get_cell:yy,book_new:j7e,book_append_sheet:P7e,book_set_sheet_visibility:k7e,cell_set_number_format:D7e,cell_set_hyperlink:Kwe,cell_set_internal_link:F7e,cell_add_comment:L7e,sheet_set_array_formula:M7e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const B7e="modulepreload",$7e=function(t){return"/"+t},TK={},bT=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=$7e(l),l in TK)return;TK[l]=!0;const u=l.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${g}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":B7e,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Gc=Uint8Array,ul=Uint16Array,QU=Int32Array,JU=new Gc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e9=new Gc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RK=new Gc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ywe=function(t,e){for(var r=new ul(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new QU(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Zwe=Ywe(JU,2),q7e=Zwe.b,wz=Zwe.r;q7e[28]=258,wz[258]=28;var z7e=Ywe(e9,0),NK=z7e.r,Sz=new ul(32768);for(var ci=0;ci<32768;++ci){var Qd=(ci&43690)>>1|(ci&21845)<<1;Qd=(Qd&52428)>>2|(Qd&13107)<<2,Qd=(Qd&61680)>>4|(Qd&3855)<<4,Sz[ci]=((Qd&65280)>>8|(Qd&255)<<8)>>1}var Uv=function(t,e,r){for(var n=t.length,i=0,s=new ul(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new ul(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new ul(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],g=e-t[i],d=o[t[i]-1]++<<g,f=d|(1<<g)-1;d<=f;++d)a[Sz[d]>>l]=u}else for(a=new ul(n),i=0;i<n;++i)t[i]&&(a[i]=Sz[o[t[i]-1]++]>>15-t[i]);return a},VA=new Gc(288);for(var ci=0;ci<144;++ci)VA[ci]=8;for(var ci=144;ci<256;++ci)VA[ci]=9;for(var ci=256;ci<280;++ci)VA[ci]=7;for(var ci=280;ci<288;++ci)VA[ci]=8;var C2=new Gc(32);for(var ci=0;ci<32;++ci)C2[ci]=5;var U7e=Uv(VA,9,0),W7e=Uv(C2,5,0),Xwe=function(t){return(t+7)/8|0},G7e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Gc(t.subarray(e,r))},fg=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},F0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},wT=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Jwe,l:0};if(i==1){var o=new Gc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(x,T){return x.f-T.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,g=1,d=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};g!=i-1;)a=r[r[u].f<r[d].f?u++:d++],l=r[u!=g&&r[u].f<r[d].f?u++:d++],r[g++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var h=new ul(f+1),A=Ez(r[g-1],h,0);if(A>e){var n=0,C=0,I=A-e,p=1<<I;for(s.sort(function(T,E){return h[E.s]-h[T.s]||T.f-E.f});n<i;++n){var m=s[n].s;if(h[m]>e)C+=p-(1<<A-h[m]),h[m]=e;else break}for(C>>=I;C>0;){var v=s[n].s;h[v]<e?C-=1<<e-h[v]++-1:++n}for(;n>=0&&C;--n){var y=s[n].s;h[y]==e&&(--h[y],++C)}A=e}return{t:new Gc(h),l:A}},Ez=function(t,e,r){return t.s==-1?Math.max(Ez(t.l,e,r+1),Ez(t.r,e,r+1)):e[t.s]=r},OK=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ul(++e),n=0,i=t[0],s=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},L0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Qwe=function(t,e,r){var n=r.length,i=Xwe(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},jK=function(t,e,r,n,i,s,o,a,l,u,g){fg(e,g++,r),++i[256];for(var d=wT(i,15),f=d.t,h=d.l,A=wT(s,15),C=A.t,I=A.l,p=OK(f),m=p.c,v=p.n,y=OK(C),x=y.c,T=y.n,E=new ul(19),_=0;_<m.length;++_)++E[m[_]&31];for(var _=0;_<x.length;++_)++E[x[_]&31];for(var S=wT(E,7),j=S.t,w=S.l,R=19;R>4&&!j[RK[R-1]];--R);var N=u+5<<3,P=L0(i,VA)+L0(s,C2)+o,M=L0(i,f)+L0(s,C)+o+14+3*R+L0(E,j)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&N<=P&&N<=M)return Qwe(e,g,t.subarray(l,l+u));var B,W,H,V;if(fg(e,g,1+(M<P)),g+=2,M<P){B=Uv(f,h,0),W=f,H=Uv(C,I,0),V=C;var K=Uv(j,w,0);fg(e,g,v-257),fg(e,g+5,T-1),fg(e,g+10,R-4),g+=14;for(var _=0;_<R;++_)fg(e,g+3*_,j[RK[_]]);g+=3*R;for(var Y=[m,x],k=0;k<2;++k)for(var q=Y[k],_=0;_<q.length;++_){var z=q[_]&31;fg(e,g,K[z]),g+=j[z],z>15&&(fg(e,g,q[_]>>5&127),g+=q[_]>>12)}}else B=U7e,W=VA,H=W7e,V=C2;for(var _=0;_<a;++_){var G=n[_];if(G>255){var z=G>>18&31;F0(e,g,B[z+257]),g+=W[z+257],z>7&&(fg(e,g,G>>23&31),g+=JU[z]);var Z=G&31;F0(e,g,H[Z]),g+=V[Z],Z>3&&(F0(e,g,G>>5&8191),g+=e9[Z])}else F0(e,g,B[G]),g+=W[G]}return F0(e,g,B[256]),g+W[256]},V7e=new QU([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Jwe=new Gc(0),H7e=function(t,e,r,n,i,s){var o=s.z||t.length,a=new Gc(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),u=s.l,g=(s.r||0)&7;if(e){g&&(l[0]=s.r>>3);for(var d=V7e[e-1],f=d>>13,h=d&8191,A=(1<<r)-1,C=s.p||new ul(32768),I=s.h||new ul(A+1),p=Math.ceil(r/3),m=2*p,v=function(Te){return(t[Te]^t[Te+1]<<p^t[Te+2]<<m)&A},y=new QU(25e3),x=new ul(288),T=new ul(32),E=0,_=0,S=s.i||0,j=0,w=s.w||0,R=0;S+2<o;++S){var N=v(S),P=S&32767,M=I[N];if(C[P]=M,I[N]=P,w<=S){var B=o-S;if((E>7e3||j>24576)&&(B>423||!u)){g=jK(t,l,0,y,x,T,_,j,R,S-R,g),j=E=_=0,R=S;for(var W=0;W<286;++W)x[W]=0;for(var W=0;W<30;++W)T[W]=0}var H=2,V=0,K=h,Y=P-M&32767;if(B>2&&N==v(S-Y))for(var k=Math.min(f,B)-1,q=Math.min(32767,S),z=Math.min(258,B);Y<=q&&--K&&P!=M;){if(t[S+H]==t[S+H-Y]){for(var G=0;G<z&&t[S+G]==t[S+G-Y];++G);if(G>H){if(H=G,V=Y,G>k)break;for(var Z=Math.min(Y,G-2),ue=0,W=0;W<Z;++W){var re=S-Y+W&32767,ie=C[re],Ce=re-ie&32767;Ce>ue&&(ue=Ce,M=re)}}}P=M,M=C[P],Y+=P-M&32767}if(V){y[j++]=268435456|wz[H]<<18|NK[V];var Pe=wz[H]&31,Fe=NK[V]&31;_+=JU[Pe]+e9[Fe],++x[257+Pe],++T[Fe],w=S+H,++E}else y[j++]=t[S],++x[t[S]]}}for(S=Math.max(S,w);S<o;++S)y[j++]=t[S],++x[t[S]];g=jK(t,l,u,y,x,T,_,j,R,S-R,g),u||(s.r=g&7|l[g/8|0]<<3,g-=7,s.h=I,s.p=C,s.i=S,s.w=w)}else{for(var S=s.w||0;S<o+u;S+=65535){var He=S+65535;He>=o&&(l[g/8|0]=u,He=o),g=Qwe(l,g+1,t.subarray(S,He))}s.i=o}return G7e(a,0,n+Xwe(g)+i)},e2e=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},K7e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Gc(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return H7e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},t2e=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Y7e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=e2e();i.p(e.dictionary),t2e(t,2,i.d())}};function _z(t,e){e||(e={});var r=e2e();r.p(t);var n=K7e(t,e,e.dictionary?6:2,4);return Y7e(n,e),t2e(n,n.length-4,r.d()),n}var Z7e=typeof TextDecoder<"u"&&new TextDecoder,X7e=0;try{Z7e.decode(Jwe,{stream:!0}),X7e=1}catch{}function PK(t,e="utf8"){return new TextDecoder(e).decode(t)}const Q7e=new TextEncoder;function J7e(t){return Q7e.encode(t)}const eUe=1024*8,tUe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ST={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class t9{constructor(e=eUe,r={}){ve(this,"buffer");ve(this,"byteLength");ve(this,"byteOffset");ve(this,"length");ve(this,"offset");ve(this,"lastWrittenByte");ve(this,"littleEndian");ve(this,"_data");ve(this,"_mark");ve(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof t9)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=ST[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===tUe&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const l=new ST[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new ST[r](s);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return PK(this.readBytes(e))}decodeText(e=1,r="utf8"){return PK(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(J7e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Am(t){let e=t.length;for(;--e>=0;)t[e]=0}const rUe=3,nUe=258,r2e=29,iUe=256,sUe=iUe+1+r2e,n2e=30,oUe=512,aUe=new Array((sUe+2)*2);Am(aUe);const lUe=new Array(n2e*2);Am(lUe);const cUe=new Array(oUe);Am(cUe);const uUe=new Array(nUe-rUe+1);Am(uUe);const gUe=new Array(r2e);Am(gUe);const dUe=new Array(n2e);Am(dUe);const hUe=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Tz=hUe;const fUe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},AUe=new Uint32Array(fUe()),CUe=(t,e,r,n)=>{const i=AUe,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var du=CUe,Rz={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},i2e={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const IUe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var pUe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)IUe(r,n)&&(t[n]=r[n])}}return t},mUe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},s2e={assign:pUe,flattenChunks:mUe};let o2e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o2e=!1}const xy=new Uint8Array(256);for(let t=0;t<256;t++)xy[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;xy[254]=xy[254]=1;var vUe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const yUe=(t,e)=>{if(e<65534&&t.subarray&&o2e)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var xUe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=xy[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return yUe(s,i)},bUe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+xy[t[r]]>e?r:e},Nz={string2buf:vUe,buf2string:xUe,utf8border:bUe};function wUe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SUe=wUe;const Ib=16209,EUe=16191;var _Ue=function(e,r){let n,i,s,o,a,l,u,g,d,f,h,A,C,I,p,m,v,y,x,T,E,_,S,j;const w=e.state;n=e.next_in,S=e.input,i=n+(e.avail_in-5),s=e.next_out,j=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),l=w.dmax,u=w.wsize,g=w.whave,d=w.wnext,f=w.window,h=w.hold,A=w.bits,C=w.lencode,I=w.distcode,p=(1<<w.lenbits)-1,m=(1<<w.distbits)-1;e:do{A<15&&(h+=S[n++]<<A,A+=8,h+=S[n++]<<A,A+=8),v=C[h&p];t:for(;;){if(y=v>>>24,h>>>=y,A-=y,y=v>>>16&255,y===0)j[s++]=v&65535;else if(y&16){x=v&65535,y&=15,y&&(A<y&&(h+=S[n++]<<A,A+=8),x+=h&(1<<y)-1,h>>>=y,A-=y),A<15&&(h+=S[n++]<<A,A+=8,h+=S[n++]<<A,A+=8),v=I[h&m];r:for(;;){if(y=v>>>24,h>>>=y,A-=y,y=v>>>16&255,y&16){if(T=v&65535,y&=15,A<y&&(h+=S[n++]<<A,A+=8,A<y&&(h+=S[n++]<<A,A+=8)),T+=h&(1<<y)-1,T>l){e.msg="invalid distance too far back",w.mode=Ib;break e}if(h>>>=y,A-=y,y=s-o,T>y){if(y=T-y,y>g&&w.sane){e.msg="invalid distance too far back",w.mode=Ib;break e}if(E=0,_=f,d===0){if(E+=u-y,y<x){x-=y;do j[s++]=f[E++];while(--y);E=s-T,_=j}}else if(d<y){if(E+=u+d-y,y-=d,y<x){x-=y;do j[s++]=f[E++];while(--y);if(E=0,d<x){y=d,x-=y;do j[s++]=f[E++];while(--y);E=s-T,_=j}}}else if(E+=d-y,y<x){x-=y;do j[s++]=f[E++];while(--y);E=s-T,_=j}for(;x>2;)j[s++]=_[E++],j[s++]=_[E++],j[s++]=_[E++],x-=3;x&&(j[s++]=_[E++],x>1&&(j[s++]=_[E++]))}else{E=s-T;do j[s++]=j[E++],j[s++]=j[E++],j[s++]=j[E++],x-=3;while(x>2);x&&(j[s++]=j[E++],x>1&&(j[s++]=j[E++]))}}else if(y&64){e.msg="invalid distance code",w.mode=Ib;break e}else{v=I[(v&65535)+(h&(1<<y)-1)];continue r}break}}else if(y&64)if(y&32){w.mode=EUe;break e}else{e.msg="invalid literal/length code",w.mode=Ib;break e}else{v=C[(v&65535)+(h&(1<<y)-1)];continue t}break}}while(n<i&&s<a);x=A>>3,n-=x,A-=x<<3,h&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),w.hold=h,w.bits=A};const gI=15,kK=852,DK=592,FK=0,ET=1,LK=2,TUe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RUe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),NUe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OUe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jUe=(t,e,r,n,i,s,o,a)=>{const l=a.bits;let u=0,g=0,d=0,f=0,h=0,A=0,C=0,I=0,p=0,m=0,v,y,x,T,E,_=null,S;const j=new Uint16Array(gI+1),w=new Uint16Array(gI+1);let R=null,N,P,M;for(u=0;u<=gI;u++)j[u]=0;for(g=0;g<n;g++)j[e[r+g]]++;for(h=l,f=gI;f>=1&&j[f]===0;f--);if(h>f&&(h=f),f===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<f&&j[d]===0;d++);for(h<d&&(h=d),I=1,u=1;u<=gI;u++)if(I<<=1,I-=j[u],I<0)return-1;if(I>0&&(t===FK||f!==1))return-1;for(w[1]=0,u=1;u<gI;u++)w[u+1]=w[u]+j[u];for(g=0;g<n;g++)e[r+g]!==0&&(o[w[e[r+g]]++]=g);if(t===FK?(_=R=o,S=20):t===ET?(_=TUe,R=RUe,S=257):(_=NUe,R=OUe,S=0),m=0,g=0,u=d,E=s,A=h,C=0,x=-1,p=1<<h,T=p-1,t===ET&&p>kK||t===LK&&p>DK)return 1;for(;;){N=u-C,o[g]+1<S?(P=0,M=o[g]):o[g]>=S?(P=R[o[g]-S],M=_[o[g]-S]):(P=96,M=0),v=1<<u-C,y=1<<A,d=y;do y-=v,i[E+(m>>C)+y]=N<<24|P<<16|M|0;while(y!==0);for(v=1<<u-1;m&v;)v>>=1;if(v!==0?(m&=v-1,m+=v):m=0,g++,--j[u]===0){if(u===f)break;u=e[r+o[g]]}if(u>h&&(m&T)!==x){for(C===0&&(C=h),E+=d,A=u-C,I=1<<A;A+C<f&&(I-=j[A+C],!(I<=0));)A++,I<<=1;if(p+=1<<A,t===ET&&p>kK||t===LK&&p>DK)return 1;x=m&T,i[x]=h<<24|A<<16|E-s|0}}return m!==0&&(i[E+m]=u-C<<24|64<<16|0),a.bits=h,0};var Wv=jUe;const PUe=0,a2e=1,l2e=2,{Z_FINISH:MK,Z_BLOCK:kUe,Z_TREES:pb,Z_OK:HA,Z_STREAM_END:DUe,Z_NEED_DICT:FUe,Z_STREAM_ERROR:Ql,Z_DATA_ERROR:c2e,Z_MEM_ERROR:u2e,Z_BUF_ERROR:LUe,Z_DEFLATED:BK}=i2e,US=16180,$K=16181,qK=16182,zK=16183,UK=16184,WK=16185,GK=16186,VK=16187,HK=16188,KK=16189,I2=16190,Ag=16191,_T=16192,YK=16193,TT=16194,ZK=16195,XK=16196,QK=16197,JK=16198,mb=16199,vb=16200,eY=16201,tY=16202,rY=16203,nY=16204,iY=16205,RT=16206,sY=16207,oY=16208,hi=16209,g2e=16210,d2e=16211,MUe=852,BUe=592,$Ue=15,qUe=$Ue,aY=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function zUe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bC=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<US||e.mode>d2e?1:0},h2e=t=>{if(bC(t))return Ql;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=US,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(MUe),e.distcode=e.distdyn=new Int32Array(BUe),e.sane=1,e.back=-1,HA},f2e=t=>{if(bC(t))return Ql;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,h2e(t)},A2e=(t,e)=>{let r;if(bC(t))return Ql;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ql:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,f2e(t))},C2e=(t,e)=>{if(!t)return Ql;const r=new zUe;t.state=r,r.strm=t,r.window=null,r.mode=US;const n=A2e(t,e);return n!==HA&&(t.state=null),n},UUe=t=>C2e(t,qUe);let lY=!0,NT,OT;const WUe=t=>{if(lY){NT=new Int32Array(512),OT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Wv(a2e,t.lens,0,288,NT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Wv(l2e,t.lens,0,32,OT,0,t.work,{bits:5}),lY=!1}t.lencode=NT,t.lenbits=9,t.distcode=OT,t.distbits=5},I2e=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},GUe=(t,e)=>{let r,n,i,s,o,a,l,u,g,d,f,h,A,C,I=0,p,m,v,y,x,T,E,_;const S=new Uint8Array(4);let j,w;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bC(t)||!t.output||!t.input&&t.avail_in!==0)return Ql;r=t.state,r.mode===Ag&&(r.mode=_T),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,g=r.bits,d=a,f=l,_=HA;e:for(;;)switch(r.mode){case US:if(r.wrap===0){r.mode=_T;break}for(;g<16;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,S[0]=u&255,S[1]=u>>>8&255,r.check=du(r.check,S,2,0),u=0,g=0,r.mode=$K;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=hi;break}if((u&15)!==BK){t.msg="unknown compression method",r.mode=hi;break}if(u>>>=4,g-=4,E=(u&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=hi;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?KK:Ag,u=0,g=0;break;case $K:for(;g<16;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(r.flags=u,(r.flags&255)!==BK){t.msg="unknown compression method",r.mode=hi;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=hi;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,r.check=du(r.check,S,2,0)),u=0,g=0,r.mode=qK;case qK:for(;g<32;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,r.check=du(r.check,S,4,0)),u=0,g=0,r.mode=zK;case zK:for(;g<16;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,r.check=du(r.check,S,2,0)),u=0,g=0,r.mode=UK;case UK:if(r.flags&1024){for(;g<16;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,r.check=du(r.check,S,2,0)),u=0,g=0}else r.head&&(r.head.extra=null);r.mode=WK;case WK:if(r.flags&1024&&(h=r.length,h>a&&(h=a),h&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),E)),r.flags&512&&r.wrap&4&&(r.check=du(r.check,n,h,s)),a-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=GK;case GK:if(r.flags&2048){if(a===0)break e;h=0;do E=n[s+h++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&h<a);if(r.flags&512&&r.wrap&4&&(r.check=du(r.check,n,h,s)),a-=h,s+=h,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=VK;case VK:if(r.flags&4096){if(a===0)break e;h=0;do E=n[s+h++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&h<a);if(r.flags&512&&r.wrap&4&&(r.check=du(r.check,n,h,s)),a-=h,s+=h,E)break e}else r.head&&(r.head.comment=null);r.mode=HK;case HK:if(r.flags&512){for(;g<16;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=hi;break}u=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ag;break;case KK:for(;g<32;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}t.adler=r.check=aY(u),u=0,g=0,r.mode=I2;case I2:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=g,FUe;t.adler=r.check=1,r.mode=Ag;case Ag:if(e===kUe||e===pb)break e;case _T:if(r.last){u>>>=g&7,g-=g&7,r.mode=RT;break}for(;g<3;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}switch(r.last=u&1,u>>>=1,g-=1,u&3){case 0:r.mode=YK;break;case 1:if(WUe(r),r.mode=mb,e===pb){u>>>=2,g-=2;break e}break;case 2:r.mode=XK;break;case 3:t.msg="invalid block type",r.mode=hi}u>>>=2,g-=2;break;case YK:for(u>>>=g&7,g-=g&7;g<32;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=hi;break}if(r.length=u&65535,u=0,g=0,r.mode=TT,e===pb)break e;case TT:r.mode=ZK;case ZK:if(h=r.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(n.subarray(s,s+h),o),a-=h,s+=h,l-=h,o+=h,r.length-=h;break}r.mode=Ag;break;case XK:for(;g<14;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(r.nlen=(u&31)+257,u>>>=5,g-=5,r.ndist=(u&31)+1,u>>>=5,g-=5,r.ncode=(u&15)+4,u>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=hi;break}r.have=0,r.mode=QK;case QK:for(;r.have<r.ncode;){for(;g<3;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}r.lens[R[r.have++]]=u&7,u>>>=3,g-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,j={bits:r.lenbits},_=Wv(PUe,r.lens,0,19,r.lencode,0,r.work,j),r.lenbits=j.bits,_){t.msg="invalid code lengths set",r.mode=hi;break}r.have=0,r.mode=JK;case JK:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[u&(1<<r.lenbits)-1],p=I>>>24,m=I>>>16&255,v=I&65535,!(p<=g);){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(v<16)u>>>=p,g-=p,r.lens[r.have++]=v;else{if(v===16){for(w=p+2;g<w;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(u>>>=p,g-=p,r.have===0){t.msg="invalid bit length repeat",r.mode=hi;break}E=r.lens[r.have-1],h=3+(u&3),u>>>=2,g-=2}else if(v===17){for(w=p+3;g<w;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}u>>>=p,g-=p,E=0,h=3+(u&7),u>>>=3,g-=3}else{for(w=p+7;g<w;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}u>>>=p,g-=p,E=0,h=11+(u&127),u>>>=7,g-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=hi;break}for(;h--;)r.lens[r.have++]=E}}if(r.mode===hi)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=hi;break}if(r.lenbits=9,j={bits:r.lenbits},_=Wv(a2e,r.lens,0,r.nlen,r.lencode,0,r.work,j),r.lenbits=j.bits,_){t.msg="invalid literal/lengths set",r.mode=hi;break}if(r.distbits=6,r.distcode=r.distdyn,j={bits:r.distbits},_=Wv(l2e,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,j),r.distbits=j.bits,_){t.msg="invalid distances set",r.mode=hi;break}if(r.mode=mb,e===pb)break e;case mb:r.mode=vb;case vb:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=g,_Ue(t,f),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,g=r.bits,r.mode===Ag&&(r.back=-1);break}for(r.back=0;I=r.lencode[u&(1<<r.lenbits)-1],p=I>>>24,m=I>>>16&255,v=I&65535,!(p<=g);){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(m&&!(m&240)){for(y=p,x=m,T=v;I=r.lencode[T+((u&(1<<y+x)-1)>>y)],p=I>>>24,m=I>>>16&255,v=I&65535,!(y+p<=g);){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}u>>>=y,g-=y,r.back+=y}if(u>>>=p,g-=p,r.back+=p,r.length=v,m===0){r.mode=iY;break}if(m&32){r.back=-1,r.mode=Ag;break}if(m&64){t.msg="invalid literal/length code",r.mode=hi;break}r.extra=m&15,r.mode=eY;case eY:if(r.extra){for(w=r.extra;g<w;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tY;case tY:for(;I=r.distcode[u&(1<<r.distbits)-1],p=I>>>24,m=I>>>16&255,v=I&65535,!(p<=g);){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(!(m&240)){for(y=p,x=m,T=v;I=r.distcode[T+((u&(1<<y+x)-1)>>y)],p=I>>>24,m=I>>>16&255,v=I&65535,!(y+p<=g);){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}u>>>=y,g-=y,r.back+=y}if(u>>>=p,g-=p,r.back+=p,m&64){t.msg="invalid distance code",r.mode=hi;break}r.offset=v,r.extra=m&15,r.mode=rY;case rY:if(r.extra){for(w=r.extra;g<w;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=hi;break}r.mode=nY;case nY:if(l===0)break e;if(h=f-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=hi;break}h>r.wnext?(h-=r.wnext,A=r.wsize-h):A=r.wnext-h,h>r.length&&(h=r.length),C=r.window}else C=i,A=o-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[o++]=C[A++];while(--h);r.length===0&&(r.mode=vb);break;case iY:if(l===0)break e;i[o++]=r.length,l--,r.mode=vb;break;case RT:if(r.wrap){for(;g<32;){if(a===0)break e;a--,u|=n[s++]<<g,g+=8}if(f-=l,t.total_out+=f,r.total+=f,r.wrap&4&&f&&(t.adler=r.check=r.flags?du(r.check,i,f,o-f):Tz(r.check,i,f,o-f)),f=l,r.wrap&4&&(r.flags?u:aY(u))!==r.check){t.msg="incorrect data check",r.mode=hi;break}u=0,g=0}r.mode=sY;case sY:if(r.wrap&&r.flags){for(;g<32;){if(a===0)break e;a--,u+=n[s++]<<g,g+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=hi;break}u=0,g=0}r.mode=oY;case oY:_=DUe;break e;case hi:_=c2e;break e;case g2e:return u2e;case d2e:default:return Ql}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=g,(r.wsize||f!==t.avail_out&&r.mode<hi&&(r.mode<RT||e!==MK))&&I2e(t,t.output,t.next_out,f-t.avail_out),d-=t.avail_in,f-=t.avail_out,t.total_in+=d,t.total_out+=f,r.total+=f,r.wrap&4&&f&&(t.adler=r.check=r.flags?du(r.check,i,f,t.next_out-f):Tz(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ag?128:0)+(r.mode===mb||r.mode===TT?256:0),(d===0&&f===0||e===MK)&&_===HA&&(_=LUe),_},VUe=t=>{if(bC(t))return Ql;let e=t.state;return e.window&&(e.window=null),t.state=null,HA},HUe=(t,e)=>{if(bC(t))return Ql;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,HA):Ql},KUe=(t,e)=>{const r=e.length;let n,i,s;return bC(t)||(n=t.state,n.wrap!==0&&n.mode!==I2)?Ql:n.mode===I2&&(i=1,i=Tz(i,e,r,0),i!==n.check)?c2e:(s=I2e(t,e,r,r),s?(n.mode=g2e,u2e):(n.havedict=1,HA))};var YUe=f2e,ZUe=A2e,XUe=h2e,QUe=UUe,JUe=C2e,e9e=GUe,t9e=VUe,r9e=HUe,n9e=KUe,i9e="pako inflate (from Nodeca project)",Og={inflateReset:YUe,inflateReset2:ZUe,inflateResetKeep:XUe,inflateInit:QUe,inflateInit2:JUe,inflate:e9e,inflateEnd:t9e,inflateGetHeader:r9e,inflateSetDictionary:n9e,inflateInfo:i9e};function s9e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var o9e=s9e;const p2e=Object.prototype.toString,{Z_NO_FLUSH:a9e,Z_FINISH:l9e,Z_OK:by,Z_STREAM_END:jT,Z_NEED_DICT:PT,Z_STREAM_ERROR:c9e,Z_DATA_ERROR:cY,Z_MEM_ERROR:u9e}=i2e;function w1(t){this.options=s2e.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SUe,this.strm.avail_out=0;let r=Og.inflateInit2(this.strm,e.windowBits);if(r!==by)throw new Error(Rz[r]);if(this.header=new o9e,Og.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Nz.string2buf(e.dictionary):p2e.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Og.inflateSetDictionary(this.strm,e.dictionary),r!==by)))throw new Error(Rz[r])}w1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?l9e:a9e,p2e.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Og.inflate(r,o),s===PT&&i&&(s=Og.inflateSetDictionary(r,i),s===by?s=Og.inflate(r,o):s===cY&&(s=PT));r.avail_in>0&&s===jT&&r.state.wrap>0&&t[r.next_in]!==0;)Og.inflateReset(r),s=Og.inflate(r,o);switch(s){case c9e:case cY:case PT:case u9e:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===jT))if(this.options.to==="string"){let l=Nz.utf8border(r.output,r.next_out),u=r.next_out-l,g=Nz.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===by&&a===0)){if(s===jT)return s=Og.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};w1.prototype.onData=function(t){this.chunks.push(t)};w1.prototype.onEnd=function(t){t===by&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s2e.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function g9e(t,e){const r=new w1(e);if(r.push(t),r.err)throw r.msg||Rz[r.err];return r.result}var d9e=w1,h9e=g9e,f9e={Inflate:d9e,inflate:h9e};const{Inflate:A9e,inflate:C9e}=f9e;var uY=A9e,I9e=C9e;const m2e=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;m2e[t]=e}const gY=4294967295;function p9e(t,e,r){let n=t;for(let i=0;i<r;i++)n=m2e[(n^e[i])&255]^n>>>8;return n}function m9e(t,e){return(p9e(gY,t,e)^gY)>>>0}function dY(t,e,r){const n=t.readUint32(),i=m9e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function v2e(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function y2e(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function x2e(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function b2e(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function w2e(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+v9e(e[s-i],r[s],r[s-i])&255}}function v9e(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-r);return i<=s&&i<=o?t:s<=o?e:r}function y9e(t,e,r,n,i,s){switch(t){case 0:v2e(e,r,i);break;case 1:y2e(e,r,i,s);break;case 2:x2e(e,r,n,i);break;case 3:b2e(e,r,n,i,s);break;case 4:w2e(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const x9e=new Uint16Array([255]),b9e=new Uint8Array(x9e.buffer),w9e=b9e[0]===255;function S9e(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(n*r*a);let u=0;for(let g=0;g<7;g++){const d=o[g],f=Math.ceil((r-d.x)/d.xStep),h=Math.ceil((n-d.y)/d.yStep);if(f<=0||h<=0)continue;const A=f*a,C=new Uint8Array(A);for(let I=0;I<h;I++){const p=e[u++],m=e.subarray(u,u+A);u+=A;const v=new Uint8Array(A);y9e(p,m,v,C,A,a),C.set(v);for(let y=0;y<f;y++){const x=d.x+y*d.xStep,T=d.y+I*d.yStep;if(!(x>=r||T>=n))for(let E=0;E<a;E++)l[(T*r+x)*a+E]=v[y*a+E]}}}if(s===16){const g=new Uint16Array(l.buffer);if(w9e)for(let d=0;d<g.length;d++)g[d]=E9e(g[d]);return g}else return l}function E9e(t){return(t&255)<<8|t>>8&255}const _9e=new Uint16Array([255]),T9e=new Uint8Array(_9e.buffer),R9e=T9e[0]===255,N9e=new Uint8Array(0);function hY(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*r),l=new Uint8Array(n*a);let u=N9e,g=0,d,f;for(let h=0;h<n;h++){switch(d=e.subarray(g+1,g+1+a),f=l.subarray(h*a,(h+1)*a),e[g]){case 0:v2e(d,f,a);break;case 1:y2e(d,f,a,o);break;case 2:x2e(d,f,u,a);break;case 3:b2e(d,f,u,a,o);break;case 4:w2e(d,f,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}u=f,g+=a+1}if(s===16){const h=new Uint16Array(l.buffer);if(R9e)for(let A=0;A<h.length;A++)h[A]=O9e(h[A]);return h}else return l}function O9e(t){return(t&255)<<8|t>>8&255}const bw=Uint8Array.of(137,80,78,71,13,10,26,10);function fY(t){if(!j9e(t.readBytes(bw.length)))throw new Error("wrong PNG signature")}function j9e(t){if(t.length<bw.length)return!1;for(let e=0;e<bw.length;e++)if(t[e]!==bw[e])return!1;return!0}const P9e="tEXt",k9e=0,S2e=new TextDecoder("latin1");function D9e(t){if(L9e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const F9e=/^[\u0000-\u00FF]*$/;function L9e(t){if(!F9e.test(t))throw new Error("invalid latin1 text")}function M9e(t,e,r){const n=E2e(e);t[n]=B9e(e,r-n.length-1)}function E2e(t){for(t.mark();t.readByte()!==k9e;);const e=t.offset;t.reset();const r=S2e.decode(t.readBytes(e-t.offset-1));return t.skip(1),D9e(r),r}function B9e(t,e){return S2e.decode(t.readBytes(e))}const Ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kT={UNKNOWN:-1,DEFLATE:0},AY={UNKNOWN:-1,ADAPTIVE:0},DT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},yb={NONE:0,BACKGROUND:1,PREVIOUS:2},FT={SOURCE:0,OVER:1};class $9e extends t9{constructor(r,n={}){super(r);ve(this,"_checkCrc");ve(this,"_inflator");ve(this,"_png");ve(this,"_apng");ve(this,"_end");ve(this,"_hasPalette");ve(this,"_palette");ve(this,"_hasTransparency");ve(this,"_transparency");ve(this,"_compressionMethod");ve(this,"_filterMethod");ve(this,"_interlaceMethod");ve(this,"_colorType");ve(this,"_isAnimated");ve(this,"_numberOfFrames");ve(this,"_numberOfPlays");ve(this,"_frames");ve(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new uY,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kT.UNKNOWN,this._filterMethod=AY.UNKNOWN,this._interlaceMethod=DT.UNKNOWN,this._colorType=Ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fY(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(fY(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case P9e:M9e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dY(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dY(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=q9e(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ja.GREYSCALE:i=1;break;case Ja.TRUECOLOUR:i=3;break;case Ja.INDEXED_COLOUR:i=1;break;case Ja.GREYSCALE_ALPHA:i=2;break;case Ja.TRUECOLOUR_ALPHA:i=4;break;case Ja.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ja.GREYSCALE:case Ja.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ja.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ja.UNKNOWN:case Ja.GREYSCALE_ALPHA:case Ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=E2e(this),i=this.readUint8();if(i!==kT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:I9e(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=hY({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case yb.NONE:break;case yb.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case yb.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,u=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case FT.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let g=0;g<this._png.channels;g++)r.data[l+g]=n.data[u+g]}break;case FT.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let g=0;g<this._png.channels;g++){const d=n.data[u+this._png.channels-1]/i,f=g%(this._png.channels-1)===0?1:n.data[u+g],h=Math.floor(d*f+(1-d)*r.data[l+g]);r.data[l+g]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==AY.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===DT.NO_INTERLACE)this._png.data=hY({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===DT.ADAM7)this._png.data=S9e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:yb.NONE,blendOp:FT.SOURCE,data:r}),this._inflator=new uY,this._writingDataChunks=!1}}function q9e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var CY;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(CY||(CY={}));function z9e(t,e){return new $9e(t,e).decode()}var br=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function LT(){br.console&&typeof br.console.log=="function"&&br.console.log.apply(br.console,arguments)}var $n={log:LT,warn:function(t){br.console&&(typeof br.console.warn=="function"?br.console.warn.apply(br.console,arguments):LT.call(null,arguments))},error:function(t){br.console&&(typeof br.console.error=="function"?br.console.error.apply(br.console,arguments):LT(t))}};function MT(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Yf(n.response,e,r)},n.onerror=function(){$n.error("could not download file")},n.send()}function IY(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Yf=br.saveAs||((typeof window>"u"?"undefined":Un(window))!=="object"||window!==br?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=br.URL||br.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?IY(i.href)?MT(t,e,r):xb(i,i.target="_blank"):xb(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(IY(t))MT(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){xb(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Un(s)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return MT(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(br.HTMLElement)||br.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Un(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var g=a.result;g=o?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},a.readAsDataURL(t)}else{var l=br.URL||br.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _2e(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var ww=br.atob.bind(br),pY=br.btoa.bind(br);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function BT(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=No(r,n,i,s,e[0],7,-680876936),s=No(s,r,n,i,e[1],12,-389564586),i=No(i,s,r,n,e[2],17,606105819),n=No(n,i,s,r,e[3],22,-1044525330),r=No(r,n,i,s,e[4],7,-176418897),s=No(s,r,n,i,e[5],12,1200080426),i=No(i,s,r,n,e[6],17,-1473231341),n=No(n,i,s,r,e[7],22,-45705983),r=No(r,n,i,s,e[8],7,1770035416),s=No(s,r,n,i,e[9],12,-1958414417),i=No(i,s,r,n,e[10],17,-42063),n=No(n,i,s,r,e[11],22,-1990404162),r=No(r,n,i,s,e[12],7,1804603682),s=No(s,r,n,i,e[13],12,-40341101),i=No(i,s,r,n,e[14],17,-1502002290),r=Oo(r,n=No(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Oo(s,r,n,i,e[6],9,-1069501632),i=Oo(i,s,r,n,e[11],14,643717713),n=Oo(n,i,s,r,e[0],20,-373897302),r=Oo(r,n,i,s,e[5],5,-701558691),s=Oo(s,r,n,i,e[10],9,38016083),i=Oo(i,s,r,n,e[15],14,-660478335),n=Oo(n,i,s,r,e[4],20,-405537848),r=Oo(r,n,i,s,e[9],5,568446438),s=Oo(s,r,n,i,e[14],9,-1019803690),i=Oo(i,s,r,n,e[3],14,-187363961),n=Oo(n,i,s,r,e[8],20,1163531501),r=Oo(r,n,i,s,e[13],5,-1444681467),s=Oo(s,r,n,i,e[2],9,-51403784),i=Oo(i,s,r,n,e[7],14,1735328473),r=jo(r,n=Oo(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=jo(s,r,n,i,e[8],11,-2022574463),i=jo(i,s,r,n,e[11],16,1839030562),n=jo(n,i,s,r,e[14],23,-35309556),r=jo(r,n,i,s,e[1],4,-1530992060),s=jo(s,r,n,i,e[4],11,1272893353),i=jo(i,s,r,n,e[7],16,-155497632),n=jo(n,i,s,r,e[10],23,-1094730640),r=jo(r,n,i,s,e[13],4,681279174),s=jo(s,r,n,i,e[0],11,-358537222),i=jo(i,s,r,n,e[3],16,-722521979),n=jo(n,i,s,r,e[6],23,76029189),r=jo(r,n,i,s,e[9],4,-640364487),s=jo(s,r,n,i,e[12],11,-421815835),i=jo(i,s,r,n,e[15],16,530742520),r=Po(r,n=jo(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Po(s,r,n,i,e[7],10,1126891415),i=Po(i,s,r,n,e[14],15,-1416354905),n=Po(n,i,s,r,e[5],21,-57434055),r=Po(r,n,i,s,e[12],6,1700485571),s=Po(s,r,n,i,e[3],10,-1894986606),i=Po(i,s,r,n,e[10],15,-1051523),n=Po(n,i,s,r,e[1],21,-2054922799),r=Po(r,n,i,s,e[8],6,1873313359),s=Po(s,r,n,i,e[15],10,-30611744),i=Po(i,s,r,n,e[6],15,-1560198380),n=Po(n,i,s,r,e[13],21,1309151649),r=Po(r,n,i,s,e[4],6,-145523070),s=Po(s,r,n,i,e[11],10,-1120210379),i=Po(i,s,r,n,e[2],15,718787259),n=Po(n,i,s,r,e[9],21,-343485551),t[0]=wh(r,t[0]),t[1]=wh(n,t[1]),t[2]=wh(i,t[2]),t[3]=wh(s,t[3])}function WS(t,e,r,n,i,s){return e=wh(wh(e,t),wh(n,s)),wh(e<<i|e>>>32-i,r)}function No(t,e,r,n,i,s,o){return WS(e&r|~e&n,t,e,i,s,o)}function Oo(t,e,r,n,i,s,o){return WS(e&n|r&~n,t,e,i,s,o)}function jo(t,e,r,n,i,s,o){return WS(e^r^n,t,e,i,s,o)}function Po(t,e,r,n,i,s,o){return WS(r^(e|~n),t,e,i,s,o)}function T2e(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BT(n,U9e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(BT(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,BT(n,i),n}function U9e(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var mY="0123456789abcdef".split("");function W9e(t){for(var e="",r=0;r<4;r++)e+=mY[t>>8*r+4&15]+mY[t>>8*r&15];return e}function G9e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Oz(t){return T2e(t).map(G9e).join("")}var V9e=function(t){for(var e=0;e<t.length;e++)t[e]=W9e(t[e]);return t.join("")}(T2e("hello"))!="5d41402abc4b2a76b9719d911017c592";function wh(t,e){if(V9e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jz(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var g=a[l];u=(u+g+o.charCodeAt(l))%256,a[l]=a[u],a[u]=g}r=t,n=a}else a=n;var d=e.length,f=0,h=0,A="";for(l=0;l<d;l++)h=(h+(g=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=g,o=a[(a[f]+a[h])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vY={print:4,modify:8,copy:16,"annot-forms":32};function FI(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(vY.perm!==void 0)throw new Error("Invalid permission: "+a);i+=vY[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Oz(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=jz(this.encryptionKey,this.padding)}function LI(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function yY(t){if(Un(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(a){br.console&&$n.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function p2(t){if(!(this instanceof p2))return new p2(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function R2e(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Jf(t,e,r,n,i){if(!(this instanceof Jf))return new Jf(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,R2e.call(this,n,i)}function WI(t,e,r,n,i){if(!(this instanceof WI))return new WI(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,R2e.call(this,n,i)}function sr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",g=null;Un(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=yY;var A="1.3",C=h.__private__.getPdfVersion=function(){return A};h.__private__.setPdfVersion=function(F){A=F};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return I};var p=h.__private__.getPageFormat=function(F){return I[F]};i=i||"a4";var m="compat",v="advanced",y=m;function x(){this.saveGraphicsState(),se(new gr(Ht,0,0,-Ht,0,Rf()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),u="n",y=v}function T(){this.restoreGraphicsState(),u="S",y=m}var E=h.__private__.combineFontStyleAndFontWeight=function(F,X){if(F=="bold"&&X=="normal"||F=="bold"&&X==400||F=="normal"&&X=="italic"||F=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(F=X==400||X==="normal"?F==="italic"?"italic":"normal":X!=700&&X!=="bold"||F!=="normal"?(X==700?"bold":X)+""+F:"bold"),F};h.advancedAPI=function(F){var X=y===m;return X&&x.call(this),typeof F!="function"||(F(this),X&&T.call(this)),this},h.compatAPI=function(F){var X=y===v;return X&&T.call(this),typeof F!="function"||(F(this),X&&x.call(this)),this},h.isAdvancedAPI=function(){return y===v};var _,S=function(F){if(y!==v)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=h.roundToPrecision=h.__private__.roundToPrecision=function(F,X){var Ae=e||X;if(isNaN(F)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(Ae).replace(/0+$/,"")};_=h.hpf=h.__private__.hpf=typeof l=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return j(F,l)}:l==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return j(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return j(F,16)};var w=h.f2=h.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return j(F,2)},R=h.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return j(F,3)},N=h.scale=h.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return y===m?F*Ht:y===v?F:void 0},P=function(F){return N(function(X){return y===m?Rf()-X:y===v?X:void 0}(F))};h.__private__.setPrecision=h.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var M,B="00000000000000000000000000000000",W=h.__private__.getFileId=function(){return B},H=h.__private__.setFileId=function(F){return B=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():B.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(qi=new FI(g.userPermissions,g.userPassword,g.ownerPassword,B)),B};h.setFileId=function(F){return H(F),this},h.getFileId=function(){return W()};var V=h.__private__.convertDateToPDFDate=function(F){var X=F.getTimezoneOffset(),Ae=X<0?"+":"-",be=Math.floor(Math.abs(X/60)),Oe=Math.abs(X%60),rt=[Ae,z(be),"'",z(Oe),"'"].join("");return["D:",F.getFullYear(),z(F.getMonth()+1),z(F.getDate()),z(F.getHours()),z(F.getMinutes()),z(F.getSeconds()),rt].join("")},K=h.__private__.convertPDFDateToDate=function(F){var X=parseInt(F.substr(2,4),10),Ae=parseInt(F.substr(6,2),10)-1,be=parseInt(F.substr(8,2),10),Oe=parseInt(F.substr(10,2),10),rt=parseInt(F.substr(12,2),10),dt=parseInt(F.substr(14,2),10);return new Date(X,Ae,be,Oe,rt,dt,0)},Y=h.__private__.setCreationDate=function(F){var X;if(F===void 0&&(F=new Date),F instanceof Date)X=V(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=F}return M=X},k=h.__private__.getCreationDate=function(F){var X=M;return F==="jsDate"&&(X=K(M)),X};h.setCreationDate=function(F){return Y(F),this},h.getCreationDate=function(F){return k(F)};var q,z=h.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},G=h.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},Z=0,ue=[],re=[],ie=0,Ce=[],Pe=[],Fe=!1,He=re;h.__private__.setCustomOutputDestination=function(F){Fe=!0,He=F};var Te=function(F){Fe||(He=F)};h.__private__.resetCustomOutputDestination=function(){Fe=!1,He=re};var se=h.__private__.out=function(F){return F=F.toString(),ie+=F.length+1,He.push(F),He},Ct=h.__private__.write=function(F){return se(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Re=h.__private__.getArrayBuffer=function(F){for(var X=F.length,Ae=new ArrayBuffer(X),be=new Uint8Array(Ae);X--;)be[X]=F.charCodeAt(X);return Ae},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ke};var Ye=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(F){return Ye=y===v?F/Ht:F,this};var xt,ft=h.__private__.getFontSize=h.getFontSize=function(){return y===m?Ye:Ye*Ht},$t=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(F){return $t=F,this},h.__private__.getR2L=h.getR2L=function(){return $t};var bt,Gt=h.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))xt=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');xt=F}else xt=parseInt(F,10)};h.__private__.getZoomMode=function(){return xt};var Wt,Qt=h.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');bt=F};h.__private__.getPageMode=function(){return bt};var hr=h.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Wt=F};h.__private__.getLayoutMode=function(){return Wt},h.__private__.setDisplayMode=h.setDisplayMode=function(F,X,Ae){return Gt(F),hr(X),Qt(Ae),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(F){if(Object.keys(Bt).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[F]},h.__private__.getDocumentProperties=function(){return Bt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(F){for(var X in Bt)Bt.hasOwnProperty(X)&&F[X]&&(Bt[X]=F[X]);return this},h.__private__.setDocumentProperty=function(F,X){if(Object.keys(Bt).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[F]=X};var Ft,Ht,Qe,it,ot,Ve={},ut={},qt=[],zt={},Cr={},Ir={},In={},ri=null,ln=0,nr=[],rn=new yY(h),cc=t.hotfixes||[],ns={},$a={},da=[],gr=function F(X,Ae,be,Oe,rt,dt){if(!(this instanceof F))return new F(X,Ae,be,Oe,rt,dt);isNaN(X)&&(X=1),isNaN(Ae)&&(Ae=0),isNaN(be)&&(be=0),isNaN(Oe)&&(Oe=1),isNaN(rt)&&(rt=0),isNaN(dt)&&(dt=0),this._matrix=[X,Ae,be,Oe,rt,dt]};Object.defineProperty(gr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(gr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(gr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(gr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(gr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(gr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(gr.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(gr.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(gr.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(gr.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(gr.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(gr.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(gr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gr.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(F)},gr.prototype.multiply=function(F){var X=F.sx*this.sx+F.shy*this.shx,Ae=F.sx*this.shy+F.shy*this.sy,be=F.shx*this.sx+F.sy*this.shx,Oe=F.shx*this.shy+F.sy*this.sy,rt=F.tx*this.sx+F.ty*this.shx+this.tx,dt=F.tx*this.shy+F.ty*this.sy+this.ty;return new gr(X,Ae,be,Oe,rt,dt)},gr.prototype.decompose=function(){var F=this.sx,X=this.shy,Ae=this.shx,be=this.sy,Oe=this.tx,rt=this.ty,dt=Math.sqrt(F*F+X*X),Zt=(F/=dt)*Ae+(X/=dt)*be;Ae-=F*Zt,be-=X*Zt;var tr=Math.sqrt(Ae*Ae+be*be);return Zt/=tr,F*(be/=tr)<X*(Ae/=tr)&&(F=-F,X=-X,Zt=-Zt,dt=-dt),{scale:new gr(dt,0,0,tr,0,0),translate:new gr(1,0,0,1,Oe,rt),rotate:new gr(F,X,-X,F,0,0),skew:new gr(1,0,Zt,1,0,0)}},gr.prototype.toString=function(F){return this.join(" ")},gr.prototype.inversed=function(){var F=this.sx,X=this.shy,Ae=this.shx,be=this.sy,Oe=this.tx,rt=this.ty,dt=1/(F*be-X*Ae),Zt=be*dt,tr=-X*dt,wr=-Ae*dt,_r=F*dt;return new gr(Zt,tr,wr,_r,-Zt*Oe-wr*rt,-tr*Oe-_r*rt)},gr.prototype.applyToPoint=function(F){var X=F.x*this.sx+F.y*this.shx+this.tx,Ae=F.x*this.shy+F.y*this.sy+this.ty;return new _f(X,Ae)},gr.prototype.applyToRectangle=function(F){var X=this.applyToPoint(F),Ae=this.applyToPoint(new _f(F.x+F.w,F.y+F.h));return new h0(X.x,X.y,Ae.x-X.x,Ae.y-X.y)},gr.prototype.clone=function(){var F=this.sx,X=this.shy,Ae=this.shx,be=this.sy,Oe=this.tx,rt=this.ty;return new gr(F,X,Ae,be,Oe,rt)},h.Matrix=gr;var qa=h.matrixMult=function(F,X){return X.multiply(F)},za=new gr(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=za;var Ms=function(F,X){if(!Cr[F]){var Ae=(X instanceof Jf?"Sh":"P")+(Object.keys(zt).length+1).toString(10);X.id=Ae,Cr[F]=Ae,zt[Ae]=X,rn.publish("addPattern",X)}};h.ShadingPattern=Jf,h.TilingPattern=WI,h.addShadingPattern=function(F,X){return S("addShadingPattern()"),Ms(F,X),this},h.beginTilingPattern=function(F){S("beginTilingPattern()"),f0(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},h.endTilingPattern=function(F,X){S("endTilingPattern()"),X.stream=Pe[q].join(`
`),Ms(F,X),rn.publish("endTilingPattern",X),da.pop().restore()};var Eo,Hn=h.__private__.newObject=function(){var F=bi();return J(F,!0),F},bi=h.__private__.newObjectDeferred=function(){return Z++,ue[Z]=function(){return ie},Z},J=function(F,X){return X=typeof X=="boolean"&&X,ue[F]=ie,X&&se(F+" 0 obj"),F},de=h.__private__.newAdditionalObject=function(){var F={objId:bi(),content:""};return Ce.push(F),F},oe=bi(),ce=bi(),ge=h.__private__.decodeColorString=function(F){var X=F.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var Ae=parseFloat(X[0]);X=[Ae,Ae,Ae,"r"]}for(var be="#",Oe=0;Oe<3;Oe++)be+=("0"+Math.floor(255*parseFloat(X[Oe])).toString(16)).slice(-2);return be},Ie=h.__private__.encodeColorString=function(F){var X;typeof F=="string"&&(F={ch1:F});var Ae=F.ch1,be=F.ch2,Oe=F.ch3,rt=F.ch4,dt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Zt=new _2e(Ae);if(Zt.ok)Ae=Zt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var tr=parseInt(Ae.substr(1),16);Ae=tr>>16&255,be=tr>>8&255,Oe=255&tr}if(be===void 0||rt===void 0&&Ae===be&&be===Oe)X=typeof Ae=="string"?Ae+" "+dt[0]:F.precision===2?w(Ae/255)+" "+dt[0]:R(Ae/255)+" "+dt[0];else if(rt===void 0||Un(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",dt[1]].join(" ");X=typeof Ae=="string"?[Ae,be,Oe,dt[1]].join(" "):F.precision===2?[w(Ae/255),w(be/255),w(Oe/255),dt[1]].join(" "):[R(Ae/255),R(be/255),R(Oe/255),dt[1]].join(" ")}else X=typeof Ae=="string"?[Ae,be,Oe,rt,dt[2]].join(" "):F.precision===2?[w(Ae),w(be),w(Oe),w(rt),dt[2]].join(" "):[R(Ae),R(be),R(Oe),R(rt),dt[2]].join(" ");return X},De=h.__private__.getFilters=function(){return o},Ze=h.__private__.putStream=function(F){var X=(F=F||{}).data||"",Ae=F.filters||De(),be=F.alreadyAppliedFilters||[],Oe=F.addLength1||!1,rt=X.length,dt=F.objectId,Zt=function(ps){return ps};if(g!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Zt=qi.encryptor(dt,0));var tr={};Ae===!0&&(Ae=["FlateEncode"]);var wr=F.additionalKeyValues||[],_r=(tr=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(X,Ae):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(tr.data.length!==0&&(wr.push({key:"Length",value:tr.data.length}),Oe===!0&&wr.push({key:"Length1",value:rt})),_r.length!=0)if(_r.split("/").length-1==1)wr.push({key:"Filter",value:_r});else{wr.push({key:"Filter",value:"["+_r+"]"});for(var hn=0;hn<wr.length;hn+=1)if(wr[hn].key==="DecodeParms"){for(var Ii=[],ss=0;ss<tr.reverseChain.split("/").length-1;ss+=1)Ii.push("null");Ii.push(wr[hn].value),wr[hn].value="["+Ii.join(" ")+"]"}}se("<<");for(var Kn=0;Kn<wr.length;Kn++)se("/"+wr[Kn].key+" "+wr[Kn].value);se(">>"),tr.data.length!==0&&(se("stream"),se(Zt(tr.data)),se("endstream"))},Le=h.__private__.putPage=function(F){var X=F.number,Ae=F.data,be=F.objId,Oe=F.contentsObjId;J(be,!0),se("<</Type /Page"),se("/Parent "+F.rootDictionaryObjId+" 0 R"),se("/Resources "+F.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(_(F.mediaBox.bottomLeftX))+" "+parseFloat(_(F.mediaBox.bottomLeftY))+" "+_(F.mediaBox.topRightX)+" "+_(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&se("/CropBox ["+_(F.cropBox.bottomLeftX)+" "+_(F.cropBox.bottomLeftY)+" "+_(F.cropBox.topRightX)+" "+_(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&se("/BleedBox ["+_(F.bleedBox.bottomLeftX)+" "+_(F.bleedBox.bottomLeftY)+" "+_(F.bleedBox.topRightX)+" "+_(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&se("/TrimBox ["+_(F.trimBox.bottomLeftX)+" "+_(F.trimBox.bottomLeftY)+" "+_(F.trimBox.topRightX)+" "+_(F.trimBox.topRightY)+"]"),F.artBox!==null&&se("/ArtBox ["+_(F.artBox.bottomLeftX)+" "+_(F.artBox.bottomLeftY)+" "+_(F.artBox.topRightX)+" "+_(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&se("/UserUnit "+F.userUnit),rn.publish("putPage",{objId:be,pageContext:nr[X],pageNumber:X,page:Ae}),se("/Contents "+Oe+" 0 R"),se(">>"),se("endobj");var rt=Ae.join(`
`);return y===v&&(rt+=`
Q`),J(Oe,!0),Ze({data:rt,filters:De(),objectId:Oe}),se("endobj"),be},Me=h.__private__.putPages=function(){var F,X,Ae=[];for(F=1;F<=ln;F++)nr[F].objId=bi(),nr[F].contentsObjId=bi();for(F=1;F<=ln;F++)Ae.push(Le({number:F,data:Pe[F],objId:nr[F].objId,contentsObjId:nr[F].contentsObjId,mediaBox:nr[F].mediaBox,cropBox:nr[F].cropBox,bleedBox:nr[F].bleedBox,trimBox:nr[F].trimBox,artBox:nr[F].artBox,userUnit:nr[F].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:ce}));J(oe,!0),se("<</Type /Pages");var be="/Kids [";for(X=0;X<ln;X++)be+=Ae[X]+" 0 R ";se(be+"]"),se("/Count "+ln),se(">>"),se("endobj"),rn.publish("postPutPages")},ze=function(F){rn.publish("putFont",{font:F,out:se,newObject:Hn,putStream:Ze}),F.isAlreadyPutted!==!0&&(F.objectNumber=Hn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+LI(F.postScriptName)),se("/Subtype /Type1"),typeof F.encoding=="string"&&se("/Encoding /"+F.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},ht=function(F){F.objectNumber=Hn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[_(F.x),_(F.y),_(F.x+F.width),_(F.y+F.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var Ae=F.pages[1].join(`
`);Ze({data:Ae,additionalKeyValues:X,objectId:F.objectNumber}),se("endobj")},wt=function(F,X){X||(X=21);var Ae=Hn(),be=function(dt,Zt){var tr,wr=[],_r=1/(Zt-1);for(tr=0;tr<1;tr+=_r)wr.push(tr);if(wr.push(1),dt[0].offset!=0){var hn={offset:0,color:dt[0].color};dt.unshift(hn)}if(dt[dt.length-1].offset!=1){var Ii={offset:1,color:dt[dt.length-1].color};dt.push(Ii)}for(var ss="",Kn=0,ps=0;ps<wr.length;ps++){for(tr=wr[ps];tr>dt[Kn+1].offset;)Kn++;var os=dt[Kn].offset,io=(tr-os)/(dt[Kn+1].offset-os),El=dt[Kn].color,fa=dt[Kn+1].color;ss+=G(Math.round((1-io)*El[0]+io*fa[0]).toString(16))+G(Math.round((1-io)*El[1]+io*fa[1]).toString(16))+G(Math.round((1-io)*El[2]+io*fa[2]).toString(16))}return ss.trim()}(F.colors,X),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+X+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:be,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),se("endobj"),F.objectNumber=Hn(),se("<< /ShadingType "+F.type),se("/ColorSpace /DeviceRGB");var rt="/Coords ["+_(parseFloat(F.coords[0]))+" "+_(parseFloat(F.coords[1]))+" ";F.type===2?rt+=_(parseFloat(F.coords[2]))+" "+_(parseFloat(F.coords[3])):rt+=_(parseFloat(F.coords[2]))+" "+_(parseFloat(F.coords[3]))+" "+_(parseFloat(F.coords[4]))+" "+_(parseFloat(F.coords[5])),se(rt+="]"),F.matrix&&se("/Matrix ["+F.matrix.toString()+"]"),se("/Function "+Ae+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},kt=function(F,X){var Ae=bi(),be=Hn();X.push({resourcesOid:Ae,objectOid:be}),F.objectNumber=be;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+F.boundingBox.map(_).join(" ")+"]"}),Oe.push({key:"XStep",value:_(F.xStep)}),Oe.push({key:"YStep",value:_(F.yStep)}),Oe.push({key:"Resources",value:Ae+" 0 R"}),F.matrix&&Oe.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Ze({data:F.stream,additionalKeyValues:Oe,objectId:F.objectNumber}),se("endobj")},mt=function(F){for(var X in F.objectNumber=Hn(),se("<<"),F)switch(X){case"opacity":se("/ca "+w(F[X]));break;case"stroke-opacity":se("/CA "+w(F[X]))}se(">>"),se("endobj")},Ot=function(F){J(F.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in se("/Font <<"),Ve)Ve.hasOwnProperty(X)&&(d===!1||d===!0&&f.hasOwnProperty(X))&&se("/"+X+" "+Ve[X].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(zt).length>0){for(var X in se("/Shading <<"),zt)zt.hasOwnProperty(X)&&zt[X]instanceof Jf&&zt[X].objectNumber>=0&&se("/"+X+" "+zt[X].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),se(">>")}}(),function(X){if(Object.keys(zt).length>0){for(var Ae in se("/Pattern <<"),zt)zt.hasOwnProperty(Ae)&&zt[Ae]instanceof h.TilingPattern&&zt[Ae].objectNumber>=0&&zt[Ae].objectNumber<X&&se("/"+Ae+" "+zt[Ae].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),se(">>")}}(F.objectOid),function(){if(Object.keys(Ir).length>0){var X;for(X in se("/ExtGState <<"),Ir)Ir.hasOwnProperty(X)&&Ir[X].objectNumber>=0&&se("/"+X+" "+Ir[X].objectNumber+" 0 R");rn.publish("putGStateDict"),se(">>")}}(),function(){for(var X in se("/XObject <<"),ns)ns.hasOwnProperty(X)&&ns[X].objectNumber>=0&&se("/"+X+" "+ns[X].objectNumber+" 0 R");rn.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},pr=function(F){ut[F.fontName]=ut[F.fontName]||{},ut[F.fontName][F.fontStyle]=F.id},pn=function(F,X,Ae,be,Oe){var rt={id:"F"+(Object.keys(Ve).length+1).toString(10),postScriptName:F,fontName:X,fontStyle:Ae,encoding:be,isStandardFont:Oe||!1,metadata:{}};return rn.publish("addFont",{font:rt,instance:this}),Ve[rt.id]=rt,pr(rt),rt.id},Gr=h.__private__.pdfEscape=h.pdfEscape=function(F,X){return function(Ae,be){var Oe,rt,dt,Zt,tr,wr,_r,hn,Ii;if(dt=(be=be||{}).sourceEncoding||"Unicode",tr=be.outputEncoding,(be.autoencode||tr)&&Ve[Ft].metadata&&Ve[Ft].metadata[dt]&&Ve[Ft].metadata[dt].encoding&&(Zt=Ve[Ft].metadata[dt].encoding,!tr&&Ve[Ft].encoding&&(tr=Ve[Ft].encoding),!tr&&Zt.codePages&&(tr=Zt.codePages[0]),typeof tr=="string"&&(tr=Zt[tr]),tr)){for(_r=!1,wr=[],Oe=0,rt=Ae.length;Oe<rt;Oe++)(hn=tr[Ae.charCodeAt(Oe)])?wr.push(String.fromCharCode(hn)):wr.push(Ae[Oe]),wr[Oe].charCodeAt(0)>>8&&(_r=!0);Ae=wr.join("")}for(Oe=Ae.length;_r===void 0&&Oe!==0;)Ae.charCodeAt(Oe-1)>>8&&(_r=!0),Oe--;if(!_r)return Ae;for(wr=be.noBOM?[]:[254,255],Oe=0,rt=Ae.length;Oe<rt;Oe++){if((Ii=(hn=Ae.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+Ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wr.push(Ii),wr.push(hn-(Ii<<8))}return String.fromCharCode.apply(void 0,wr)}(F,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},di=h.__private__.beginPage=function(F){Pe[++ln]=[],nr[ln]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},wl(ln),Te(Pe[q])},Ua=function(F,X){var Ae,be,Oe;switch(r=X||r,typeof F=="string"&&(Ae=p(F.toLowerCase()),Array.isArray(Ae)&&(be=Ae[0],Oe=Ae[1])),Array.isArray(F)&&(be=F[0]*Ht,Oe=F[1]*Ht),isNaN(be)&&(be=i[0],Oe=i[1]),(be>14400||Oe>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Oe=Math.min(14400,Oe)),i=[be,Oe],r.substr(0,1)){case"l":Oe>be&&(i=[Oe,be]);break;case"p":be>Oe&&(i=[Oe,be])}di(i),P_(c0),se(JC),g0!==0&&se(g0+" J"),d0!==0&&se(d0+" j"),rn.publish("addPage",{pageNumber:ln})},Wa=function(F){F>0&&F<=ln&&(Pe.splice(F,1),nr.splice(F,1),ln--,q>ln&&(q=ln),this.setPage(q))},wl=function(F){F>0&&F<=ln&&(q=F)},ha=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},Sl=function(F,X,Ae){var be,Oe=void 0;return Ae=Ae||{},F=F!==void 0?F:Ve[Ft].fontName,X=X!==void 0?X:Ve[Ft].fontStyle,be=F.toLowerCase(),ut[be]!==void 0&&ut[be][X]!==void 0?Oe=ut[be][X]:ut[F]!==void 0&&ut[F][X]!==void 0?Oe=ut[F][X]:Ae.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+F+"', '"+X+"'. Refer to getFontList() for available fonts."),Oe||Ae.noFallback||(Oe=ut.times[X])==null&&(Oe=ut.times.normal),Oe},_o=h.__private__.putInfo=function(){var F=Hn(),X=function(be){return be};for(var Ae in g!==null&&(X=qi.encryptor(F,0)),se("<<"),se("/Producer ("+Gr(X("jsPDF "+sr.version))+")"),Bt)Bt.hasOwnProperty(Ae)&&Bt[Ae]&&se("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Gr(X(Bt[Ae]))+")");se("/CreationDate ("+Gr(X(M))+")"),se(">>"),se("endobj")},S_=h.__private__.putCatalog=function(F){var X=(F=F||{}).rootDictionaryObjId||oe;switch(Hn(),se("<<"),se("/Type /Catalog"),se("/Pages "+X+" 0 R"),xt||(xt="fullwidth"),xt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+xt;Ae.substr(Ae.length-1)==="%"&&(xt=parseInt(xt)/100),typeof xt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+w(xt)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}bt&&se("/PageMode /"+bt),rn.publish("putCatalog"),se(">>"),se("endobj")},is=h.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(Z+1)),se("/Root "+Z+" 0 R"),se("/Info "+(Z-1)+" 0 R"),g!==null&&se("/Encrypt "+qi.oid+" 0 R"),se("/ID [ <"+B+"> <"+B+"> ]"),se(">>")},Tx=h.__private__.putHeader=function(){se("%PDF-"+A),se("%")},Rx=h.__private__.putXRef=function(){var F="0000000000";se("xref"),se("0 "+(Z+1)),se("0000000000 65535 f ");for(var X=1;X<=Z;X++)typeof ue[X]=="function"?se((F+ue[X]()).slice(-10)+" 00000 n "):ue[X]!==void 0?se((F+ue[X]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},ng=h.__private__.buildDocument=function(){var F;Z=0,ie=0,re=[],ue=[],Ce=[],oe=bi(),ce=bi(),Te(re),rn.publish("buildDocument"),Tx(),Me(),function(){rn.publish("putAdditionalObjects");for(var Ae=0;Ae<Ce.length;Ae++){var be=Ce[Ae];J(be.objId,!0),se(be.content),se("endobj")}rn.publish("postPutAdditionalObjects")}(),F=[],function(){for(var Ae in Ve)Ve.hasOwnProperty(Ae)&&(d===!1||d===!0&&f.hasOwnProperty(Ae))&&ze(Ve[Ae])}(),function(){var Ae;for(Ae in Ir)Ir.hasOwnProperty(Ae)&&mt(Ir[Ae])}(),function(){for(var Ae in ns)ns.hasOwnProperty(Ae)&&ht(ns[Ae])}(),function(Ae){var be;for(be in zt)zt.hasOwnProperty(be)&&(zt[be]instanceof Jf?wt(zt[be]):zt[be]instanceof WI&&kt(zt[be],Ae))}(F),rn.publish("putResources"),F.forEach(Ot),Ot({resourcesOid:ce,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),g!==null&&(qi.oid=Hn(),se("<<"),se("/Filter /Standard"),se("/V "+qi.v),se("/R "+qi.r),se("/U <"+qi.toHexString(qi.U)+">"),se("/O <"+qi.toHexString(qi.O)+">"),se("/P "+qi.P),se(">>"),se("endobj")),_o(),S_();var X=ie;return Rx(),is(),se("startxref"),se(""+X),se("%%EOF"),Te(Pe[q]),re.join(`
`)},yf=h.__private__.getBlob=function(F){return new Blob([Re(F)],{type:"application/pdf"})},uc=h.output=h.__private__.output=(Eo=function(F,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",F){case void 0:return ng();case"save":h.save(X.filename);break;case"arraybuffer":return Re(ng());case"blob":return yf(ng());case"bloburi":case"bloburl":if(br.URL!==void 0&&typeof br.URL.createObjectURL=="function")return br.URL&&br.URL.createObjectURL(yf(ng()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",be=ng();try{Ae=pY(be)}catch{Ae=pY(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+X.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(br)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Oe=X.pdfObjectUrl,rt="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Zt=br.open();return Zt!==null&&Zt.document.write(dt),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(br)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',wr=br.open();if(wr!==null){wr.document.write(tr);var _r=this;wr.document.documentElement.querySelector("#pdfViewer").onload=function(){wr.document.title=X.filename,wr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_r.output("bloburl"))}}return wr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(br)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',Ii=br.open();if(Ii!==null&&(Ii.document.write(hn),Ii.document.title=X.filename),Ii||typeof safari>"u")return Ii;break;case"datauri":case"dataurl":return br.document.location.href=this.output("datauristring",X);default:return null}},Eo.foo=function(){try{return Eo.apply(this,arguments)}catch(Ae){var F=Ae.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var X="Error in function "+F.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!br.console)throw new Error(X);br.console.error(X,Ae),br.alert&&alert(X)}},Eo.foo.bar=Eo,Eo.foo),xf=function(F){return Array.isArray(cc)===!0&&cc.indexOf(F)>-1};switch(n){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=xf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ht=n}var qi=null;Y(),H();var o0=h.__private__.getPageInfo=h.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nr[F].objId,pageNumber:F,pageContext:nr[F]}},E_=h.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in nr)if(nr[X].objId===F)break;return o0(X)},__=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:nr[q].objId,pageNumber:q,pageContext:nr[q]}};h.addPage=function(){return Ua.apply(this,arguments),this},h.setPage=function(){return wl.apply(this,arguments),Te.call(this,Pe[q]),this},h.insertPage=function(F){return this.addPage(),this.movePage(q,F),this},h.movePage=function(F,X){var Ae,be;if(F>X){Ae=Pe[F],be=nr[F];for(var Oe=F;Oe>X;Oe--)Pe[Oe]=Pe[Oe-1],nr[Oe]=nr[Oe-1];Pe[X]=Ae,nr[X]=be,this.setPage(X)}else if(F<X){Ae=Pe[F],be=nr[F];for(var rt=F;rt<X;rt++)Pe[rt]=Pe[rt+1],nr[rt]=nr[rt+1];Pe[X]=Ae,nr[X]=be,this.setPage(X)}return this},h.deletePage=function(){return Wa.apply(this,arguments),this},h.__private__.text=h.text=function(F,X,Ae,be,Oe){var rt,dt,Zt,tr,wr,_r,hn,Ii,ss,Kn=(be=be||{}).scope||this;if(typeof F=="number"&&typeof X=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var ps=Ae;Ae=X,X=F,F=ps}if(arguments[3]instanceof gr==0?(Zt=arguments[4],tr=arguments[5],Un(hn=arguments[3])==="object"&&hn!==null||(typeof Zt=="string"&&(tr=Zt,Zt=null),typeof hn=="string"&&(tr=hn,hn=null),typeof hn=="number"&&(Zt=hn,hn=null),be={flags:hn,angle:Zt,align:tr})):(S("The transform parameter of text() with a Matrix value"),ss=Oe),isNaN(X)||isNaN(Ae)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Kn;var os,io="",El=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:wf,fa=Kn.internal.scaleFactor;function Lx(mn){return mn=mn.split("	").join(Array(be.TabLen||9).join(" ")),Gr(mn,hn)}function nI(mn){for(var Mn,Ui=mn.concat(),ms=[],ug=Ui.length;ug--;)typeof(Mn=Ui.shift())=="string"?ms.push(Mn):Array.isArray(mn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?ms.push(Mn[0]):ms.push([Mn[0],Mn[1],Mn[2]]);return ms}function Nf(mn,Mn){var Ui;if(typeof mn=="string")Ui=Mn(mn)[0];else if(Array.isArray(mn)){for(var ms,ug,w0=mn.concat(),oI=[],$x=w0.length;$x--;)typeof(ms=w0.shift())=="string"?oI.push(Mn(ms)[0]):Array.isArray(ms)&&typeof ms[0]=="string"&&(ug=Mn(ms[0],ms[1],ms[2]),oI.push([ug[0],ug[1],ug[2]]));Ui=oI}return Ui}var Ld=!1,Of=!0;if(typeof F=="string")Ld=!0;else if(Array.isArray(F)){var jf=F.concat();dt=[];for(var Pf,To=jf.length;To--;)(typeof(Pf=jf.shift())!="string"||Array.isArray(Pf)&&typeof Pf[0]!="string")&&(Of=!1);Ld=Of}if(Ld===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var kf=Ye/Kn.internal.scaleFactor,Df=kf*(El-1);switch(be.baseline){case"bottom":Ae-=Df;break;case"top":Ae+=kf-Df;break;case"hanging":Ae+=kf-2*Df;break;case"middle":Ae+=kf/2-Df}if((_r=be.maxWidth||0)>0&&(typeof F=="string"?F=Kn.splitTextToSize(F,_r):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(mn,Mn){return mn.concat(Kn.splitTextToSize(Mn,_r))},[]))),rt={text:F,x:X,y:Ae,options:be,mutex:{pdfEscape:Gr,activeFontKey:Ft,fonts:Ve,activeFontSize:Ye}},rn.publish("preProcessText",rt),F=rt.text,Zt=(be=rt.options).angle,ss instanceof gr==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,be.rotationDirection===0&&(Zt=-Zt),y===v&&(Zt=-Zt);var A0=Math.cos(Zt),C0=Math.sin(Zt);ss=new gr(A0,C0,-C0,A0,0,0)}else Zt&&Zt instanceof gr&&(ss=Zt);y!==v||ss||(ss=za),(wr=be.charSpace||tI)!==void 0&&(io+=_(N(wr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ii=be.horizontalScale)!==void 0&&(io+=_(100*Ii)+` Tz
`),be.lang;var wi=-1,lg=be.renderingMode!==void 0?be.renderingMode:be.stroke,iI=Kn.internal.getCurrentPageInfo().pageContext;switch(lg){case 0:case!1:case"fill":wi=0;break;case 1:case!0:case"stroke":wi=1;break;case 2:case"fillThenStroke":wi=2;break;case 3:case"invisible":wi=3;break;case 4:case"fillAndAddForClipping":wi=4;break;case 5:case"strokeAndAddPathForClipping":wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wi=6;break;case 7:case"addToPathForClipping":wi=7}var Mx=iI.usedRenderingMode!==void 0?iI.usedRenderingMode:-1;wi!==-1?io+=wi+` Tr
`:Mx!==-1&&(io+=`0 Tr
`),wi!==-1&&(iI.usedRenderingMode=wi),tr=be.align||"left";var _l,Ff=Ye*El,I0=Kn.internal.pageSize.getWidth(),p0=Ve[Ft];wr=be.charSpace||tI,_r=be.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},be.flags);var Md=[],Lf=function(mn){return Kn.getStringUnitWidth(mn,{font:p0,charSpace:wr,fontSize:Ye,doKerning:!1})*Ye/fa};if(Object.prototype.toString.call(F)==="[object Array]"){var Ga;dt=nI(F),tr!=="left"&&(_l=dt.map(Lf));var Va,Bd=0;if(tr==="right"){X-=_l[0],F=[],To=dt.length;for(var cg=0;cg<To;cg++)cg===0?(Va=ig(X),Ga=sg(Ae)):(Va=N(Bd-_l[cg]),Ga=-Ff),F.push([dt[cg],Va,Ga]),Bd=_l[cg]}else if(tr==="center"){X-=_l[0]/2,F=[],To=dt.length;for(var $d=0;$d<To;$d++)$d===0?(Va=ig(X),Ga=sg(Ae)):(Va=N((Bd-_l[$d])/2),Ga=-Ff),F.push([dt[$d],Va,Ga]),Bd=_l[$d]}else if(tr==="left"){F=[],To=dt.length;for(var m0=0;m0<To;m0++)F.push(dt[m0])}else if(tr==="justify"&&p0.encoding==="Identity-H"){F=[],To=dt.length,_r=_r!==0?_r:I0;for(var sI=0,zi=0;zi<To;zi++)if(Ga=zi===0?sg(Ae):-Ff,Va=zi===0?ig(X):sI,zi<To-1){var Bx=N((_r-_l[zi])/(dt[zi].split(" ").length-1)),lu=dt[zi].split(" ");F.push([lu[0]+" ",Va,Ga]),sI=0;for(var cu=1;cu<lu.length;cu++){var v0=(Lf(lu[cu-1]+" "+lu[cu])-Lf(lu[cu]))*fa+Bx;cu==lu.length-1?F.push([lu[cu],v0,0]):F.push([lu[cu]+" ",v0,0]),sI-=v0}}else F.push([dt[zi],Va,Ga]);F.push(["",sI,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],To=dt.length,_r=_r!==0?_r:I0,zi=0;zi<To;zi++){Ga=zi===0?sg(Ae):-Ff,Va=zi===0?ig(X):0;var y0=dt[zi].split(" ").length-1,x0=y0>0?(_r-_l[zi])/y0:0;zi<To-1?Md.push(_(N(x0))):Md.push(0),F.push([dt[zi],Va,Ga])}}}(typeof be.R2L=="boolean"?be.R2L:$t)===!0&&(F=Nf(F,function(mn,Mn,Ui){return[mn.split("").reverse().join(""),Mn,Ui]})),rt={text:F,x:X,y:Ae,options:be,mutex:{pdfEscape:Gr,activeFontKey:Ft,fonts:Ve,activeFontSize:Ye}},rn.publish("postProcessText",rt),F=rt.text,os=rt.mutex.isHex||!1;var b0=Ve[Ft].encoding;b0!=="WinAnsiEncoding"&&b0!=="StandardEncoding"||(F=Nf(F,function(mn,Mn,Ui){return[Lx(mn),Mn,Ui]})),dt=nI(F),F=[];for(var qd,zd,Ud,Mf=Array.isArray(dt[0])?1:0,Wd="",Bf=function(mn,Mn,Ui){var ms="";return Ui instanceof gr?(Ui=typeof be.angle=="number"?qa(Ui,new gr(1,0,0,1,mn,Mn)):qa(new gr(1,0,0,1,mn,Mn),Ui),y===v&&(Ui=qa(new gr(1,0,0,-1,0,0),Ui)),ms=Ui.join(" ")+` Tm
`):ms=_(mn)+" "+_(Mn)+` Td
`,ms},Tl=0;Tl<dt.length;Tl++){switch(Wd="",Mf){case 1:Ud=(os?"<":"(")+dt[Tl][0]+(os?">":")"),qd=parseFloat(dt[Tl][1]),zd=parseFloat(dt[Tl][2]);break;case 0:Ud=(os?"<":"(")+dt[Tl]+(os?">":")"),qd=ig(X),zd=sg(Ae)}Md!==void 0&&Md[Tl]!==void 0&&(Wd=Md[Tl]+` Tw
`),Tl===0?F.push(Wd+Bf(qd,zd,ss)+Ud):Mf===0?F.push(Wd+Ud):Mf===1&&F.push(Wd+Bf(qd,zd,ss)+Ud)}F=Mf===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var uu=`BT
/`;return uu+=Ft+" "+Ye+` Tf
`,uu+=_(Ye*El)+` TL
`,uu+=Sf+`
`,uu+=io,uu+=F,se(uu+="ET"),f[Ft]=!0,Kn};var T_=h.__private__.clip=h.clip=function(F){return se(F==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return T_("evenodd")},h.__private__.discardPath=h.discardPath=function(){return se("n"),this};var au=h.__private__.isValidStyle=function(F){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(F){return au(F)&&(u=F),this};var Nx=h.__private__.getStyle=h.getStyle=function(F){var X=u;switch(F){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=F}return X},Ox=h.close=function(){return se("h"),this};h.stroke=function(){return se("S"),this},h.fill=function(F){return Dd("f",F),this},h.fillEvenOdd=function(F){return Dd("f*",F),this},h.fillStroke=function(F){return Dd("B",F),this},h.fillStrokeEvenOdd=function(F){return Dd("B*",F),this};var Dd=function(F,X){Un(X)==="object"?N_(X,F):se(F)},a0=function(F){F===null||y===v&&F===void 0||(F=Nx(F),se(F))};function R_(F,X,Ae,be,Oe){var rt=new WI(X||this.boundingBox,Ae||this.xStep,be||this.yStep,this.gState,Oe||this.matrix);rt.stream=this.stream;var dt=F+"$$"+this.cloneIndex+++"$$";return Ms(dt,rt),rt}var N_=function(F,X){var Ae=Cr[F.key],be=zt[Ae];if(be instanceof Jf)se("q"),se(O_(X)),be.gState&&h.setGState(be.gState),se(F.matrix.toString()+" cm"),se("/"+Ae+" sh"),se("Q");else if(be instanceof WI){var Oe=new gr(1,0,0,-1,0,Rf());F.matrix&&(Oe=Oe.multiply(F.matrix||za),Ae=R_.call(be,F.key,F.boundingBox,F.xStep,F.yStep,Oe).id),se("q"),se("/Pattern cs"),se("/"+Ae+" scn"),be.gState&&h.setGState(be.gState),se(X),se("Q")}},O_=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},l0=h.moveTo=function(F,X){return se(_(N(F))+" "+_(P(X))+" m"),this},bf=h.lineTo=function(F,X){return se(_(N(F))+" "+_(P(X))+" l"),this},Fd=h.curveTo=function(F,X,Ae,be,Oe,rt){return se([_(N(F)),_(P(X)),_(N(Ae)),_(P(be)),_(N(Oe)),_(P(rt)),"c"].join(" ")),this};h.__private__.line=h.line=function(F,X,Ae,be,Oe){if(isNaN(F)||isNaN(X)||isNaN(Ae)||isNaN(be)||!au(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return y===m?this.lines([[Ae-F,be-X]],F,X,[1,1],Oe||"S"):this.lines([[Ae-F,be-X]],F,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(F,X,Ae,be,Oe,rt){var dt,Zt,tr,wr,_r,hn,Ii,ss,Kn,ps,os,io;if(typeof F=="number"&&(io=Ae,Ae=X,X=F,F=io),be=be||[1,1],rt=rt||!1,isNaN(X)||isNaN(Ae)||!Array.isArray(F)||!Array.isArray(be)||!au(Oe)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(l0(X,Ae),dt=be[0],Zt=be[1],wr=F.length,ps=X,os=Ae,tr=0;tr<wr;tr++)(_r=F[tr]).length===2?(ps=_r[0]*dt+ps,os=_r[1]*Zt+os,bf(ps,os)):(hn=_r[0]*dt+ps,Ii=_r[1]*Zt+os,ss=_r[2]*dt+ps,Kn=_r[3]*Zt+os,ps=_r[4]*dt+ps,os=_r[5]*Zt+os,Fd(hn,Ii,ss,Kn,ps,os));return rt&&Ox(),a0(Oe),this},h.path=function(F){for(var X=0;X<F.length;X++){var Ae=F[X],be=Ae.c;switch(Ae.op){case"m":l0(be[0],be[1]);break;case"l":bf(be[0],be[1]);break;case"c":Fd.apply(this,be);break;case"h":Ox()}}return this},h.__private__.rect=h.rect=function(F,X,Ae,be,Oe){if(isNaN(F)||isNaN(X)||isNaN(Ae)||isNaN(be)||!au(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return y===m&&(be=-be),se([_(N(F)),_(P(X)),_(N(Ae)),_(N(be)),"re"].join(" ")),a0(Oe),this},h.__private__.triangle=h.triangle=function(F,X,Ae,be,Oe,rt,dt){if(isNaN(F)||isNaN(X)||isNaN(Ae)||isNaN(be)||isNaN(Oe)||isNaN(rt)||!au(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-F,be-X],[Oe-Ae,rt-be],[F-Oe,X-rt]],F,X,[1,1],dt,!0),this},h.__private__.roundedRect=h.roundedRect=function(F,X,Ae,be,Oe,rt,dt){if(isNaN(F)||isNaN(X)||isNaN(Ae)||isNaN(be)||isNaN(Oe)||isNaN(rt)||!au(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Ae),rt=Math.min(rt,.5*be),this.lines([[Ae-2*Oe,0],[Oe*Zt,0,Oe,rt-rt*Zt,Oe,rt],[0,be-2*rt],[0,rt*Zt,-Oe*Zt,rt,-Oe,rt],[2*Oe-Ae,0],[-Oe*Zt,0,-Oe,-rt*Zt,-Oe,-rt],[0,2*rt-be],[0,-rt*Zt,Oe*Zt,-rt,Oe,-rt]],F+Oe,X,[1,1],dt,!0),this},h.__private__.ellipse=h.ellipse=function(F,X,Ae,be,Oe){if(isNaN(F)||isNaN(X)||isNaN(Ae)||isNaN(be)||!au(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*Ae,dt=4/3*(Math.SQRT2-1)*be;return l0(F+Ae,X),Fd(F+Ae,X-dt,F+rt,X-be,F,X-be),Fd(F-rt,X-be,F-Ae,X-dt,F-Ae,X),Fd(F-Ae,X+dt,F-rt,X+be,F,X+be),Fd(F+rt,X+be,F+Ae,X+dt,F+Ae,X),a0(Oe),this},h.__private__.circle=h.circle=function(F,X,Ae,be){if(isNaN(F)||isNaN(X)||isNaN(Ae)||!au(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,X,Ae,Ae,be)},h.setFont=function(F,X,Ae){return Ae&&(X=E(X,Ae)),Ft=Sl(F,X,{disableWarning:!1}),this};var j_=h.__private__.getFont=h.getFont=function(){return Ve[Sl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var F,X,Ae={};for(F in ut)if(ut.hasOwnProperty(F))for(X in Ae[F]=[],ut[F])ut[F].hasOwnProperty(X)&&Ae[F].push(X);return Ae},h.addFont=function(F,X,Ae,be,Oe){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(Ae=E(Ae,be)),pn.call(this,F,X,Ae,Oe=Oe||"Identity-H")};var wf,c0=t.lineWidth||.200025,Sr=h.__private__.getLineWidth=h.getLineWidth=function(){return c0},P_=h.__private__.setLineWidth=h.setLineWidth=function(F){return c0=F,se(_(N(F))+" w"),this};h.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(F,X){if(F=F||[],X=X||0,isNaN(X)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(Ae){return _(N(Ae))}).join(" "),X=_(N(X)),se("["+F+"] "+X+" d"),this};var k_=h.__private__.getLineHeight=h.getLineHeight=function(){return Ye*wf};h.__private__.getLineHeight=h.getLineHeight=function(){return Ye*wf};var D_=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(wf=F),this},F_=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return wf};D_(t.lineHeight);var ig=h.__private__.getHorizontalCoordinate=function(F){return N(F)},sg=h.__private__.getVerticalCoordinate=function(F){return y===v?F:nr[q].mediaBox.topRightY-nr[q].mediaBox.bottomLeftY-N(F)},L_=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(F){return _(ig(F))},M_=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(F){return _(sg(F))},JC=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ge(JC)},h.__private__.setStrokeColor=h.setDrawColor=function(F,X,Ae,be){return JC=Ie({ch1:F,ch2:X,ch3:Ae,ch4:be,pdfColorType:"draw",precision:2}),se(JC),this};var u0=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ge(u0)},h.__private__.setFillColor=h.setFillColor=function(F,X,Ae,be){return u0=Ie({ch1:F,ch2:X,ch3:Ae,ch4:be,pdfColorType:"fill",precision:2}),se(u0),this};var Sf=t.textColor||"0 g",eI=h.__private__.getTextColor=h.getTextColor=function(){return ge(Sf)};h.__private__.setTextColor=h.setTextColor=function(F,X,Ae,be){return Sf=Ie({ch1:F,ch2:X,ch3:Ae,ch4:be,pdfColorType:"text",precision:3}),this};var tI=t.charSpace,B_=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(tI||0)};h.__private__.setCharSpace=h.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tI=F,this};var g0=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(F){var X=h.CapJoinStyles[F];if(X===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return g0=X,se(X+" J"),this};var d0=0;h.__private__.setLineJoin=h.setLineJoin=function(F){var X=h.CapJoinStyles[F];if(X===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return d0=X,se(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(_(N(F))+" M"),this},h.GState=p2,h.setGState=function(F){(F=typeof F=="string"?Ir[In[F]]:Ef(null,F)).equals(ri)||(se("/"+F.id+" gs"),ri=F)};var Ef=function(F,X){if(!F||!In[F]){var Ae=!1;for(var be in Ir)if(Ir.hasOwnProperty(be)&&Ir[be].equals(X)){Ae=!0;break}if(Ae)X=Ir[be];else{var Oe="GS"+(Object.keys(Ir).length+1).toString(10);Ir[Oe]=X,X.id=Oe}return F&&(In[F]=X.id),rn.publish("addGState",X),X}};h.addGState=function(F,X){return Ef(F,X),this},h.saveGraphicsState=function(){return se("q"),qt.push({key:Ft,size:Ye,color:Sf}),this},h.restoreGraphicsState=function(){se("Q");var F=qt.pop();return Ft=F.key,Ye=F.size,Sf=F.color,ri=null,this},h.setCurrentTransformationMatrix=function(F){return se(F.toString()+" cm"),this},h.comment=function(F){return se("#"+F),this};var _f=function(F,X){var Ae=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(rt){isNaN(rt)||(Ae=parseFloat(rt))}});var be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(rt){isNaN(rt)||(be=parseFloat(rt))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(rt){Oe=rt.toString()}}),this},h0=function(F,X,Ae,be){_f.call(this,F,X),this.type="rect";var Oe=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(dt){isNaN(dt)||(Oe=parseFloat(dt))}});var rt=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(dt){isNaN(dt)||(rt=parseFloat(dt))}}),this},rI=function(){this.page=ln,this.currentPage=q,this.pages=Pe.slice(0),this.pagesContext=nr.slice(0),this.x=Qe,this.y=it,this.matrix=ot,this.width=jx(q),this.height=og(q),this.outputDestination=He,this.id="",this.objectNumber=-1};rI.prototype.restore=function(){ln=this.page,q=this.currentPage,nr=this.pagesContext,Pe=this.pages,Qe=this.x,it=this.y,ot=this.matrix,Px(q,this.width),ag(q,this.height),He=this.outputDestination};var f0=function(F,X,Ae,be,Oe){da.push(new rI),ln=q=0,Pe=[],Qe=F,it=X,ot=Oe,di([Ae,be])};for(var Tf in h.beginFormObject=function(F,X,Ae,be,Oe){return f0(F,X,Ae,be,Oe),this},h.endFormObject=function(F){return function(X){if($a[X])da.pop().restore();else{var Ae=new rI,be="Xo"+(Object.keys(ns).length+1).toString(10);Ae.id=be,$a[X]=be,ns[be]=Ae,rn.publish("addFormObject",Ae),da.pop().restore()}}(F),this},h.doFormObject=function(F,X){var Ae=ns[$a[F]];return se("q"),se(X.toString()+" cm"),se("/"+Ae.id+" Do"),se("Q"),this},h.getFormObject=function(F){var X=ns[$a[F]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(F,X){return F=F||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Yf(yf(ng()),F),typeof Yf.unload=="function"&&br.setTimeout&&setTimeout(Yf.unload,911),this):new Promise(function(Ae,be){try{var Oe=Yf(yf(ng()),F);typeof Yf.unload=="function"&&br.setTimeout&&setTimeout(Yf.unload,911),Ae(Oe)}catch(rt){be(rt.message)}})},sr.API)sr.API.hasOwnProperty(Tf)&&(Tf==="events"&&sr.API.events.length?function(F,X){var Ae,be,Oe;for(Oe=X.length-1;Oe!==-1;Oe--)Ae=X[Oe][0],be=X[Oe][1],F.subscribe.apply(F,[Ae].concat(typeof be=="function"?[be]:be))}(rn,sr.API.events):h[Tf]=sr.API[Tf]);function jx(F){return nr[F].mediaBox.topRightX-nr[F].mediaBox.bottomLeftX}function Px(F,X){nr[F].mediaBox.topRightX=X+nr[F].mediaBox.bottomLeftX}function og(F){return nr[F].mediaBox.topRightY-nr[F].mediaBox.bottomLeftY}function ag(F,X){nr[F].mediaBox.topRightY=X+nr[F].mediaBox.bottomLeftY}var kx=h.getPageWidth=function(F){return jx(F=F||q)/Ht},Dx=h.setPageWidth=function(F,X){Px(F,X*Ht)},Rf=h.getPageHeight=function(F){return og(F=F||q)/Ht},Fx=h.setPageHeight=function(F,X){ag(F,X*Ht)};return h.internal={pdfEscape:Gr,getStyle:Nx,getFont:j_,getFontSize:ft,getCharSpace:B_,getTextColor:eI,getLineHeight:k_,getLineHeightFactor:F_,getLineWidth:Sr,write:Ct,getHorizontalCoordinate:ig,getVerticalCoordinate:sg,getCoordinateString:L_,getVerticalCoordinateString:M_,collections:{},newObject:Hn,newAdditionalObject:de,newObjectDeferred:bi,newObjectDeferredBegin:J,getFilters:De,putStream:Ze,events:rn,scaleFactor:Ht,pageSize:{getWidth:function(){return kx(q)},setWidth:function(F){Dx(q,F)},getHeight:function(){return Rf(q)},setHeight:function(F){Fx(q,F)}},encryptionOptions:g,encryption:qi,getEncryptor:function(F){return g!==null?qi.encryptor(F,0):function(X){return X}},output:uc,getNumberOfPages:ha,pages:Pe,out:se,f2:w,f3:R,getPageInfo:o0,getPageInfoByObjId:E_,getCurrentPageInfo:__,getPDFVersion:C,Point:_f,Rectangle:h0,Matrix:gr,hasHotfix:xf},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return kx(q)},set:function(F){Dx(q,F)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Rf(q)},set:function(F){Fx(q,F)},enumerable:!0,configurable:!0}),(function(F){for(var X=0,Ae=ke.length;X<Ae;X++){var be=pn.call(this,F[X][0],F[X][1],F[X][2],ke[X][3],!0);d===!1&&(f[be]=!0);var Oe=F[X][0].split("-");pr({id:be,fontName:Oe[0],fontStyle:Oe[1]||""})}rn.publish("addFonts",{fonts:Ve,dictionary:ut})}).call(h,ke),Ft="F1",Ua(i,r),rn.publish("initialized"),h}FI.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},FI.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},FI.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},FI.prototype.processOwnerPassword=function(t,e){return jz(Oz(e).substr(0,5),t)},FI.prototype.encryptor=function(t,e){var r=Oz(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return jz(r,n)}},p2.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Un(t)!==Un(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},sr.API={events:[]},sr.version="3.0.3";var Ni=sr.API,r9=1,wC=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dI=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rr=function(t){return t.toFixed(2)},Jd=function(t){return t.toFixed(5)};Ni.__acroform__={};var Da=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xY=function(t){return t*r9},mu=function(t){var e=new O2e,r=Yt.internal.getHeight(t)||0,n=Yt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Rr(n)),Number(Rr(r))],e},H9e=Ni.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},K9e=Ni.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Y9e=Ni.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Hi=Ni.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Y9e(t,e-1)},Ki=Ni.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return H9e(t,e-1)},Yi=Ni.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K9e(t,e-1)},Z9e=Ni.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(Rr(l.lowerLeft_X)),Number(Rr(l.lowerLeft_Y)),Number(Rr(l.upperRight_X)),Number(Rr(l.upperRight_Y))]},X9e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Pz(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Rr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=mu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Pz=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(w){return w.split(`
`)}):i.map(function(w){return[w]});var s=r,o=Yt.internal.getHeight(t)||0;o=o<0?-o:o;var a=Yt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(w,R,N){if(w+1<i.length){var P=R+" "+i[w+1][0];return bb(P,t,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,g,d=bb("3",t,s).height,f=t.multiline?o-s:(o-d)/2,h=f+=2,A=0,C=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+bb(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var p="",m=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var y=!1;if(i[v].length!==1&&I!==i[v].length-1){if((d+2)*(m+2)+2>o)continue e;p+=i[v][I],y=!0,C=v,v--}else{p=(p+=i[v][I]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var x=parseInt(v),T=l(x,p,s),E=v>=i.length-1;if(T&&!E){p+=" ",I=0;continue}if(T||E){if(E)C=x;else if(t.multiline&&(d+2)*(m+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(m+2)+2>o)continue e;C=x}}for(var _="",S=A;S<=C;S++){var j=i[S];if(t.multiline){if(S===C){_+=j[I]+" ",I=(I+1)%j.length;continue}if(S===A){_+=j[j.length-1]+" ";continue}}_+=j[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,g=bb(_,t,s).width,t.textAlign){case"right":u=a-g-2;break;case"center":u=(a-g)/2;break;default:u=2}e+=Rr(u)+" "+Rr(h)+` Td
`,e+="("+wC(_)+`) Tj
`,e+=-Rr(u)+` 0 Td
`,h=-(s+2),g=0,A=y?C:C+1,m++,p=""}break}return n.text=e,n.fontSize=s,n},bb=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Q9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J9e=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},eWe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Jc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Q9e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r9=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new j2e,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&J9e(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Z9e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Yt.createDefaultAppearanceStream(a),Un(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var g=X9e(a);l.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var A=h[o];typeof A=="function"&&(A=A.call(i,a)),d+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=h)=="function"&&(A=A.call(i,a)),d+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(C,I){for(var p in C)if(C.hasOwnProperty(p)){var m=p,v=C[p];I.internal.newObjectDeferredBegin(v.objId,!0),Un(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete C[m]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},N2e=Ni.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Un(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+wC(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$T=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+wC(n(t))+")"},ju=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ju.prototype.toString=function(){return this.objId+" 0 R"},ju.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ju.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:N2e(i,this.objId,this.scope)}):i instanceof ju?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var O2e=function(){ju.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Da(O2e,ju);var j2e=function(){ju.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+wC(r(t))+")"}},set:function(r){t=r}})};Da(j2e,ju);var Jc=function t(){ju.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hi(e,3)},set:function(p){p?this.F=Ki(e,3):this.F=Yi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof m2)return;s="FieldObject"+t.FieldNum++}var p=function(m){return m};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+wC(p(s))+")"},set:function(p){s=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(p){s=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/r9:u},set:function(p){u=p}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(p){g=p}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof m2||this instanceof EA))return $T(d,this.objId,this.scope)},set:function(p){p=p.toString(),d=p}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof qs==0?$T(f,this.objId,this.scope):f},set:function(p){p=p.toString(),f=this instanceof qs==0?p.substr(0,1)==="("?dI(p.substr(1,p.length-2)):dI(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?dI(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof qs==1?"/"+p:p}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof qs==0?$T(h,this.objId,this.scope):h},set:function(p){p=p.toString(),h=this instanceof qs==0?p.substr(0,1)==="("?dI(p.substr(1,p.length-2)):dI(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?dI(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof qs==1?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(p){p=!!p,C=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(p){A=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,1)},set:function(p){p?this.Ff=Ki(this.Ff,1):this.Ff=Yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,2)},set:function(p){p?this.Ff=Ki(this.Ff,2):this.Ff=Yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,3)},set:function(p){p?this.Ff=Ki(this.Ff,3):this.Ff=Yi(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');I=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(I){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Da(Jc,ju);var ap=function(){Jc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return N2e(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,18)},set:function(r){r?this.Ff=Ki(this.Ff,18):this.Ff=Yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ki(this.Ff,19):this.Ff=Yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,20)},set:function(r){r?(this.Ff=Ki(this.Ff,20),e.sort()):this.Ff=Yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,22)},set:function(r){r?this.Ff=Ki(this.Ff,22):this.Ff=Yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(r){r?this.Ff=Ki(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,27)},set:function(r){r?this.Ff=Ki(this.Ff,27):this.Ff=Yi(this.Ff,27)}}),this.hasAppearanceStream=!1};Da(ap,Jc);var lp=function(){ap.call(this),this.fontName="helvetica",this.combo=!1};Da(lp,ap);var cp=function(){lp.call(this),this.combo=!0};Da(cp,lp);var Sw=function(){cp.call(this),this.edit=!0};Da(Sw,cp);var qs=function(){Jc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,15)},set:function(r){r?this.Ff=Ki(this.Ff,15):this.Ff=Yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,16)},set:function(r){r?this.Ff=Ki(this.Ff,16):this.Ff=Yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,17)},set:function(r){r?this.Ff=Ki(this.Ff,17):this.Ff=Yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(r){r?this.Ff=Ki(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+wC(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Un(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Da(qs,Jc);var Ew=function(){qs.call(this),this.pushButton=!0};Da(Ew,qs);var up=function(){qs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Da(up,qs);var m2=function(){var t,e;Jc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+wC(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Un(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Da(m2,Jc),up.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},up.prototype.createOption=function(t){var e=new m2;return e.Parent=this,e.optionName=t,this.Kids.push(e),tWe.call(this.scope,e),e};var _w=function(){qs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};Da(_w,qs);var EA=function(){Jc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,13)},set:function(e){e?this.Ff=Ki(this.Ff,13):this.Ff=Yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,21)},set:function(e){e?this.Ff=Ki(this.Ff,21):this.Ff=Yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(e){e?this.Ff=Ki(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,24)},set:function(e){e?this.Ff=Ki(this.Ff,24):this.Ff=Yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,25)},set:function(e){e?this.Ff=Ki(this.Ff,25):this.Ff=Yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(e){e?this.Ff=Ki(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Da(EA,Jc);var Tw=function(){EA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,14)},set:function(t){t?this.Ff=Ki(this.Ff,14):this.Ff=Yi(this.Ff,14)}}),this.password=!0};Da(Tw,EA);var Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=mu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Pz(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Rr(Yt.internal.getWidth(t))+" "+Rr(Yt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=mu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Yt.internal.getHeight(t),o=Yt.internal.getWidth(t),a=Pz(t,t.caption);return i.push("1 g"),i.push("0 0 "+Rr(o)+" "+Rr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rr(o-1)+" "+Rr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Rr(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=mu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(Yt.internal.getWidth(t))+" "+Rr(Yt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Yt.RadioButton.Circle.YesNormal,e.D[t]=Yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=mu(t);e.scope=t.scope;var r=[],n=Yt.internal.getWidth(t)<=Yt.internal.getHeight(t)?Yt.internal.getWidth(t)/4:Yt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Yt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jd(Yt.internal.getWidth(t)/2)+" "+Jd(Yt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=mu(t);e.scope=t.scope;var r=[],n=Yt.internal.getWidth(t)<=Yt.internal.getHeight(t)?Yt.internal.getWidth(t)/4:Yt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Yt.internal.Bezier_C).toFixed(5)),o=Number((n*Yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jd(Yt.internal.getWidth(t)/2)+" "+Jd(Yt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jd(Yt.internal.getWidth(t)/2)+" "+Jd(Yt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=mu(t);e.scope=t.scope;var r=[],n=Yt.internal.getWidth(t)<=Yt.internal.getHeight(t)?Yt.internal.getWidth(t)/4:Yt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jd(Yt.internal.getWidth(t)/2)+" "+Jd(Yt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Yt.RadioButton.Cross.YesNormal,e.D[t]=Yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=mu(t);e.scope=t.scope;var r=[],n=Yt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Rr(Yt.internal.getWidth(t)-2)+" "+Rr(Yt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Rr(n.x1.x)+" "+Rr(n.x1.y)+" m"),r.push(Rr(n.x2.x)+" "+Rr(n.x2.y)+" l"),r.push(Rr(n.x4.x)+" "+Rr(n.x4.y)+" m"),r.push(Rr(n.x3.x)+" "+Rr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=mu(t);e.scope=t.scope;var r=Yt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rr(Yt.internal.getWidth(t))+" "+Rr(Yt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rr(Yt.internal.getWidth(t)-2)+" "+Rr(Yt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Rr(r.x1.x)+" "+Rr(r.x1.y)+" m"),n.push(Rr(r.x2.x)+" "+Rr(r.x2.y)+" l"),n.push(Rr(r.x4.x)+" "+Rr(r.x4.y)+" m"),n.push(Rr(r.x3.x)+" "+Rr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=mu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(Yt.internal.getWidth(t))+" "+Rr(Yt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Yt.internal.getWidth(t),r=Yt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Yt.internal.getWidth=function(t){var e=0;return Un(t)==="object"&&(e=xY(t.Rect[2])),e},Yt.internal.getHeight=function(t){var e=0;return Un(t)==="object"&&(e=xY(t.Rect[3])),e};var tWe=Ni.addField=function(t){if(eWe(this,t),!(t instanceof Jc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=ap,Ni.AcroFormListBox=lp,Ni.AcroFormComboBox=cp,Ni.AcroFormEditBox=Sw,Ni.AcroFormButton=qs,Ni.AcroFormPushButton=Ew,Ni.AcroFormRadioButton=up,Ni.AcroFormCheckBox=_w,Ni.AcroFormTextField=EA,Ni.AcroFormPasswordField=Tw,Ni.AcroFormAppearance=Yt,Ni.AcroForm={ChoiceField:ap,ListBox:lp,ComboBox:cp,EditBox:Sw,Button:qs,PushButton:Ew,RadioButton:up,CheckBox:_w,TextField:EA,PasswordField:Tw,Appearance:Yt},sr.AcroForm={ChoiceField:ap,ListBox:lp,ComboBox:cp,EditBox:Sw,Button:qs,PushButton:Ew,RadioButton:up,CheckBox:_w,TextField:EA,PasswordField:Tw,Appearance:Yt};sr.AcroForm;function P2e(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(w,R){var N,P,M,B,W,H=r;if((R=R||r)==="RGBA"||w.data!==void 0&&w.data instanceof Uint8ClampedArray&&"height"in w&&"width"in w)return"RGBA";if(T(w))for(W in n)for(M=n[W],N=0;N<M.length;N+=1){for(B=!0,P=0;P<M[N].length;P+=1)if(M[N][P]!==void 0&&M[N][P]!==w[P]){B=!1;break}if(B===!0){H=W;break}}else for(W in n)for(M=n[W],N=0;N<M.length;N+=1){for(B=!0,P=0;P<M[N].length;P+=1)if(M[N][P]!==void 0&&M[N][P]!==w.charCodeAt(P)){B=!1;break}if(B===!0){H=W;break}}return H===r&&R!==r&&(H=R),H},s=function w(R){for(var N=this.internal.write,P=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var B=[];if(B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Image"}),B.push({key:"Width",value:R.width}),B.push({key:"Height",value:R.height}),R.colorSpace===p.INDEXED?B.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(B.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===p.DEVICE_CMYK&&B.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),B.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&B.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var W="",H=0,V=R.transparency.length;H<V;H++)W+=R.transparency[H]+" "+R.transparency[H]+" ";B.push({key:"Mask",value:"["+W+"]"})}R.sMask!==void 0&&B.push({key:"SMask",value:R.objectId+1+" 0 R"});var K=R.filter!==void 0?["/"+R.filter]:void 0;if(P({data:R.data,additionalKeyValues:B,alreadyAppliedFilters:K,objectId:R.objectId}),N("endobj"),"sMask"in R&&R.sMask!==void 0){var Y,k=(Y=R.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:R.bitsPerComponent,q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:R.sMask};"filter"in R&&(q.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(R.width),q.filter=R.filter),w.call(this,q)}if(R.colorSpace===p.INDEXED){var z=this.internal.newObject();P({data:_(new Uint8Array(R.palette)),objectId:z}),N("endobj")}},o=function(){var w=this.internal.collections[e+"images"];for(var R in w)s.call(this,w[R])},a=function(){var w,R=this.internal.collections[e+"images"],N=this.internal.write;for(var P in R)N("/I"+(w=R[P]).index,w.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var w=this.internal.collections[e+"images"];return l.call(this),w},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(w){return typeof t["process"+w.toUpperCase()]=="function"},f=function(w){return Un(w)==="object"&&w.nodeType===1},h=function(w,R){if(w.nodeName==="IMG"&&w.hasAttribute("src")){var N=""+w.getAttribute("src");if(N.indexOf("data:image/")===0)return ww(unescape(N).split("base64,").pop());var P=t.loadFile(N,!0);if(P!==void 0)return P}if(w.nodeName==="CANVAS"){if(w.width===0||w.height===0)throw new Error("Given canvas must have data. Canvas width: "+w.width+", height: "+w.height);var M;switch(R){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;default:M="image/jpeg"}return ww(w.toDataURL(M,1).split("base64,").pop())}},A=function(w){var R=this.internal.collections[e+"images"];if(R){for(var N in R)if(w===R[N].alias)return R[N]}},C=function(w,R,N){return w||R||(w=-96,R=-96),w<0&&(w=-1*N.width*72/w/this.internal.scaleFactor),R<0&&(R=-1*N.height*72/R/this.internal.scaleFactor),w===0&&(w=R*N.width/N.height),R===0&&(R=w*N.height/N.width),[w,R]},I=function(w,R,N,P,M,B){var W=C.call(this,N,P,M),H=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,K=u.call(this);if(N=W[0],P=W[1],K[M.index]=M,B){B*=Math.PI/180;var Y=Math.cos(B),k=Math.sin(B),q=function(G){return G.toFixed(4)},z=[q(Y),q(k),q(-1*k),q(Y),0,0,"cm"]}this.internal.write("q"),B?(this.internal.write([1,"0","0",1,H(w),V(R+P),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([H(N),"0","0",H(P),"0","0","cm"].join(" "))):this.internal.write([H(N),"0","0",H(P),H(w),V(R+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},p=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(w){var R,N,P=0;if(typeof w=="string")for(N=w.length,R=0;R<N;R++)P=(P<<5)-P+w.charCodeAt(R),P|=0;else if(T(w))for(N=w.byteLength/2,R=0;R<N;R++)P=(P<<5)-P+w[R],P|=0;return P},y=t.__addimage__.validateStringAsBase64=function(w){(w=w||"").toString().trim();var R=!0;return w.length===0&&(R=!1),w.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(w.substr(0,w.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(w.substr(-2))===!1&&(R=!1),R},x=t.__addimage__.extractImageFromDataUrl=function(w){if(w==null||!(w=w.trim()).startsWith("data:"))return null;var R=w.indexOf(",");return R<0?null:w.substring(0,R).trim().endsWith("base64")?w.substring(R+1):null};t.__addimage__.isArrayBuffer=function(w){return w instanceof ArrayBuffer};var T=t.__addimage__.isArrayBufferView=function(w){return w instanceof Int8Array||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(w){for(var R=w.length,N=new Uint8Array(R),P=0;P<R;P++)N[P]=w.charCodeAt(P);return N},_=t.__addimage__.arrayBufferToBinaryString=function(w){for(var R="",N=T(w)?w:new Uint8Array(w),P=0;P<N.length;P+=8192)R+=String.fromCharCode.apply(null,N.subarray(P,P+8192));return R};t.addImage=function(){var w,R,N,P,M,B,W,H,V;if(typeof arguments[1]=="number"?(R=r,N=arguments[1],P=arguments[2],M=arguments[3],B=arguments[4],W=arguments[5],H=arguments[6],V=arguments[7]):(R=arguments[1],N=arguments[2],P=arguments[3],M=arguments[4],B=arguments[5],W=arguments[6],H=arguments[7],V=arguments[8]),Un(w=arguments[0])==="object"&&!f(w)&&"imageData"in w){var K=w;w=K.imageData,R=K.format||R||r,N=K.x||N||0,P=K.y||P||0,M=K.w||K.width||M,B=K.h||K.height||B,W=K.alias||W,H=K.compression||H,V=K.rotation||K.angle||V}var Y=this.internal.getFilters();if(H===void 0&&Y.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(N)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=S.call(this,w,R,W,H);return I.call(this,N,P,M,B,k,V),this};var S=function(w,R,N,P){var M,B,W;if(typeof w=="string"&&i(w)===r){w=unescape(w);var H=j(w,!1);(H!==""||(H=t.loadFile(w,!0))!==void 0)&&(w=H)}if(f(w)&&(w=h(w,R)),R=i(w,R),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((W=N)==null||W.length===0)&&(N=function(V){return typeof V=="string"||T(V)?v(V):T(V.data)?v(V.data):null}(w)),(M=A.call(this,N))||(w instanceof Uint8Array||R==="RGBA"||(B=w,w=E(w)),M=this["process"+R.toUpperCase()](w,g.call(this),N,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in t.image_compression?V:m.NONE}(P),B)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},j=t.__addimage__.convertBase64ToBinaryString=function(w,R){R=typeof R!="boolean"||R;var N,P="";if(typeof w=="string"){var M;N=(M=x(w))!==null&&M!==void 0?M:w;try{P=ww(N)}catch(B){if(R)throw y(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+B.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};t.getImageProperties=function(w){var R,N,P="";if(f(w)&&(w=h(w)),typeof w=="string"&&i(w)===r&&((P=j(w,!1))===""&&(P=t.loadFile(w)||""),w=P),N=i(w),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(w instanceof Uint8Array||(w=E(w)),!(R=this["process"+N.toUpperCase()](w)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=N,R}})(sr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,g=!1,d=0;d<u.length&&!g;d++)switch((n=u[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var h=this.internal.pdfEscape,A=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(C.objId),m=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+h(p(n.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(p(m))+") >>",C.content=s;var v=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(C.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(A(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var x=this.annotations._nameMap[n.options.name];n.options.pageNumber=x.page,n.options.top=x.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var T=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var g=this.splitTextToSize(r,a).length;o=Math.ceil(u*g)}else a=l,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,a,o,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(sr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},a=t.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&i.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(C){var I=0,p=r,m="",v=0;for(I=0;I<C.length;I+=1)p[C.charCodeAt(I)]!==void 0?(v++,typeof(p=p[C.charCodeAt(I)])=="number"&&(m+=String.fromCharCode(p),p=r,v=0),I===C.length-1&&(p=r,m+=C.charAt(I-(v-1)),I-=v-1,v=0)):(p=r,m+=C.charAt(I-v),I-=v,v=0);return m};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&n[C.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(C,I,p){return o(C)?s(C)===!1?-1:!u(C)||!o(I)&&!o(p)||!o(p)&&a(I)||a(C)&&!o(I)||a(C)&&l(I)||a(C)&&a(I)?0:g(C)&&o(I)&&!a(I)&&o(p)&&u(p)?3:a(C)||!o(p)?1:2:-1},h=function(C){var I=0,p=0,m=0,v="",y="",x="",T=(C=C||"").split("\\s+"),E=[];for(I=0;I<T.length;I+=1){for(E.push(""),p=0;p<T[I].length;p+=1)v=T[I][p],y=T[I][p-1],x=T[I][p+1],o(v)?(m=f(v,y,x),E[I]+=m!==-1?String.fromCharCode(e[v.charCodeAt(0)][m]):v):E[I]+=v;E[I]=d(E[I])}return E.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var C,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(I)){var m=0;for(p=[],m=0;m<I.length;m+=1)Array.isArray(I[m])?p.push([h(I[m][0]),I[m][1],I[m][2]]):p.push([h(I[m])]);C=p}else C=h(I);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",A])}(sr.API),sr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(sr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(C){l=C}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(C){u=C}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(C){A=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var g=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,h=0,A=0,C=0,I=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=u.maxWidth;p>0?typeof l=="string"?l=this.splitTextToSize(l,p):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,y){return v.concat(I.splitTextToSize(y,p))},[])):l=Array.isArray(l)?l:[l];for(var m=0;m<l.length;m++)h<(C=this.getStringUnitWidth(l[m],{font:d})*g)&&(h=C);return h!==0&&(A=l.length),{w:h/=f,h:Math.max((A*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-g,l.y+g,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+g,{align:"center",baseline:"top",maxWidth:l.width-g-g}):this.text(l.text,l.x+g,l.y+g,{align:"left",baseline:"top",maxWidth:l.width-g-g})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,g,d,f){if(n.call(this),!g)throw new Error("No data for PDF table.");var h,A,C,I,p=[],m=[],v=[],y={},x={},T=[],E=[],_=(f=f||{}).autoSize||!1,S=f.printHeaders!==!1,j=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,w=f.margins||Object.assign({width:this.getPageWidth()},e),R=typeof f.padding=="number"?f.padding:3,N=f.headerBackgroundColor||"#c8c8c8",P=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=w,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=P,this.setFontSize(j),d==null)m=p=Object.keys(g[0]),v=p.map(function(){return"left"});else if(Array.isArray(d)&&Un(d[0])==="object")for(p=d.map(function(K){return K.name}),m=d.map(function(K){return K.prompt||K.name||""}),v=d.map(function(K){return K.align||"left"}),h=0;h<d.length;h+=1)x[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(m=p=d,v=p.map(function(){return"left"}));if(_||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<p.length;h+=1){for(y[I=p[h]]=g.map(function(K){return K[I]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=y[I],this.setFont(void 0,"normal"),C=0;C<A.length;C+=1)T.push(this.getTextDimensions(A[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[I]=Math.max.apply(null,T)+R+R,T=[]}if(S){var M={};for(h=0;h<p.length;h+=1)M[p[h]]={},M[p[h]].text=m[h],M[p[h]].align=v[h];var B=a.call(this,M,x);E=p.map(function(K){return new s(l,u,x[K],B,M[K].text,void 0,M[K].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var W=d.reduce(function(K,Y){return K[Y.name]=Y.align,K},{});for(h=0;h<g.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:g[h]},this);var H=a.call(this,g[h],x);for(C=0;C<p.length;C+=1){var V=g[h][p[C]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:C,data:V},this),o.call(this,new s(l,u,x[p[C]],H,V,h+2,W[p[C]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var g=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var A=l[h];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[h]-g-g)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+g+g},this).reduce(function(h,A){return Math.max(h,A)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){g=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(g.y=this.internal.__cell__.margins.top||0,f.push(g)),g.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,g),this.setTextColor(A)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(sr.API);var k2e={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},D2e=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kz=P2e(D2e),F2e=[100,200,300,400,500,600,700,800,900],rWe=P2e(F2e);function qT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return k2e[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof kz[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function bY(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var nWe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SY(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function EY(t){return t.trimLeft()}function iWe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function sWe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var wb,_Y,TY,hI,Sb,RY,NY,OY,zT=["times"];function jY(t,e,r,n,i){var s=4,o=kY;switch(i){case sr.API.image_compression.FAST:s=1,o=PY;break;case sr.API.image_compression.MEDIUM:s=6,o=DY;break;case sr.API.image_compression.SLOW:s=9,o=FY}t=function(l,u,g,d){for(var f,h=l.length/u,A=new Uint8Array(l.length+h),C=[oWe,PY,kY,DY,FY],I=0;I<h;I+=1){var p=I*u,m=l.subarray(p,p+u);if(d)A.set(d(m,g,f),p+I);else{for(var v=C.length,y=[],x=0;x<v;x+=1)y[x]=C[x](m,g,f);var T=lWe(y.concat());A.set(y[T],p+I)}f=m}return A}(t,e,Math.ceil(r*n/8),o);var a=_z(t,{level:s});return sr.API.__addimage__.arrayBufferToBinaryString(a)}function oWe(t){var e=Array.apply([],t);return e.unshift(0),e}function PY(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function kY(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=t[s]-o+256&255}return i}function DY(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=t[s-e]||0,a=r&&r[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function FY(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=aWe(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function aWe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function lWe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function UT(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return L2e(t,i)>>s&o}function LY(t,e,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),a=(1<<n)-1,l=(e&a)<<o;(function(u,g,d){if(g+1<u.byteLength)u.setUint16(g,d,!1);else{var f=d>>8&255;u.setUint8(g,f)}})(t,s,L2e(t,s)&~(a<<o)&65535|l)}function L2e(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function cWe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,g=[],d=0,f=null,h=0,A=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],1&C||(f=null),h=C>>2&7,e++;break;case 254:for(;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var I=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++],x=y>>6&1,T=1<<1+(7&y),E=a,_=l,S=!1;y>>7&&(S=!0,E=e,_=T,e+=3*T);var j=e;for(e++;;){var w;if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}g.push({x:I,y:p,width:m,height:v,has_local_palette:S,palette_offset:E,palette_size:_,data_offset:j,data_length:e-j,transparent_index:f,interlaced:!!x,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return A},this.frameInfo=function(R){if(R<0||R>=g.length)throw new Error("Frame index out of range.");return g[R]},this.decodeAndBlitFrameBGRA=function(R,N){var P=this.frameInfo(R),M=P.width*P.height,B=new Uint8Array(M);MY(t,P.data_offset,B,M);var W=P.palette_offset,H=P.transparent_index;H===null&&(H=256);var V=P.width,K=r-V,Y=V,k=4*(P.y*r+P.x),q=4*((P.y+P.height)*r+P.x),z=k,G=4*K;P.interlaced===!0&&(G+=4*r*7);for(var Z=8,ue=0,re=B.length;ue<re;++ue){var ie=B[ue];if(Y===0&&(Y=V,(z+=G)>=q&&(G=4*K+4*r*(Z-1),z=k+(V+K)*(Z<<1),Z>>=1)),ie===H)z+=4;else{var Ce=t[W+3*ie],Pe=t[W+3*ie+1],Fe=t[W+3*ie+2];N[z++]=Fe,N[z++]=Pe,N[z++]=Ce,N[z++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(R,N){var P=this.frameInfo(R),M=P.width*P.height,B=new Uint8Array(M);MY(t,P.data_offset,B,M);var W=P.palette_offset,H=P.transparent_index;H===null&&(H=256);var V=P.width,K=r-V,Y=V,k=4*(P.y*r+P.x),q=4*((P.y+P.height)*r+P.x),z=k,G=4*K;P.interlaced===!0&&(G+=4*r*7);for(var Z=8,ue=0,re=B.length;ue<re;++ue){var ie=B[ue];if(Y===0&&(Y=V,(z+=G)>=q&&(G=4*K+4*r*(Z-1),z=k+(V+K)*(Z<<1),Z>>=1)),ie===H)z+=4;else{var Ce=t[W+3*ie],Pe=t[W+3*ie+1],Fe=t[W+3*ie+2];N[z++]=Ce,N[z++]=Pe,N[z++]=Fe,N[z++]=255}--Y}}}function MY(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,g=0,d=0,f=0,h=t[e++],A=new Int32Array(4096),C=null;;){for(;g<16&&h!==0;)d|=t[e++]<<g,g+=8,h===1?h=t[e++]:--h;if(g<l)break;var I=d&u;if(d>>=l,g-=l,I!==s){if(I===o)break;for(var p=I<a?I:C,m=0,v=p;v>s;)v=A[v]>>8,++m;var y=v;if(f+m+(p!==I?1:0)>n)return void $n.log("Warning, gif stream longer than expected.");r[f++]=y;var x=f+=m;for(p!==I&&(r[f++]=y),v=p;m--;)v=A[v],r[--x]=255&v,v>>=8;C!==null&&a<4096&&(A[a++]=C<<8|y,a>=u+1&&l<12&&(++l,u=u<<1|1)),C=I}else a=o+1,u=(1<<(l=i+1))-1,C=null}return f!==n&&$n.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function WT(t){var e,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),g=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),A=new Array(64),C=[],I=0,p=7,m=new Array(64),v=new Array(64),y=new Array(64),x=new Array(256),T=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],w=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(k,q){for(var z=0,G=0,Z=new Array,ue=1;ue<=16;ue++){for(var re=1;re<=k[ue];re++)Z[q[G]]=[],Z[q[G]][0]=z,Z[q[G]][1]=ue,G++,z++;z*=2}return Z}function W(k){for(var q=k[0],z=k[1]-1;z>=0;)q&1<<z&&(I|=1<<p),z--,--p<0&&(I==255?(H(255),H(0)):H(I),p=7,I=0)}function H(k){C.push(k)}function V(k){H(k>>8&255),H(255&k)}function K(k,q,z,G,Z){for(var ue,re=Z[0],ie=Z[240],Ce=function(Ye,xt){var ft,$t,bt,Gt,Wt,Qt,hr,Bt,Ft,Ht,Qe=0;for(Ft=0;Ft<8;++Ft){ft=Ye[Qe],$t=Ye[Qe+1],bt=Ye[Qe+2],Gt=Ye[Qe+3],Wt=Ye[Qe+4],Qt=Ye[Qe+5],hr=Ye[Qe+6];var it=ft+(Bt=Ye[Qe+7]),ot=ft-Bt,Ve=$t+hr,ut=$t-hr,qt=bt+Qt,zt=bt-Qt,Cr=Gt+Wt,Ir=Gt-Wt,In=it+Cr,ri=it-Cr,ln=Ve+qt,nr=Ve-qt;Ye[Qe]=In+ln,Ye[Qe+4]=In-ln;var rn=.707106781*(nr+ri);Ye[Qe+2]=ri+rn,Ye[Qe+6]=ri-rn;var cc=.382683433*((In=Ir+zt)-(nr=ut+ot)),ns=.5411961*In+cc,$a=1.306562965*nr+cc,da=.707106781*(ln=zt+ut),gr=ot+da,qa=ot-da;Ye[Qe+5]=qa+ns,Ye[Qe+3]=qa-ns,Ye[Qe+1]=gr+$a,Ye[Qe+7]=gr-$a,Qe+=8}for(Qe=0,Ft=0;Ft<8;++Ft){ft=Ye[Qe],$t=Ye[Qe+8],bt=Ye[Qe+16],Gt=Ye[Qe+24],Wt=Ye[Qe+32],Qt=Ye[Qe+40],hr=Ye[Qe+48];var za=ft+(Bt=Ye[Qe+56]),Ms=ft-Bt,Eo=$t+hr,Hn=$t-hr,bi=bt+Qt,J=bt-Qt,de=Gt+Wt,oe=Gt-Wt,ce=za+de,ge=za-de,Ie=Eo+bi,De=Eo-bi;Ye[Qe]=ce+Ie,Ye[Qe+32]=ce-Ie;var Ze=.707106781*(De+ge);Ye[Qe+16]=ge+Ze,Ye[Qe+48]=ge-Ze;var Le=.382683433*((ce=oe+J)-(De=Hn+Ms)),Me=.5411961*ce+Le,ze=1.306562965*De+Le,ht=.707106781*(Ie=J+Hn),wt=Ms+ht,kt=Ms-ht;Ye[Qe+40]=kt+Me,Ye[Qe+24]=kt-Me,Ye[Qe+8]=wt+ze,Ye[Qe+56]=wt-ze,Qe++}for(Ft=0;Ft<64;++Ft)Ht=Ye[Ft]*xt[Ft],h[Ft]=Ht>0?Ht+.5|0:Ht-.5|0;return h}(k,q),Pe=0;Pe<64;++Pe)A[E[Pe]]=Ce[Pe];var Fe=A[0]-z;z=A[0],Fe==0?W(G[0]):(W(G[f[ue=32767+Fe]]),W(d[ue]));for(var He=63;He>0&&A[He]==0;)He--;if(He==0)return W(re),z;for(var Te,se=1;se<=He;){for(var Ct=se;A[se]==0&&se<=He;)++se;var Re=se-Ct;if(Re>=16){Te=Re>>4;for(var ke=1;ke<=Te;++ke)W(ie);Re&=15}ue=32767+A[se],W(Z[(Re<<4)+f[ue]]),W(d[ue]),se++}return He!=63&&W(re),z}function Y(k){k=Math.min(Math.max(k,1),100),s!=k&&(function(q){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Z=o((z[G]*q+50)/100);Z=Math.min(Math.max(Z,1),255),a[E[G]]=Z}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var ie=o((ue[re]*q+50)/100);ie=Math.min(Math.max(ie,1),255),l[E[re]]=ie}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Fe=0;Fe<8;Fe++)for(var He=0;He<8;He++)u[Pe]=1/(a[E[Pe]]*Ce[Fe]*Ce[He]*8),g[Pe]=1/(l[E[Pe]]*Ce[Fe]*Ce[He]*8),Pe++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,q){q&&Y(q),C=new Array,I=0,p=7,V(65496),V(65504),V(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),V(1),V(1),H(0),H(0),function(){V(65499),V(132),H(0);for(var $t=0;$t<64;$t++)H(a[$t]);H(1);for(var bt=0;bt<64;bt++)H(l[bt])}(),function($t,bt){V(65472),V(17),H(8),V(bt),V($t),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(k.width,k.height),function(){V(65476),V(418),H(0);for(var $t=0;$t<16;$t++)H(_[$t+1]);for(var bt=0;bt<=11;bt++)H(S[bt]);H(16);for(var Gt=0;Gt<16;Gt++)H(j[Gt+1]);for(var Wt=0;Wt<=161;Wt++)H(w[Wt]);H(1);for(var Qt=0;Qt<16;Qt++)H(R[Qt+1]);for(var hr=0;hr<=11;hr++)H(N[hr]);H(17);for(var Bt=0;Bt<16;Bt++)H(P[Bt+1]);for(var Ft=0;Ft<=161;Ft++)H(M[Ft])}(),V(65498),V(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var z=0,G=0,Z=0;I=0,p=7,this.encode.displayName="_encode_";for(var ue,re,ie,Ce,Pe,Fe,He,Te,se,Ct=k.data,Re=k.width,ke=k.height,Ye=4*Re,xt=0;xt<ke;){for(ue=0;ue<Ye;){for(Pe=Ye*xt+ue,He=-1,Te=0,se=0;se<64;se++)Fe=Pe+(Te=se>>3)*Ye+(He=4*(7&se)),xt+Te>=ke&&(Fe-=Ye*(xt+1+Te-ke)),ue+He>=Ye&&(Fe-=ue+He-Ye+4),re=Ct[Fe++],ie=Ct[Fe++],Ce=Ct[Fe++],m[se]=(T[re]+T[ie+256|0]+T[Ce+512|0]>>16)-128,v[se]=(T[re+768|0]+T[ie+1024|0]+T[Ce+1280|0]>>16)-128,y[se]=(T[re+1280|0]+T[ie+1536|0]+T[Ce+1792|0]>>16)-128;z=K(m,u,z,e,n),G=K(v,g,G,r,i),Z=K(y,g,Z,r,i),ue+=32}xt+=8}if(p>=0){var ft=[];ft[1]=p+1,ft[0]=(1<<p+1)-1,W(ft)}return V(65497),new Uint8Array(C)},t=t||50,function(){for(var k=String.fromCharCode,q=0;q<256;q++)x[q]=k(q)}(),e=B(_,S),r=B(R,N),n=B(j,w),i=B(P,M),function(){for(var k=1,q=2,z=1;z<=15;z++){for(var G=k;G<q;G++)f[32767+G]=z,d[32767+G]=[],d[32767+G][1]=z,d[32767+G][0]=G;for(var Z=-(q-1);Z<=-k;Z++)f[32767+Z]=z,d[32767+Z]=[],d[32767+Z][1]=z,d[32767+Z][0]=q-1+Z;k<<=1,q<<=1}}(),function(){for(var k=0;k<256;k++)T[k]=19595*k,T[k+256|0]=38470*k,T[k+512|0]=7471*k+32768,T[k+768|0]=-11059*k,T[k+1024|0]=-21709*k,T[k+1280|0]=32768*k+8421375,T[k+1536|0]=-27439*k,T[k+1792|0]=-5329*k}(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ic(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BY(t){function e(S){if(!S)throw Error("assert :P")}function r(S,j,w){for(var R=0;4>R;R++)if(S[j+R]!=w.charCodeAt(R))return!0;return!1}function n(S,j,w,R,N){for(var P=0;P<N;P++)S[j+P]=w[R+P]}function i(S,j,w,R){for(var N=0;N<R;N++)S[j+N]=w}function s(S){return new Int32Array(S)}function o(S,j){for(var w=[],R=0;R<S;R++)w.push(new j);return w}function a(S,j){var w=[];return function R(N,P,M){for(var B=M[P],W=0;W<B&&(N.push(M.length>P+1?[]:new j),!(M.length<P+1));W++)R(N[W],P+1,M)}(w,0,S),w}var l=function(){var S=this;function j(b,O){for(var L=1<<O-1>>>0;b&L;)L>>>=1;return L?(b&L-1)+L:b}function w(b,O,L,U,Q){e(!(U%L));do b[O+(U-=L)]=Q;while(0<U)}function R(b,O,L,U,Q){if(e(2328>=Q),512>=Q)var ee=s(512);else if((ee=s(Q))==null)return 0;return function(te,ne,ae,he,_e,qe){var fe,Ne,je=ne,et=1<<ae,$e=s(16),tt=s(16);for(e(_e!=0),e(he!=null),e(te!=null),e(0<ae),Ne=0;Ne<_e;++Ne){if(15<he[Ne])return 0;++$e[he[Ne]]}if($e[0]==_e)return 0;for(tt[1]=0,fe=1;15>fe;++fe){if($e[fe]>1<<fe)return 0;tt[fe+1]=tt[fe]+$e[fe]}for(Ne=0;Ne<_e;++Ne)fe=he[Ne],0<he[Ne]&&(qe[tt[fe]++]=Ne);if(tt[15]==1)return(he=new N).g=0,he.value=qe[0],w(te,je,1,et,he),et;var st,It=-1,gt=et-1,ir=0,Kt=1,Dr=1,Jt=1<<ae;for(Ne=0,fe=1,_e=2;fe<=ae;++fe,_e<<=1){if(Kt+=Dr<<=1,0>(Dr-=$e[fe]))return 0;for(;0<$e[fe];--$e[fe])(he=new N).g=fe,he.value=qe[Ne++],w(te,je+ir,_e,Jt,he),ir=j(ir,fe)}for(fe=ae+1,_e=2;15>=fe;++fe,_e<<=1){if(Kt+=Dr<<=1,0>(Dr-=$e[fe]))return 0;for(;0<$e[fe];--$e[fe]){if(he=new N,(ir&gt)!=It){for(je+=Jt,st=1<<(It=fe)-ae;15>It&&!(0>=(st-=$e[It]));)++It,st<<=1;et+=Jt=1<<(st=It-ae),te[ne+(It=ir&gt)].g=st+ae,te[ne+It].value=je-ne-It}he.g=fe-ae,he.value=qe[Ne++],w(te,je+(ir>>ae),_e,Jt,he),ir=j(ir,fe)}}return Kt!=2*tt[15]-1?0:et}(b,O,L,U,Q,ee)}function N(){this.value=this.g=0}function P(){this.value=this.g=0}function M(){this.G=o(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Lf,P)}function B(b,O,L,U){e(b!=null),e(O!=null),e(2147483648>U),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=O,b.pa=L,b.Jd=O,b.Yc=L+U,b.Zc=4<=U?L+U-4+1:L,re(b)}function W(b,O){for(var L=0;0<O--;)L|=Ce(b,128)<<O;return L}function H(b,O){var L=W(b,O);return ie(b)?-L:L}function V(b,O,L,U){var Q,ee=0;for(e(b!=null),e(O!=null),e(4294967288>U),b.Sb=U,b.Ra=0,b.u=0,b.h=0,4<U&&(U=4),Q=0;Q<U;++Q)ee+=O[L+Q]<<8*Q;b.Ra=ee,b.bb=U,b.oa=O,b.pa=L}function K(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Bd-8>>>0,++b.bb,b.u-=8;G(b)&&(b.h=1,b.u=0)}function Y(b,O){if(e(0<=O),!b.h&&O<=Va){var L=z(b)&Ga[O];return b.u+=O,K(b),L}return b.h=1,b.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(b){return b.Ra>>>(b.u&Bd-1)>>>0}function G(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Bd}function Z(b,O){b.u=O,b.h=G(b)}function ue(b){b.u>=cg&&(e(b.u>=cg),K(b))}function re(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ie(b){return W(b,1)}function Ce(b,O){var L=b.Ca;0>b.b&&re(b);var U=b.b,Q=L*O>>>8,ee=(b.I>>>U>Q)+0;for(ee?(L-=Q,b.I-=Q+1<<U>>>0):L=Q+1,U=L,Q=0;256<=U;)Q+=8,U>>=8;return U=7^Q+$d[U],b.b-=U,b.Ca=(L<<U)-1,ee}function Pe(b,O,L){b[O+0]=L>>24&255,b[O+1]=L>>16&255,b[O+2]=L>>8&255,b[O+3]=255&L}function Fe(b,O){return b[O+0]|b[O+1]<<8}function He(b,O){return Fe(b,O)|b[O+2]<<16}function Te(b,O){return Fe(b,O)|Fe(b,O+2)<<16}function se(b,O){var L=1<<O;return e(b!=null),e(0<O),b.X=s(L),b.X==null?0:(b.Mb=32-O,b.Xa=O,1)}function Ct(b,O){e(b!=null),e(O!=null),e(b.Xa==O.Xa),n(O.X,0,b.X,0,1<<O.Xa)}function Re(){this.X=[],this.Xa=this.Mb=0}function ke(b,O,L,U){e(L!=null),e(U!=null);var Q=L[0],ee=U[0];return Q==0&&(Q=(b*ee+O/2)/O),ee==0&&(ee=(O*Q+b/2)/b),0>=Q||0>=ee?0:(L[0]=Q,U[0]=ee,1)}function Ye(b,O){return b+(1<<O)-1>>>O}function xt(b,O){return((4278255360&b)+(4278255360&O)>>>0&4278255360)+((16711935&b)+(16711935&O)>>>0&16711935)>>>0}function ft(b,O){S[O]=function(L,U,Q,ee,te,ne,ae){var he;for(he=0;he<te;++he){var _e=S[b](ne[ae+he-1],Q,ee+he);ne[ae+he]=xt(L[U+he],_e)}}}function $t(){this.ud=this.hd=this.jd=0}function bt(b,O){return((4278124286&(b^O))>>>1)+(b&O)>>>0}function Gt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Wt(b,O){return Gt(b+(b-O+.5>>1))}function Qt(b,O,L){return Math.abs(O-L)-Math.abs(b-L)}function hr(b,O,L,U,Q,ee,te){for(U=ee[te-1],L=0;L<Q;++L)ee[te+L]=U=xt(b[O+L],U)}function Bt(b,O,L,U,Q){var ee;for(ee=0;ee<L;++ee){var te=b[O+ee],ne=te>>8&255,ae=16711935&(ae=(ae=16711935&te)+((ne<<16)+ne));U[Q+ee]=(4278255360&te)+ae>>>0}}function Ft(b,O){O.jd=255&b,O.hd=b>>8&255,O.ud=b>>16&255}function Ht(b,O,L,U,Q,ee){var te;for(te=0;te<U;++te){var ne=O[L+te],ae=ne>>>8,he=ne,_e=255&(_e=(_e=ne>>>16)+((b.jd<<24>>24)*(ae<<24>>24)>>>5));he=255&(he=(he+=(b.hd<<24>>24)*(ae<<24>>24)>>>5)+((b.ud<<24>>24)*(_e<<24>>24)>>>5)),Q[ee+te]=(4278255360&ne)+(_e<<16)+he}}function Qe(b,O,L,U,Q){S[O]=function(ee,te,ne,ae,he,_e,qe,fe,Ne){for(ae=qe;ae<fe;++ae)for(qe=0;qe<Ne;++qe)he[_e++]=Q(ne[U(ee[te++])])},S[b]=function(ee,te,ne,ae,he,_e,qe){var fe=8>>ee.b,Ne=ee.Ea,je=ee.K[0],et=ee.w;if(8>fe)for(ee=(1<<ee.b)-1,et=(1<<fe)-1;te<ne;++te){var $e,tt=0;for($e=0;$e<Ne;++$e)$e&ee||(tt=U(ae[he++])),_e[qe++]=Q(je[tt&et]),tt>>=fe}else S["VP8LMapColor"+L](ae,he,je,et,_e,qe,te,ne,Ne)}}function it(b,O,L,U,Q){for(L=O+L;O<L;){var ee=b[O++];U[Q++]=ee>>16&255,U[Q++]=ee>>8&255,U[Q++]=255&ee}}function ot(b,O,L,U,Q){for(L=O+L;O<L;){var ee=b[O++];U[Q++]=ee>>16&255,U[Q++]=ee>>8&255,U[Q++]=255&ee,U[Q++]=ee>>24&255}}function Ve(b,O,L,U,Q){for(L=O+L;O<L;){var ee=(te=b[O++])>>16&240|te>>12&15,te=240&te|te>>28&15;U[Q++]=ee,U[Q++]=te}}function ut(b,O,L,U,Q){for(L=O+L;O<L;){var ee=(te=b[O++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;U[Q++]=ee,U[Q++]=te}}function qt(b,O,L,U,Q){for(L=O+L;O<L;){var ee=b[O++];U[Q++]=255&ee,U[Q++]=ee>>8&255,U[Q++]=ee>>16&255}}function zt(b,O,L,U,Q,ee){if(ee==0)for(L=O+L;O<L;)Pe(U,((ee=b[O++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Q+=32;else n(U,Q,b,O,L)}function Cr(b,O){S[O][0]=S[b+"0"],S[O][1]=S[b+"1"],S[O][2]=S[b+"2"],S[O][3]=S[b+"3"],S[O][4]=S[b+"4"],S[O][5]=S[b+"5"],S[O][6]=S[b+"6"],S[O][7]=S[b+"7"],S[O][8]=S[b+"8"],S[O][9]=S[b+"9"],S[O][10]=S[b+"10"],S[O][11]=S[b+"11"],S[O][12]=S[b+"12"],S[O][13]=S[b+"13"],S[O][14]=S[b+"0"],S[O][15]=S[b+"0"]}function Ir(b){return b==z_||b==U_||b==Vx||b==W_}function In(){this.eb=[],this.size=this.A=this.fb=0}function ri(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new In,this.f.kb=new ri,this.sd=null}function nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function cc(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function ns(b,O){var L=b.T,U=O.ba.f.RGBA,Q=U.eb,ee=U.fb+b.ka*U.A,te=Nl[O.ba.S],ne=b.y,ae=b.O,he=b.f,_e=b.N,qe=b.ea,fe=b.W,Ne=O.cc,je=O.dc,et=O.Mc,$e=O.Nc,tt=b.ka,st=b.ka+b.T,It=b.U,gt=It+1>>1;for(tt==0?te(ne,ae,null,null,he,_e,qe,fe,he,_e,qe,fe,Q,ee,null,null,It):(te(O.ec,O.fc,ne,ae,Ne,je,et,$e,he,_e,qe,fe,Q,ee-U.A,Q,ee,It),++L);tt+2<st;tt+=2)Ne=he,je=_e,et=qe,$e=fe,_e+=b.Rc,fe+=b.Rc,ee+=2*U.A,te(ne,(ae+=2*b.fa)-b.fa,ne,ae,Ne,je,et,$e,he,_e,qe,fe,Q,ee-U.A,Q,ee,It);return ae+=b.fa,b.j+st<b.o?(n(O.ec,O.fc,ne,ae,It),n(O.cc,O.dc,he,_e,gt),n(O.Mc,O.Nc,qe,fe,gt),L--):1&st||te(ne,ae,null,null,he,_e,qe,fe,he,_e,qe,fe,Q,ee+U.A,null,null,It),L}function $a(b,O,L){var U=b.F,Q=[b.J];if(U!=null){var ee=b.U,te=O.ba.S,ne=te==Gx||te==Vx;O=O.ba.f.RGBA;var ae=[0],he=b.ka;ae[0]=b.T,b.Kb&&(he==0?--ae[0]:(--he,Q[0]-=b.width),b.j+b.ka+b.T==b.o&&(ae[0]=b.o-b.j-he));var _e=O.eb;he=O.fb+he*O.A,b=hV(U,Q[0],b.width,ee,ae,_e,he+(ne?0:3),O.A),e(L==ae),b&&Ir(te)&&S0(_e,he,ne,ee,ae,O.A)}return 0}function da(b){var O=b.ma,L=O.ba.S,U=11>L,Q=L==Ux||L==Wx||L==Gx||L==q_||L==12||Ir(L);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!I0(O.Oa,b,Q?11:12))return 0;if(Q&&Ir(L)&&Lx(),b.da)alert("todo:use_scaling");else{if(U){if(O.Ib=cc,b.Kb){if(L=b.U+1>>1,O.memory=s(b.U+2*L),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+b.U,O.Mc=O.cc,O.Nc=O.dc+L,O.Ib=ns,Lx()}}else alert("todo:EmitYUV");Q&&(O.Jb=$a,U&&El())}if(U&&!RV){for(b=0;256>b;++b)WPe[b]=89858*(b-128)+Kx>>Hx,HPe[b]=-22014*(b-128)+Kx,VPe[b]=-45773*(b-128),GPe[b]=113618*(b-128)+Kx>>Hx;for(b=_0;b<H_;++b)O=76283*(b-16)+Kx>>Hx,KPe[b-_0]=wi(O,255),YPe[b-_0]=wi(O+8>>4,15);RV=1}return 1}function gr(b){var O=b.ma,L=b.U,U=b.T;return e(!(1&b.ka)),0>=L||0>=U?0:(L=O.Ib(b,O),O.Jb!=null&&O.Jb(b,O,L),O.Dc+=L,1)}function qa(b){b.ma.memory=null}function za(b,O,L,U){return Y(b,8)!=47?0:(O[0]=Y(b,14)+1,L[0]=Y(b,14)+1,U[0]=Y(b,1),Y(b,3)!=0?0:!b.h)}function Ms(b,O){if(4>b)return b+1;var L=b-2>>1;return(2+(1&b)<<L)+Y(O,L)+1}function Eo(b,O){return 120<O?O-120:1<=(L=((L=NPe[O-1])>>4)*b+(8-(15&L)))?L:1;var L}function Hn(b,O,L){var U=z(L),Q=b[O+=255&U].g-8;return 0<Q&&(Z(L,L.u+8),U=z(L),O+=b[O].value,O+=U&(1<<Q)-1),Z(L,L.u+b[O].g),b[O].value}function bi(b,O,L){return L.g+=b.g,L.value+=b.value<<O>>>0,e(8>=L.g),b.g}function J(b,O,L){var U=b.xc;return e((O=U==0?0:b.vc[b.md*(L>>U)+(O>>U)])<b.Wb),b.Ya[O]}function de(b,O,L,U){var Q=b.ab,ee=b.c*O,te=b.C;O=te+O;var ne=L,ae=U;for(U=b.Ta,L=b.Ua;0<Q--;){var he=b.gc[Q],_e=te,qe=O,fe=ne,Ne=ae,je=(ae=U,ne=L,he.Ea);switch(e(_e<qe),e(qe<=he.nc),he.hc){case 2:zi(fe,Ne,(qe-_e)*je,ae,ne);break;case 0:var et=_e,$e=qe,tt=ae,st=ne,It=(Jt=he).Ea;et==0&&(m0(fe,Ne,null,null,1,tt,st),hr(fe,Ne+1,0,0,It-1,tt,st+1),Ne+=It,st+=It,++et);for(var gt=1<<Jt.b,ir=gt-1,Kt=Ye(It,Jt.b),Dr=Jt.K,Jt=Jt.w+(et>>Jt.b)*Kt;et<$e;){var Xr=Dr,vs=Jt,Fr=1;for(sI(fe,Ne,tt,st-It,1,tt,st);Fr<It;){var er=(Fr&~ir)+gt;er>It&&(er=It),(0,y0[Xr[vs++]>>8&15])(fe,Ne+ +Fr,tt,st+Fr-It,er-Fr,tt,st+Fr),Fr=er}Ne+=It,st+=It,++et&ir||(Jt+=Kt)}qe!=he.nc&&n(ae,ne-je,ae,ne+(qe-_e-1)*je,je);break;case 1:for(je=fe,$e=Ne,It=(fe=he.Ea)-(st=fe&~(tt=(Ne=1<<he.b)-1)),et=Ye(fe,he.b),gt=he.K,he=he.w+(_e>>he.b)*et;_e<qe;){for(ir=gt,Kt=he,Dr=new $t,Jt=$e+st,Xr=$e+fe;$e<Jt;)Ft(ir[Kt++],Dr),x0(Dr,je,$e,Ne,ae,ne),$e+=Ne,ne+=Ne;$e<Xr&&(Ft(ir[Kt++],Dr),x0(Dr,je,$e,It,ae,ne),$e+=It,ne+=It),++_e&tt||(he+=et)}break;case 3:if(fe==ae&&Ne==ne&&0<he.b){for($e=ae,fe=je=ne+(qe-_e)*je-(st=(qe-_e)*Ye(he.Ea,he.b)),Ne=ae,tt=ne,et=[],st=(It=st)-1;0<=st;--st)et[st]=Ne[tt+st];for(st=It-1;0<=st;--st)$e[fe+st]=et[st];Bx(he,_e,qe,ae,je,ae,ne)}else Bx(he,_e,qe,fe,Ne,ae,ne)}ne=U,ae=L}ae!=L&&n(U,L,ne,ae,ee)}function oe(b,O){var L=b.V,U=b.Ba+b.c*b.C,Q=O-b.C;if(e(O<=b.l.o),e(16>=Q),0<Q){var ee=b.l,te=b.Ta,ne=b.Ua,ae=ee.width;if(de(b,Q,L,U),Q=ne=[ne],e((L=b.C)<(U=O)),e(ee.v<ee.va),U>ee.o&&(U=ee.o),L<ee.j){var he=ee.j-L;L=ee.j,Q[0]+=he*ae}if(L>=U?L=0:(Q[0]+=4*ee.v,ee.ka=L-ee.j,ee.U=ee.va-ee.v,ee.T=U-L,L=1),L){if(ne=ne[0],11>(L=b.ca).S){var _e=L.f.RGBA,qe=(U=L.S,Q=ee.U,ee=ee.T,he=_e.eb,_e.A),fe=ee;for(_e=_e.fb+b.Ma*_e.A;0<fe--;){var Ne=te,je=ne,et=Q,$e=he,tt=_e;switch(U){case zx:b0(Ne,je,et,$e,tt);break;case Ux:qd(Ne,je,et,$e,tt);break;case z_:qd(Ne,je,et,$e,tt),S0($e,tt,0,et,1,0);break;case vV:Mf(Ne,je,et,$e,tt);break;case Wx:zt(Ne,je,et,$e,tt,1);break;case U_:zt(Ne,je,et,$e,tt,1),S0($e,tt,0,et,1,0);break;case Gx:zt(Ne,je,et,$e,tt,0);break;case Vx:zt(Ne,je,et,$e,tt,0),S0($e,tt,1,et,1,0);break;case q_:zd(Ne,je,et,$e,tt);break;case W_:zd(Ne,je,et,$e,tt),dV($e,tt,et,1,0);break;case yV:Ud(Ne,je,et,$e,tt);break;default:e(0)}ne+=ae,_e+=qe}b.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=L.height)}}b.C=O,e(b.C<=b.i)}function ce(b){var O;if(0<b.ua)return 0;for(O=0;O<b.Wb;++O){var L=b.Ya[O].G,U=b.Ya[O].H;if(0<L[1][U[1]+0].g||0<L[2][U[2]+0].g||0<L[3][U[3]+0].g)return 0}return 1}function ge(b,O,L,U,Q,ee){if(b.Z!=0){var te=b.qd,ne=b.rd;for(e(Vd[b.Z]!=null);O<L;++O)Vd[b.Z](te,ne,U,Q,U,Q,ee),te=U,ne=Q,Q+=ee;b.qd=te,b.rd=ne}}function Ie(b,O){var L=b.l.ma,U=L.Z==0||L.Z==1?b.l.j:b.C;if(U=b.C<U?U:b.C,e(O<=b.l.o),O>U){var Q=b.l.width,ee=L.ca,te=L.tb+Q*U,ne=b.V,ae=b.Ba+b.c*U,he=b.gc;e(b.ab==1),e(he[0].hc==3),cu(he[0],U,O,ne,ae,ee,te),ge(L,U,O,ee,te,Q)}b.C=b.Ma=O}function De(b,O,L,U,Q,ee,te){var ne=b.$/U,ae=b.$%U,he=b.m,_e=b.s,qe=L+b.$,fe=qe;Q=L+U*Q;var Ne=L+U*ee,je=280+_e.ua,et=b.Pb?ne:16777216,$e=0<_e.ua?_e.Wa:null,tt=_e.wc,st=qe<Ne?J(_e,ae,ne):null;e(b.C<ee),e(Ne<=Q);var It=!1;e:for(;;){for(;It||qe<Ne;){var gt=0;if(ne>=et){var ir=qe-L;e((et=b).Pb),et.wd=et.m,et.xd=ir,0<et.s.ua&&Ct(et.s.Wa,et.s.vb),et=ne+jPe}if(ae&tt||(st=J(_e,ae,ne)),e(st!=null),st.Qb&&(O[qe]=st.qb,It=!0),!It)if(ue(he),st.jc){gt=he,ir=O;var Kt=qe,Dr=st.pd[z(gt)&Lf-1];e(st.jc),256>Dr.g?(Z(gt,gt.u+Dr.g),ir[Kt]=Dr.value,gt=0):(Z(gt,gt.u+Dr.g-256),e(256<=Dr.value),gt=Dr.value),gt==0&&(It=!0)}else gt=Hn(st.G[0],st.H[0],he);if(he.h)break;if(It||256>gt){if(!It)if(st.nd)O[qe]=(st.qb|gt<<8)>>>0;else{if(ue(he),It=Hn(st.G[1],st.H[1],he),ue(he),ir=Hn(st.G[2],st.H[2],he),Kt=Hn(st.G[3],st.H[3],he),he.h)break;O[qe]=(Kt<<24|It<<16|gt<<8|ir)>>>0}if(It=!1,++qe,++ae>=U&&(ae=0,++ne,te!=null&&ne<=ee&&!(ne%16)&&te(b,ne),$e!=null))for(;fe<qe;)gt=O[fe++],$e.X[(506832829*gt&4294967295)>>>$e.Mb]=gt}else if(280>gt){if(gt=Ms(gt-256,he),ir=Hn(st.G[4],st.H[4],he),ue(he),ir=Eo(U,ir=Ms(ir,he)),he.h)break;if(qe-L<ir||Q-qe<gt)break e;for(Kt=0;Kt<gt;++Kt)O[qe+Kt]=O[qe+Kt-ir];for(qe+=gt,ae+=gt;ae>=U;)ae-=U,++ne,te!=null&&ne<=ee&&!(ne%16)&&te(b,ne);if(e(qe<=Q),ae&tt&&(st=J(_e,ae,ne)),$e!=null)for(;fe<qe;)gt=O[fe++],$e.X[(506832829*gt&4294967295)>>>$e.Mb]=gt}else{if(!(gt<je))break e;for(It=gt-280,e($e!=null);fe<qe;)gt=O[fe++],$e.X[(506832829*gt&4294967295)>>>$e.Mb]=gt;gt=qe,e(!(It>>>(ir=$e).Xa)),O[gt]=ir.X[It],It=!0}It||e(he.h==G(he))}if(b.Pb&&he.h&&qe<Q)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ct(b.s.vb,b.s.Wa);else{if(he.h)break e;te!=null&&te(b,ne>ee?ee:ne),b.a=0,b.$=qe-L}return 1}return b.a=3,0}function Ze(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var O=b.Wa;O!=null&&(O.X=null),b.vb=null,e(b!=null)}function Le(){var b=new tr;return b==null?null:(b.a=0,b.xb=wV,Cr("Predictor","VP8LPredictors"),Cr("Predictor","VP8LPredictors_C"),Cr("PredictorAdd","VP8LPredictorsAdd"),Cr("PredictorAdd","VP8LPredictorsAdd_C"),zi=Bt,x0=Ht,b0=it,qd=ot,zd=Ve,Ud=ut,Mf=qt,S.VP8LMapColor32b=lu,S.VP8LMapColor8b=v0,b)}function Me(b,O,L,U,Q){var ee=1,te=[b],ne=[O],ae=U.m,he=U.s,_e=null,qe=0;e:for(;;){if(L)for(;ee&&Y(ae,1);){var fe=te,Ne=ne,je=U,et=1,$e=je.m,tt=je.gc[je.ab],st=Y($e,2);if(je.Oc&1<<st)ee=0;else{switch(je.Oc|=1<<st,tt.hc=st,tt.Ea=fe[0],tt.nc=Ne[0],tt.K=[null],++je.ab,e(4>=je.ab),st){case 0:case 1:tt.b=Y($e,3)+2,et=Me(Ye(tt.Ea,tt.b),Ye(tt.nc,tt.b),0,je,tt.K),tt.K=tt.K[0];break;case 3:var It,gt=Y($e,8)+1,ir=16<gt?0:4<gt?1:2<gt?2:3;if(fe[0]=Ye(tt.Ea,ir),tt.b=ir,It=et=Me(gt,1,0,je,tt.K)){var Kt,Dr=gt,Jt=tt,Xr=1<<(8>>Jt.b),vs=s(Xr);if(vs==null)It=0;else{var Fr=Jt.K[0],er=Jt.w;for(vs[0]=Jt.K[0][0],Kt=1;Kt<1*Dr;++Kt)vs[Kt]=xt(Fr[er+Kt],vs[Kt-1]);for(;Kt<4*Xr;++Kt)vs[Kt]=0;Jt.K[0]=null,Jt.K[0]=vs,It=1}}et=It;break;case 2:break;default:e(0)}ee=et}}if(te=te[0],ne=ne[0],ee&&Y(ae,1)&&!(ee=1<=(qe=Y(ae,4))&&11>=qe)){U.a=3;break e}var jt;if(jt=ee)t:{var Wi,jr,nn,ni=U,so=te,zo=ne,Si=qe,Ro=L,Uo=ni.m,ys=ni.s,on=[null],Sn=1,Ei=0,En=OPe[Si];r:for(;;){if(Ro&&Y(Uo,1)){var oo=Y(Uo,3)+2,dc=Ye(so,oo),Gi=Ye(zo,oo),Aa=dc*Gi;if(!Me(dc,Gi,0,ni,on))break r;for(on=on[0],ys.xc=oo,Wi=0;Wi<Aa;++Wi){var Bn=on[Wi]>>8&65535;on[Wi]=Bn,Bn>=Sn&&(Sn=Bn+1)}}if(Uo.h)break r;for(jr=0;5>jr;++jr){var xs=xV[jr];!jr&&0<Si&&(xs+=1<<Si),Ei<xs&&(Ei=xs)}var Ka=o(Sn*En,N),Wo=Sn,Ya=o(Wo,M);if(Ya==null)var Za=null;else e(65536>=Wo),Za=Ya;var Ca=s(Ei);if(Za==null||Ca==null||Ka==null){ni.a=1;break r}var Xa=Ka;for(Wi=nn=0;Wi<Sn;++Wi){var Yn=Za[Wi],Qa=Yn.G,hc=Yn.H,$f=0,dg=1,ao=0;for(jr=0;5>jr;++jr){xs=xV[jr],Qa[jr]=Xa,hc[jr]=nn,!jr&&0<Si&&(xs+=1<<Si);i:{var Zx,K_=xs,Xx=ni,T0=Ca,QPe=Xa,JPe=nn,Y_=0,Hd=Xx.m,eke=Y(Hd,1);if(i(T0,0,0,K_),eke){var tke=Y(Hd,1)+1,rke=Y(Hd,1),jV=Y(Hd,rke==0?1:8);T0[jV]=1,tke==2&&(T0[jV=Y(Hd,8)]=1);var Qx=1}else{var PV=s(19),kV=Y(Hd,4)+4;if(19<kV){Xx.a=3;var Jx=0;break i}for(Zx=0;Zx<kV;++Zx)PV[RPe[Zx]]=Y(Hd,3);var Z_=void 0,R0=void 0,DV=Xx,nke=PV,eb=K_,FV=T0,X_=0,Kd=DV.m,LV=8,MV=o(128,N);n:for(;R(MV,0,7,nke,19);){if(Y(Kd,1)){var ike=2+2*Y(Kd,3);if((Z_=2+Y(Kd,ike))>eb)break n}else Z_=eb;for(R0=0;R0<eb&&Z_--;){ue(Kd);var BV=MV[0+(127&z(Kd))];Z(Kd,Kd.u+BV.g);var aI=BV.value;if(16>aI)FV[R0++]=aI,aI!=0&&(LV=aI);else{var ske=aI==16,$V=aI-16,oke=_Pe[$V],qV=Y(Kd,EPe[$V])+oke;if(R0+qV>eb)break n;for(var ake=ske?LV:0;0<qV--;)FV[R0++]=ake}}X_=1;break n}X_||(DV.a=3),Qx=X_}(Qx=Qx&&!Hd.h)&&(Y_=R(QPe,JPe,8,T0,K_)),Qx&&Y_!=0?Jx=Y_:(Xx.a=3,Jx=0)}if(Jx==0)break r;if(dg&&TPe[jr]==1&&(dg=Xa[nn].g==0),$f+=Xa[nn].g,nn+=Jx,3>=jr){var N0,Q_=Ca[0];for(N0=1;N0<xs;++N0)Ca[N0]>Q_&&(Q_=Ca[N0]);ao+=Q_}}if(Yn.nd=dg,Yn.Qb=0,dg&&(Yn.qb=(Qa[3][hc[3]+0].value<<24|Qa[1][hc[1]+0].value<<16|Qa[2][hc[2]+0].value)>>>0,$f==0&&256>Qa[0][hc[0]+0].value&&(Yn.Qb=1,Yn.qb+=Qa[0][hc[0]+0].value<<8)),Yn.jc=!Yn.Qb&&6>ao,Yn.jc){var tb,hg=Yn;for(tb=0;tb<Lf;++tb){var Yd=tb,Zd=hg.pd[Yd],rb=hg.G[0][hg.H[0]+Yd];256<=rb.value?(Zd.g=rb.g+256,Zd.value=rb.value):(Zd.g=0,Zd.value=0,Yd>>=bi(rb,8,Zd),Yd>>=bi(hg.G[1][hg.H[1]+Yd],16,Zd),Yd>>=bi(hg.G[2][hg.H[2]+Yd],0,Zd),bi(hg.G[3][hg.H[3]+Yd],24,Zd))}}}ys.vc=on,ys.Wb=Sn,ys.Ya=Za,ys.yc=Ka,jt=1;break t}jt=0}if(!(ee=jt)){U.a=3;break e}if(0<qe){if(he.ua=1<<qe,!se(he.Wa,qe)){U.a=1,ee=0;break e}}else he.ua=0;var J_=U,zV=te,lke=ne,eT=J_.s,tT=eT.xc;if(J_.c=zV,J_.i=lke,eT.md=Ye(zV,tT),eT.wc=tT==0?-1:(1<<tT)-1,L){U.xb=BPe;break e}if((_e=s(te*ne))==null){U.a=1,ee=0;break e}ee=(ee=De(U,_e,0,te,ne,ne,null))&&!ae.h;break e}return ee?(Q!=null?Q[0]=_e:(e(_e==null),e(L)),U.$=0,L||Ze(he)):Ze(he),ee}function ze(b,O){var L=b.c*b.i,U=L+O+16*O;return e(b.c<=O),b.V=s(U),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+L+O,1)}function ht(b,O){var L=b.C,U=O-L,Q=b.V,ee=b.Ba+b.c*L;for(e(O<=b.l.o);0<U;){var te=16<U?16:U,ne=b.l.ma,ae=b.l.width,he=ae*te,_e=ne.ca,qe=ne.tb+ae*L,fe=b.Ta,Ne=b.Ua;de(b,te,Q,ee),fV(fe,Ne,_e,qe,he),ge(ne,L,L+te,_e,qe,ae),U-=te,Q+=te*b.c,L+=te}e(L==O),b.C=b.Ma=O}function wt(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ot(){this.Yb=function(){var b=[];return function O(L,U,Q){for(var ee=Q[U],te=0;te<ee&&(L.push(Q.length>U+1?[]:0),!(Q.length<U+1));te++)O(L[te],U+1,Q)}(b,0,[3,11]),b}()}function pr(){this.jb=s(3),this.Wc=a([4,8],Ot),this.Xc=a([4,17],Ot)}function pn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gr(){this.ld=this.La=this.dd=this.tc=0}function di(){this.Na=this.la=0}function Ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gr),this.Y=0,this.ya=Array(new Wa),this.aa=0,this.l=new _o}function ha(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Sl(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new wt,this.Kc=new kt,this.ed=new pn,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new wl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,k),this.ia=0,this.pb=o(4,Ua),this.Pa=new pr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ha),this.Hd=0,this.rb=Array(new di),this.sb=0,this.wa=Array(new Gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wa),this.L=this.aa=0,this.gd=a([4,2],Gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _o(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function S_(){var b=new Sl;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,E0||(E0=ng)),b}function is(b,O,L){return b.a==0&&(b.a=O,b.sc=L,b.cb=0),0}function Tx(b,O,L){return 3<=L&&b[O+0]==157&&b[O+1]==1&&b[O+2]==42}function Rx(b,O){if(b==null)return 0;if(b.a=0,b.sc="OK",O==null)return is(b,2,"null VP8Io passed to VP8GetHeaders()");var L=O.data,U=O.w,Q=O.ha;if(4>Q)return is(b,7,"Truncated header.");var ee=L[U+0]|L[U+1]<<8|L[U+2]<<16,te=b.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return is(b,3,"Incorrect keyframe parameters.");if(!te.yd)return is(b,4,"Frame not displayable.");U+=3,Q-=3;var ne=b.Kc;if(te.Rb){if(7>Q)return is(b,7,"cannot parse picture header");if(!Tx(L,U,Q))return is(b,3,"Bad code word");ne.c=16383&(L[U+4]<<8|L[U+3]),ne.Td=L[U+4]>>6,ne.i=16383&(L[U+6]<<8|L[U+5]),ne.Ud=L[U+6]>>6,U+=7,Q-=7,b.za=ne.c+15>>4,b.Ub=ne.i+15>>4,O.width=ne.c,O.height=ne.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((ee=b.Pa).jb,0,255,ee.jb.length),e((ee=b.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(te.ub>Q)return is(b,7,"bad partition length");B(ee=b.m,L,U,te.ub),U+=te.ub,Q-=te.ub,te.Rb&&(ne.Ld=ie(ee),ne.Kd=ie(ee)),ne=b.Qa;var ae,he=b.Pa;if(e(ee!=null),e(ne!=null),ne.Cb=ie(ee),ne.Cb){if(ne.Bb=ie(ee),ie(ee)){for(ne.Fb=ie(ee),ae=0;4>ae;++ae)ne.Zb[ae]=ie(ee)?H(ee,7):0;for(ae=0;4>ae;++ae)ne.Lb[ae]=ie(ee)?H(ee,6):0}if(ne.Bb)for(ae=0;3>ae;++ae)he.jb[ae]=ie(ee)?W(ee,8):255}else ne.Bb=0;if(ee.Ka)return is(b,3,"cannot parse segment header");if((ne=b.ed).zd=ie(ee),ne.Tb=W(ee,6),ne.wb=W(ee,3),ne.Pc=ie(ee),ne.Pc&&ie(ee)){for(he=0;4>he;++he)ie(ee)&&(ne.vd[he]=H(ee,6));for(he=0;4>he;++he)ie(ee)&&(ne.od[he]=H(ee,6))}if(b.L=ne.Tb==0?0:ne.zd?1:2,ee.Ka)return is(b,3,"cannot parse filter header");var _e=Q;if(Q=ae=U,U=ae+_e,ne=_e,b.Xb=(1<<W(b.m,2))-1,_e<3*(he=b.Xb))L=7;else{for(ae+=3*he,ne-=3*he,_e=0;_e<he;++_e){var qe=L[Q+0]|L[Q+1]<<8|L[Q+2]<<16;qe>ne&&(qe=ne),B(b.Jc[+_e],L,ae,qe),ae+=qe,ne-=qe,Q+=3}B(b.Jc[+he],L,ae,ne),L=ae<U?0:5}if(L!=0)return is(b,L,"cannot parse partitions");for(L=W(ae=b.m,7),Q=ie(ae)?H(ae,4):0,U=ie(ae)?H(ae,4):0,ne=ie(ae)?H(ae,4):0,he=ie(ae)?H(ae,4):0,ae=ie(ae)?H(ae,4):0,_e=b.Qa,qe=0;4>qe;++qe){if(_e.Cb){var fe=_e.Zb[qe];_e.Fb||(fe+=L)}else{if(0<qe){b.pb[qe]=b.pb[0];continue}fe=L}var Ne=b.pb[qe];Ne.Sc[0]=G_[wi(fe+Q,127)],Ne.Sc[1]=V_[wi(fe+0,127)],Ne.Eb[0]=2*G_[wi(fe+U,127)],Ne.Eb[1]=101581*V_[wi(fe+ne,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=G_[wi(fe+he,117)],Ne.Qc[1]=V_[wi(fe+ae,127)],Ne.lc=fe+ae}if(!te.Rb)return is(b,4,"Not a key frame.");for(ie(ee),te=b.Pa,L=0;4>L;++L){for(Q=0;8>Q;++Q)for(U=0;3>U;++U)for(ne=0;11>ne;++ne)he=Ce(ee,LPe[L][Q][U][ne])?W(ee,8):DPe[L][Q][U][ne],te.Wc[L][Q].Yb[U][ne]=he;for(Q=0;17>Q;++Q)te.Xc[L][Q]=te.Wc[L][MPe[Q]]}return b.kc=ie(ee),b.kc&&(b.Bd=W(ee,8)),b.cb=1}function ng(b,O,L,U,Q,ee,te){var ne=O[Q].Yb[L];for(L=0;16>Q;++Q){if(!Ce(b,ne[L+0]))return Q;for(;!Ce(b,ne[L+1]);)if(ne=O[++Q].Yb[0],L=0,Q==16)return 16;var ae=O[Q+1].Yb;if(Ce(b,ne[L+2])){var he=b,_e=0;if(Ce(he,(fe=ne)[(qe=L)+3]))if(Ce(he,fe[qe+6])){for(ne=0,qe=2*(_e=Ce(he,fe[qe+8]))+(fe=Ce(he,fe[qe+9+_e])),_e=0,fe=PPe[qe];fe[ne];++ne)_e+=_e+Ce(he,fe[ne]);_e+=3+(8<<qe)}else Ce(he,fe[qe+7])?(_e=7+2*Ce(he,165),_e+=Ce(he,145)):_e=5+Ce(he,159);else _e=Ce(he,fe[qe+4])?3+Ce(he,fe[qe+5]):2;ne=ae[2]}else _e=1,ne=ae[1];ae=te+kPe[Q],0>(he=b).b&&re(he);var qe,fe=he.b,Ne=(qe=he.Ca>>1)-(he.I>>fe)>>31;--he.b,he.Ca+=Ne,he.Ca|=1,he.I-=(qe+1&Ne)<<fe,ee[ae]=((_e^Ne)-Ne)*U[(0<Q)+0]}return 16}function yf(b){var O=b.rb[b.sb-1];O.la=0,O.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function uc(b,O,L,U,Q){Q=b[O+L+32*U]+(Q>>3),b[O+L+32*U]=-256&Q?0>Q?0:255:Q}function xf(b,O,L,U,Q,ee){uc(b,O,0,L,U+Q),uc(b,O,1,L,U+ee),uc(b,O,2,L,U-ee),uc(b,O,3,L,U-Q)}function qi(b){return(20091*b>>16)+b}function o0(b,O,L,U){var Q,ee=0,te=s(16);for(Q=0;4>Q;++Q){var ne=b[O+0]+b[O+8],ae=b[O+0]-b[O+8],he=(35468*b[O+4]>>16)-qi(b[O+12]),_e=qi(b[O+4])+(35468*b[O+12]>>16);te[ee+0]=ne+_e,te[ee+1]=ae+he,te[ee+2]=ae-he,te[ee+3]=ne-_e,ee+=4,O++}for(Q=ee=0;4>Q;++Q)ne=(b=te[ee+0]+4)+te[ee+8],ae=b-te[ee+8],he=(35468*te[ee+4]>>16)-qi(te[ee+12]),uc(L,U,0,0,ne+(_e=qi(te[ee+4])+(35468*te[ee+12]>>16))),uc(L,U,1,0,ae+he),uc(L,U,2,0,ae-he),uc(L,U,3,0,ne-_e),ee++,U+=32}function E_(b,O,L,U){var Q=b[O+0]+4,ee=35468*b[O+4]>>16,te=qi(b[O+4]),ne=35468*b[O+1]>>16;xf(L,U,0,Q+te,b=qi(b[O+1]),ne),xf(L,U,1,Q+ee,b,ne),xf(L,U,2,Q-ee,b,ne),xf(L,U,3,Q-te,b,ne)}function __(b,O,L,U,Q){o0(b,O,L,U),Q&&o0(b,O+16,L,U+4)}function T_(b,O,L,U){Bf(b,O+0,L,U,1),Bf(b,O+32,L,U+128,1)}function au(b,O,L,U){var Q;for(b=b[O+0]+4,Q=0;4>Q;++Q)for(O=0;4>O;++O)uc(L,U,O,Q,b)}function Nx(b,O,L,U){b[O+0]&&mn(b,O+0,L,U),b[O+16]&&mn(b,O+16,L,U+4),b[O+32]&&mn(b,O+32,L,U+128),b[O+48]&&mn(b,O+48,L,U+128+4)}function Ox(b,O,L,U){var Q,ee=s(16);for(Q=0;4>Q;++Q){var te=b[O+0+Q]+b[O+12+Q],ne=b[O+4+Q]+b[O+8+Q],ae=b[O+4+Q]-b[O+8+Q],he=b[O+0+Q]-b[O+12+Q];ee[0+Q]=te+ne,ee[8+Q]=te-ne,ee[4+Q]=he+ae,ee[12+Q]=he-ae}for(Q=0;4>Q;++Q)te=(b=ee[0+4*Q]+3)+ee[3+4*Q],ne=ee[1+4*Q]+ee[2+4*Q],ae=ee[1+4*Q]-ee[2+4*Q],he=b-ee[3+4*Q],L[U+0]=te+ne>>3,L[U+16]=he+ae>>3,L[U+32]=te-ne>>3,L[U+48]=he-ae>>3,U+=64}function Dd(b,O,L){var U,Q=O-32,ee=Ha,te=255-b[Q-1];for(U=0;U<L;++U){var ne,ae=ee,he=te+b[O-1];for(ne=0;ne<L;++ne)b[O+ne]=ae[he+b[Q+ne]];O+=32}}function a0(b,O){Dd(b,O,4)}function R_(b,O){Dd(b,O,8)}function N_(b,O){Dd(b,O,16)}function O_(b,O){var L;for(L=0;16>L;++L)n(b,O+32*L,b,O-32,16)}function l0(b,O){var L;for(L=16;0<L;--L)i(b,O,b[O-1],16),O+=32}function bf(b,O,L){var U;for(U=0;16>U;++U)i(O,L+32*U,b,16)}function Fd(b,O){var L,U=16;for(L=0;16>L;++L)U+=b[O-1+32*L]+b[O+L-32];bf(U>>5,b,O)}function j_(b,O){var L,U=8;for(L=0;16>L;++L)U+=b[O-1+32*L];bf(U>>4,b,O)}function wf(b,O){var L,U=8;for(L=0;16>L;++L)U+=b[O+L-32];bf(U>>4,b,O)}function c0(b,O){bf(128,b,O)}function Sr(b,O,L){return b+2*O+L+2>>2}function P_(b,O){var L,U=O-32;for(U=new Uint8Array([Sr(b[U-1],b[U+0],b[U+1]),Sr(b[U+0],b[U+1],b[U+2]),Sr(b[U+1],b[U+2],b[U+3]),Sr(b[U+2],b[U+3],b[U+4])]),L=0;4>L;++L)n(b,O+32*L,U,0,U.length)}function k_(b,O){var L=b[O-1],U=b[O-1+32],Q=b[O-1+64],ee=b[O-1+96];Pe(b,O+0,16843009*Sr(b[O-1-32],L,U)),Pe(b,O+32,16843009*Sr(L,U,Q)),Pe(b,O+64,16843009*Sr(U,Q,ee)),Pe(b,O+96,16843009*Sr(Q,ee,ee))}function D_(b,O){var L,U=4;for(L=0;4>L;++L)U+=b[O+L-32]+b[O-1+32*L];for(U>>=3,L=0;4>L;++L)i(b,O+32*L,U,4)}function F_(b,O){var L=b[O-1+0],U=b[O-1+32],Q=b[O-1+64],ee=b[O-1-32],te=b[O+0-32],ne=b[O+1-32],ae=b[O+2-32],he=b[O+3-32];b[O+0+96]=Sr(U,Q,b[O-1+96]),b[O+1+96]=b[O+0+64]=Sr(L,U,Q),b[O+2+96]=b[O+1+64]=b[O+0+32]=Sr(ee,L,U),b[O+3+96]=b[O+2+64]=b[O+1+32]=b[O+0+0]=Sr(te,ee,L),b[O+3+64]=b[O+2+32]=b[O+1+0]=Sr(ne,te,ee),b[O+3+32]=b[O+2+0]=Sr(ae,ne,te),b[O+3+0]=Sr(he,ae,ne)}function ig(b,O){var L=b[O+1-32],U=b[O+2-32],Q=b[O+3-32],ee=b[O+4-32],te=b[O+5-32],ne=b[O+6-32],ae=b[O+7-32];b[O+0+0]=Sr(b[O+0-32],L,U),b[O+1+0]=b[O+0+32]=Sr(L,U,Q),b[O+2+0]=b[O+1+32]=b[O+0+64]=Sr(U,Q,ee),b[O+3+0]=b[O+2+32]=b[O+1+64]=b[O+0+96]=Sr(Q,ee,te),b[O+3+32]=b[O+2+64]=b[O+1+96]=Sr(ee,te,ne),b[O+3+64]=b[O+2+96]=Sr(te,ne,ae),b[O+3+96]=Sr(ne,ae,ae)}function sg(b,O){var L=b[O-1+0],U=b[O-1+32],Q=b[O-1+64],ee=b[O-1-32],te=b[O+0-32],ne=b[O+1-32],ae=b[O+2-32],he=b[O+3-32];b[O+0+0]=b[O+1+64]=ee+te+1>>1,b[O+1+0]=b[O+2+64]=te+ne+1>>1,b[O+2+0]=b[O+3+64]=ne+ae+1>>1,b[O+3+0]=ae+he+1>>1,b[O+0+96]=Sr(Q,U,L),b[O+0+64]=Sr(U,L,ee),b[O+0+32]=b[O+1+96]=Sr(L,ee,te),b[O+1+32]=b[O+2+96]=Sr(ee,te,ne),b[O+2+32]=b[O+3+96]=Sr(te,ne,ae),b[O+3+32]=Sr(ne,ae,he)}function L_(b,O){var L=b[O+0-32],U=b[O+1-32],Q=b[O+2-32],ee=b[O+3-32],te=b[O+4-32],ne=b[O+5-32],ae=b[O+6-32],he=b[O+7-32];b[O+0+0]=L+U+1>>1,b[O+1+0]=b[O+0+64]=U+Q+1>>1,b[O+2+0]=b[O+1+64]=Q+ee+1>>1,b[O+3+0]=b[O+2+64]=ee+te+1>>1,b[O+0+32]=Sr(L,U,Q),b[O+1+32]=b[O+0+96]=Sr(U,Q,ee),b[O+2+32]=b[O+1+96]=Sr(Q,ee,te),b[O+3+32]=b[O+2+96]=Sr(ee,te,ne),b[O+3+64]=Sr(te,ne,ae),b[O+3+96]=Sr(ne,ae,he)}function M_(b,O){var L=b[O-1+0],U=b[O-1+32],Q=b[O-1+64],ee=b[O-1+96];b[O+0+0]=L+U+1>>1,b[O+2+0]=b[O+0+32]=U+Q+1>>1,b[O+2+32]=b[O+0+64]=Q+ee+1>>1,b[O+1+0]=Sr(L,U,Q),b[O+3+0]=b[O+1+32]=Sr(U,Q,ee),b[O+3+32]=b[O+1+64]=Sr(Q,ee,ee),b[O+3+64]=b[O+2+64]=b[O+0+96]=b[O+1+96]=b[O+2+96]=b[O+3+96]=ee}function JC(b,O){var L=b[O-1+0],U=b[O-1+32],Q=b[O-1+64],ee=b[O-1+96],te=b[O-1-32],ne=b[O+0-32],ae=b[O+1-32],he=b[O+2-32];b[O+0+0]=b[O+2+32]=L+te+1>>1,b[O+0+32]=b[O+2+64]=U+L+1>>1,b[O+0+64]=b[O+2+96]=Q+U+1>>1,b[O+0+96]=ee+Q+1>>1,b[O+3+0]=Sr(ne,ae,he),b[O+2+0]=Sr(te,ne,ae),b[O+1+0]=b[O+3+32]=Sr(L,te,ne),b[O+1+32]=b[O+3+64]=Sr(U,L,te),b[O+1+64]=b[O+3+96]=Sr(Q,U,L),b[O+1+96]=Sr(ee,Q,U)}function u0(b,O){var L;for(L=0;8>L;++L)n(b,O+32*L,b,O-32,8)}function Sf(b,O){var L;for(L=0;8>L;++L)i(b,O,b[O-1],8),O+=32}function eI(b,O,L){var U;for(U=0;8>U;++U)i(O,L+32*U,b,8)}function tI(b,O){var L,U=8;for(L=0;8>L;++L)U+=b[O+L-32]+b[O-1+32*L];eI(U>>4,b,O)}function B_(b,O){var L,U=4;for(L=0;8>L;++L)U+=b[O+L-32];eI(U>>3,b,O)}function g0(b,O){var L,U=4;for(L=0;8>L;++L)U+=b[O-1+32*L];eI(U>>3,b,O)}function d0(b,O){eI(128,b,O)}function Ef(b,O,L){var U=b[O-L],Q=b[O+0],ee=3*(Q-U)+$_[1020+b[O-2*L]-b[O+L]],te=qx[112+(ee+4>>3)];b[O-L]=Ha[255+U+qx[112+(ee+3>>3)]],b[O+0]=Ha[255+Q-te]}function _f(b,O,L,U){var Q=b[O+0],ee=b[O+L];return Rl[255+b[O-2*L]-b[O-L]]>U||Rl[255+ee-Q]>U}function h0(b,O,L,U){return 4*Rl[255+b[O-L]-b[O+0]]+Rl[255+b[O-2*L]-b[O+L]]<=U}function rI(b,O,L,U,Q){var ee=b[O-3*L],te=b[O-2*L],ne=b[O-L],ae=b[O+0],he=b[O+L],_e=b[O+2*L],qe=b[O+3*L];return 4*Rl[255+ne-ae]+Rl[255+te-he]>U?0:Rl[255+b[O-4*L]-ee]<=Q&&Rl[255+ee-te]<=Q&&Rl[255+te-ne]<=Q&&Rl[255+qe-_e]<=Q&&Rl[255+_e-he]<=Q&&Rl[255+he-ae]<=Q}function f0(b,O,L,U){var Q=2*U+1;for(U=0;16>U;++U)h0(b,O+U,L,Q)&&Ef(b,O+U,L)}function Tf(b,O,L,U){var Q=2*U+1;for(U=0;16>U;++U)h0(b,O+U*L,1,Q)&&Ef(b,O+U*L,1)}function jx(b,O,L,U){var Q;for(Q=3;0<Q;--Q)f0(b,O+=4*L,L,U)}function Px(b,O,L,U){var Q;for(Q=3;0<Q;--Q)Tf(b,O+=4,L,U)}function og(b,O,L,U,Q,ee,te,ne){for(ee=2*ee+1;0<Q--;){if(rI(b,O,L,ee,te))if(_f(b,O,L,ne))Ef(b,O,L);else{var ae=b,he=O,_e=L,qe=ae[he-2*_e],fe=ae[he-_e],Ne=ae[he+0],je=ae[he+_e],et=ae[he+2*_e],$e=27*(st=$_[1020+3*(Ne-fe)+$_[1020+qe-je]])+63>>7,tt=18*st+63>>7,st=9*st+63>>7;ae[he-3*_e]=Ha[255+ae[he-3*_e]+st],ae[he-2*_e]=Ha[255+qe+tt],ae[he-_e]=Ha[255+fe+$e],ae[he+0]=Ha[255+Ne-$e],ae[he+_e]=Ha[255+je-tt],ae[he+2*_e]=Ha[255+et-st]}O+=U}}function ag(b,O,L,U,Q,ee,te,ne){for(ee=2*ee+1;0<Q--;){if(rI(b,O,L,ee,te))if(_f(b,O,L,ne))Ef(b,O,L);else{var ae=b,he=O,_e=L,qe=ae[he-_e],fe=ae[he+0],Ne=ae[he+_e],je=qx[112+(4+(et=3*(fe-qe))>>3)],et=qx[112+(et+3>>3)],$e=je+1>>1;ae[he-2*_e]=Ha[255+ae[he-2*_e]+$e],ae[he-_e]=Ha[255+qe+et],ae[he+0]=Ha[255+fe-je],ae[he+_e]=Ha[255+Ne-$e]}O+=U}}function kx(b,O,L,U,Q,ee){og(b,O,L,1,16,U,Q,ee)}function Dx(b,O,L,U,Q,ee){og(b,O,1,L,16,U,Q,ee)}function Rf(b,O,L,U,Q,ee){var te;for(te=3;0<te;--te)ag(b,O+=4*L,L,1,16,U,Q,ee)}function Fx(b,O,L,U,Q,ee){var te;for(te=3;0<te;--te)ag(b,O+=4,1,L,16,U,Q,ee)}function F(b,O,L,U,Q,ee,te,ne){og(b,O,Q,1,8,ee,te,ne),og(L,U,Q,1,8,ee,te,ne)}function X(b,O,L,U,Q,ee,te,ne){og(b,O,1,Q,8,ee,te,ne),og(L,U,1,Q,8,ee,te,ne)}function Ae(b,O,L,U,Q,ee,te,ne){ag(b,O+4*Q,Q,1,8,ee,te,ne),ag(L,U+4*Q,Q,1,8,ee,te,ne)}function be(b,O,L,U,Q,ee,te,ne){ag(b,O+4,1,Q,8,ee,te,ne),ag(L,U+4,1,Q,8,ee,te,ne)}function Oe(){this.ba=new ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new Re,this.vb=new Re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new N}function tr(){this.xb=this.a=0,this.l=new _o,this.ca=new ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=o(4,dt),this.Oc=0}function wr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _o,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _r(b,O,L,U,Q,ee,te){for(b=b==null?0:b[O+0],O=0;O<te;++O)Q[ee+O]=b+L[U+O]&255,b=Q[ee+O]}function hn(b,O,L,U,Q,ee,te){var ne;if(b==null)_r(null,null,L,U,Q,ee,te);else for(ne=0;ne<te;++ne)Q[ee+ne]=b[O+ne]+L[U+ne]&255}function Ii(b,O,L,U,Q,ee,te){if(b==null)_r(null,null,L,U,Q,ee,te);else{var ne,ae=b[O+0],he=ae,_e=ae;for(ne=0;ne<te;++ne)he=_e+(ae=b[O+ne])-he,_e=L[U+ne]+(-256&he?0>he?0:255:he)&255,he=ae,Q[ee+ne]=_e}}function ss(b,O,L,U){var Q=O.width,ee=O.o;if(e(b!=null&&O!=null),0>L||0>=U||L+U>ee)return null;if(!b.Cc){if(b.ga==null){var te;if(b.ga=new wr,(te=b.ga==null)||(te=O.width*O.o,e(b.Gb.length==0),b.Gb=s(te),b.Uc=0,b.Gb==null?te=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,te=1),te=!te),!te){te=b.ga;var ne=b.Fa,ae=b.P,he=b.qc,_e=b.mb,qe=b.nb,fe=ae+1,Ne=he-1,je=te.l;if(e(ne!=null&&_e!=null&&O!=null),Vd[0]=null,Vd[1]=_r,Vd[2]=hn,Vd[3]=Ii,te.ca=_e,te.tb=qe,te.c=O.width,te.i=O.height,e(0<te.c&&0<te.i),1>=he)O=0;else if(te.$a=3&ne[ae+0],te.Z=ne[ae+0]>>2&3,te.Lc=ne[ae+0]>>4&3,ae=ne[ae+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ae)O=0;else if(je.put=gr,je.ac=da,je.bc=qa,je.ma=te,je.width=O.width,je.height=O.height,je.Da=O.Da,je.v=O.v,je.va=O.va,je.j=O.j,je.o=O.o,te.$a)e:{e(te.$a==1),O=Le();t:for(;;){if(O==null){O=0;break e}if(e(te!=null),te.mc=O,O.c=te.c,O.i=te.i,O.l=te.l,O.l.ma=te,O.l.width=te.c,O.l.height=te.i,O.a=0,V(O.m,ne,fe,Ne),!Me(te.c,te.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&ce(O.s)?(te.ic=1,ne=O.c*O.i,O.Ta=null,O.Ua=0,O.V=s(ne),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(te.ic=0,O=ze(O,te.c)),!O))break t;O=1;break e}te.mc=null,O=0}else O=Ne>=te.c*te.i;te=!O}if(te)return null;b.ga.Lc!=1?b.Ga=0:U=ee-L}e(b.ga!=null),e(L+U<=ee);e:{if(O=(ne=b.ga).c,ee=ne.l.o,ne.$a==0){if(fe=b.rc,Ne=b.Vc,je=b.Fa,ae=b.P+1+L*O,he=b.mb,_e=b.nb+L*O,e(ae<=b.P+b.qc),ne.Z!=0)for(e(Vd[ne.Z]!=null),te=0;te<U;++te)Vd[ne.Z](fe,Ne,je,ae,he,_e,O),fe=he,Ne=_e,_e+=O,ae+=O;else for(te=0;te<U;++te)n(he,_e,je,ae,O),fe=he,Ne=_e,_e+=O,ae+=O;b.rc=fe,b.Vc=Ne}else{if(e(ne.mc!=null),O=L+U,e((te=ne.mc)!=null),e(O<=te.i),te.C>=O)O=1;else if(ne.ic||El(),ne.ic){ne=te.V,fe=te.Ba,Ne=te.c;var et=te.i,$e=(je=1,ae=te.$/Ne,he=te.$%Ne,_e=te.m,qe=te.s,te.$),tt=Ne*et,st=Ne*O,It=qe.wc,gt=$e<st?J(qe,he,ae):null;e($e<=tt),e(O<=et),e(ce(qe));t:for(;;){for(;!_e.h&&$e<st;){if(he&It||(gt=J(qe,he,ae)),e(gt!=null),ue(_e),256>(et=Hn(gt.G[0],gt.H[0],_e)))ne[fe+$e]=et,++$e,++he>=Ne&&(he=0,++ae<=O&&!(ae%16)&&Ie(te,ae));else{if(!(280>et)){je=0;break t}et=Ms(et-256,_e);var ir,Kt=Hn(gt.G[4],gt.H[4],_e);if(ue(_e),!($e>=(Kt=Eo(Ne,Kt=Ms(Kt,_e)))&&tt-$e>=et)){je=0;break t}for(ir=0;ir<et;++ir)ne[fe+$e+ir]=ne[fe+$e+ir-Kt];for($e+=et,he+=et;he>=Ne;)he-=Ne,++ae<=O&&!(ae%16)&&Ie(te,ae);$e<st&&he&It&&(gt=J(qe,he,ae))}e(_e.h==G(_e))}Ie(te,ae>O?O:ae);break t}!je||_e.h&&$e<tt?(je=0,te.a=_e.h?5:3):te.$=$e,O=je}else O=De(te,te.V,te.Ba,te.c,te.i,O,ht);if(!O){U=0;break e}}L+U>=ee&&(b.Cc=1),U=1}if(!U)return null;if(b.Cc&&((U=b.ga)!=null&&(U.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+L*Q}function Kn(b,O,L,U,Q,ee){for(;0<Q--;){var te,ne=b,ae=O+(L?1:0),he=b,_e=O+(L?0:3);for(te=0;te<U;++te){var qe=he[_e+4*te];qe!=255&&(qe*=32897,ne[ae+4*te+0]=ne[ae+4*te+0]*qe>>23,ne[ae+4*te+1]=ne[ae+4*te+1]*qe>>23,ne[ae+4*te+2]=ne[ae+4*te+2]*qe>>23)}O+=ee}}function ps(b,O,L,U,Q){for(;0<U--;){var ee;for(ee=0;ee<L;++ee){var te=b[O+2*ee+0],ne=15&(he=b[O+2*ee+1]),ae=4369*ne,he=(240&he|he>>4)*ae>>16;b[O+2*ee+0]=(240&te|te>>4)*ae>>16&240|(15&te|te<<4)*ae>>16>>4&15,b[O+2*ee+1]=240&he|ne}O+=Q}}function os(b,O,L,U,Q,ee,te,ne){var ae,he,_e=255;for(he=0;he<Q;++he){for(ae=0;ae<U;++ae){var qe=b[O+ae];ee[te+4*ae]=qe,_e&=qe}O+=L,te+=ne}return _e!=255}function io(b,O,L,U,Q){var ee;for(ee=0;ee<Q;++ee)L[U+ee]=b[O+ee]>>8}function El(){S0=Kn,dV=ps,hV=os,fV=io}function fa(b,O,L){S[b]=function(U,Q,ee,te,ne,ae,he,_e,qe,fe,Ne,je,et,$e,tt,st,It){var gt,ir=It-1>>1,Kt=ne[ae+0]|he[_e+0]<<16,Dr=qe[fe+0]|Ne[je+0]<<16;e(U!=null);var Jt=3*Kt+Dr+131074>>2;for(O(U[Q+0],255&Jt,Jt>>16,et,$e),ee!=null&&(Jt=3*Dr+Kt+131074>>2,O(ee[te+0],255&Jt,Jt>>16,tt,st)),gt=1;gt<=ir;++gt){var Xr=ne[ae+gt]|he[_e+gt]<<16,vs=qe[fe+gt]|Ne[je+gt]<<16,Fr=Kt+Xr+Dr+vs+524296,er=Fr+2*(Xr+Dr)>>3;Jt=er+Kt>>1,Kt=(Fr=Fr+2*(Kt+vs)>>3)+Xr>>1,O(U[Q+2*gt-1],255&Jt,Jt>>16,et,$e+(2*gt-1)*L),O(U[Q+2*gt-0],255&Kt,Kt>>16,et,$e+(2*gt-0)*L),ee!=null&&(Jt=Fr+Dr>>1,Kt=er+vs>>1,O(ee[te+2*gt-1],255&Jt,Jt>>16,tt,st+(2*gt-1)*L),O(ee[te+2*gt+0],255&Kt,Kt>>16,tt,st+(2*gt+0)*L)),Kt=Xr,Dr=vs}1&It||(Jt=3*Kt+Dr+131074>>2,O(U[Q+It-1],255&Jt,Jt>>16,et,$e+(It-1)*L),ee!=null&&(Jt=3*Dr+Kt+131074>>2,O(ee[te+It-1],255&Jt,Jt>>16,tt,st+(It-1)*L)))}}function Lx(){Nl[zx]=$Pe,Nl[Ux]=SV,Nl[vV]=qPe,Nl[Wx]=EV,Nl[Gx]=_V,Nl[q_]=TV,Nl[yV]=zPe,Nl[z_]=SV,Nl[U_]=EV,Nl[Vx]=_V,Nl[W_]=TV}function nI(b){return b&-16384?0>b?0:255:b>>UPe}function Nf(b,O){return nI((19077*b>>8)+(26149*O>>8)-14234)}function Ld(b,O,L){return nI((19077*b>>8)-(6419*O>>8)-(13320*L>>8)+8708)}function Of(b,O){return nI((19077*b>>8)+(33050*O>>8)-17685)}function jf(b,O,L,U,Q){U[Q+0]=Nf(b,L),U[Q+1]=Ld(b,O,L),U[Q+2]=Of(b,O)}function Pf(b,O,L,U,Q){U[Q+0]=Of(b,O),U[Q+1]=Ld(b,O,L),U[Q+2]=Nf(b,L)}function To(b,O,L,U,Q){var ee=Ld(b,O,L);O=ee<<3&224|Of(b,O)>>3,U[Q+0]=248&Nf(b,L)|ee>>5,U[Q+1]=O}function kf(b,O,L,U,Q){var ee=240&Of(b,O)|15;U[Q+0]=240&Nf(b,L)|Ld(b,O,L)>>4,U[Q+1]=ee}function Df(b,O,L,U,Q){U[Q+0]=255,jf(b,O,L,U,Q+1)}function A0(b,O,L,U,Q){Pf(b,O,L,U,Q),U[Q+3]=255}function C0(b,O,L,U,Q){jf(b,O,L,U,Q),U[Q+3]=255}function wi(b,O){return 0>b?0:b>O?O:b}function lg(b,O,L){S[b]=function(U,Q,ee,te,ne,ae,he,_e,qe){for(var fe=_e+(-2&qe)*L;_e!=fe;)O(U[Q+0],ee[te+0],ne[ae+0],he,_e),O(U[Q+1],ee[te+0],ne[ae+0],he,_e+L),Q+=2,++te,++ae,_e+=2*L;1&qe&&O(U[Q+0],ee[te+0],ne[ae+0],he,_e)}}function iI(b,O,L){return L==0?b==0?O==0?6:5:O==0?4:0:L}function Mx(b,O,L,U,Q){switch(b>>>30){case 3:Bf(O,L,U,Q,0);break;case 2:Tl(O,L,U,Q);break;case 1:mn(O,L,U,Q)}}function _l(b,O){var L,U,Q=O.M,ee=O.Nb,te=b.oc,ne=b.pc+40,ae=b.oc,he=b.pc+584,_e=b.oc,qe=b.pc+600;for(L=0;16>L;++L)te[ne+32*L-1]=129;for(L=0;8>L;++L)ae[he+32*L-1]=129,_e[qe+32*L-1]=129;for(0<Q?te[ne-1-32]=ae[he-1-32]=_e[qe-1-32]=129:(i(te,ne-32-1,127,21),i(ae,he-32-1,127,9),i(_e,qe-32-1,127,9)),U=0;U<b.za;++U){var fe=O.ya[O.aa+U];if(0<U){for(L=-1;16>L;++L)n(te,ne+32*L-4,te,ne+32*L+12,4);for(L=-1;8>L;++L)n(ae,he+32*L-4,ae,he+32*L+4,4),n(_e,qe+32*L-4,_e,qe+32*L+4,4)}var Ne=b.Gd,je=b.Hd+U,et=fe.ad,$e=fe.Hc;if(0<Q&&(n(te,ne-32,Ne[je].y,0,16),n(ae,he-32,Ne[je].f,0,8),n(_e,qe-32,Ne[je].ea,0,8)),fe.Za){var tt=te,st=ne-32+16;for(0<Q&&(U>=b.za-1?i(tt,st,Ne[je].y[15],4):n(tt,st,Ne[je+1].y,0,4)),L=0;4>L;L++)tt[st+128+L]=tt[st+256+L]=tt[st+384+L]=tt[st+0+L];for(L=0;16>L;++L,$e<<=2)tt=te,st=ne+NV[L],gc[fe.Ob[L]](tt,st),Mx($e,et,16*+L,tt,st)}else if(tt=iI(U,Q,fe.Ob[0]),Gd[tt](te,ne),$e!=0)for(L=0;16>L;++L,$e<<=2)Mx($e,et,16*+L,te,ne+NV[L]);for(L=fe.Gc,tt=iI(U,Q,fe.Dd),gg[tt](ae,he),gg[tt](_e,qe),$e=et,tt=ae,st=he,255&(fe=0|L)&&(170&fe?uu($e,256,tt,st):Mn($e,256,tt,st)),fe=_e,$e=qe,255&(L>>=8)&&(170&L?uu(et,320,fe,$e):Mn(et,320,fe,$e)),Q<b.Ub-1&&(n(Ne[je].y,0,te,ne+480,16),n(Ne[je].f,0,ae,he+224,8),n(Ne[je].ea,0,_e,qe+224,8)),L=8*ee*b.B,Ne=b.sa,je=b.ta+16*U+16*ee*b.R,et=b.qa,fe=b.ra+8*U+L,$e=b.Ha,tt=b.Ia+8*U+L,L=0;16>L;++L)n(Ne,je+L*b.R,te,ne+32*L,16);for(L=0;8>L;++L)n(et,fe+L*b.B,ae,he+32*L,8),n($e,tt+L*b.B,_e,qe+32*L,8)}}function Ff(b,O,L,U,Q,ee,te,ne,ae){var he=[0],_e=[0],qe=0,fe=ae!=null?ae.kd:0,Ne=ae??new rt;if(b==null||12>L)return 7;Ne.data=b,Ne.w=O,Ne.ha=L,O=[O],L=[L],Ne.gb=[Ne.gb];e:{var je=O,et=L,$e=Ne.gb;if(e(b!=null),e(et!=null),e($e!=null),$e[0]=0,12<=et[0]&&!r(b,je[0],"RIFF")){if(r(b,je[0]+8,"WEBP")){$e=3;break e}var tt=Te(b,je[0]+4);if(12>tt||4294967286<tt){$e=3;break e}if(fe&&tt>et[0]-8){$e=7;break e}$e[0]=tt,je[0]+=12,et[0]-=12}$e=0}if($e!=0)return $e;for(tt=0<Ne.gb[0],L=L[0];;){e:{var st=b;et=O,$e=L;var It=he,gt=_e,ir=je=[0];if((Jt=qe=[qe])[0]=0,8>$e[0])$e=7;else{if(!r(st,et[0],"VP8X")){if(Te(st,et[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var Kt=Te(st,et[0]+8),Dr=1+He(st,et[0]+12);if(2147483648<=Dr*(st=1+He(st,et[0]+15))){$e=3;break e}ir!=null&&(ir[0]=Kt),It!=null&&(It[0]=Dr),gt!=null&&(gt[0]=st),et[0]+=18,$e[0]-=18,Jt[0]=1}$e=0}}if(qe=qe[0],je=je[0],$e!=0)return $e;if(et=!!(2&je),!tt&&qe)return 3;if(ee!=null&&(ee[0]=!!(16&je)),te!=null&&(te[0]=et),ne!=null&&(ne[0]=0),te=he[0],je=_e[0],qe&&et&&ae==null){$e=0;break}if(4>L){$e=7;break}if(tt&&qe||!tt&&!qe&&!r(b,O[0],"ALPH")){L=[L],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{Kt=b,$e=O,tt=L;var Jt=Ne.gb;It=Ne.na,gt=Ne.P,ir=Ne.Sa,Dr=22,e(Kt!=null),e(tt!=null),st=$e[0];var Xr=tt[0];for(e(It!=null),e(ir!=null),It[0]=null,gt[0]=null,ir[0]=0;;){if($e[0]=st,tt[0]=Xr,8>Xr){$e=7;break e}var vs=Te(Kt,st+4);if(4294967286<vs){$e=3;break e}var Fr=8+vs+1&-2;if(Dr+=Fr,0<Jt&&Dr>Jt){$e=3;break e}if(!r(Kt,st,"VP8 ")||!r(Kt,st,"VP8L")){$e=0;break e}if(Xr[0]<Fr){$e=7;break e}r(Kt,st,"ALPH")||(It[0]=Kt,gt[0]=st+8,ir[0]=vs),st+=Fr,Xr-=Fr}}if(L=L[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],$e!=0)break}L=[L],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(Jt=b,$e=O,tt=L,It=Ne.gb[0],gt=Ne.Ja,ir=Ne.xa,Kt=$e[0],st=!r(Jt,Kt,"VP8 "),Dr=!r(Jt,Kt,"VP8L"),e(Jt!=null),e(tt!=null),e(gt!=null),e(ir!=null),8>tt[0])$e=7;else{if(st||Dr){if(Jt=Te(Jt,Kt+4),12<=It&&Jt>It-12){$e=3;break e}if(fe&&Jt>tt[0]-8){$e=7;break e}gt[0]=Jt,$e[0]+=8,tt[0]-=8,ir[0]=Dr}else ir[0]=5<=tt[0]&&Jt[Kt+0]==47&&!(Jt[Kt+4]>>5),gt[0]=tt[0];$e=0}if(L=L[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],O=O[0],$e!=0)break;if(4294967286<Ne.Ja)return 3;if(ne==null||et||(ne[0]=Ne.xa?2:1),te=[te],je=[je],Ne.xa){if(5>L){$e=7;break}ne=te,fe=je,et=ee,b==null||5>L?b=0:5<=L&&b[O+0]==47&&!(b[O+4]>>5)?(tt=[0],Jt=[0],It=[0],V(gt=new q,b,O,L),za(gt,tt,Jt,It)?(ne!=null&&(ne[0]=tt[0]),fe!=null&&(fe[0]=Jt[0]),et!=null&&(et[0]=It[0]),b=1):b=0):b=0}else{if(10>L){$e=7;break}ne=je,b==null||10>L||!Tx(b,O+3,L-3)?b=0:(fe=b[O+0]|b[O+1]<<8|b[O+2]<<16,et=16383&(b[O+7]<<8|b[O+6]),b=16383&(b[O+9]<<8|b[O+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=Ne.Ja||!et||!b?b=0:(te&&(te[0]=et),ne&&(ne[0]=b),b=1))}if(!b||(te=te[0],je=je[0],qe&&(he[0]!=te||_e[0]!=je)))return 3;ae!=null&&(ae[0]=Ne,ae.offset=O-ae.w,e(4294967286>O-ae.w),e(ae.offset==ae.ha-L));break}return $e==0||$e==7&&qe&&ae==null?(ee!=null&&(ee[0]|=Ne.na!=null&&0<Ne.na.length),U!=null&&(U[0]=te),Q!=null&&(Q[0]=je),0):$e}function I0(b,O,L){var U=O.width,Q=O.height,ee=0,te=0,ne=U,ae=Q;if(O.Da=b!=null&&0<b.Da,O.Da&&(ne=b.cd,ae=b.bd,ee=b.v,te=b.j,11>L||(ee&=-2,te&=-2),0>ee||0>te||0>=ne||0>=ae||ee+ne>U||te+ae>Q))return 0;if(O.v=ee,O.j=te,O.va=ee+ne,O.o=te+ae,O.U=ne,O.T=ae,O.da=b!=null&&0<b.da,O.da){if(!ke(ne,ae,L=[b.ib],ee=[b.hb]))return 0;O.ib=L[0],O.hb=ee[0]}return O.ob=b!=null&&b.ob,O.Kb=b==null||!b.Sd,O.da&&(O.ob=O.ib<3*U/4&&O.hb<3*Q/4,O.Kb=0),1}function p0(b){if(b==null)return 2;if(11>b.S){var O=b.f.RGBA;O.fb+=(b.height-1)*O.A,O.A=-O.A}else O=b.f.kb,b=b.height,O.O+=(b-1)*O.fa,O.fa=-O.fa,O.N+=(b-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(b-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(b-1)*O.lb,O.lb=-O.lb);return 0}function Md(b,O,L,U){if(U==null||0>=b||0>=O)return 2;if(L!=null){if(L.Da){var Q=L.cd,ee=L.bd,te=-2&L.v,ne=-2&L.j;if(0>te||0>ne||0>=Q||0>=ee||te+Q>b||ne+ee>O)return 2;b=Q,O=ee}if(L.da){if(!ke(b,O,Q=[L.ib],ee=[L.hb]))return 2;b=Q[0],O=ee[0]}}U.width=b,U.height=O;e:{var ae=U.width,he=U.height;if(b=U.S,0>=ae||0>=he||!(b>=zx&&13>b))b=2;else{if(0>=U.Rd&&U.sd==null){te=ee=Q=O=0;var _e=(ne=ae*OV[b])*he;if(11>b||(ee=(he+1)/2*(O=(ae+1)/2),b==12&&(te=(Q=ae)*he)),(he=s(_e+2*ee+te))==null){b=1;break e}U.sd=he,11>b?((ae=U.f.RGBA).eb=he,ae.fb=0,ae.A=ne,ae.size=_e):((ae=U.f.kb).y=he,ae.O=0,ae.fa=ne,ae.Fd=_e,ae.f=he,ae.N=0+_e,ae.Ab=O,ae.Cd=ee,ae.ea=he,ae.W=0+_e+ee,ae.Db=O,ae.Ed=ee,b==12&&(ae.F=he,ae.J=0+_e+2*ee),ae.Tc=te,ae.lb=Q)}if(O=1,Q=U.S,ee=U.width,te=U.height,Q>=zx&&13>Q)if(11>Q)b=U.f.RGBA,O&=(ne=Math.abs(b.A))*(te-1)+ee<=b.size,O&=ne>=ee*OV[Q],O&=b.eb!=null;else{b=U.f.kb,ne=(ee+1)/2,_e=(te+1)/2,ae=Math.abs(b.fa),he=Math.abs(b.Ab);var qe=Math.abs(b.Db),fe=Math.abs(b.lb),Ne=fe*(te-1)+ee;O&=ae*(te-1)+ee<=b.Fd,O&=he*(_e-1)+ne<=b.Cd,O=(O&=qe*(_e-1)+ne<=b.Ed)&ae>=ee&he>=ne&qe>=ne,O&=b.y!=null,O&=b.f!=null,O&=b.ea!=null,Q==12&&(O&=fe>=ee,O&=Ne<=b.Tc,O&=b.F!=null)}else O=0;b=O?0:2}}return b!=0||L!=null&&L.fd&&(b=p0(U)),b}var Lf=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Va=24,Bd=32,cg=8,$d=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(b){return b},S.Predictor2=function(b,O,L){return O[L+0]},S.Predictor3=function(b,O,L){return O[L+1]},S.Predictor4=function(b,O,L){return O[L-1]},S.Predictor5=function(b,O,L){return bt(bt(b,O[L+1]),O[L+0])},S.Predictor6=function(b,O,L){return bt(b,O[L-1])},S.Predictor7=function(b,O,L){return bt(b,O[L+0])},S.Predictor8=function(b,O,L){return bt(O[L-1],O[L+0])},S.Predictor9=function(b,O,L){return bt(O[L+0],O[L+1])},S.Predictor10=function(b,O,L){return bt(bt(b,O[L-1]),bt(O[L+0],O[L+1]))},S.Predictor11=function(b,O,L){var U=O[L+0];return 0>=Qt(U>>24&255,b>>24&255,(O=O[L-1])>>24&255)+Qt(U>>16&255,b>>16&255,O>>16&255)+Qt(U>>8&255,b>>8&255,O>>8&255)+Qt(255&U,255&b,255&O)?U:b},S.Predictor12=function(b,O,L){var U=O[L+0];return(Gt((b>>24&255)+(U>>24&255)-((O=O[L-1])>>24&255))<<24|Gt((b>>16&255)+(U>>16&255)-(O>>16&255))<<16|Gt((b>>8&255)+(U>>8&255)-(O>>8&255))<<8|Gt((255&b)+(255&U)-(255&O)))>>>0},S.Predictor13=function(b,O,L){var U=O[L-1];return(Wt((b=bt(b,O[L+0]))>>24&255,U>>24&255)<<24|Wt(b>>16&255,U>>16&255)<<16|Wt(b>>8&255,U>>8&255)<<8|Wt(255&b,255&U))>>>0};var m0=S.PredictorAdd0;S.PredictorAdd1=hr,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var sI=S.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var zi,Bx=S.ColorIndexInverseTransform,lu=S.MapARGB,cu=S.VP8LColorIndexInverseTransformAlpha,v0=S.MapAlpha,y0=S.VP8LPredictorsAdd=[];y0.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var x0,b0,qd,zd,Ud,Mf,Wd,Bf,Tl,uu,mn,Mn,Ui,ms,ug,w0,oI,$x,oV,aV,lV,cV,uV,gV,S0,dV,hV,fV,AV=s(511),CV=s(2041),IV=s(225),pV=s(767),mV=0,$_=CV,qx=IV,Ha=pV,Rl=AV,zx=0,Ux=1,vV=2,Wx=3,Gx=4,q_=5,yV=6,z_=7,U_=8,Vx=9,W_=10,EPe=[2,3,7],_Pe=[3,3,11],xV=[280,256,256,256,40],TPe=[0,1,1,1,0],RPe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],NPe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OPe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jPe=8,G_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],V_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],E0=null,PPe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kPe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bV=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DPe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FPe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LPe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],MPe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gd=[],gc=[],gg=[],BPe=1,wV=2,Vd=[],Nl=[];fa("UpsampleRgbLinePair",jf,3),fa("UpsampleBgrLinePair",Pf,3),fa("UpsampleRgbaLinePair",C0,4),fa("UpsampleBgraLinePair",A0,4),fa("UpsampleArgbLinePair",Df,4),fa("UpsampleRgba4444LinePair",kf,2),fa("UpsampleRgb565LinePair",To,2);var $Pe=S.UpsampleRgbLinePair,qPe=S.UpsampleBgrLinePair,SV=S.UpsampleRgbaLinePair,EV=S.UpsampleBgraLinePair,_V=S.UpsampleArgbLinePair,TV=S.UpsampleRgba4444LinePair,zPe=S.UpsampleRgb565LinePair,Hx=16,Kx=1<<Hx-1,_0=-227,H_=482,UPe=6,RV=0,WPe=s(256),GPe=s(256),VPe=s(256),HPe=s(256),KPe=s(H_-_0),YPe=s(H_-_0);lg("YuvToRgbRow",jf,3),lg("YuvToBgrRow",Pf,3),lg("YuvToRgbaRow",C0,4),lg("YuvToBgraRow",A0,4),lg("YuvToArgbRow",Df,4),lg("YuvToRgba4444Row",kf,2),lg("YuvToRgb565Row",To,2);var NV=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yx=[0,2,8],ZPe=[8,7,6,4,4,2,2,2,1,1,1,1],XPe=1;this.WebPDecodeRGBA=function(b,O,L,U,Q){var ee=Ux,te=new Oe,ne=new ln;te.ba=ne,ne.S=ee,ne.width=[ne.width],ne.height=[ne.height];var ae=ne.width,he=ne.height,_e=new nr;if(_e==null||b==null)var qe=2;else e(_e!=null),qe=Ff(b,O,L,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(qe!=0?ae=0:(ae!=null&&(ae[0]=_e.width[0]),he!=null&&(he[0]=_e.height[0]),ae=1),ae){ne.width=ne.width[0],ne.height=ne.height[0],U!=null&&(U[0]=ne.width),Q!=null&&(Q[0]=ne.height);e:{if(U=new _o,(Q=new rt).data=b,Q.w=O,Q.ha=L,Q.kd=1,O=[0],e(Q!=null),((b=Ff(Q.data,Q.w,Q.ha,null,null,null,O,null,Q))==0||b==7)&&O[0]&&(b=4),(O=b)==0){if(e(te!=null),U.data=Q.data,U.w=Q.w+Q.offset,U.ha=Q.ha-Q.offset,U.put=gr,U.ac=da,U.bc=qa,U.ma=te,Q.xa){if((b=Le())==null){te=1;break e}if(function(fe,Ne){var je=[0],et=[0],$e=[0];t:for(;;){if(fe==null)return 0;if(Ne==null)return fe.a=2,0;if(fe.l=Ne,fe.a=0,V(fe.m,Ne.data,Ne.w,Ne.ha),!za(fe.m,je,et,$e)){fe.a=3;break t}if(fe.xb=wV,Ne.width=je[0],Ne.height=et[0],!Me(je[0],et[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(b,U)){if(U=(O=Md(U.width,U.height,te.Oa,te.ba))==0){t:{U=b;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((L=U.l)!=null),e((Q=L.ma)!=null),U.xb!=0){if(U.ca=Q.ba,U.tb=Q.tb,e(U.ca!=null),!I0(Q.Oa,L,Wx)){U.a=2;break r}if(!ze(U,L.width)||L.da)break r;if((L.da||Ir(U.ca.S))&&El(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&El()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!se(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!De(U,U.V,U.Ba,U.c,U.i,L.o,oe))break r;Q.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(O=b.a)}else O=b.a}else{if((b=new S_)==null){te=1;break e}if(b.Fa=Q.na,b.P=Q.P,b.qc=Q.Sa,Rx(b,U)){if((O=Md(U.width,U.height,te.Oa,te.ba))==0){if(b.Aa=0,L=te.Oa,e((Q=b)!=null),L!=null){if(0<(ae=0>(ae=L.Md)?0:100<ae?255:255*ae/100)){for(he=_e=0;4>he;++he)12>(qe=Q.pb[he]).lc&&(qe.ia=ae*ZPe[0>qe.lc?0:qe.lc]>>3),_e|=qe.ia;_e&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=L.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(fe,Ne){if(fe==null)return 0;if(Ne==null)return is(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!Rx(fe,Ne))return 0;if(e(fe.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(fe.L=0);var je=Yx[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=Ne.v-je>>4,fe.zb=Ne.j-je>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=Ne.o+15+je>>4,fe.Hb=Ne.va+15+je>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var et=fe.ed;for(je=0;4>je;++je){var $e;if(fe.Qa.Cb){var tt=fe.Qa.Lb[je];fe.Qa.Fb||(tt+=et.Tb)}else tt=et.Tb;for($e=0;1>=$e;++$e){var st=fe.gd[je][$e],It=tt;if(et.Pc&&(It+=et.vd[0],$e&&(It+=et.od[0])),0<(It=0>It?0:63<It?63:It)){var gt=It;0<et.wb&&(gt=4<et.wb?gt>>2:gt>>1)>9-et.wb&&(gt=9-et.wb),1>gt&&(gt=1),st.dd=gt,st.tc=2*It+gt,st.ld=40<=It?2:15<=It?1:0}else st.tc=0;st.La=$e}}}je=0}else is(fe,6,"Frame setup failed"),je=fe.a;if(je=je==0){if(je){fe.$c=0,0<fe.Aa||(fe.Ic=XPe);t:{je=fe.Ic,et=4*(gt=fe.za);var ir=32*gt,Kt=gt+1,Dr=0<fe.L?gt*(0<fe.Aa?2:1):0,Jt=(fe.Aa==2?2:1)*gt;if((st=et+832+($e=3*(16*je+Yx[fe.L])/2*ir)+(tt=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=st)je=0;else{if(st>fe.Vb){if(fe.Vb=0,fe.Ec=s(st),fe.Fc=0,fe.Ec==null){je=is(fe,1,"no memory during frame initialization.");break t}fe.Vb=st}st=fe.Ec,It=fe.Fc,fe.Ac=st,fe.Bc=It,It+=et,fe.Gd=o(ir,ha),fe.Hd=0,fe.rb=o(Kt+1,di),fe.sb=1,fe.wa=Dr?o(Dr,Gr):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=gt),e(!0),fe.oc=st,fe.pc=It,It+=832,fe.ya=o(Jt,Wa),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=gt),fe.R=16*gt,fe.B=8*gt,gt=(ir=Yx[fe.L])*fe.R,ir=ir/2*fe.B,fe.sa=st,fe.ta=It+gt,fe.qa=fe.sa,fe.ra=fe.ta+16*je*fe.R+ir,fe.Ha=fe.qa,fe.Ia=fe.ra+8*je*fe.B+ir,fe.$c=0,It+=$e,fe.mb=tt?st:null,fe.nb=tt?It:null,e(It+tt<=fe.Fc+fe.Vb),yf(fe),i(fe.Ac,fe.Bc,0,et),je=1}}if(je){if(Ne.ka=0,Ne.y=fe.sa,Ne.O=fe.ta,Ne.f=fe.qa,Ne.N=fe.ra,Ne.ea=fe.Ha,Ne.Vd=fe.Ia,Ne.fa=fe.R,Ne.Rc=fe.B,Ne.F=null,Ne.J=0,!mV){for(je=-255;255>=je;++je)AV[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)CV[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)IV[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)pV[255+je]=0>je?0:255<je?255:je;mV=1}Wd=Ox,Bf=__,uu=T_,mn=au,Mn=Nx,Tl=E_,Ui=kx,ms=Dx,ug=F,w0=X,oI=Rf,$x=Fx,oV=Ae,aV=be,lV=f0,cV=Tf,uV=jx,gV=Px,gc[0]=D_,gc[1]=a0,gc[2]=P_,gc[3]=k_,gc[4]=F_,gc[5]=sg,gc[6]=ig,gc[7]=L_,gc[8]=JC,gc[9]=M_,Gd[0]=Fd,Gd[1]=N_,Gd[2]=O_,Gd[3]=l0,Gd[4]=j_,Gd[5]=wf,Gd[6]=c0,gg[0]=tI,gg[1]=R_,gg[2]=u0,gg[3]=Sf,gg[4]=g0,gg[5]=B_,gg[6]=d0,je=1}else je=0}je&&(je=function(Xr,vs){for(Xr.M=0;Xr.M<Xr.Va;++Xr.M){var Fr,er=Xr.Jc[Xr.M&Xr.Xb],jt=Xr.m,Wi=Xr;for(Fr=0;Fr<Wi.za;++Fr){var jr=jt,nn=Wi,ni=nn.Ac,so=nn.Bc+4*Fr,zo=nn.zc,Si=nn.ya[nn.aa+Fr];if(nn.Qa.Bb?Si.$b=Ce(jr,nn.Pa.jb[0])?2+Ce(jr,nn.Pa.jb[2]):Ce(jr,nn.Pa.jb[1]):Si.$b=0,nn.kc&&(Si.Ad=Ce(jr,nn.Bd)),Si.Za=!Ce(jr,145)+0,Si.Za){var Ro=Si.Ob,Uo=0;for(nn=0;4>nn;++nn){var ys,on=zo[0+nn];for(ys=0;4>ys;++ys){on=FPe[ni[so+ys]][on];for(var Sn=bV[Ce(jr,on[0])];0<Sn;)Sn=bV[2*Sn+Ce(jr,on[Sn])];on=-Sn,ni[so+ys]=on}n(Ro,Uo,ni,so,4),Uo+=4,zo[0+nn]=on}}else on=Ce(jr,156)?Ce(jr,128)?1:3:Ce(jr,163)?2:0,Si.Ob[0]=on,i(ni,so,on,4),i(zo,0,on,4);Si.Dd=Ce(jr,142)?Ce(jr,114)?Ce(jr,183)?1:3:2:0}if(Wi.m.Ka)return is(Xr,7,"Premature end-of-partition0 encountered.");for(;Xr.ja<Xr.za;++Xr.ja){if(Wi=er,jr=(jt=Xr).rb[jt.sb-1],ni=jt.rb[jt.sb+jt.ja],Fr=jt.ya[jt.aa+jt.ja],so=jt.kc?Fr.Ad:0)jr.la=ni.la=0,Fr.Za||(jr.Na=ni.Na=0),Fr.Hc=0,Fr.Gc=0,Fr.ia=0;else{var Ei,En;if(jr=ni,ni=Wi,so=jt.Pa.Xc,zo=jt.ya[jt.aa+jt.ja],Si=jt.pb[zo.$b],nn=zo.ad,Ro=0,Uo=jt.rb[jt.sb-1],on=ys=0,i(nn,Ro,0,384),zo.Za)var oo=0,dc=so[3];else{Sn=s(16);var Gi=jr.Na+Uo.Na;if(Gi=E0(ni,so[1],Gi,Si.Eb,0,Sn,0),jr.Na=Uo.Na=(0<Gi)+0,1<Gi)Wd(Sn,0,nn,Ro);else{var Aa=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)nn[Ro+Sn]=Aa}oo=1,dc=so[0]}var Bn=15&jr.la,xs=15&Uo.la;for(Sn=0;4>Sn;++Sn){var Ka=1&xs;for(Aa=En=0;4>Aa;++Aa)Bn=Bn>>1|(Ka=(Gi=E0(ni,dc,Gi=Ka+(1&Bn),Si.Sc,oo,nn,Ro))>oo)<<7,En=En<<2|(3<Gi?3:1<Gi?2:nn[Ro+0]!=0),Ro+=16;Bn>>=4,xs=xs>>1|Ka<<7,ys=(ys<<8|En)>>>0}for(dc=Bn,oo=xs>>4,Ei=0;4>Ei;Ei+=2){for(En=0,Bn=jr.la>>4+Ei,xs=Uo.la>>4+Ei,Sn=0;2>Sn;++Sn){for(Ka=1&xs,Aa=0;2>Aa;++Aa)Gi=Ka+(1&Bn),Bn=Bn>>1|(Ka=0<(Gi=E0(ni,so[2],Gi,Si.Qc,0,nn,Ro)))<<3,En=En<<2|(3<Gi?3:1<Gi?2:nn[Ro+0]!=0),Ro+=16;Bn>>=2,xs=xs>>1|Ka<<5}on|=En<<4*Ei,dc|=Bn<<4<<Ei,oo|=(240&xs)<<Ei}jr.la=dc,Uo.la=oo,zo.Hc=ys,zo.Gc=on,zo.ia=43690&on?0:Si.ia,so=!(ys|on)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[Fr.$b][Fr.Za],jt.wa[jt.Y+jt.ja].La|=!so),Wi.Ka)return is(Xr,7,"Premature end-of-file encountered.")}if(yf(Xr),jt=vs,Wi=1,Fr=(er=Xr).D,jr=0<er.L&&er.M>=er.zb&&er.M<=er.Va,er.Aa==0)t:{if(Fr.M=er.M,Fr.uc=jr,_l(er,Fr),Wi=1,Fr=(En=er.D).Nb,jr=(on=Yx[er.L])*er.R,ni=on/2*er.B,Sn=16*Fr*er.R,Aa=8*Fr*er.B,so=er.sa,zo=er.ta-jr+Sn,Si=er.qa,nn=er.ra-ni+Aa,Ro=er.Ha,Uo=er.Ia-ni+Aa,xs=(Bn=En.M)==0,ys=Bn>=er.Va-1,er.Aa==2&&_l(er,En),En.uc)for(Ka=(Gi=er).D.M,e(Gi.D.uc),En=Gi.yb;En<Gi.Hb;++En){oo=En,dc=Ka;var Wo=(Ya=(ao=Gi).D).Nb;Ei=ao.R;var Ya=Ya.wa[Ya.Y+oo],Za=ao.sa,Ca=ao.ta+16*Wo*Ei+16*oo,Xa=Ya.dd,Yn=Ya.tc;if(Yn!=0)if(e(3<=Yn),ao.L==1)0<oo&&cV(Za,Ca,Ei,Yn+4),Ya.La&&gV(Za,Ca,Ei,Yn),0<dc&&lV(Za,Ca,Ei,Yn+4),Ya.La&&uV(Za,Ca,Ei,Yn);else{var Qa=ao.B,hc=ao.qa,$f=ao.ra+8*Wo*Qa+8*oo,dg=ao.Ha,ao=ao.Ia+8*Wo*Qa+8*oo;Wo=Ya.ld,0<oo&&(ms(Za,Ca,Ei,Yn+4,Xa,Wo),w0(hc,$f,dg,ao,Qa,Yn+4,Xa,Wo)),Ya.La&&($x(Za,Ca,Ei,Yn,Xa,Wo),aV(hc,$f,dg,ao,Qa,Yn,Xa,Wo)),0<dc&&(Ui(Za,Ca,Ei,Yn+4,Xa,Wo),ug(hc,$f,dg,ao,Qa,Yn+4,Xa,Wo)),Ya.La&&(oI(Za,Ca,Ei,Yn,Xa,Wo),oV(hc,$f,dg,ao,Qa,Yn,Xa,Wo))}}if(er.ia&&alert("todo:DitherRow"),jt.put!=null){if(En=16*Bn,Bn=16*(Bn+1),xs?(jt.y=er.sa,jt.O=er.ta+Sn,jt.f=er.qa,jt.N=er.ra+Aa,jt.ea=er.Ha,jt.W=er.Ia+Aa):(En-=on,jt.y=so,jt.O=zo,jt.f=Si,jt.N=nn,jt.ea=Ro,jt.W=Uo),ys||(Bn-=on),Bn>jt.o&&(Bn=jt.o),jt.F=null,jt.J=null,er.Fa!=null&&0<er.Fa.length&&En<Bn&&(jt.J=ss(er,jt,En,Bn-En),jt.F=er.mb,jt.F==null&&jt.F.length==0)){Wi=is(er,3,"Could not decode alpha data.");break t}En<jt.j&&(on=jt.j-En,En=jt.j,e(!(1&on)),jt.O+=er.R*on,jt.N+=er.B*(on>>1),jt.W+=er.B*(on>>1),jt.F!=null&&(jt.J+=jt.width*on)),En<Bn&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=En-jt.j,jt.U=jt.va-jt.v,jt.T=Bn-En,Wi=jt.put(jt))}Fr+1!=er.Ic||ys||(n(er.sa,er.ta-jr,so,zo+16*er.R,jr),n(er.qa,er.ra-ni,Si,nn+8*er.B,ni),n(er.Ha,er.Ia-ni,Ro,Uo+8*er.B,ni))}if(!Wi)return is(Xr,6,"Output aborted.")}return 1}(fe,Ne)),Ne.bc!=null&&Ne.bc(Ne),je&=1}return je?(fe.cb=0,je):0})(b,U)||(O=b.a)}}else O=b.a}O==0&&te.Oa!=null&&te.Oa.fd&&(O=p0(te.ba))}te=O}ee=te!=0?null:11>ee?ne.f.RGBA.eb:ne.f.kb.y}else ee=null;return ee};var OV=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(S,j){for(var w="",R=0;R<4;R++)w+=String.fromCharCode(S[j++]);return w}function g(S,j){return S[j+0]|S[j+1]<<8}function d(S,j){return(S[j+0]|S[j+1]<<8|S[j+2]<<16)>>>0}function f(S,j){return(S[j+0]|S[j+1]<<8|S[j+2]<<16|S[j+3]<<24)>>>0}new l;var h=[0],A=[0],C=[],I=new l,p=t,m=function(S,j){var w={},R=0,N=!1,P=0,M=0;if(w.frames=[],!function(k,q){for(var z=0;z<4;z++)if(k[q+z]!="RIFF".charCodeAt(z))return!0;return!1}(S,j)){for(f(S,j+=4),j+=8;j<S.length;){var B=u(S,j),W=f(S,j+=4);j+=4;var H=W+(1&W);switch(B){case"VP8 ":case"VP8L":w.frames[R]===void 0&&(w.frames[R]={}),(Y=w.frames[R]).src_off=N?M:j-8,Y.src_size=P+W+8,R++,N&&(N=!1,P=0,M=0);break;case"VP8X":(Y=w.header={}).feature_flags=S[j];var V=j+4;Y.canvas_width=1+d(S,V),V+=3,Y.canvas_height=1+d(S,V),V+=3;break;case"ALPH":N=!0,P=H+8,M=j-8;break;case"ANIM":(Y=w.header).bgcolor=f(S,j),V=j+4,Y.loop_count=g(S,V),V+=2;break;case"ANMF":var K,Y;(Y=w.frames[R]={}).offset_x=2*d(S,j),j+=3,Y.offset_y=2*d(S,j),j+=3,Y.width=1+d(S,j),j+=3,Y.height=1+d(S,j),j+=3,Y.duration=d(S,j),j+=3,K=S[j++],Y.dispose=1&K,Y.blend=K>>1&1}B!="ANMF"&&(j+=H)}return w}}(p,0);m.response=p,m.rgbaoutput=!0,m.dataurl=!1;var v=m.header?m.header:null,y=m.frames?m.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],A=[v.canvas_width];for(var x=0;x<y.length&&y[x].blend!=0;x++);}var T=y[0],E=I.WebPDecodeRGBA(p,T.src_off,T.src_size,A,h);T.rgba=E,T.imgwidth=A[0],T.imgheight=h[0];for(var _=0;_<A[0]*h[0]*4;_++)C[_]=E[_];return this.width=A,this.height=h,this.data=C,this}(function(t){var e,r,n,i,s,o,a,l,u,g=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new g}]);var d=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=k;Object.defineProperty(this,"pdf",{get:function(){return q}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Te){z=!!Te}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Te){G=!!Te}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Te){isNaN(Te)||(Z=Te)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(Te){isNaN(Te)||(ue=Te)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Te){var se;typeof Te=="number"?se=[Te,Te,Te,Te]:((se=new Array(4))[0]=Te[0],se[1]=Te.length>=2?Te[1]:se[0],se[2]=Te.length>=3?Te[2]:se[0],se[3]=Te.length>=4?Te[3]:se[1]),u.margin=se}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(Te){re=Te}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(Te){ie=Te}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Te){Ce=Te}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Te){Te instanceof g&&(u=Te)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Te){u.path=Te}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Te){Pe=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var se;se=f(Te),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var se=f(Te);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var Fe=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Te){Fe=null,He=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var se;if(this.ctx.font=Te,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Ct=se[1];se[2];var Re=se[3],ke=se[4];se[5];var Ye=se[6],xt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(xt==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:xt==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var ft=function(Ht){var Qe,it,ot=[],Ve=Ht.trim();if(Ve==="")return zT;if(Ve in wY)return[wY[Ve]];for(;Ve!=="";){switch(it=null,Qe=(Ve=EY(Ve)).charAt(0)){case'"':case"'":it=iWe(Ve.substring(1),Qe);break;default:it=sWe(Ve)}if(it===null||(ot.push(it[0]),(Ve=EY(it[1]))!==""&&Ve.charAt(0)!==","))return zT;Ve=Ve.replace(/^,/,"")}return ot}(Ye);if(this.fontFaces){var $t=function(Ht,Qe){if(Fe===null){var it=function(ot){var Ve=[];return Object.keys(ot).forEach(function(ut){ot[ut].forEach(function(qt){var zt=null;switch(qt){case"bold":zt={family:ut,weight:"bold"};break;case"italic":zt={family:ut,style:"italic"};break;case"bolditalic":zt={family:ut,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:ut}}zt!==null&&(zt.ref={name:ut,style:qt},Ve.push(zt))})}),Ve}(Ht.getFontList());Fe=function(ot){for(var Ve={},ut=0;ut<ot.length;++ut){var qt=qT(ot[ut]),zt=qt.family,Cr=qt.stretch,Ir=qt.style,In=qt.weight;Ve[zt]=Ve[zt]||{},Ve[zt][Cr]=Ve[zt][Cr]||{},Ve[zt][Cr][Ir]=Ve[zt][Cr][Ir]||{},Ve[zt][Cr][Ir][In]=qt}return Ve}(it.concat(Qe))}return Fe}(this.pdf,this.fontFaces),bt=ft.map(function(Ht){return{family:Ht,stretch:"normal",weight:Re,style:Ct}}),Gt=function(Ht,Qe,it){for(var ot=(it=it||{}).defaultFontFamily||"times",Ve=Object.assign({},nWe,it.genericFontFamilies||{}),ut=null,qt=null,zt=0;zt<Qe.length;++zt)if(Ve[(ut=qT(Qe[zt])).family]&&(ut.family=Ve[ut.family]),Ht.hasOwnProperty(ut.family)){qt=Ht[ut.family];break}if(!(qt=qt||Ht[ot]))throw new Error("Could not find a font-family for the rule '"+SY(ut)+"' and default family '"+ot+"'.");if(qt=function(Cr,Ir){if(Ir[Cr])return Ir[Cr];var In=kz[Cr],ri=In<=kz.normal?-1:1,ln=bY(Ir,D2e,In,ri);if(!ln)throw new Error("Could not find a matching font-stretch value for "+Cr);return ln}(ut.stretch,qt),qt=function(Cr,Ir){if(Ir[Cr])return Ir[Cr];for(var In=k2e[Cr],ri=0;ri<In.length;++ri)if(Ir[In[ri]])return Ir[In[ri]];throw new Error("Could not find a matching font-style for "+Cr)}(ut.style,qt),!(qt=function(Cr,Ir){if(Ir[Cr])return Ir[Cr];if(Cr===400&&Ir[500])return Ir[500];if(Cr===500&&Ir[400])return Ir[400];var In=rWe[Cr],ri=bY(Ir,F2e,In,Cr<400?-1:1);if(!ri)throw new Error("Could not find a matching font-weight for value "+Cr);return ri}(ut.weight,qt)))throw new Error("Failed to resolve a font for the rule '"+SY(ut)+"'.");return qt}($t,bt);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var Wt="";(Re==="bold"||parseInt(Re,10)>=700||Ct==="bold")&&(Wt="bold"),Ct==="italic"&&(Wt+="italic"),Wt.length===0&&(Wt="normal");for(var Qt="",hr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<ft.length;Bt++){if(this.pdf.internal.getFont(ft[Bt],Wt,{noFallback:!0,disableWarning:!0})!==void 0){Qt=ft[Bt];break}if(Wt==="bolditalic"&&this.pdf.internal.getFont(ft[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qt=ft[Bt],Wt="bold";else if(this.pdf.internal.getFont(ft[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qt=ft[Bt],Wt="normal";break}}if(Qt===""){for(var Ft=0;Ft<ft.length;Ft++)if(hr[ft[Ft]]){Qt=hr[ft[Ft]];break}}Qt=Qt===""?"Times":Qt,this.pdf.setFont(Qt,Wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};d.prototype.setLineDash=function(k){this.lineDash=k},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){y.call(this,"fill",!1)},d.prototype.stroke=function(){y.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(k,q){if(isNaN(k)||isNaN(q))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(k,q)},d.prototype.closePath=function(){var k=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Un(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){k=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},d.prototype.lineTo=function(k,q){if(isNaN(k)||isNaN(q))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},d.prototype.quadraticCurveTo=function(k,q,z,G){if(isNaN(z)||isNaN(G)||isNaN(k)||isNaN(q))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(z,G)),ue=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},d.prototype.bezierCurveTo=function(k,q,z,G,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new o(Z,ue)),ie=this.ctx.transform.applyToPoint(new o(k,q)),Ce=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:Ce.x,y2:Ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},d.prototype.arc=function(k,q,z,G,Z,ue){if(isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G)||isNaN(Z))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new o(k,q));k=re.x,q=re.y;var ie=this.ctx.transform.applyToPoint(new o(0,z)),Ce=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ie.x-Ce.x,2)+Math.pow(ie.y-Ce.y,2))}Math.abs(Z-G)>=2*Math.PI&&(G=0,Z=2*Math.PI),this.path.push({type:"arc",x:k,y:q,radius:z,startAngle:G,endAngle:Z,counterclockwise:ue})},d.prototype.arcTo=function(k,q,z,G,Z){throw new Error("arcTo not implemented.")},d.prototype.rect=function(k,q,z,G){if(isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,q),this.lineTo(k+z,q),this.lineTo(k+z,q+G),this.lineTo(k,q+G),this.lineTo(k,q),this.lineTo(k+z,q),this.lineTo(k,q)},d.prototype.fillRect=function(k,q,z,G){if(isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,q,z,G),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},d.prototype.strokeRect=function(k,q,z,G){if(isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(k,q,z,G),this.stroke())},d.prototype.clearRect=function(k,q,z,G){if(isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,q,z,G))},d.prototype.save=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},d.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(q),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(k){var q,z,G,Z;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))q=0,z=0,G=0,Z=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ue!==null)q=parseInt(ue[1]),z=parseInt(ue[2]),G=parseInt(ue[3]),Z=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)q=parseInt(ue[1]),z=parseInt(ue[2]),G=parseInt(ue[3]),Z=parseFloat(ue[4]);else{if(Z=1,typeof k=="string"&&k.charAt(0)!=="#"){var re=new _2e(k);k=re.ok?re.toHex():"#000000"}k.length===4?(q=k.substring(1,2),q+=q,z=k.substring(2,3),z+=z,G=k.substring(3,4),G+=G):(q=k.substring(1,3),z=k.substring(3,5),G=k.substring(5,7)),q=parseInt(q,16),z=parseInt(z,16),G=parseInt(G,16)}}return{r:q,g:z,b:G,a:Z,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(k,q,z,G){if(isNaN(q)||isNaN(z)||typeof k!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!h.call(this)){var Z=H(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;R.call(this,{text:k,x:q,y:z,scale:ue,angle:Z,align:this.textAlign,maxWidth:G})}},d.prototype.strokeText=function(k,q,z,G){if(isNaN(q)||isNaN(z)||typeof k!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){G=isNaN(G)?void 0:G;var Z=H(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;R.call(this,{text:k,x:q,y:z,scale:ue,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:G})}},d.prototype.measureText=function(k){if(typeof k!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,z=this.pdf.internal.scaleFactor,G=q.internal.getFontSize(),Z=q.getStringUnitWidth(k)*G/q.internal.scaleFactor;return new function(ue){var re=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this}({width:Z*=Math.round(96*z/72*1e4)/1e4})},d.prototype.scale=function(k,q){if(isNaN(k)||isNaN(q))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(k,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.rotate=function(k){if(isNaN(k))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.translate=function(k,q){if(isNaN(k)||isNaN(q))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,k,q);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.transform=function(k,q,z,G,Z,ue){if(isNaN(k)||isNaN(q)||isNaN(z)||isNaN(G)||isNaN(Z)||isNaN(ue))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new l(k,q,z,G,Z,ue);this.ctx.transform=this.ctx.transform.multiply(re)},d.prototype.setTransform=function(k,q,z,G,Z,ue){k=isNaN(k)?1:k,q=isNaN(q)?0:q,z=isNaN(z)?0:z,G=isNaN(G)?1:G,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(k,q,z,G,Z,ue)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(k,q,z,G,Z,ue,re,ie,Ce){var Pe=this.pdf.getImageProperties(k),Fe=1,He=1,Te=1,se=1;G!==void 0&&ie!==void 0&&(Te=ie/G,se=Ce/Z,Fe=Pe.width/G*ie/G,He=Pe.height/Z*Ce/Z),ue===void 0&&(ue=q,re=z,q=0,z=0),G!==void 0&&ie===void 0&&(ie=G,Ce=Z),G===void 0&&ie===void 0&&(ie=Pe.width,Ce=Pe.height);for(var Ct,Re=this.ctx.transform.decompose(),ke=H(Re.rotate.shx),Ye=new l,xt=(Ye=(Ye=(Ye=Ye.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new a(ue-q*Te,re-z*se,G*Fe,Z*He)),ft=I.call(this,xt),$t=[],bt=0;bt<ft.length;bt+=1)$t.indexOf(ft[bt])===-1&&$t.push(ft[bt]);if(v($t),this.autoPaging)for(var Gt=$t[0],Wt=$t[$t.length-1],Qt=Gt;Qt<Wt+1;Qt++){this.pdf.setPage(Qt);var hr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=Qt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Qt===1?0:Ft+(Qt-2)*Ht;if(this.ctx.clip_path.length!==0){var it=this.path;Ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(Ct,this.posX+this.margin[3],-Qe+Bt+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=it}var ot=JSON.parse(JSON.stringify(xt));ot=m([ot],this.posX+this.margin[3],-Qe+Bt+this.ctx.prevPageLastElemOffset)[0];var Ve=(Qt>Gt||Qt<Wt)&&C.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],hr,Ht,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,ke),Ve&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,ke)};var I=function(k,q,z){var G=[];q=q||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+Z)/z)+1);break;case"arc":G.push(Math.floor((k.y+Z-k.radius)/z)+1),G.push(Math.floor((k.y+Z+k.radius)/z)+1);break;case"qct":var ue=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((ue.y+Z)/z)+1),G.push(Math.floor((ue.y+ue.h+Z)/z)+1);break;case"bct":var re=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((re.y+Z)/z)+1),G.push(Math.floor((re.y+re.h+Z)/z)+1);break;case"rect":G.push(Math.floor((k.y+Z)/z)+1),G.push(Math.floor((k.y+k.h+Z)/z)+1)}for(var ie=0;ie<G.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<G[ie];)p.call(this);return G},p=function(){var k=this.fillStyle,q=this.strokeStyle,z=this.font,G=this.lineCap,Z=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=q,this.font=z,this.lineCap=G,this.lineWidth=Z,this.lineJoin=ue},m=function(k,q,z){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=q,k[G].y2+=z;case"qct":k[G].x1+=q,k[G].y1+=z;default:k[G].x+=q,k[G].y+=z}return k},v=function(k){return k.sort(function(q,z){return q-z})},y=function(k,q){for(var z,G,Z=this.fillStyle,ue=this.strokeStyle,re=this.lineCap,ie=this.lineWidth,Ce=Math.abs(ie*this.ctx.transform.scaleX),Pe=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Te=[],se=0;se<He.length;se++)if(He[se].x!==void 0)for(var Ct=I.call(this,He[se]),Re=0;Re<Ct.length;Re+=1)Te.indexOf(Ct[Re])===-1&&Te.push(Ct[Re]);for(var ke=0;ke<Te.length;ke++)for(;this.pdf.internal.getNumberOfPages()<Te[ke];)p.call(this);if(v(Te),this.autoPaging)for(var Ye=Te[0],xt=Te[Te.length-1],ft=Ye;ft<xt+1;ft++){this.pdf.setPage(ft),this.fillStyle=Z,this.strokeStyle=ue,this.lineCap=re,this.lineWidth=Ce,this.lineJoin=Pe;var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ft===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qt=ft===1?0:Gt+(ft-2)*Wt;if(this.ctx.clip_path.length!==0){var hr=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(z,this.posX+this.margin[3],-Qt+bt+this.ctx.prevPageLastElemOffset),x.call(this,k,!0),this.path=hr}if(G=JSON.parse(JSON.stringify(Fe)),this.path=m(G,this.posX+this.margin[3],-Qt+bt+this.ctx.prevPageLastElemOffset),q===!1||ft===0){var Bt=(ft>Ye||ft<xt)&&C.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Wt,null).clip().discardPath()),x.call(this,k,q),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=Ce,x.call(this,k,q),this.lineWidth=ie;this.path=Fe},x=function(k,q){if((k!=="stroke"||q||!A.call(this))&&(k==="stroke"||q||!h.call(this))){for(var z,G,Z=[],ue=this.path,re=0;re<ue.length;re++){var ie=ue[re];switch(ie.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ie,deltas:[],abs:[]});break;case"lt":var Ce=Z.length;if(ue[re-1]&&!isNaN(ue[re-1].x)&&(z=[ie.x-ue[re-1].x,ie.y-ue[re-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Z[Ce-1].close!==!0&&Z[Ce-1].begin!==!0){Z[Ce-1].deltas.push(z),Z[Ce-1].abs.push(ie);break}}break;case"bct":z=[ie.x1-ue[re-1].x,ie.y1-ue[re-1].y,ie.x2-ue[re-1].x,ie.y2-ue[re-1].y,ie.x-ue[re-1].x,ie.y-ue[re-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var Pe=ue[re-1].x+2/3*(ie.x1-ue[re-1].x),Fe=ue[re-1].y+2/3*(ie.y1-ue[re-1].y),He=ie.x+2/3*(ie.x1-ie.x),Te=ie.y+2/3*(ie.y1-ie.y),se=ie.x,Ct=ie.y;z=[Pe-ue[re-1].x,Fe-ue[re-1].y,He-ue[re-1].x,Te-ue[re-1].y,se-ue[re-1].x,Ct-ue[re-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ie)}}G=q?null:k==="stroke"?"stroke":"fill";for(var Re=!1,ke=0;ke<Z.length;ke++)if(Z[ke].arc)for(var Ye=Z[ke].abs,xt=0;xt<Ye.length;xt++){var ft=Ye[xt];ft.type==="arc"?_.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,q,!Re):N.call(this,ft.x,ft.y),Re=!0}else if(Z[ke].close===!0)this.pdf.internal.out("h"),Re=!1;else if(Z[ke].begin!==!0){var $t=Z[ke].start.x,bt=Z[ke].start.y;P.call(this,Z[ke].deltas,$t,bt),Re=!0}G&&S.call(this,G),q&&j.call(this)}},T=function(k){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-z;case"top":return k+q-z;case"hanging":return k+q-2*z;case"middle":return k+q/2-z;default:return k}},E=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(q,z){this.colorStops.push([q,z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(k,q,z,G,Z,ue,re,ie,Ce){for(var Pe=B.call(this,z,G,Z,ue),Fe=0;Fe<Pe.length;Fe++){var He=Pe[Fe];Fe===0&&(Ce?w.call(this,He.x1+k,He.y1+q):N.call(this,He.x1+k,He.y1+q)),M.call(this,k,q,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ie?j.call(this):S.call(this,re)},S=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},w=function(k,q){this.pdf.internal.out(r(k)+" "+n(q)+" m")},R=function(k){var q;switch(k.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var z=this.pdf.getTextDimensions(k.text),G=T.call(this,k.y),Z=E.call(this,G)-z.h,ue=this.ctx.transform.applyToPoint(new o(k.x,G)),re=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var Ce,Pe,Fe,He=this.ctx.transform.applyToRectangle(new a(k.x,G,z.w,z.h)),Te=ie.applyToRectangle(new a(k.x,Z,z.w,z.h)),se=I.call(this,Te),Ct=[],Re=0;Re<se.length;Re+=1)Ct.indexOf(se[Re])===-1&&Ct.push(se[Re]);if(v(Ct),this.autoPaging)for(var ke=Ct[0],Ye=Ct[Ct.length-1],xt=ke;xt<Ye+1;xt++){this.pdf.setPage(xt);var ft=xt===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Gt=bt-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],Qt=Wt-this.margin[3],hr=xt===1?0:$t+(xt-2)*Gt;if(this.ctx.clip_path.length!==0){var Bt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(Ce,this.posX+this.margin[3],-1*hr+ft),x.call(this,"fill",!0),this.path=Bt}var Ft=m([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-hr+ft+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*k.scale),Fe=this.lineWidth,this.lineWidth=Fe*k.scale);var Ht=this.autoPaging!=="text";if(Ht||Ft.y+Ft.h<=bt){if(Ht||Ft.y>=ft&&Ft.x<=Wt){var Qe=Ht?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Wt-Ft.x)[0],it=m([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-hr+ft+this.ctx.prevPageLastElemOffset)[0],ot=Ht&&(xt>ke||xt<Ye)&&C.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Gt,null).clip().discardPath()),this.pdf.text(Qe,it.x,it.y,{angle:k.angle,align:q,renderingMode:k.renderingMode}),ot&&this.pdf.restoreGraphicsState()}}else Ft.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-Ft.y);k.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Fe)}else k.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*k.scale),Fe=this.lineWidth,this.lineWidth=Fe*k.scale),this.pdf.text(k.text,ue.x+this.posX,ue.y+this.posY,{angle:k.angle,align:q,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Fe)},N=function(k,q,z,G){z=z||0,G=G||0,this.pdf.internal.out(r(k+z)+" "+n(q+G)+" l")},P=function(k,q,z){return this.pdf.lines(k,q,z,null,null)},M=function(k,q,z,G,Z,ue,re,ie){this.pdf.internal.out([e(i(z+k)),e(s(G+q)),e(i(Z+k)),e(s(ue+q)),e(i(re+k)),e(s(ie+q)),"c"].join(" "))},B=function(k,q,z,G){for(var Z=2*Math.PI,ue=Math.PI/2;q>z;)q-=Z;var re=Math.abs(z-q);re<Z&&G&&(re=Z-re);for(var ie=[],Ce=G?-1:1,Pe=q;re>1e-5;){var Fe=Pe+Ce*Math.min(re,ue);ie.push(W.call(this,k,Pe,Fe)),re-=Math.abs(Fe-Pe),Pe=Fe}return ie},W=function(k,q,z){var G=(z-q)/2,Z=k*Math.cos(G),ue=k*Math.sin(G),re=Z,ie=-ue,Ce=re*re+ie*ie,Pe=Ce+re*Z+ie*ue,Fe=4/3*(Math.sqrt(2*Ce*Pe)-Pe)/(re*ue-ie*Z),He=re-Fe*ie,Te=ie+Fe*re,se=He,Ct=-Te,Re=G+q,ke=Math.cos(Re),Ye=Math.sin(Re);return{x1:k*Math.cos(q),y1:k*Math.sin(q),x2:He*ke-Te*Ye,y2:He*Ye+Te*ke,x3:se*ke-Ct*Ye,y3:se*Ye+Ct*ke,x4:k*Math.cos(z),y4:k*Math.sin(z)}},H=function(k){return 180*k/Math.PI},V=function(k,q,z,G,Z,ue){var re=k+.5*(z-k),ie=q+.5*(G-q),Ce=Z+.5*(z-Z),Pe=ue+.5*(G-ue),Fe=Math.min(k,Z,re,Ce),He=Math.max(k,Z,re,Ce),Te=Math.min(q,ue,ie,Pe),se=Math.max(q,ue,ie,Pe);return new a(Fe,Te,He-Fe,se-Te)},K=function(k,q,z,G,Z,ue,re,ie){var Ce,Pe,Fe,He,Te,se,Ct,Re,ke,Ye,xt,ft,$t,bt,Gt=z-k,Wt=G-q,Qt=Z-z,hr=ue-G,Bt=re-Z,Ft=ie-ue;for(Pe=0;Pe<41;Pe++)ke=(Ct=(Fe=k+(Ce=Pe/40)*Gt)+Ce*((Te=z+Ce*Qt)-Fe))+Ce*(Te+Ce*(Z+Ce*Bt-Te)-Ct),Ye=(Re=(He=q+Ce*Wt)+Ce*((se=G+Ce*hr)-He))+Ce*(se+Ce*(ue+Ce*Ft-se)-Re),Pe==0?(xt=ke,ft=Ye,$t=ke,bt=Ye):(xt=Math.min(xt,ke),ft=Math.min(ft,Ye),$t=Math.max($t,ke),bt=Math.max(bt,Ye));return new a(Math.round(xt),Math.round(ft),Math.round($t-xt),Math.round(bt-ft))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,q,z=(k=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:q}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(sr.API),function(t){var e=function(o){var a,l,u,g,d,f,h,A,C,I;for(l=[],u=0,g=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;g>u;u+=4)(d=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(f=(d=((d=((d=((d=(d-(I=d%85))/85)-(C=d%85))/85)-(A=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,A+33,C+33,I+33)):l.push(122);return function(p,m){for(var v=m;v>0;v--)p.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,u,g,d,f=String,h="length",A=255,C="charCodeAt",I="slice",p="replace";for(o[I](-2),o=o[I](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),u=[],g=0,d=(o+=a="uuuuu"[I](o[h]%5||5))[h];d>g;g+=5)l=52200625*(o[C](g)-33)+614125*(o[C](g+1)-33)+7225*(o[C](g+2)-33)+85*(o[C](g+3)-33)+(o[C](g+4)-33),u.push(A&l>>24,A&l>>16,A&l>>8,A&l);return function(m,v){for(var y=v;y>0;y--)m.pop()}(u,a[h]),f.fromCharCode.apply(f,u)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=_z(a)).reduce(function(u,g){return u+String.fromCharCode(g)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",g=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:g.reverse().join(" ")}}}(sr.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,g){var d=new XMLHttpRequest,f=0,h=function(A){var C=A.length,I=[],p=String.fromCharCode;for(f=0;f<C;f+=1)I.push(p(255&A.charCodeAt(f)));return I.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?g(h(this.responseText)):g(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(i,s,o)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(sr.API),function(t){function e(){return(br.html2canvas?Promise.resolve(br.html2canvas):bT(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(br.DOMPurify?Promise.resolve(br.DOMPurify):bT(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Un(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var g in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[g]=l.style[g];return u},s=function a(l,u){for(var g=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||g.appendChild(a(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(g.width=l.width,g.height=l.height,g.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(g.value=l.value),g.addEventListener("load",function(){g.scrollTop=l.scrollTop,g.scrollLeft=l.scrollLeft},!0)),g},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),g=a.convert(Promise.resolve(),u);return(g=g.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,g=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=g,g)for(var h=0;h<g.length;++h){var A=g[h],C=A.src.find(function(I){return I.format==="truetype"});C&&u.addFont(C.url,A.ref.name,A.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,g){return Math.floor(u*g/72*96)}return this.then(function(){(a=a||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,g){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,g){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,g?this.progress.stack.concat(g):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(g,d){return u.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,g),f}).then(g,d).then(function(f){return u.updateProgress(1),f})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var g=this;a&&(a=a.bind(g)),l&&(l=l.bind(g));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:o.convert(Object.assign({},g),Promise.prototype),f=u.call(d,a,l);return o.convert(f,g.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,sr.getPageSize=function(a,l,u){if(Un(a)==="object"){var g=a;a=g.orientation,l=g.unit||l,u=g.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,f=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var A,C=0,I=0;if(h.hasOwnProperty(f))C=h[f][1]/d,I=h[f][0]/d;else try{C=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",I>C&&(A=I,I=C,C=A);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",C>I&&(A=I,I=C,C=A)}return{width:I,height:C,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(qT):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(sr.API),sr.API.addJS=function(t){return TY=t,this.internal.events.subscribe("postPutResources",function(){wb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_Y=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+TY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wb!==void 0&&_Y!==void 0&&this.internal.out("/Names <</JavaScript "+wb+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,g=[];for(s=0;s<u;s++){var d=r.internal.newObject();g.push(d);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<g.length;s++)r.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(sr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,a){var l,u=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),A=d.length,C={width:0,height:0,numcomponents:1},I=4;I<A;I+=2){if(I+=h,e.indexOf(d.charCodeAt(I+1))!==-1){f=256*d.charCodeAt(I+5)+d.charCodeAt(I+6),C={width:256*d.charCodeAt(I+7)+d.charCodeAt(I+8),height:f,numcomponents:d.charCodeAt(I+9)};break}h=256*d.charCodeAt(I+2)+d.charCodeAt(I+3)}return C}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}g={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:n,alias:i}}return g}}(sr.API),sr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=z9e(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,g=s.depth;i=u&&l===1?function(_){for(var S=_.width,j=_.height,w=_.data,R=_.palette,N=_.depth,P=!1,M=[],B=[],W=void 0,H=!1,V=0,K=0;K<R.length;K++){var Y=GV(R[K],4),k=Y[0],q=Y[1],z=Y[2],G=Y[3];M.push(k,q,z),G!=null&&(G===0?(V++,B.length<1&&B.push(K)):G<255&&(H=!0))}if(H||V>1){P=!0,B=void 0;var Z=S*j;W=new Uint8Array(Z);for(var ue=new DataView(w.buffer),re=0;re<Z;re++){var ie=UT(ue,re,N),Ce=GV(R[ie],4)[3];W[re]=Ce}}else V===0&&(B=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:w,alphaBytes:W,needSMask:P,palette:M,mask:B}}(s):l===2||l===4?function(_){for(var S=_.data,j=_.width,w=_.height,R=_.channels,N=_.depth,P=R===2?"DeviceGray":"DeviceRGB",M=R-1,B=j*w,W=M,H=B*W,V=1*B,K=Math.ceil(H*N/8),Y=Math.ceil(V*N/8),k=new Uint8Array(K),q=new Uint8Array(Y),z=new DataView(S.buffer),G=new DataView(k.buffer),Z=new DataView(q.buffer),ue=!1,re=0;re<B;re++){for(var ie=re*R,Ce=0;Ce<W;Ce++)LY(G,UT(z,ie+Ce,N),re*W+Ce,N);var Pe=UT(z,ie+W,N);Pe<(1<<N)-1&&(ue=!0),LY(Z,Pe,1*re,N)}return{colorSpace:P,colorsPerPixel:M,sMaskBitsPerComponent:ue?N:void 0,colorBytes:k,alphaBytes:q,needSMask:ue}}(s):function(_){var S=_.data,j=_.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:S instanceof Uint16Array?function(w){for(var R=w.length,N=new Uint8Array(2*R),P=new DataView(N.buffer,N.byteOffset,N.byteLength),M=0;M<R;M++)P.setUint16(2*M,w[M],!1);return N}(S):S,needSMask:!1}}(s);var d,f,h,A=i,C=A.colorSpace,I=A.colorsPerPixel,p=A.sMaskBitsPerComponent,m=A.colorBytes,v=A.alphaBytes,y=A.needSMask,x=A.palette,T=A.mask,E=null;return n!==sr.API.image_compression.NONE&&typeof _z=="function"?(E=function(_){var S;switch(_){case sr.API.image_compression.FAST:S=11;break;case sr.API.image_compression.MEDIUM:S=13;break;case sr.API.image_compression.SLOW:S=14;break;default:S=12}return S}(n),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(E," /Colors ").concat(I," /BitsPerComponent ").concat(g," /Columns ").concat(o),t=jY(m,Math.ceil(o*I*g/8),I,g,n),y&&(h=jY(v,Math.ceil(o*p/8),1,p,n))):(d=void 0,f=void 0,t=m,y&&(h=v)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:d,decodeParameters:f,transparency:T,palette:x,sMask:h,predictor:E,width:o,height:a,bitsPerComponent:g,sMaskBitsPerComponent:p,colorSpace:C}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new cWe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},g=new WT(100).encode(u,100);return t.processJPEG.call(this,g,r,n,i)},t.processGIF87A=t.processGIF89A}(sr.API),Ic.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ic.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){$n.log("bit decode error:"+r)}},Ic.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Ic.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ic.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ic.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,g=n*this.width*4+4*i;this.data[g]=l,this.data[g+1]=a,this.data[g+2]=o,this.data[g+3]=u}this.pos+=t}},Ic.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,g=i*this.width*4+4*s;this.data[g]=u,this.data[g+1]=l,this.data[g+2]=a,this.data[g+3]=255}this.pos+=t}},Ic.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ic.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},Ic.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Ic(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new WT(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(sr.API),BY.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new BY(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new WT(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(sr.API),sr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var g=n[u],d=n[u+1],f=n[u+2],h=n[u+3];s[a++]=g,s[a++]=d,s[a++]=f,o[l++]=h}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hI=sr.API,Sb=hI.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,h=t.length,A=0,C=a[0]||l,I=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(f=d&&Un(u[n])==="object"&&!isNaN(parseInt(u[n][A],10))?u[n][A]/g:0,I.push((a[n]||C)/l+f)),A=n;return I},RY=hI.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return hI.processArabic&&(t=hI.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Sb.apply(this,arguments).reduce(function(s,o){return s+o},0)},NY=function(t,e,r,n){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},OY=function(t,e,r){r||(r={});var n,i,s,o,a,l,u,g=[],d=[g],f=r.textIndent||0,h=0,A=0,C=t.split(" "),I=Sb.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?C[0].length+2:r.lineIndent||0){var p=Array(l).join(" "),m=[];C.map(function(y){(y=y.split(/\s*\n/)).length>1?m=m.concat(y.map(function(x,T){return(T&&x.length?`
`:"")+x})):m.push(y[0])}),C=m,l=RY.apply(this,[p,r])}for(s=0,o=C.length;s<o;s++){var v=0;if(n=C[s],l&&n[0]==`
`&&(n=n.substr(1),v=1),f+h+(A=(i=Sb.apply(this,[n,r])).reduce(function(y,x){return y+x},0))>e||v){if(A>e){for(a=NY.apply(this,[n,i,e-(f+h),e]),g.push(a.shift()),g=[a.pop()];a.length;)d.push([a.shift()]);A=i.slice(n.length-(g[0]?g[0].length:0)).reduce(function(y,x){return y+x},0)}else g=[n];d.push(g),f=A+l,h=I}else g.push(n),f+=h+A,h=I}return u=l?function(y,x){return(x?p:"")+y.join(" ")}:function(y){return y.join(" ")},d.map(u)},hI.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var d=this.internal.getFont(g.fontName,g.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,u=[];for(a=0,l=n.length;a<l;a++)u=u.concat(OY.apply(this,[n[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var o=function(f){return"0x"+parseInt(f,10).toString(16)},a=t.__fontmetrics__.compress=function(f){var h,A,C,I,p=["{"];for(var m in f){if(h=f[m],isNaN(parseInt(m,10))?A="'"+m+"'":(m=parseInt(m,10),A=(A=o(m).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof h=="number")h<0?(C=o(h).slice(3),I="-"):(C=o(h).slice(2),I=""),C=I+C.slice(0,-1)+i[C.slice(-1)];else{if(Un(h)!=="object")throw new Error("Don't know what to do with value type "+Un(h)+".");C=a(h)}p.push(A+C)}return p.push("}"),p.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,A,C,I,p={},m=1,v=p,y=[],x="",T="",E=f.length-1,_=1;_<E;_+=1)(I=f[_])=="'"?h?(C=h.join(""),h=void 0):h=[]:h?h.push(I):I=="{"?(y.push([v,C]),v={},C=void 0):I=="}"?((A=y.pop())[0][A[1]]=v,C=void 0,v=A[0]):I=="-"?m=-1:C===void 0?n.hasOwnProperty(I)?(x+=n[I],C=parseInt(x,16)*m,m=1,x=""):x+=I:n.hasOwnProperty(I)?(T+=n[I],v[C]=parseInt(T,16)*m,m=1,C=void 0,T=""):T+=I;return p},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,A=d.Unicode[h.postScriptName];A&&(h.metadata.Unicode={},h.metadata.Unicode.widths=A.widths,h.metadata.Unicode.kerning=A.kerning);var C=g.Unicode[h.postScriptName];C&&(h.metadata.Unicode.encoding=C,h.encoding=C.codePages[0])}])}(sr.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(ww(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(sr),sr.API.addSvgAsImage=function(t,e,r,n,i,s,o,a){if(isNaN(e)||isNaN(r))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(br.canvg?Promise.resolve(br.canvg):bT(()=>import("./index.es-DyTLDWzH.js"),__vite__mapDeps([0,1,2]))).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(u,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(g)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,o,a)})},sr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},sr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,g=0,d=0;function f(A,C){var I,p=!1;for(I=0;I<A.length;I+=1)A[I]===C&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(d=0;d<h;d+=1)r[a[d]].value=r[a[d]].defaultValue,r[a[d]].explicitSet=!1}if(Un(t)==="object"){for(i in t)if(s=t[i],f(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(g=0;g<s[u].length;g+=1)typeof s[u][g]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,C=[];for(A in r)r[A].explicitSet===!0&&(r[A].type==="name"?C.push("/"+A+" /"+r[A].value):C.push("/"+A+" "+r[A].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(sr.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],g=[""],d=0,f=s.length;d<f;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return g.join("");a=a.toString(16),g.push(u[4-a.length],a)}return g.join("")},n=function(s){var o,a,l,u,g,d,f;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(a=Object.keys(s).sort(function(h,A){return h-A})).length;d<f;d++)o=a[d],l.length>=100&&(g+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(g+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,g=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",A=0;A<f.length;A++)h+=String.fromCharCode(f[A]);var C=u();g({data:h,addLength1:!0,objectId:C}),l("endobj");var I=u();g({data:n(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var p=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+LI(a.fontName)),l("/FontFile2 "+C+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var m=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+LI(a.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+LI(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+m+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,g=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var A=u();g({data:f,addLength1:!0,objectId:A}),l("endobj");var C=u();g({data:n(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var I=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+LI(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var p=0;p<a.metadata.hmtx.widths.length;p++)a.metadata.hmtx.widths[p]=parseInt(a.metadata.hmtx.widths[p]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+LI(a.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,g=s.options||{},d=s.mutex||{},f=d.pdfEscape,h=d.activeFontKey,A=d.fonts,C=h,I="",p=0,m="",v=A[C].encoding;if(A[C].encoding!=="Identity-H")return{text:a,x:l,y:u,options:g,mutex:d};for(m=a,C=h,Array.isArray(a)&&(m=a[0]),p=0;p<m.length;p+=1)A[C].metadata.hasOwnProperty("cmap")&&(o=A[C].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),o||m[p].charCodeAt(0)<256&&A[C].metadata.hasOwnProperty("Unicode")?I+=m[p]:I+="";var y="";return parseInt(C.slice(1))<14||v==="WinAnsiEncoding"?y=f(I,C).split("").map(function(x){return x.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(y=r(I,A[C])),d.isHex=!0,{text:y,x:l,y:u,options:g,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(sr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(sr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,a,l,u,g,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(w){var R=w.charCodeAt(),N=R>>8,P=C[N];return P!==void 0?d[256*P+(255&R)]:N===252||N===253?"AL":p.test(N)?"L":N===8?"R":"N"},x=function(w){for(var R,N=0;N<w.length;N++){if((R=y(w.charAt(N)))==="L")return!1;if(R==="R")return!0}return!1},T=function(w,R,N,P){var M,B,W,H,V=R[P];switch(V){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"N":case"AN":break;case"EN":m&&(V="AN");break;case"AL":m=!0,V="R";break;case"WS":case"BN":V="N";break;case"CS":P<1||P+1>=R.length||(M=N[P-1])!=="EN"&&M!=="AN"||(B=R[P+1])!=="EN"&&B!=="AN"?V="N":m&&(B="AN"),V=B===M?B:"N";break;case"ES":V=(M=P>0?N[P-1]:"B")==="EN"&&P+1<R.length&&R[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&N[P-1]==="EN"){V="EN";break}if(m){V="N";break}for(W=P+1,H=R.length;W<H&&R[W]==="ET";)W++;V=W<H&&R[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=R.length,W=P+1;W<H&&R[W]==="NSM";)W++;if(W<H){var K=w[P],Y=K>=1425&&K<=2303||K===64286;if(M=R[W],Y&&(M==="R"||M==="AL")){V="R";break}}}V=P<1||(M=R[P-1])==="B"?"N":N[P-1];break;case"B":m=!1,i=!0,V=v;break;case"S":s=!0,V="N"}return V},E=function(w,R,N){var P=w.split("");return N&&_(P,N,{hiLevel:v}),P.reverse(),R&&R.reverse(),P.join("")},_=function(w,R,N){var P,M,B,W,H,V=-1,K=w.length,Y=0,k=[],q=v?h:f,z=[];for(m=!1,i=!1,s=!1,M=0;M<K;M++)z[M]=y(w[M]);for(B=0;B<K;B++){if(H=Y,k[B]=T(w,z,k,B),P=240&(Y=q[H][A[k[B]]]),Y&=15,R[B]=W=q[Y][5],P>0)if(P===16){for(M=V;M<B;M++)R[M]=1;V=-1}else V=-1;if(q[Y][6])V===-1&&(V=B);else if(V>-1){for(M=V;M<B;M++)R[M]=W;V=-1}z[B]==="B"&&(R[B]=0),N.hiLevel|=W}s&&function(G,Z,ue){for(var re=0;re<ue;re++)if(G[re]==="S"){Z[re]=v;for(var ie=re-1;ie>=0&&G[ie]==="WS";ie--)Z[ie]=v}}(z,R,K)},S=function(w,R,N,P,M){if(!(M.hiLevel<w)){if(w===1&&v===1&&!i)return R.reverse(),void(N&&N.reverse());for(var B,W,H,V,K=R.length,Y=0;Y<K;){if(P[Y]>=w){for(H=Y+1;H<K&&P[H]>=w;)H++;for(V=Y,W=H-1;V<W;V++,W--)B=R[V],R[V]=R[W],R[W]=B,N&&(B=N[V],N[V]=N[W],N[W]=B);Y=H}Y++}}},j=function(w,R,N){var P=w.split(""),M={hiLevel:v};return N||(N=[]),_(P,N,M),function(B,W,H){if(H.hiLevel!==0&&g)for(var V,K=0;K<B.length;K++)W[K]===1&&(V=I.indexOf(B[K]))>=0&&(B[K]=I[V+1])}(P,N,M),S(2,P,R,N,M),S(1,P,R,N,M),P.join("")};return this.__bidiEngine__.doBidiReorder=function(w,R,N){if(function(M,B){if(B)for(var W=0;W<M.length;W++)B[W]=W;a===void 0&&(a=x(M)),u===void 0&&(u=x(M))}(w,R),o||!l||u)if(o&&l&&a^u)v=a?1:0,w=E(w,R,N);else if(!o&&l&&u)v=a?1:0,w=j(w,R,N),w=E(w,R);else if(!o||a||l||u){if(o&&!l&&a^u)w=E(w,R),a?(v=0,w=j(w,R,N)):(v=1,w=j(w,R,N),w=E(w,R));else if(o&&a&&!l&&u)v=1,w=j(w,R,N),w=E(w,R);else if(!o&&!l&&a^u){var P=g;a?(v=1,w=j(w,R,N),v=0,g=!1,w=j(w,R,N),g=P):(v=0,w=j(w,R,N),w=E(w,R),v=1,g=!1,w=j(w,R,N),g=P,w=E(w,R))}}else v=0,w=j(w,R,N);else v=a?1:0,w=j(w,R,N);return w},this.__bidiEngine__.setOptions=function(w){w&&(o=w.isInputVisual,l=w.isOutputVisual,a=w.isInputRtl,u=w.isOutputRtl,g=w.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(sr),sr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Jh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wWe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uWe(this.contents),this.head=new dWe(this),this.name=new IWe(this),this.cmap=new M2e(this),this.toUnicode={},this.hhea=new hWe(this),this.maxp=new pWe(this),this.hmtx=new mWe(this),this.post=new AWe(this),this.os2=new fWe(this),this.loca=new bWe(this),this.glyf=new vWe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var eu,Jh=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),uWe=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,a,l,u,g,d,f,h,A,C;for(C in h=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),o=Math.floor(d/l),g=16*h-d,(i=new Jh).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(o),i.writeShort(g),s=16*h,u=i.pos+s,a=null,A=[],r)for(f=r[C],i.writeString(C),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),A=A.concat(f),C==="head"&&(a=u),u+=f.length;u%4;)A.push(0),u++;return i.write(A),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=B2e.call(r);r.length%4;)r.push(0);for(s=new Jh(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),gWe={}.hasOwnProperty,Zu=function(t,e){for(var r in e)gWe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};eu=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var dWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Jh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),$Y=function(){function t(e,r){var n,i,s,o,a,l,u,g,d,f,h,A,C,I,p,m,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=function(){var y,x;for(x=[],l=y=0;0<=f?y<f:y>f;l=0<=f?++y:--y)x.push(e.readUInt16());return x}(),e.pos+=2,C=function(){var y,x;for(x=[],l=y=0;0<=f?y<f:y>f;l=0<=f?++y:--y)x.push(e.readUInt16());return x}(),u=function(){var y,x;for(x=[],l=y=0;0<=f?y<f:y>f;l=0<=f?++y:--y)x.push(e.readUInt16());return x}(),g=function(){var y,x;for(x=[],l=y=0;0<=f?y<f:y>f;l=0<=f?++y:--y)x.push(e.readUInt16());return x}(),i=(this.length-e.pos+this.offset)/2,a=function(){var y,x;for(x=[],l=y=0;0<=i?y<i:y>i;l=0<=i?++y:--y)x.push(e.readUInt16());return x}(),l=p=0,v=s.length;p<v;l=++p)for(I=s[l],n=m=A=C[l];A<=I?m<=I:m>=I;n=A<=I?++m:--m)g[l]===0?o=n+u[l]:(o=a[g[l]/2+(n-A)-(f-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}e.pos=d}return t.encode=function(e,r){var n,i,s,o,a,l,u,g,d,f,h,A,C,I,p,m,v,y,x,T,E,_,S,j,w,R,N,P,M,B,W,H,V,K,Y,k,q,z,G,Z,ue,re,ie,Ce,Pe,Fe;switch(P=new Jh,o=Object.keys(e).sort(function(He,Te){return He-Te}),r){case"macroman":for(C=0,I=function(){var He=[];for(A=0;A<256;++A)He.push(0);return He}(),m={0:0},s={},M=0,V=o.length;M<V;M++)m[ie=e[i=o[M]]]==null&&(m[ie]=++C),s[i]={old:e[i],new:m[e[i]]},I[i]=m[e[i]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(I),{charMap:s,subtable:P.data,maxGlyphID:C+1};case"unicode":for(R=[],d=[],v=0,m={},n={},p=u=null,B=0,K=o.length;B<K;B++)m[x=e[i=o[B]]]==null&&(m[x]=++v),n[i]={old:x,new:m[x]},a=m[x]-i,p!=null&&a===u||(p&&d.push(p),R.push(i),u=a),p=i;for(p&&d.push(p),d.push(65535),R.push(65535),j=2*(S=R.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),f=Math.log(_/2)/Math.LN2,E=2*S-_,l=[],T=[],h=[],A=W=0,Y=R.length;W<Y;A=++W){if(w=R[A],g=d[A],w===65535){l.push(0),T.push(0);break}if(w-(N=n[w].new)>=32768)for(l.push(0),T.push(2*(h.length+S-A)),i=H=w;w<=g?H<=g:H>=g;i=w<=g?++H:--H)h.push(n[i].new);else l.push(N-w),T.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*S+2*h.length),P.writeUInt16(0),P.writeUInt16(j),P.writeUInt16(_),P.writeUInt16(f),P.writeUInt16(E),ue=0,k=d.length;ue<k;ue++)i=d[ue],P.writeUInt16(i);for(P.writeUInt16(0),re=0,q=R.length;re<q;re++)i=R[re],P.writeUInt16(i);for(Ce=0,z=l.length;Ce<z;Ce++)a=l[Ce],P.writeUInt16(a);for(Pe=0,G=T.length;Pe<G;Pe++)y=T[Pe],P.writeUInt16(y);for(Fe=0,Z=h.length;Fe<Z;Fe++)C=h[Fe],P.writeUInt16(C);return{charMap:n,subtable:P.data,maxGlyphID:v+1}}},t}(),M2e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new $Y(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=$Y.encode(e,r),(i=new Jh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),hWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),fWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),AWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),CWe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},IWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,o,a,l,u,g,d,f;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=g=0,d=n.length;g<d;s=++g)i=n[s],e.pos=i.offset,u=e.readString(i.length),o=new CWe(u,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),pWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),mWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,g;for(g=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)g.push(e.readInt16());return g}(),this.widths=(function(){var u,g,d,f;for(f=[],u=0,g=(d=this.metrics).length;u<g;u++)s=d[u],f.push(s.advance);return f}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),B2e=[].slice,vWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,o,a,l,u,g,d;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(a=new Jh(r.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),g=a.readShort(),this.cache[e]=o===-1?new xWe(a,u,d,l,g):new yWe(a,o,u,d,l,g),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,o,a,l;for(o=[],s=[],a=0,l=r.length;a<l;a++)i=e[r[a]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},t}(),yWe=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),xWe=function(){function t(e,r,n,i,s){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Jh(B2e.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),bWe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zu(t,eu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*n.length),g=0;g<n.length;++g)u[4*g+3]=255&n[g],u[4*g+2]=(65280&n[g])>>8,u[4*g+1]=(16711680&n[g])>>16,u[4*g]=(4278190080&n[g])>>24;return u},t}(),wWe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,a,l,u,g,d,f,h,A,C,I,p;for(i in n=M2e.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},p=n.charMap)h[(l=p[i]).old]=l.new;for(A in f=n.maxGlyphID,o)A in h||(h[A]=f++);return g=function(m){var v,y;for(v in y={},m)y[m[v]]=v;return y}(h),d=Object.keys(g).sort(function(m,v){return m-v}),C=function(){var m,v,y;for(y=[],m=0,v=d.length;m<v;m++)a=d[m],y.push(g[a]);return y}(),s=this.font.glyf.encode(o,C,h),u=this.font.loca.encode(s.offsets,C),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},t}();sr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,u;for(u=[],a=0,l=r.length;a<l;a++)n=r[a],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();function $2e(t,e,r,n,i){n=n||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,g=/\r\n|\r|\n/g,d="",f=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof t=="string"?t.split(g):t,f=d.length||1),r+=a*(2-s),n.valign==="middle"?r-=f/2*u:n.valign==="bottom"&&(r-=f*u),n.halign==="center"||n.halign==="right"){var h=a;if(n.halign==="center"&&(h*=.5),d&&f>=1){for(var A=0;A<d.length;A++)i.text(d[A],e-i.getStringUnitWidth(d[A])*h,r),r+=u;return i}e-=i.getStringUnitWidth(t)*h}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var qY={},gp=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:qY=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var g=t.unifyColor(e.fillColor);g&&(n=this.jsPDFDocument).setFillColor.apply(n,g),g=t.unifyColor(e.textColor),g&&(i=this.jsPDFDocument).setTextColor.apply(i,g),g=t.unifyColor(e.lineColor),g&&(s=this.jsPDFDocument).setDrawColor.apply(s,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return qY||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Dz=function(t,e){return Dz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Dz(t,e)};function q2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dz(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z2e=function(t){q2e(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function SWe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function EWe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function v2(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function U2e(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=W2e(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function W2e(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function GS(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function G2e(t,e){var r=GS(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function _We(t,e,r,n,i){var s={},o=1.3333333333333333,a=GT(e,function(v){return i.getComputedStyle(v).backgroundColor});a!=null&&(s.fillColor=a);var l=GT(e,function(v){return i.getComputedStyle(v).color});l!=null&&(s.textColor=l);var u=RWe(n,r);u&&(s.cellPadding=u);var g="borderTopColor",d=o*r,f=n.borderTopWidth;if(n.borderBottomWidth===f&&n.borderRightWidth===f&&n.borderLeftWidth===f){var h=(parseFloat(f)||0)/d;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?g="borderRightColor":s.lineWidth.bottom?g="borderBottomColor":s.lineWidth.left&&(g="borderLeftColor"));var A=GT(e,function(v){return i.getComputedStyle(v)[g]});A!=null&&(s.lineColor=A);var C=["left","right","center","justify"];C.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),C=["middle","bottom","top"],C.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var I=parseInt(n.fontSize||"");isNaN(I)||(s.fontSize=I/o);var p=TWe(n);p&&(s.fontStyle=p);var m=(n.fontFamily||"").toLowerCase();return t.indexOf(m)!==-1&&(s.font=m),s}function TWe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function GT(t,e){var r=V2e(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function V2e(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:V2e(t.parentElement,e):r}function RWe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(a){return parseInt(a||"0")/n}),o=GS(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function H2e(t,e,r,n,i){var s,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=r.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),g=[],d=[],f=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:g,body:d,foot:f};for(var h=0;h<a.rows.length;h++){var A=a.rows[h],C=(o=(s=A==null?void 0:A.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),I=NWe(l,u,r,A,n,i);I&&(C==="thead"?g.push(I):C==="tfoot"?f.push(I):d.push(I))}return{head:g,body:d,foot:f}}function NWe(t,e,r,n,i,s){for(var o=new z2e(n),a=0;a<n.cells.length;a++){var l=n.cells[a],u=r.getComputedStyle(l);if(i||u.display!=="none"){var g=void 0;s&&(g=_We(t,l,e,u,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:g,_element:l,content:OWe(l)})}}var d=r.getComputedStyle(n);if(o.length>0&&(i||d.display!=="none"))return o}function OWe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function jWe(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function zg(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function K2e(t,e){var r=new gp(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();jWe(i,n,e);var s=zg({},i,n,e),o;typeof window<"u"&&(o=window);var a=PWe(i,n,e),l=kWe(i,n,e),u=DWe(r,s),g=LWe(r,s,o);return{id:e.tableId,content:g,hooks:l,styles:a,settings:u}}function PWe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],g=e[l],d=r[l];n.columnStyles=zg({},u,g,d)}else{var f=[t,e,r],h=f.map(function(A){return A[l]||{}});n[l]=zg({},h[0],h[1],h[2])}},s=0,o=Object.keys(n);s<o.length;s++){var a=o[s];i(a)}return n}function kWe(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function DWe(t,e){var r,n,i,s,o,a,l,u,g,d,f,h,A=GS(e.margin,40/t.scaleFactor()),C=(r=FWe(t,e.startY))!==null&&r!==void 0?r:A.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var p;e.showHead===!0?p="everyPage":e.showHead===!1?p="never":p=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var m=(s=e.useCss)!==null&&s!==void 0?s:!1,v=e.theme||(m?"plain":"striped"),y=!!e.horizontalPageBreak,x=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:m,theme:v,startY:C,margin:A,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:p,showFoot:I,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:y,horizontalPageBreakRepeat:x,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function FWe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function LWe(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var a=H2e(t,e.html,r,o,e.useCss)||{};n=a.head||n,i=a.body||n,s=a.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||MWe(n,i,s);return{columns:l,head:n,body:i,foot:s}}function MWe(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(n)?a=n[parseInt(s)]:a=n[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var g={dataKey:u};i.push(g)}}),i}var Fz=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),BWe=function(t){q2e(e,t);function e(r,n,i,s,o,a){var l=t.call(this,r,n,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(Fz),$We=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,o){for(var a=0,l=r;a<l.length;a++){var u=l[a],g=new BWe(e,this,n,i,s,o),d=u(g)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new Fz(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new Fz(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Y2e=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof z2e&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var o=n.cells[s.index];if(!o)return 0;var a=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),Z2e=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=GS(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),qWe=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function zWe(t,e){UWe(t,e);var r=[],n=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=Lz(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Lz(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),GWe(e),VWe(e,t),WWe(e)}function UWe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=G2e(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var g=e.hooks.didParseCell;e.callCellHooks(t,g,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=v2(u.text,u.styles,t)+d;var f=v2(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var g=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=g.cellWidth||g.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Lz(t,e,r){for(var n=e,i=t.reduce(function(h,A){return h+A.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=n*a,u=o.width+l,g=r(o),d=u<g?g:u;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(h){return e<0?h.width>r(h):!0});f.length&&(e=Lz(f,e,r))}return e}function WWe(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var g=s.cells[l.index];if(!g)continue;if(g.height=s.height,g.rowSpan>1){var d=n.length-i,f=g.rowSpan>d?d:g.rowSpan;e[l.index]={cell:g,left:f,row:s}}}}}function GWe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function VWe(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var g=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,g+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=zY(u.text,g,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=zY(u.text,g,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,g);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<f*u.rowSpan?r={height:f,count:u.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>s.height&&(s.height=f)}}r.count--}}function zY(t,e,r,n,i){return t.map(function(s){return HWe(s,e,r,n,i)})}function HWe(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=v2(t,r,n))return t;for(;e<v2(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function X2e(t,e){var r=new gp(t),n=KWe(e,r.scaleFactor()),i=new $We(e,n);return zWe(r,i),r.applyStyles(r.userStyles),i}function KWe(t,e){var r=t.content,n=ZWe(r.columns);if(r.head.length===0){var i=UY(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=UY(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:n,head:VT("head",r.head,n,o,s,e),body:VT("body",r.body,n,o,s,e),foot:VT("foot",r.foot,n,o,s,e)}}function VT(t,e,r,n,i,s){var o={},a=e.map(function(l,u){for(var g=0,d={},f=0,h=0,A=0,C=r;A<C.length;A++){var I=C[A];if(o[I.index]==null||o[I.index].left===0)if(h===0){var p=void 0;Array.isArray(l)?p=l[I.index-f-g]:p=l[I.dataKey];var m={};typeof p=="object"&&!Array.isArray(p)&&(m=(p==null?void 0:p.styles)||{});var v=XWe(t,I,u,i,n,s,m),y=new Z2e(p,v,t);d[I.dataKey]=y,d[I.index]=y,h=y.colSpan-1,o[I.index]={left:y.rowSpan-1,times:h}}else h--,f++;else o[I.index].left--,h=o[I.index].times,g++}return new Y2e(l,u,t,d)});return a}function UY(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=YWe(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function YWe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function ZWe(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new qWe(i,e,r)})}function XWe(t,e,r,n,i,s,o){var a=EWe(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=zg({},a.table,a[t],i.styles,l),g=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?g:{},f=t==="body"&&r%2===0?zg({},a.alternateRow,i.alternateRowStyles):{},h=SWe(s),A=zg({},h,u,f,d);return zg(A,o)}function QWe(t,e,r){var n;r===void 0&&(r={});var i=G2e(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var h=e.columns.find(function(A){return A.dataKey===f||A.index===f});h&&!s.has(h.index)&&(s.set(h.index,!0),o.push(h.index),a.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,g=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;g<e.columns.length;){if(s.has(g)){g++;continue}var d=e.columns[g].wrappedWidth;if(u||i>=d)u=!1,o.push(g),a.push(e.columns[g]),i-=d;else break;g++}return{colIndexes:o,columns:a,lastIndex:g-1}}function JWe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=QWe(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function Q2e(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=n+i.bottom+o;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(f,h){return f+h.height},0);a+=u}var g=new gp(t);(r.pageBreak==="always"||r.startY!=null&&a>g.pageSize().height)&&(eSe(g),s.y=i.top),e.callWillDrawPageHooks(g,s);var d=zg({},s);e.startPageNumber=g.pageNumber(),r.horizontalPageBreak?eGe(g,e,d,s):(g.applyStyles(g.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(f){return dd(g,e,f,s,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(f,h){var A=h===e.body.length-1;y2(g,e,f,A,d,s,e.columns)}),g.applyStyles(g.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(f){return dd(g,e,f,s,e.columns)})),U2e(g,e,d,s),e.callEndPageHooks(g,s),e.finalY=s.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function eGe(t,e,r,n){var i=JWe(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,g){t.applyStyles(t.userStyles),g>0?Gv(t,e,r,n,u.columns,!0):WY(t,e,n,u.columns),tGe(t,e,r,n,u.columns),HT(t,e,n,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var g=a.columns;o>=0?Gv(t,e,r,n,g,!0):WY(t,e,n,g),u=GY(t,e,o+1,n,g),HT(t,e,n,g)}var d=u-o;i.slice(1).forEach(function(f){t.applyStyles(t.userStyles),Gv(t,e,r,n,f.columns,!0),GY(t,e,o+1,n,f.columns,d),HT(t,e,n,f.columns)}),o=u};o<e.body.length-1;)l()}function WY(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return dd(t,e,s,r,n)})}function tGe(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;y2(t,e,s,a,r,n,i)})}function GY(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(r+s,e.body.length),a=-1;return e.body.slice(r,o).forEach(function(l,u){var g=r+u===e.body.length-1,d=J2e(t,e,g,n);l.canEntireRowFit(d,i)&&(dd(t,e,l,n,i),a=r+u)}),a}function HT(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return dd(t,e,s,r,n)})}function rGe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function nGe(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=r.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var g=new Z2e(u.raw,u.styles,u.section);g=zg(g,u),g.text=[];var d=rGe(u,e,n);u.text.length>d&&(g.text=u.text.splice(d,u.text.length));var f=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,h),u.contentHeight>=e&&(u.contentHeight=e,g.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),g.contentHeight=g.getContentHeight(f,h),g.contentHeight>s&&(s=g.contentHeight),i[l.index]=g}}var A=new Y2e(t.raw,-1,t.section,i,!0);A.height=s;for(var C=0,I=r.columns;C<I.length;C++){var l=I[C],g=A.cells[l.index];g&&(g.height=A.height);var u=t.cells[l.index];u&&(u.height=t.height)}return A}function iGe(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var g=e.hasRowSpan(n.columns),d=e.getMaxCellHeight(n.columns)>a;return d?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||n.settings.rowPageBreak==="avoid")}function y2(t,e,r,n,i,s,o){var a=J2e(t,e,n,s);if(r.canEntireRowFit(a,o))dd(t,e,r,s,o);else if(iGe(t,r,a,e)){var l=nGe(r,a,e,t);dd(t,e,r,s,o),Gv(t,e,i,s,o),y2(t,e,l,n,i,s,o)}else Gv(t,e,i,s,o),y2(t,e,r,n,i,s,o)}function dd(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=r.cells[a.index];if(!l){n.x+=a.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,a,n);if(u===!1){n.x+=a.width;continue}sGe(t,l,n);var g=l.getTextPos();$2e(l.text,g.x,g.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,a,n),n.x+=a.width}n.y+=r.height}function sGe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=W2e(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),oGe(t,e,r,n.lineWidth))}function oGe(t,e,r,n){var i,s,o,a;n.top&&(i=r.x,s=r.y,o=r.x+e.width,a=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,o,a)),n.bottom&&(i=r.x,s=r.y+e.height,o=r.x+e.width,a=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,o,a)),n.left&&(i=r.x,s=r.y,o=r.x,a=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.left,i,s,o,a)),n.right&&(i=r.x+e.width,s=r.y,o=r.x+e.width,a=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.right,i,s,o,a));function l(u,g,d,f,h){t.getDocument().setLineWidth(u),t.getDocument().line(g,d,f,h,"S")}}function J2e(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Gv(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return dd(t,e,a,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;U2e(t,e,r,n),eSe(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return dd(t,e,a,n,i)}),t.applyStyles(t.userStyles))}function eSe(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function aGe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=K2e(this,n),s=X2e(this,i);return Q2e(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){$2e(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return gp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){gp.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new gp(this),s=H2e(i,e,window,r,!1),o=s.head,a=s.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var KT;function VY(t,e){var r=K2e(t,e),n=X2e(t,r);Q2e(t,n)}try{if(typeof window<"u"&&window){var HY=window,KY=HY.jsPDF||((KT=HY.jspdf)===null||KT===void 0?void 0:KT.jsPDF);KY&&aGe(KY)}}catch(t){console.error("Could not apply autoTable plugin",t)}const lGe=t=>{try{const e=D0.book_new(),r=[{Metric:"Total Work Orders",Value:t.kpis.totalWorkOrders},{Metric:"Completion Rate",Value:`${t.kpis.completionRate}%`},{Metric:"Avg Cycle Time (days)",Value:t.kpis.avgCycleTime.toFixed(1)},{Metric:"On-Time Delivery",Value:`${t.kpis.onTimeDelivery}%`}];t.dateRange&&r.push({Metric:"Date Range Start",Value:t.dateRange.start},{Metric:"Date Range End",Value:t.dateRange.end});const n=D0.json_to_sheet(r);if(n["!cols"]=[{wch:30},{wch:20}],D0.book_append_sheet(e,n,"KPI Summary"),t.workOrders.length>0){const o=t.workOrders.map(l=>({"Work Order":l.workOrderNumber,"Part Number":l.partNumber||"N/A",Status:l.status,Priority:l.priority,Quantity:l.quantity,Completed:l.quantityCompleted,"Due Date":l.dueDate?new Date(l.dueDate).toLocaleDateString():"N/A","Created At":new Date(l.createdAt).toLocaleDateString()})),a=D0.json_to_sheet(o);a["!cols"]=[{wch:15},{wch:15},{wch:12},{wch:10},{wch:10},{wch:10},{wch:12},{wch:12}],D0.book_append_sheet(e,a,"Work Orders")}const s=`Dashboard_Export_${new Date().toISOString().split("T")[0]}`;E7e(e,`${s}.xlsx`)}catch(e){throw console.error("Error exporting dashboard metrics to Excel:",e),new Error("Failed to export dashboard metrics to Excel")}},cGe=t=>{try{const e=new sr;e.setFontSize(20),e.text("Dashboard Metrics Report",14,22),e.setFontSize(10),e.text(`Generated: ${new Date().toLocaleString()}`,14,30),t.dateRange&&e.text(`Date Range: ${t.dateRange.start} to ${t.dateRange.end}`,14,36);const r=[["Total Work Orders",t.kpis.totalWorkOrders.toString()],["Completion Rate",`${t.kpis.completionRate}%`],["Avg Cycle Time",`${t.kpis.avgCycleTime.toFixed(1)} days`],["On-Time Delivery",`${t.kpis.onTimeDelivery}%`]];if(VY(e,{startY:t.dateRange?42:36,head:[["Metric","Value"]],body:r,theme:"grid",styles:{fontSize:10,cellPadding:4},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},columnStyles:{0:{cellWidth:80},1:{cellWidth:60,halign:"right"}}}),t.workOrders.length>0){const s=e.lastAutoTable.finalY||70;e.setFontSize(14),e.text("Work Orders",14,s+10);const o=t.workOrders.slice(0,50).map(a=>[a.workOrderNumber,a.partNumber||"N/A",a.status,a.priority,`${a.quantityCompleted}/${a.quantity}`,a.dueDate?new Date(a.dueDate).toLocaleDateString():"N/A"]);if(VY(e,{startY:s+15,head:[["WO Number","Part","Status","Priority","Progress","Due Date"]],body:o,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},columnStyles:{0:{cellWidth:25},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:20},4:{cellWidth:25},5:{cellWidth:25}}}),t.workOrders.length>50){const a=e.lastAutoTable.finalY||200;e.setFontSize(9),e.text(`Note: Showing first 50 of ${t.workOrders.length} work orders. Export to Excel for full data.`,14,a+10)}}const i=`Dashboard_Export_${new Date().toISOString().split("T")[0]}`;e.save(`${i}.pdf`)}catch(e){throw console.error("Error exporting dashboard metrics to PDF:",e),new Error("Failed to export dashboard metrics to PDF")}},si="/equipment",vu={async getAllEquipment(t){var e,r;try{return{success:!0,data:(await Nt.get(si,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch equipment"}}},async getEquipmentById(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${si}/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch equipment"}}},async getEquipmentByNumber(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${si}/number/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch equipment by number"}}},async getEquipmentHierarchy(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/${t}/hierarchy`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch equipment hierarchy"}}},async getChildEquipment(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/${t}/children`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch child equipment"}}},async getEquipmentBySite(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/site/${t}`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch equipment by site"}}},async getEquipmentByArea(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/area/${t}`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch equipment by area"}}},async getEquipmentByWorkCenter(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/workcenter/${t}`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch equipment by work center"}}},async getEquipmentStatistics(){var t,e;try{return{success:!0,data:(await Nt.get(`${si}/statistics/summary`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||r.message||"Failed to fetch equipment statistics"}}}},tl={async getAllMaintenance(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/maintenance`,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch maintenance records"}}},async getMaintenanceById(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${si}/maintenance/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch maintenance record"}}},async getMaintenanceByEquipment(t,e){var r,n;try{return{success:!0,data:(await Nt.get(`${si}/maintenance/equipment/${t}`,{params:e})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch equipment maintenance records"}}},async getScheduledMaintenance(t,e){var r,n;try{return{success:!0,data:(await Nt.get(`${si}/maintenance/scheduled`,{params:{startDate:t,endDate:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch scheduled maintenance"}}},async getOverdueMaintenance(){var t,e;try{return{success:!0,data:(await Nt.get(`${si}/maintenance/overdue`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||r.message||"Failed to fetch overdue maintenance"}}},async getUpcomingMaintenance(t=30){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/maintenance/upcoming`,{params:{days:t}})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch upcoming maintenance"}}},async createMaintenance(t){var e,r;try{return{success:!0,data:(await Nt.post(`${si}/maintenance`,t)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to create maintenance record"}}},async updateMaintenance(t,e){var r,n;try{return{success:!0,data:(await Nt.put(`${si}/maintenance/${t}`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to update maintenance record"}}},async completeMaintenance(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${si}/maintenance/${t}/complete`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to complete maintenance record"}}},async cancelMaintenance(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${si}/maintenance/${t}/cancel`,{reason:e})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to cancel maintenance record"}}}},YT={async getOEEMetrics(t,e,r){var n,i;try{return{success:!0,data:(await Nt.get(`${si}/${t}/oee`,{params:{startDate:e,endDate:r}})).data}}catch(s){return{success:!1,error:((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||s.message||"Failed to fetch OEE metrics"}}},async getOEEHistory(t,e,r){var n,i;try{return{success:!0,data:(await Nt.get(`${si}/${t}/oee/history`,{params:{startDate:e,endDate:r}})).data}}catch(s){return{success:!1,error:((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||s.message||"Failed to fetch OEE history"}}},async getOEESummary(t,e){var r,n;try{return{success:!0,data:(await Nt.get(`${si}/oee/summary`,{params:{startDate:t,endDate:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch OEE summary"}}}},YY={async getStateHistory(t,e,r){var n,i;try{return{success:!0,data:(await Nt.get(`${si}/${t}/state/history`,{params:{startDate:e,endDate:r}})).data}}catch(s){return{success:!1,error:((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||s.message||"Failed to fetch state history"}}},async updateEquipmentState(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${si}/${t}/state`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to update equipment state"}}}};async function uGe(){try{const[t,e,r]=await Promise.all([vu.getEquipmentStatistics(),tl.getUpcomingMaintenance(30),tl.getOverdueMaintenance()]);return t.success?{success:!0,data:{statistics:t.data,upcomingMaintenance:e.success?e.data:[],overdueMaintenance:r.success?r.data:[],criticalEquipment:[]}}:{success:!1,error:t.error}}catch(t){return{success:!1,error:t.message||"Failed to fetch equipment dashboard data"}}}async function gGe(t,e){try{return await tl.getScheduledMaintenance(t,e)}catch(r){return{success:!1,error:r.message||"Failed to fetch maintenance calendar data"}}}async function dGe(t){var e,r;try{return{success:!0,data:(await Nt.get(`${si}/oee/dashboard`,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch OEE dashboard data"}}}var tSe=(t=>(t.PREVENTIVE="PREVENTIVE",t.CORRECTIVE="CORRECTIVE",t.PREDICTIVE="PREDICTIVE",t.CALIBRATION="CALIBRATION",t))(tSe||{}),rSe=(t=>(t.SCHEDULED="SCHEDULED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETED="COMPLETED",t.OVERDUE="OVERDUE",t.CANCELLED="CANCELLED",t))(rSe||{});const x2={PRODUCTION:"Production",MAINTENANCE:"Maintenance",QUALITY:"Quality",MATERIAL_HANDLING:"Material Handling",LABORATORY:"Laboratory",STORAGE:"Storage",ASSEMBLY:"Assembly"},nSe={PRODUCTION:"blue",MAINTENANCE:"orange",QUALITY:"green",MATERIAL_HANDLING:"cyan",LABORATORY:"purple",STORAGE:"geekblue",ASSEMBLY:"magenta"},ZY={AVAILABLE:"Available",IN_USE:"In Use",OPERATIONAL:"Operational",MAINTENANCE:"Maintenance",DOWN:"Down",RETIRED:"Retired"},iSe={AVAILABLE:"success",IN_USE:"processing",OPERATIONAL:"success",MAINTENANCE:"warning",DOWN:"error",RETIRED:"default"},XY={PREVENTIVE:"Preventive",CORRECTIVE:"Corrective",PREDICTIVE:"Predictive",CALIBRATION:"Calibration"},hGe={PREVENTIVE:"blue",CORRECTIVE:"orange",PREDICTIVE:"purple",CALIBRATION:"cyan"},QY={SCHEDULED:"Scheduled",IN_PROGRESS:"In Progress",COMPLETED:"Completed",OVERDUE:"Overdue",CANCELLED:"Cancelled"},fGe={SCHEDULED:"processing",IN_PROGRESS:"blue",COMPLETED:"success",OVERDUE:"error",CANCELLED:"default"},{Option:AGe}=we,CGe=()=>{const[t,e]=D.useState(!0),[r,n]=D.useState(null),[i,s]=D.useState(null),[o,a]=D.useState(),l=async()=>{e(!0),n(null);const I=await dGe({...o&&{equipmentClass:o},limit:5});I.success&&I.data?s(I.data):n(I.error||"Failed to load OEE dashboard data"),e(!1)};D.useEffect(()=>{l()},[o]);const u=I=>I?I>=85?"success":I>=70?"warning":"error":"default",g=I=>I?I>=85?"success":I>=70?"normal":"exception":"normal",d=[{title:"Equipment",dataIndex:"equipmentNumber",key:"equipmentNumber",width:120,render:(I,p)=>c.jsxs("div",{children:[c.jsx("div",{children:c.jsx("strong",{children:I})}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:p.name})]})},{title:"Class",dataIndex:"equipmentClass",key:"equipmentClass",width:120,render:I=>c.jsx(Be,{color:nSe[I],children:x2[I]})},{title:"OEE",dataIndex:"oee",key:"oee",width:100,align:"center",render:I=>c.jsx(Be,{color:u(I),children:I?`${Math.round(I)}%`:"N/A"})},{title:"A",dataIndex:"availability",key:"availability",width:70,align:"center",render:I=>I?`${Math.round(I)}%`:"N/A"},{title:"P",dataIndex:"performance",key:"performance",width:70,align:"center",render:I=>I?`${Math.round(I)}%`:"N/A"},{title:"Q",dataIndex:"quality",key:"quality",width:70,align:"center",render:I=>I?`${Math.round(I)}%`:"N/A"},{title:"Status",dataIndex:"status",key:"status",width:100,render:I=>c.jsx(Be,{color:iSe[I],children:I})}];if(t&&!i)return c.jsx(xe,{children:c.jsx("div",{style:{textAlign:"center",padding:"40px"},children:c.jsx(ei,{size:"large",tip:"Loading OEE metrics...",children:c.jsx("div",{})})})});if(r)return console.warn("OEE Dashboard data unavailable:",r),null;if(!i)return null;const{summary:f,distribution:h,topPerformers:A,bottomPerformers:C}=i;return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsxs("h2",{children:[c.jsx(hU,{style:{marginRight:8}}),"Overall Equipment Effectiveness (OEE)"]}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx(we,{placeholder:"Filter by class",allowClear:!0,value:o,onChange:a,style:{width:"200px"},children:Object.entries(x2).map(([I,p])=>c.jsx(AGe,{value:I,children:p},I))}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:l,loading:t,children:"Refresh"})]})]}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsxs(xe,{children:[c.jsx(Mt,{title:"Average OEE",value:f.averageOEE,suffix:"%",prefix:c.jsx(Gu,{}),valueStyle:{color:f.averageOEE>=85?"#52c41a":f.averageOEE>=70?"#faad14":"#ff4d4f"}}),c.jsx(Wn,{percent:f.averageOEE,status:g(f.averageOEE),showInfo:!1,style:{marginTop:"8px"}})]})}),c.jsx(Se,{span:6,children:c.jsxs(xe,{children:[c.jsx(Mt,{title:"Availability",value:f.averageAvailability,suffix:"%",valueStyle:{color:"#1890ff"}}),c.jsx(Wn,{percent:f.averageAvailability,showInfo:!1,strokeColor:"#1890ff",style:{marginTop:"8px"}})]})}),c.jsx(Se,{span:6,children:c.jsxs(xe,{children:[c.jsx(Mt,{title:"Performance",value:f.averagePerformance,suffix:"%",valueStyle:{color:"#722ed1"}}),c.jsx(Wn,{percent:f.averagePerformance,showInfo:!1,strokeColor:"#722ed1",style:{marginTop:"8px"}})]})}),c.jsx(Se,{span:6,children:c.jsxs(xe,{children:[c.jsx(Mt,{title:"Quality",value:f.averageQuality,suffix:"%",prefix:c.jsx(vr,{}),valueStyle:{color:"#52c41a"}}),c.jsx(Wn,{percent:f.averageQuality,showInfo:!1,strokeColor:"#52c41a",style:{marginTop:"8px"}})]})})]}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:12,children:c.jsxs(xe,{title:"OEE Distribution",size:"small",children:[c.jsxs(Dt,{gutter:8,children:[c.jsx(Se,{span:12,children:c.jsx(Mt,{title:"Excellent (85%)",value:h.excellent,valueStyle:{color:"#52c41a",fontSize:"20px"}})}),c.jsx(Se,{span:12,children:c.jsx(Mt,{title:"Good (70-85%)",value:h.good,valueStyle:{color:"#faad14",fontSize:"20px"}})})]}),c.jsxs(Dt,{gutter:8,style:{marginTop:"16px"},children:[c.jsx(Se,{span:12,children:c.jsx(Mt,{title:"Fair (50-70%)",value:h.fair,valueStyle:{color:"#ff7a45",fontSize:"20px"}})}),c.jsx(Se,{span:12,children:c.jsx(Mt,{title:"Poor (<50%)",value:h.poor,prefix:c.jsx(Ns,{}),valueStyle:{color:"#ff4d4f",fontSize:"20px"}})})]}),h.noData>0&&c.jsx(Pt,{message:`${h.noData} equipment with no OEE data`,type:"info",showIcon:!0,style:{marginTop:"16px"}})]})}),c.jsx(Se,{span:12,children:c.jsxs(xe,{title:"Equipment Summary",size:"small",children:[c.jsxs(Dt,{gutter:8,children:[c.jsx(Se,{span:12,children:c.jsx(Mt,{title:"Total Equipment",value:f.totalEquipment,valueStyle:{fontSize:"24px"}})}),c.jsx(Se,{span:12,children:c.jsx(Mt,{title:"With OEE Data",value:f.equipmentWithOEE,valueStyle:{fontSize:"24px"}})})]}),c.jsxs("div",{style:{marginTop:"16px"},children:[c.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Data Coverage"}),c.jsx(Wn,{percent:f.totalEquipment>0?f.equipmentWithOEE/f.totalEquipment*100:0,strokeColor:"#1890ff"})]})]})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(xe,{title:"Top Performers",size:"small",children:c.jsx(Jr,{columns:d,dataSource:A,rowKey:"id",pagination:!1,size:"small",scroll:{x:600},locale:{emptyText:"No data available"}})})}),c.jsx(Se,{span:12,children:c.jsx(xe,{title:"Bottom Performers",size:"small",children:c.jsx(Jr,{columns:d,dataSource:C,rowKey:"id",pagination:!1,size:"small",scroll:{x:600},locale:{emptyText:"No data available"}})})})]})]})},{Title:Eb,Text:ZT}=yr,{RangePicker:IGe}=Vl,pGe=()=>{const t=Kr(),{message:e}=pke.useApp(),[r,n]=D.useState(!0),[i,s]=D.useState(null),[o,a]=D.useState([]),[l,u]=D.useState([]),[g,d]=D.useState(null),[f,h]=D.useState(null),[A,C]=D.useState([Vs().subtract(30,"days"),Vs()]),[I,p]=D.useState(null);D.useEffect(()=>{document.title="Dashboard - Manufacturing Execution System",(async()=>{try{n(!0);const N=A[0].format("YYYY-MM-DD"),P=A[1].format("YYYY-MM-DD"),[M,B,W,H,V]=await Promise.all([P0.getKPIs(N,P),P0.getRecentWorkOrders(50,N,P),P0.getAlerts(5),P0.getEfficiencyMetrics(N,P),P0.getQualityTrends(N,P)]);s(M),a(B),u(W),d(H),h(V)}catch(N){console.error("Error fetching dashboard data:",N),e.error("Failed to load dashboard data. Please try again.")}finally{n(!1)}})()},[A]);const m=R=>{switch(R){case"IN_PROGRESS":return"processing";case"COMPLETED":return"success";case"RELEASED":return"default";default:return"default"}},v=R=>{switch(R){case"HIGH":return"red";case"NORMAL":return"blue";case"LOW":return"green";default:return"default"}},y=R=>{switch(R){case"warning":return c.jsx(Ns,{style:{color:"#faad14"}});case"error":return c.jsx(zI,{style:{color:"#ff4d4f"}});case"info":return c.jsx(vr,{style:{color:"#52c41a"}});default:return c.jsx(Zi,{})}},x=()=>{const R=o||[];if(!I)return R;switch(I){case"active":return R.filter(N=>N.status==="IN_PROGRESS"||N.status==="RELEASED");case"completed":return R.filter(N=>N.status==="COMPLETED");case"quality":return R.filter(N=>N.progress<90||N.status==="ON_HOLD");default:return R}},T=R=>{p(I===R?null:R)},E=R=>{R&&R[0]&&R[1]&&C([R[0],R[1]])},_=()=>{try{lGe({workOrders:o,kpis:{totalWorkOrders:(i==null?void 0:i.activeWorkOrders)||0,completionRate:((i==null?void 0:i.completedToday)||0)/((i==null?void 0:i.activeWorkOrders)||1)*100,avgCycleTime:5.2,onTimeDelivery:(g==null?void 0:g.onTimeDelivery)||0},dateRange:{start:A[0].format("YYYY-MM-DD"),end:A[1].format("YYYY-MM-DD")}}),e.success("Dashboard exported to Excel successfully")}catch{e.error("Failed to export to Excel")}},S=()=>{try{cGe({workOrders:o,kpis:{totalWorkOrders:(i==null?void 0:i.activeWorkOrders)||0,completionRate:((i==null?void 0:i.completedToday)||0)/((i==null?void 0:i.activeWorkOrders)||1)*100,avgCycleTime:5.2,onTimeDelivery:(g==null?void 0:g.onTimeDelivery)||0},dateRange:{start:A[0].format("YYYY-MM-DD"),end:A[1].format("YYYY-MM-DD")}}),e.success("Dashboard exported to PDF successfully")}catch{e.error("Failed to export to PDF")}},j=[{key:"excel",label:"Export to Excel",icon:c.jsx(kv,{}),onClick:_},{key:"pdf",label:"Export to PDF",icon:c.jsx(kv,{}),onClick:S}],w=[{title:"Work Order",dataIndex:"workOrderNumber",key:"workOrderNumber"},{title:"Part Number",dataIndex:"partNumber",key:"partNumber"},{title:"Status",dataIndex:"status",key:"status",render:R=>c.jsx(Be,{color:m(R),children:R.replace("_"," ")})},{title:"Progress",dataIndex:"progress",key:"progress",render:R=>c.jsx(Wn,{percent:R,size:"small"})},{title:"Priority",dataIndex:"priority",key:"priority",render:R=>c.jsx(Be,{color:v(R),children:R})},{title:"Due Date",dataIndex:"dueDate",key:"dueDate"}];return r?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:c.jsx(ei,{size:"large"})}):c.jsxs("div",{style:{padding:0},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,gap:12,minWidth:0,overflow:"hidden"},children:[c.jsx(Eb,{level:1,style:{margin:0,fontSize:28,minWidth:0,flex:"none"},children:"Manufacturing Dashboard"}),c.jsxs(pe,{size:"small",style:{flexShrink:0},children:[c.jsx(IGe,{value:A,onChange:E,format:"YYYY-MM-DD",allowClear:!1,style:{width:240}}),c.jsx(K1e,{menu:{items:j},placement:"bottomRight",children:c.jsx(le,{type:"primary",icon:c.jsx(kv,{}),children:"Export"})})]})]}),I&&c.jsx("div",{style:{marginBottom:16},children:c.jsxs(Be,{color:"blue",closable:!0,onClose:()=>p(null),icon:c.jsx(wS,{}),style:{fontSize:14,padding:"4px 12px"},children:["Filtering:"," ",I==="active"?"Active Work Orders":I==="completed"?"Completed Today":"Quality Issues"]})}),c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:24},children:[c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{hoverable:!0,onClick:()=>T("active"),style:{cursor:"pointer",border:I==="active"?"2px solid #1890ff":void 0,boxShadow:I==="active"?"0 0 10px rgba(24, 144, 255, 0.3)":void 0},children:c.jsx(Mt,{title:"Active Work Orders",value:(i==null?void 0:i.activeWorkOrders)||0,prefix:c.jsx(Zl,{}),suffix:c.jsxs(pe,{children:[((i==null?void 0:i.workOrdersChange)||0)>0?c.jsx(Cw,{style:{color:"#3f8600"}}):c.jsx(Iw,{style:{color:"#cf1322"}}),c.jsxs("span",{style:{fontSize:12},children:[Math.abs((i==null?void 0:i.workOrdersChange)||0),"%"]})]}),valueStyle:{color:"#1890ff"}})})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{hoverable:!0,onClick:()=>T("completed"),style:{cursor:"pointer",border:I==="completed"?"2px solid #52c41a":void 0,boxShadow:I==="completed"?"0 0 10px rgba(82, 196, 26, 0.3)":void 0},children:c.jsx(Mt,{title:"Completed Today",value:(i==null?void 0:i.completedToday)||0,prefix:c.jsx(vr,{}),suffix:c.jsxs(pe,{children:[((i==null?void 0:i.completedChange)||0)>0?c.jsx(Cw,{style:{color:"#3f8600"}}):c.jsx(Iw,{style:{color:"#cf1322"}}),c.jsxs("span",{style:{fontSize:12},children:[Math.abs((i==null?void 0:i.completedChange)||0),"%"]})]}),valueStyle:{color:"#52c41a"}})})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{hoverable:!0,onClick:()=>T("quality"),style:{cursor:"pointer",border:I==="quality"?"2px solid #faad14":void 0,boxShadow:I==="quality"?"0 0 10px rgba(250, 173, 20, 0.3)":void 0},children:c.jsx(Mt,{title:"Quality Yield",value:(i==null?void 0:i.qualityYield)||0,precision:1,suffix:"%",prefix:c.jsx(im,{}),valueStyle:{color:((i==null?void 0:i.qualityYield)||0)>=95?"#52c41a":((i==null?void 0:i.qualityYield)||0)>=90?"#faad14":"#ff4d4f"}})})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Equipment Utilization",value:(i==null?void 0:i.equipmentUtilization)||0,precision:1,prefix:c.jsx(Uc,{}),suffix:c.jsxs(pe,{children:[c.jsx("span",{children:"%"}),((i==null?void 0:i.utilizationChange)||0)>0?c.jsx(Cw,{style:{color:"#3f8600"}}):c.jsx(Iw,{style:{color:"#cf1322"}}),c.jsxs("span",{style:{fontSize:12},children:[Math.abs((i==null?void 0:i.utilizationChange)||0),"%"]})]}),valueStyle:{color:"#722ed1"}})})})]}),c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:24},children:[c.jsx(Se,{xs:24,sm:8,children:c.jsx(xe,{hoverable:!0,onClick:()=>t("/serialization"),style:{cursor:"pointer",textAlign:"center",height:"100%"},children:c.jsxs(pe,{direction:"vertical",size:"middle",children:[c.jsx(MA,{style:{fontSize:48,color:"#1890ff"}}),c.jsxs("div",{children:[c.jsx(Eb,{level:3,style:{marginBottom:4},children:"Serial Numbers"}),c.jsx(ZT,{type:"secondary",children:"Generate and manage serial numbers"})]})]})})}),c.jsx(Se,{xs:24,sm:8,children:c.jsx(xe,{hoverable:!0,onClick:()=>t("/traceability"),style:{cursor:"pointer",textAlign:"center",height:"100%"},children:c.jsxs(pe,{direction:"vertical",size:"middle",children:[c.jsx(dl,{style:{fontSize:48,color:"#52c41a"}}),c.jsxs("div",{children:[c.jsx(Eb,{level:3,style:{marginBottom:4},children:"Traceability"}),c.jsx(ZT,{type:"secondary",children:"Track genealogy and material flow"})]})]})})}),c.jsx(Se,{xs:24,sm:8,children:c.jsx(xe,{hoverable:!0,onClick:()=>t("/fai"),style:{cursor:"pointer",textAlign:"center",height:"100%"},children:c.jsxs(pe,{direction:"vertical",size:"middle",children:[c.jsx(cl,{style:{fontSize:48,color:"#722ed1"}}),c.jsxs("div",{children:[c.jsx(Eb,{level:3,style:{marginBottom:4},children:"FAI Reports"}),c.jsx(ZT,{type:"secondary",children:"First Article Inspection reports"})]})]})})})]}),c.jsxs(Dt,{gutter:[16,16],children:[c.jsx(Se,{xs:24,lg:16,children:c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx("span",{children:"Recent Work Orders"}),I&&c.jsxs(Be,{color:"blue",children:[x().length," filtered"]})]}),extra:c.jsx("a",{href:"/workorders",children:"View All"}),children:c.jsx(Jr,{dataSource:x().map(R=>({key:R.id,...R})),columns:w,pagination:{pageSize:10,showSizeChanger:!1},size:"small"})})}),c.jsx(Se,{xs:24,lg:8,children:c.jsx(xe,{title:"Recent Alerts",extra:c.jsx("a",{href:"/alerts",children:"View All"}),children:c.jsx(ho,{dataSource:l,renderItem:R=>c.jsx(ho.Item,{children:c.jsx(ho.Item.Meta,{avatar:c.jsx(ia,{icon:y(R.type)}),title:R.title,description:c.jsxs(pe,{direction:"vertical",size:4,children:[c.jsx("div",{children:R.description}),c.jsx("small",{style:{color:"#999"},children:R.time})]})})})})})})]}),c.jsxs(Dt,{gutter:[16,16],style:{marginTop:16},children:[c.jsx(Se,{xs:24,lg:12,children:c.jsx(xe,{title:"Production Efficiency",children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"Overall Equipment Effectiveness (OEE)"}),c.jsxs("span",{children:[(g==null?void 0:g.oee)||0,"%"]})]}),c.jsx(Wn,{percent:(g==null?void 0:g.oee)||0,strokeColor:"#52c41a"})]}),c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"First Pass Yield (FPY)"}),c.jsxs("span",{children:[(g==null?void 0:g.fpy)||0,"%"]})]}),c.jsx(Wn,{percent:(g==null?void 0:g.fpy)||0,strokeColor:"#1890ff"})]}),c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"On-Time Delivery"}),c.jsxs("span",{children:[(g==null?void 0:g.onTimeDelivery)||0,"%"]})]}),c.jsx(Wn,{percent:(g==null?void 0:g.onTimeDelivery)||0,strokeColor:"#722ed1"})]})]})})}),c.jsx(Se,{xs:24,lg:12,children:c.jsx(xe,{title:"Quality Trends",children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"Defect Rate"}),c.jsxs("span",{style:{color:((f==null?void 0:f.defectRateTrend)||0)<=0?"#52c41a":"#ff4d4f"},children:[(f==null?void 0:f.defectRate)||0,"% ",((f==null?void 0:f.defectRateTrend)||0)>0?"":""]})]}),c.jsx(Wn,{percent:(f==null?void 0:f.defectRate)||0,strokeColor:"#ff4d4f",showInfo:!1})]}),c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"Customer Complaints"}),c.jsxs("span",{style:{color:((f==null?void 0:f.complaintRateTrend)||0)<=0?"#52c41a":"#ff4d4f"},children:[(f==null?void 0:f.complaintRate)||0,"% ",((f==null?void 0:f.complaintRateTrend)||0)>0?"":""]})]}),c.jsx(Wn,{percent:(f==null?void 0:f.complaintRate)||0,strokeColor:"#faad14",showInfo:!1})]}),c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"NCR Rate"}),c.jsxs("span",{style:{color:((f==null?void 0:f.ncrRateTrend)||0)<=0?"#52c41a":"#ff4d4f"},children:[(f==null?void 0:f.ncrRate)||0,"% ",((f==null?void 0:f.ncrRateTrend)||0)>0?"":""]})]}),c.jsx(Wn,{percent:(f==null?void 0:f.ncrRate)||0,strokeColor:"#ff4d4f",showInfo:!1})]})]})})})]}),c.jsx("div",{style:{marginTop:24},children:c.jsx(CGe,{})})]})};class mGe{constructor(){ve(this,"baseUrl","/workorders")}async getWorkOrders(e){var i,s,o;const r=new URLSearchParams;e&&Object.entries(e).forEach(([a,l])=>{l!=null&&l!==""&&r.append(a,l.toString())});const n=await Lr.get(`${this.baseUrl}?${r.toString()}`);return{workOrders:n.data.map(a=>({id:a.id,workOrderNumber:a.workOrderNumber,partNumber:a.partNumber,partName:a.partNumber,quantity:a.quantityOrdered,completed:a.quantityCompleted,scrap:a.quantityScrapped,status:a.status,priority:a.priority,dueDate:a.dueDate,customerOrder:a.customerOrder,createdDate:a.createdAt,startedDate:a.actualStartDate,completedDate:a.actualEndDate,progress:a.completionPercentage||0})),total:((i=n.pagination)==null?void 0:i.total)||n.data.length,page:((s=n.pagination)==null?void 0:s.page)||1,totalPages:((o=n.pagination)==null?void 0:o.totalPages)||1}}async getWorkOrderById(e){return Lr.get(`${this.baseUrl}/${e}`)}async createWorkOrder(e){return Lr.post(this.baseUrl,e)}async updateWorkOrder(e,r){return Lr.patch(`${this.baseUrl}/${e}`,r)}async deleteWorkOrder(e){return Lr.delete(`${this.baseUrl}/${e}`)}async releaseWorkOrder(e){return Lr.post(`${this.baseUrl}/${e}/release`)}async startWorkOrder(e){return Lr.post(`${this.baseUrl}/${e}/start`)}async completeWorkOrder(e){return Lr.post(`${this.baseUrl}/${e}/complete`)}async cancelWorkOrder(e,r){return Lr.post(`${this.baseUrl}/${e}/cancel`,{reason:r})}async updateProgress(e,r){return Lr.post(`${this.baseUrl}/${e}/progress`,r)}async getWorkOrderOperations(e){return Lr.get(`${this.baseUrl}/${e}/operations`)}async startOperation(e,r){return Lr.post(`${this.baseUrl}/${e}/operations/${r}/start`)}async completeOperation(e,r,n){return Lr.post(`${this.baseUrl}/${e}/operations/${r}/complete`,n)}async exportWorkOrders(e,r="csv"){const n=new URLSearchParams;return e&&Object.entries(e).forEach(([i,s])=>{s!=null&&s!==""&&n.append(i,s.toString())}),n.append("format",r),Lr.downloadFile(`${this.baseUrl}/export?${n.toString()}`,`work-orders-${new Date().toISOString().split("T")[0]}.${r}`)}async getMockWorkOrders(){await new Promise(r=>setTimeout(r,500));const e=[{id:"1",workOrderNumber:"WO-2024-001001",partNumber:"ENG-BLADE-001",partName:"Turbine Blade",quantity:10,completed:6,scrap:1,status:"IN_PROGRESS",priority:"HIGH",dueDate:"2024-02-15",customerOrder:"CO-2024-001",createdDate:"2024-01-15",startedDate:"2024-01-20",progress:60},{id:"2",workOrderNumber:"WO-2024-001002",partNumber:"ENG-VANE-002",partName:"Guide Vane",quantity:25,completed:0,status:"RELEASED",priority:"NORMAL",dueDate:"2024-03-01",customerOrder:"CO-2024-002",createdDate:"2024-01-18",progress:0},{id:"3",workOrderNumber:"WO-2024-001003",partNumber:"ENG-DISK-003",partName:"Compressor Disk",quantity:5,completed:5,status:"COMPLETED",priority:"HIGH",dueDate:"2024-01-28",customerOrder:"CO-2024-003",createdDate:"2024-01-10",startedDate:"2024-01-15",completedDate:"2024-01-28",progress:100}];return{workOrders:e,total:e.length,page:1,totalPages:1}}}const vGe=new mGe,{Option:M0}=we,yGe=({visible:t,onClose:e,onSuccess:r})=>{const[n]=me.useForm(),[i,s]=D.useState(!1),[o,a]=D.useState([]),[l,u]=D.useState(!1),{currentSite:g}=IC();D.useEffect(()=>{t&&d()},[t]);const d=async()=>{u(!0);try{const A=await fetch("/api/v1/parts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(A.ok){const C=await A.json();a(C.parts||[])}else a([{id:"1",partNumber:"TURB-BLADE-001",partName:"Turbine Blade Assembly"},{id:"2",partNumber:"GUIDE-VANE-001",partName:"Guide Vane"},{id:"3",partNumber:"SHAFT-001",partName:"Main Shaft"}])}catch(A){console.error("Failed to load parts:",A),a([{id:"1",partNumber:"TURB-BLADE-001",partName:"Turbine Blade Assembly"},{id:"2",partNumber:"GUIDE-VANE-001",partName:"Guide Vane"},{id:"3",partNumber:"SHAFT-001",partName:"Main Shaft"}])}finally{u(!1)}},f=async A=>{s(!0);try{const C=localStorage.getItem("token"),I={partNumber:A.partNumber,quantityOrdered:A.quantityOrdered,priority:A.priority||"NORMAL",customerOrder:A.customerOrder,dueDate:A.dueDate?A.dueDate.toISOString():void 0,siteId:g==null?void 0:g.id},p=await fetch("/api/v1/workorders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(I)});if(!p.ok){const v=await p.json();throw new Error(v.message||"Failed to create work order")}const m=await p.json();Ee.success(`Work order ${m.workOrderNumber} created successfully`),n.resetFields(),r(),e()}catch(C){console.error("Failed to create work order:",C),Ee.error(C.message||"Failed to create work order")}finally{s(!1)}},h=()=>{n.resetFields(),e()};return c.jsxs(en,{title:"Create Work Order",open:t,onCancel:h,onOk:()=>n.submit(),confirmLoading:i,width:600,okText:"Create Work Order",cancelText:"Cancel",children:[c.jsx(Pt,{message:"Create from Customer Order",description:"Create a new work order from a customer order or forecast. This will generate manufacturing operations based on the part routing.",type:"info",icon:c.jsx(Wc,{}),style:{marginBottom:16}}),c.jsxs(me,{form:n,layout:"vertical",onFinish:f,initialValues:{priority:"NORMAL"},children:[c.jsx(me.Item,{name:"partNumber",label:"Part Number",rules:[{required:!0,message:"Please select a part number"}],children:c.jsx(we,{placeholder:"Select part number",loading:l,showSearch:!0,filterOption:(A,C)=>(C==null?void 0:C.children).toLowerCase().includes(A.toLowerCase()),"data-testid":"part-number-select",children:o.map(A=>c.jsxs(M0,{value:A.partNumber,children:[A.partNumber," - ",A.partName]},A.partNumber))})}),c.jsx(me.Item,{name:"quantityOrdered",label:"Quantity",rules:[{required:!0,message:"Please enter quantity"},{type:"number",min:1,message:"Quantity must be greater than 0"}],children:c.jsx(po,{placeholder:"Enter quantity",style:{width:"100%"},min:1,"data-testid":"quantity-input"})}),c.jsx(me.Item,{name:"priority",label:"Priority",rules:[{required:!0,message:"Please select priority"}],children:c.jsxs(we,{placeholder:"Select priority","data-testid":"priority-select",children:[c.jsx(M0,{value:"LOW",children:"Low"}),c.jsx(M0,{value:"NORMAL",children:"Normal"}),c.jsx(M0,{value:"HIGH",children:"High"}),c.jsx(M0,{value:"URGENT",children:"Urgent"})]})}),c.jsx(me.Item,{name:"customerOrder",label:"Customer Order Number",children:c.jsx(at,{placeholder:"Enter customer order number (optional)","data-testid":"customer-order-input"})}),c.jsx(me.Item,{name:"dueDate",label:"Due Date",children:c.jsx(Vl,{style:{width:"100%"},placeholder:"Select due date (optional)",format:"YYYY-MM-DD","data-testid":"due-date-picker"})})]})]})},{Option:JY}=we,{TextArea:xGe}=at,bGe=[{value:"LOW",label:"Low",color:"default",icon:null},{value:"NORMAL",label:"Normal",color:"blue",icon:null},{value:"HIGH",label:"High",color:"orange",icon:c.jsx(Gu,{})},{value:"URGENT",label:"Urgent",color:"red",icon:c.jsx(Gu,{})}],wGe=["Customer Request","Equipment Availability","Material Availability","Capacity Balancing","Hot Job - Rush Order","Delivery Date Change","Production Schedule Optimization","Other"],SGe=({workOrderId:t,workOrderNumber:e,currentPriority:r,visible:n,onClose:i,onSuccess:s})=>{const[o]=me.useForm(),[a,l]=D.useState(!1),[u,g]=D.useState(r),d=C=>{g(C)},f=async C=>{l(!0);try{const I=localStorage.getItem("token"),p=await fetch(`/api/v1/workorders/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({priority:C.priority})});if(!p.ok){const m=await p.json();throw new Error(m.message||"Failed to update priority")}Ee.success(`Work order ${e} priority updated to ${C.priority}`),o.resetFields(),s(),i()}catch(I){Ee.error(I.message||"Failed to update work order priority")}finally{l(!1)}},h=u==="URGENT",A=u==="HIGH"||u==="URGENT";return c.jsxs(en,{title:c.jsxs("span",{children:[c.jsx(Gu,{})," Change Priority - ",e]}),open:n,onCancel:i,onOk:()=>o.submit(),confirmLoading:a,width:600,okText:"Update Priority",cancelText:"Cancel",children:[c.jsx(Pt,{message:`Current Priority: ${r}`,type:"info",icon:c.jsx(Wc,{}),style:{marginBottom:16}}),c.jsxs(me,{form:o,layout:"vertical",onFinish:f,initialValues:{priority:r},children:[c.jsx(me.Item,{name:"priority",label:"New Priority",rules:[{required:!0,message:"Please select a priority"},{validator:(C,I)=>I===r?Promise.reject(new Error("Please select a different priority")):Promise.resolve()}],children:c.jsx(we,{placeholder:"Select new priority",onChange:d,"data-testid":"priority-select",size:"large",children:bGe.map(C=>c.jsx(JY,{value:C.value,children:c.jsx(Be,{color:C.color,icon:C.icon,children:C.label})},C.value))})}),c.jsx(me.Item,{name:"reason",label:"Reason for Change",rules:[{required:A,message:"Please select a reason for high/urgent priority"}],children:c.jsx(we,{placeholder:"Select reason","data-testid":"reason-select",disabled:!A,children:wGe.map(C=>c.jsx(JY,{value:C,children:C},C))})}),c.jsx(me.Item,{name:"notes",label:"Additional Notes",children:c.jsx(xGe,{rows:3,placeholder:"Optional: Add any additional context for this priority change...","data-testid":"notes-textarea"})}),h&&c.jsx(Pt,{message:"Urgent Priority - Hot Job",description:"This work order will be expedited and may interrupt current production. Ensure all stakeholders are notified.",type:"warning",showIcon:!0,icon:c.jsx(Gu,{}),style:{marginTop:16}}),A&&!h&&c.jsx(Pt,{message:"High Priority",description:"This work order will be prioritized in the production schedule.",type:"info",showIcon:!0,style:{marginTop:16}})]})]})},{Option:EGe}=we,{TextArea:_Ge}=at,{RangePicker:TGe}=Vl,RGe=["Equipment Downtime","Material Delay","Capacity Adjustment","Customer Request","Workload Balancing","Setup Optimization","Preventive Maintenance","Other"],NGe=({workOrderId:t,workOrderNumber:e,currentStartDate:r,currentEndDate:n,currentDueDate:i,visible:s,onClose:o,onSuccess:a})=>{const[l]=me.useForm(),[u,g]=D.useState(!1),d=async C=>{g(!0);try{const I=localStorage.getItem("token"),p={};if(C.scheduledDates&&C.scheduledDates.length===2&&(p.scheduledStartDate=C.scheduledDates[0].toISOString(),p.scheduledEndDate=C.scheduledDates[1].toISOString()),C.dueDate&&(p.dueDate=C.dueDate.toISOString()),Object.keys(p).length===0){Ee.warning("Please select at least one date to reschedule");return}const m=await fetch(`/api/v1/workorders/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify(p)});if(!m.ok){const v=await m.json();throw new Error(v.message||"Failed to reschedule work order")}Ee.success(`Work order ${e} rescheduled successfully`),l.resetFields(),a(),o()}catch(I){Ee.error(I.message||"Failed to reschedule work order")}finally{g(!1)}},f=()=>{l.resetFields(),o()},h=r&&n?[Vs(r),Vs(n)]:void 0,A=i?Vs(i):void 0;return c.jsxs(en,{title:c.jsxs("span",{children:[c.jsx(cd,{})," Reschedule Work Order - ",e]}),open:s,onCancel:f,onOk:()=>l.submit(),confirmLoading:u,width:700,okText:"Reschedule",cancelText:"Cancel",children:[(h||A)&&c.jsx(Pt,{message:"Current Schedule",description:c.jsxs("div",{children:[h&&c.jsxs("div",{children:[c.jsx("strong",{children:"Scheduled:"})," ",h[0].format("MMM DD, YYYY"),"  ",h[1].format("MMM DD, YYYY")]}),A&&c.jsxs("div",{children:[c.jsx("strong",{children:"Due Date:"})," ",A.format("MMM DD, YYYY")]})]}),type:"info",icon:c.jsx(Wc,{}),style:{marginBottom:16}}),c.jsxs(me,{form:l,layout:"vertical",onFinish:d,children:[c.jsx(me.Item,{name:"scheduledDates",label:"Scheduled Start and End Date",help:"Select new start and end dates for production",children:c.jsx(TGe,{style:{width:"100%"},format:"YYYY-MM-DD HH:mm",showTime:{format:"HH:mm"},placeholder:["Start Date","End Date"],"data-testid":"scheduled-dates-picker"})}),c.jsx(me.Item,{name:"dueDate",label:"Due Date",help:"Customer delivery due date",children:c.jsx(Vl,{style:{width:"100%"},format:"YYYY-MM-DD",placeholder:"Select due date","data-testid":"due-date-picker"})}),c.jsx(me.Item,{name:"reason",label:"Reason for Reschedule",rules:[{required:!0,message:"Please select a reason"}],children:c.jsx(we,{placeholder:"Select reason for rescheduling","data-testid":"reason-select",children:RGe.map(C=>c.jsx(EGe,{value:C,children:C},C))})}),c.jsx(me.Item,{name:"notes",label:"Additional Notes",children:c.jsx(_Ge,{rows:3,placeholder:"Add any additional context for this schedule change...","data-testid":"notes-textarea"})}),c.jsx(Pt,{message:"Schedule Change Impact",description:"Rescheduling will update the production schedule and may affect downstream operations. Ensure coordination with affected teams.",type:"warning",showIcon:!0,style:{marginTop:16}})]})]})},{Title:OGe}=yr,{RangePicker:jGe}=Vl,PGe=()=>{const[t,e]=D.useState(!1),[r,n]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState([]),[l,u]=D.useState(!1),[g,d]=D.useState(!1),[f,h]=D.useState(!1),[A,C]=D.useState(null),[I,p]=D.useState({current:1,pageSize:10,total:0}),[m,v]=D.useState([]),[y,x]=D.useState([]),T=Kr(),{hasPermission:E}=NU();D.useEffect(()=>{document.title="Work Orders - Manufacturing Execution System"},[]),D.useEffect(()=>{_()},[I.current,I.pageSize,i]);const _=async()=>{try{e(!0);const K={page:I.current,limit:I.pageSize};i&&(K.status=i),r&&(K.partNumber=r);const Y=await vGe.getWorkOrders(K);a(Y.workOrders),p(k=>({...k,total:Y.total}))}catch(K){console.error("Failed to load work orders:",K),Ee.error("Failed to load work orders. Please try again."),a([])}finally{e(!1)}},S=()=>{p(K=>({...K,current:1})),_()},j=o.map((K,Y)=>({key:K.id,id:K.workOrderNumber,partNumber:K.partNumber,partName:K.partName,quantity:K.quantity,completed:K.completed,status:K.status,priority:K.priority,dueDate:K.dueDate,progress:K.progress,scheduledStartDate:K.scheduledStartDate,scheduledEndDate:K.scheduledEndDate,rawWorkOrder:K})),w=K=>{switch(K){case"CREATED":return"default";case"RELEASED":return"blue";case"IN_PROGRESS":return"orange";case"COMPLETED":return"green";case"CANCELLED":return"red";default:return"default"}},R=K=>{switch(K){case"URGENT":return"red";case"HIGH":return"orange";case"NORMAL":return"blue";case"LOW":return"green";default:return"default"}},N=()=>{try{const K=m.length>0?y:o,Y=P(K);M(Y,`work_orders_${new Date().toISOString().split("T")[0]}.csv`),Ee.success(`Exported ${K.length} work orders`)}catch{Ee.error("Failed to export work orders")}},P=K=>[["Work Order Number","Part Number","Part Name","Quantity","Completed","Status","Priority","Due Date","Progress %","Scheduled Start","Scheduled End"].join(","),...K.map(q=>[q.workOrderNumber,q.partNumber,q.partName,q.quantity,q.completed,q.status,q.priority,q.dueDate||"",q.progress||0,q.scheduledStartDate||"",q.scheduledEndDate||""].join(","))].join(`
`),M=(K,Y)=>{const k=new Blob([K],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),z=URL.createObjectURL(k);q.setAttribute("href",z),q.setAttribute("download",Y),q.style.visibility="hidden",document.body.appendChild(q),q.click(),document.body.removeChild(q)},B=async()=>{try{Ee.success(`Deleted ${m.length} work orders`),v([]),x([]),_()}catch{Ee.error("Failed to delete work orders")}},W={selectedRowKeys:m,onChange:(K,Y)=>{v(K),x(Y.map(k=>k.rawWorkOrder))}},H=[{title:"Work Order #",dataIndex:"id",key:"id",render:(K,Y)=>c.jsx(le,{type:"link",onClick:()=>T(`/workorders/${Y.key}`),children:K})},{title:"Part Number",dataIndex:"partNumber",key:"partNumber"},{title:"Part Name",dataIndex:"partName",key:"partName"},{title:"Quantity",key:"quantity",render:K=>c.jsxs("span",{children:[K.completed,"/",K.quantity]})},{title:"Progress",dataIndex:"progress",key:"progress",render:K=>c.jsx(Wn,{percent:K,size:"small",status:K===100?"success":"active"})},{title:"Status",dataIndex:"status",key:"status",render:K=>c.jsx(Be,{color:w(K),children:K.replace("_"," ")})},{title:"Priority",dataIndex:"priority",key:"priority",render:K=>c.jsx(Be,{color:R(K),children:K})},{title:"Due Date",dataIndex:"dueDate",key:"dueDate"},{title:"Actions",key:"actions",render:K=>{const Y=E(Ru.WORKORDERS_UPDATE),k=E(Ru.WORKORDERS_RELEASE);return c.jsxs(pe,{children:[c.jsx(lt,{title:"View Details",children:c.jsx(le,{icon:c.jsx(Os,{}),size:"small",onClick:()=>T(`/workorders/${K.key}`)})}),c.jsx(lt,{title:Y?"Edit":"No permission to edit",children:c.jsx(le,{icon:c.jsx(Pi,{}),size:"small",disabled:!Y})}),Y&&c.jsxs(c.Fragment,{children:[c.jsx(lt,{title:"Change Priority",children:c.jsx(le,{icon:c.jsx(Gu,{}),size:"small",onClick:()=>{C(K),d(!0)},"data-testid":"change-priority-button"})}),c.jsx(lt,{title:"Reschedule",children:c.jsx(le,{icon:c.jsx(cd,{}),size:"small",onClick:()=>{C(K),h(!0)},"data-testid":"reschedule-button"})})]}),K.status==="CREATED"&&c.jsx(lt,{title:k?"Release":"No permission to release",children:c.jsx(le,{icon:c.jsx(sm,{}),size:"small",type:"primary",disabled:!k})})]})}}],V=E(Ru.WORKORDERS_CREATE);return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(OGe,{level:2,style:{margin:0},children:"Work Orders"}),c.jsxs(pe,{children:[m.length>0&&c.jsx(pe,{children:c.jsxs(le,{icon:c.jsx(Xl,{}),onClick:B,"data-testid":"bulk-delete-button",children:["Delete (",m.length,")"]})}),c.jsxs(le,{icon:c.jsx(kv,{}),onClick:N,"data-testid":"export-work-orders-button",children:["Export ",m.length>0?`(${m.length})`:"All"]}),c.jsx(lt,{title:V?"":"You don't have permission to create work orders",children:c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),disabled:!V,onClick:()=>u(!0),"data-testid":"create-work-order-button",children:"Create Work Order"})})]})]}),c.jsxs(xe,{children:[c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:16},children:[c.jsx(Se,{xs:24,sm:8,md:6,children:c.jsx(at,{placeholder:"Search work orders...",prefix:c.jsx(Gn,{}),value:r,onChange:K=>n(K.target.value),onPressEnter:S,"data-testid":"work-order-search-input"})}),c.jsx(Se,{xs:24,sm:8,md:4,children:c.jsxs(we,{placeholder:"Status",style:{width:"100%"},value:i,onChange:s,allowClear:!0,"data-testid":"status-filter-select",children:[c.jsx(we.Option,{value:"CREATED",children:"Created"}),c.jsx(we.Option,{value:"RELEASED",children:"Released"}),c.jsx(we.Option,{value:"IN_PROGRESS",children:"In Progress"}),c.jsx(we.Option,{value:"COMPLETED",children:"Completed"}),c.jsx(we.Option,{value:"CANCELLED",children:"Cancelled"})]})}),c.jsx(Se,{xs:24,sm:8,md:6,children:c.jsx(jGe,{placeholder:["Start Date","End Date"],style:{width:"100%"}})}),c.jsx(Se,{xs:24,sm:24,md:8,children:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(d1,{}),children:"More Filters"}),c.jsx(le,{children:"Export"})]})})]}),c.jsx(Jr,{dataSource:j,columns:H,loading:t,rowSelection:W,pagination:{current:I.current,pageSize:I.pageSize,total:I.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(K,Y)=>`${Y[0]}-${Y[1]} of ${K} work orders`,onChange:(K,Y)=>{p(k=>({...k,current:K,pageSize:Y||k.pageSize}))}}})]}),c.jsx(yGe,{visible:l,onClose:()=>u(!1),onSuccess:()=>{u(!1),_()}}),A&&c.jsx(SGe,{workOrderId:A.key,workOrderNumber:A.id,currentPriority:A.priority,visible:g,onClose:()=>{d(!1),C(null)},onSuccess:()=>{d(!1),C(null),_()}}),A&&c.jsx(NGe,{workOrderId:A.key,workOrderNumber:A.id,currentStartDate:A.scheduledStartDate,currentEndDate:A.scheduledEndDate,currentDueDate:A.dueDate,visible:f,onClose:()=>{h(!1),C(null)},onSuccess:()=>{h(!1),C(null),_()}})]})},{Title:kGe}=yr,DGe=()=>{const{id:t}=ml(),e=Kr(),[r,n]=D.useState(null),[i,s]=D.useState([]),[o,a]=D.useState(!0),[l,u]=D.useState(null);D.useEffect(()=>{document.title="Work Order Details - Manufacturing Execution System"},[]),D.useEffect(()=>{t&&g()},[t]);const g=async()=>{var h,A,C;a(!0),u(null);try{const I=localStorage.getItem("mes-auth-storage");let p;try{p=JSON.parse(I||"{}")}catch{throw new Error("Invalid authentication token")}const m=((h=p==null?void 0:p.state)==null?void 0:h.token)||(p==null?void 0:p.token);if(!m)throw new Error("No authentication token found");const v=await Vt.get(`/api/v1/workorders/${t}`,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});n(v.data.workOrder||v.data);try{const y=await Vt.get(`/api/v1/workorders/${t}/operations`,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});s(Array.isArray(y.data)?y.data:[])}catch(y){console.warn("Could not fetch operations:",y)}}catch(I){const p=((C=(A=I.response)==null?void 0:A.data)==null?void 0:C.error)||I.message||"Failed to load work order";u(p),Ee.error(p)}finally{a(!1)}},d=h=>{switch(h){case"COMPLETED":return"green";case"IN_PROGRESS":return"orange";case"PENDING":return"default";default:return"default"}},f=[{title:"Op #",dataIndex:"operationNumber",key:"operationNumber",width:80},{title:"Operation",dataIndex:"operationName",key:"operationName",render:(h,A)=>c.jsx(le,{type:"link",onClick:()=>e(`/workorders/${t}/execute/${A.operationNumber}`),style:{padding:0,height:"auto"},children:h})},{title:"Status",dataIndex:"status",key:"status",render:h=>c.jsx(Be,{color:d(h),children:h.replace("_"," ")})},{title:"Quantity",key:"quantity",render:h=>c.jsxs("span",{children:[h.completed||h.quantityCompleted||0,"/",h.quantity||r.quantity]})},{title:"Scrapped",dataIndex:"scrapped",key:"scrapped",render:(h,A)=>h||A.quantityScrap||0},{title:"Progress",dataIndex:"progress",key:"progress",render:h=>c.jsx(Wn,{percent:h||0,size:"small"})}];return o?c.jsxs("div",{style:{textAlign:"center",padding:"100px 0"},children:[c.jsx(ei,{size:"large"}),c.jsx("p",{style:{marginTop:16},children:"Loading work order details..."})]}):l||!r?c.jsxs("div",{children:[c.jsx(vh,{style:{marginBottom:16},items:[{title:c.jsx(le,{type:"link",icon:c.jsx(js,{}),onClick:()=>e("/workorders"),style:{padding:0},children:"Work Orders"})},{title:"Error"}]}),c.jsx(Pt,{message:"Error Loading Work Order",description:l||"Work order not found",type:"error",showIcon:!0,action:c.jsx(le,{size:"small",onClick:g,children:"Retry"})})]}):c.jsxs("div",{children:[c.jsx(vh,{style:{marginBottom:16},items:[{title:c.jsx(le,{type:"link",icon:c.jsx(js,{}),onClick:()=>e("/workorders"),style:{padding:0},children:"Work Orders"})},{title:r.workOrderNumber||r.id}]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsxs(kGe,{level:2,style:{margin:0},children:["Work Order ",r.workOrderNumber||r.id]}),c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Pi,{}),children:"Edit"}),r.status!=="COMPLETED"&&c.jsx(le,{type:"primary",icon:c.jsx(sm,{}),children:"Start Next Operation"})]})]}),c.jsxs(Dt,{gutter:[16,16],children:[c.jsxs(Se,{xs:24,lg:16,children:[c.jsx(xe,{title:"Work Order Information",children:c.jsxs(Ge,{column:{xs:1,sm:2,md:2},children:[c.jsx(Ge.Item,{label:"Work Order #",children:r.workOrderNumber||r.id}),c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:d(r.status),children:r.status.replace("_"," ")})}),c.jsx(Ge.Item,{label:"Part Number",children:r.partNumber}),c.jsx(Ge.Item,{label:"Part Name",children:r.partName}),c.jsx(Ge.Item,{label:"Quantity Ordered",children:r.quantity}),c.jsx(Ge.Item,{label:"Quantity Completed",children:r.completed}),c.jsx(Ge.Item,{label:"Quantity Scrapped",children:r.scrapped}),c.jsx(Ge.Item,{label:"Priority",children:c.jsx(Be,{color:"orange",children:r.priority})}),c.jsx(Ge.Item,{label:"Customer Order",children:r.customerOrder}),c.jsx(Ge.Item,{label:"Due Date",children:r.dueDate}),c.jsx(Ge.Item,{label:"Created Date",children:r.createdDate}),c.jsx(Ge.Item,{label:"Started Date",children:r.startedDate})]})}),c.jsx(xe,{title:"Operations",style:{marginTop:16},children:c.jsx(Jr,{dataSource:i,columns:f,pagination:!1,size:"small"})})]}),c.jsxs(Se,{xs:24,lg:8,children:[c.jsxs(xe,{title:"Overall Progress",children:[c.jsx("div",{style:{textAlign:"center",marginBottom:16},children:c.jsx(Wn,{type:"circle",percent:Math.round(r.completed/r.quantity*100),format:h=>`${h}%`,size:120})}),c.jsxs(Ge,{column:1,size:"small",children:[c.jsxs(Ge.Item,{label:"Completed",children:[r.completed," / ",r.quantity]}),c.jsx(Ge.Item,{label:"Scrapped",children:r.scrapped}),c.jsx(Ge.Item,{label:"Remaining",children:r.quantity-r.completed-r.scrapped})]})]}),c.jsx(xe,{title:"Activity History",style:{marginTop:16},children:c.jsx("div",{style:{textAlign:"center",padding:"20px 0",color:"#999"},children:"Activity history will be available soon"})})]})]})]})},{Title:FGe,Text:LGe}=yr,{TextArea:MGe}=at,BGe=()=>{const{id:t}=ml(),e=Kr(),[r,n]=D.useState(!1),[i]=me.useForm();D.useEffect(()=>{t&&i.setFieldsValue({workOrderNumber:t,status:"IN_PROGRESS",description:"Sample work order"})},[t,i]);const s=async o=>{try{n(!0),await new Promise(a=>setTimeout(a,500)),Ee.success("Work order updated successfully"),e(`/workorders/${t}`)}catch{Ee.error("Failed to update work order")}finally{n(!1)}};return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsx(le,{icon:c.jsx(js,{}),onClick:()=>e(`/workorders/${t}`),style:{marginBottom:16},children:"Back to Work Order"}),c.jsxs(FGe,{level:2,children:["Edit Work Order: ",t]}),c.jsx(LGe,{type:"secondary",children:"Modify work order details"})]}),c.jsx(xe,{children:c.jsx(ei,{spinning:r,children:c.jsxs(me,{form:i,layout:"vertical",onFinish:s,autoComplete:"off",children:[c.jsx(me.Item,{label:"Work Order Number",name:"workOrderNumber",rules:[{required:!0,message:"Please enter work order number"}],children:c.jsx(at,{placeholder:"WO-2024-001",disabled:!0})}),c.jsx(me.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select status"}],children:c.jsxs(we,{placeholder:"Select status",children:[c.jsx(we.Option,{value:"CREATED",children:"Created"}),c.jsx(we.Option,{value:"RELEASED",children:"Released"}),c.jsx(we.Option,{value:"IN_PROGRESS",children:"In Progress"}),c.jsx(we.Option,{value:"COMPLETED",children:"Completed"}),c.jsx(we.Option,{value:"CANCELLED",children:"Cancelled"})]})}),c.jsx(me.Item,{label:"Description",name:"description",children:c.jsx(MGe,{rows:4,placeholder:"Enter work order description"})}),c.jsx(me.Item,{children:c.jsxs(pe,{children:[c.jsx(le,{type:"primary",htmlType:"submit",loading:r,children:"Save Changes"}),c.jsx(le,{onClick:()=>e(`/workorders/${t}`),children:"Cancel"})]})})]})})})]})})},{TextArea:$Ge}=at,qGe=[{value:"MATERIAL_DEFECT",label:"Material Defect"},{value:"DIMENSION_OUT_OF_SPEC",label:"Dimension Out of Specification"},{value:"SURFACE_FINISH_REJECT",label:"Surface Finish Reject"},{value:"TOOL_BREAKAGE",label:"Tool Breakage/Damage"},{value:"OPERATOR_ERROR",label:"Operator Error"},{value:"MACHINE_MALFUNCTION",label:"Machine Malfunction"},{value:"IMPROPER_SETUP",label:"Improper Setup"},{value:"FOREIGN_OBJECT_DAMAGE",label:"Foreign Object Damage (FOD)"},{value:"HEAT_TREAT_FAILURE",label:"Heat Treatment Failure"},{value:"COATING_DEFECT",label:"Coating Defect"},{value:"OTHER",label:"Other (See Notes)"}],zGe=[{value:"DIMENSION_UNDERSIZE",label:"Dimension Undersize (Rework Possible)"},{value:"BURR_REMOVAL",label:"Burr Removal Required"},{value:"SURFACE_REWORK",label:"Surface Rework Required"},{value:"RECOAT_REQUIRED",label:"Recoating Required"},{value:"ASSEMBLY_DEFECT",label:"Assembly Defect - Rework"},{value:"OTHER",label:"Other (See Notes)"}],UGe=({workOrderId:t,operationNumber:e,orderedQuantity:r,completedQuantity:n,onSubmit:i,onCancel:s})=>{const[o]=me.useForm(),[a,l]=D.useState(!1),[u,g]=D.useState("complete"),d=r-n,f=async A=>{l(!0);try{await i(A),Ee.success(`${A.type==="complete"?"Completion":A.type.charAt(0).toUpperCase()+A.type.slice(1)} recorded successfully`),o.resetFields()}catch(C){Ee.error(`Failed to record ${A.type}: ${C instanceof Error?C.message:"Unknown error"}`)}finally{l(!1)}},h=(A,C)=>!C||C<=0?Promise.reject(new Error("Quantity must be greater than zero")):C<0?Promise.reject(new Error("Negative quantities are not allowed")):u==="complete"&&C>d?Promise.reject(new Error(`Quantity cannot exceed remaining quantity (${d})`)):u!=="complete"&&C>n?Promise.reject(new Error(`Quantity cannot exceed completed quantity (${n})`)):Promise.resolve();return c.jsxs("div",{"data-testid":"production-entry-form",children:[c.jsx(Pt,{message:"Production Entry",description:`Remaining: ${d} units | Completed: ${n} units`,type:"info",showIcon:!0,style:{marginBottom:16}}),c.jsxs(me,{form:o,layout:"vertical",onFinish:f,initialValues:{type:"complete"},children:[c.jsx(me.Item,{name:"type",label:"Entry Type",rules:[{required:!0,message:"Please select entry type"}],children:c.jsx(we,{"data-testid":"entry-type-select",onChange:A=>{g(A),o.setFieldsValue({quantity:void 0})},options:[{value:"complete",label:"Complete (Good Parts)"},{value:"scrap",label:"Scrap (Non-Repairable)"},{value:"rework",label:"Rework (Repairable)"}]})}),c.jsx(me.Item,{name:"quantity",label:"Quantity",rules:[{required:!0,message:"Please enter quantity"},{validator:h}],children:c.jsx(po,{"data-testid":`${u}-quantity-input`,style:{width:"100%"},min:1,max:u==="complete"?d:n,placeholder:`Enter quantity (max: ${u==="complete"?d:n})`})}),u==="scrap"&&c.jsx(me.Item,{name:"scrapReasonCode",label:"Scrap Reason Code",rules:[{required:!0,message:"Scrap reason code is required"}],children:c.jsx(we,{"data-testid":"scrap-reason-select",placeholder:"Select scrap reason",options:qGe})}),u==="rework"&&c.jsx(me.Item,{name:"reworkReasonCode",label:"Rework Reason Code",rules:[{required:!0,message:"Rework reason code is required"}],children:c.jsx(we,{"data-testid":"rework-reason-select",placeholder:"Select rework reason",options:zGe})}),c.jsx(me.Item,{name:"notes",label:"Notes",rules:[u==="scrap"&&o.getFieldValue("scrapReasonCode")==="OTHER"?{required:!0,message:'Notes are required for "Other" reason code'}:{}],children:c.jsx($Ge,{"data-testid":"notes-textarea",rows:3,placeholder:"Additional notes or details..."})}),c.jsx(me.Item,{children:c.jsxs(pe,{children:[c.jsxs(le,{type:"primary",htmlType:"submit",loading:a,icon:u==="complete"?c.jsx(vr,{}):c.jsx(Q1e,{}),"data-testid":"submit-production-entry-button",children:["Record ",u==="complete"?"Completion":u.charAt(0).toUpperCase()+u.slice(1)]}),s&&c.jsx(le,{onClick:s,"data-testid":"cancel-button",children:"Cancel"})]})})]})]})},Tr=({children:t,permissions:e=[],roles:r=[],requireAll:n=!1,fallback:i})=>{const{isAuthenticated:s,user:o}=qo(),a=gbe(),l=dbe(),u=Xc();if(!s||!o)return c.jsx(xu,{to:"/login",state:{from:u},replace:!0});if(!o.isActive)return c.jsx(jv,{status:"error",title:"Account Inactive",subTitle:"Your account has been deactivated. Please contact your administrator.",extra:c.jsx(le,{type:"primary",onClick:()=>window.location.href="/login",children:"Back to Login"})});if(e.length>0&&!(n?e.every(d=>a.includes(d)||a.includes("*")):e.some(d=>a.includes(d)||a.includes("*"))))return i||c.jsx(jv,{status:"403",title:"Access Denied",subTitle:"You don't have permission to access this resource.",extra:c.jsx(le,{type:"primary",onClick:()=>window.history.back(),children:"Go Back"})});if(r.length>0){const g=n?r.every(f=>l.includes(f)):r.some(f=>l.includes(f)),d=l.includes("System Administrator")||l.includes("Superuser");if(!g&&!d)return i||c.jsx(jv,{status:"403",title:"Access Denied",subTitle:"You don't have the required role to access this resource.",extra:c.jsx(le,{type:"primary",onClick:()=>window.history.back(),children:"Go Back"})})}return c.jsx(c.Fragment,{children:t})},WGe=()=>{const t=gbe(),e=dbe();return{hasPermission:r=>t.includes(r)||t.includes("*"),hasRole:r=>e.includes(r)||e.includes("System Administrator")||e.includes("Superuser"),hasAnyRole:r=>r.some(n=>e.includes(n))||e.includes("System Administrator")||e.includes("Superuser"),hasAllRoles:r=>r.every(n=>e.includes(n))||e.includes("System Administrator")||e.includes("Superuser"),hasAnyPermission:r=>r.some(n=>t.includes(n)||t.includes("*")),hasAllPermissions:r=>r.every(n=>t.includes(n)||t.includes("*"))}},GGe=({permissions:t=[],roles:e=[],requireAll:r=!1,children:n,fallback:i=null})=>{const s=WGe();return t.length>0&&!(r?s.hasAllPermissions(t):s.hasAnyPermission(t))?c.jsx(c.Fragment,{children:i}):e.length>0&&!(r?s.hasAllRoles(e):s.hasAnyRole(e))?c.jsx(c.Fragment,{children:i}):c.jsx(c.Fragment,{children:n})};async function VGe(t){return Nt.post(`/workorders/${t.workOrderId}/operations/${t.operationNumber}/start`,t)}async function HGe(t){return Nt.post(`/workorders/${t.workOrderId}/operations/${t.operationNumber}/record`,t)}async function KGe(t){return Nt.post(`/workorders/${t.workOrderId}/operations/${t.operationNumber}/complete`,t)}async function YGe(t){return Nt.post(`/workorders/${t.workOrderId}/operations/${t.operationNumber}/issues`,t)}async function ZGe(t,e){return Nt.get(`/workorders/${t}/operations/${e}`)}const{Title:XGe}=yr,QGe=()=>{const{id:t,operationNumber:e}=ml(),r=Kr(),[n,i]=D.useState(null),[s,o]=D.useState(!0),[a,l]=D.useState(!1),[u,g]=D.useState(!1),[d,f]=D.useState(!1);D.useEffect(()=>{t&&e&&h()},[t,e]);const h=async()=>{if(!(!t||!e)){o(!0);try{const x=await ZGe(t,parseInt(e));i(x.data||null)}catch(x){Ee.error(`Failed to load operation: ${x instanceof Error?x.message:"Unknown error"}`)}finally{o(!1)}}},A=async()=>{if(!(!t||!e)){l(!0);try{const x=await VGe({workOrderId:t,operationNumber:parseInt(e)});Ee.success("Operation started successfully"),i(x.operation)}catch(x){Ee.error(`Failed to start operation: ${x instanceof Error?x.message:"Unknown error"}`)}finally{l(!1)}}},C=async()=>{!t||!e||en.confirm({title:"Complete Operation",content:"Are you sure you want to complete this operation? This action cannot be undone.",okText:"Yes, Complete",cancelText:"Cancel",onOk:async()=>{l(!0);try{const x=await KGe({workOrderId:t,operationNumber:parseInt(e)});Ee.success("Operation completed successfully"),i(x.operation)}catch(x){Ee.error(`Failed to complete operation: ${x instanceof Error?x.message:"Unknown error"}`)}finally{l(!1)}}})},I=async x=>{if(!t||!e)return;const T=await HGe({workOrderId:t,operationNumber:parseInt(e),...x});i(T.operation),g(!1)},p=x=>{en.confirm({title:`Report ${x==="quality"?"Quality":"Equipment"} Issue`,content:`Do you want to report a ${x} issue for this operation?`,okText:"Report Issue",cancelText:"Cancel",onOk:async()=>{if(!(!t||!e))try{await YGe({workOrderId:t,operationNumber:parseInt(e),issueType:x,description:`${x} issue reported by operator`,severity:"medium"}),Ee.success(`${x} issue reported successfully`)}catch(T){Ee.error(`Failed to report issue: ${T instanceof Error?T.message:"Unknown error"}`)}}})},m=x=>{switch(x){case"COMPLETED":return"green";case"IN_PROGRESS":return"blue";case"ON_HOLD":return"red";default:return"default"}};if(s)return c.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:16},children:"Loading operation..."})]});if(!n)return c.jsx(Pt,{message:"Operation Not Found",description:"The requested operation could not be found or you don't have permission to access it.",type:"error",showIcon:!0});const v=n.orderedQuantity-n.completedQuantity-n.scrappedQuantity,y=Math.round((n.completedQuantity+n.scrappedQuantity)/n.orderedQuantity*100);return c.jsxs("div",{children:[c.jsx(vh,{style:{marginBottom:16},items:[{title:c.jsx(le,{type:"link",icon:c.jsx(js,{}),onClick:()=>r("/workorders"),style:{padding:0},children:"Work Orders"})},{title:n.workOrderNumber||n.workOrderId},{title:`Operation ${n.operationNumber}`}]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsxs(XGe,{level:2,style:{margin:0},children:["Operation ",n.operationNumber,": ",n.operationName]}),c.jsx(Be,{color:m(n.status),style:{fontSize:14,padding:"4px 12px"},children:n.status.replace("_"," ")})]}),c.jsxs(Dt,{gutter:[16,16],children:[c.jsxs(Se,{xs:24,lg:16,children:[c.jsxs(xe,{title:"Operation Information",children:[c.jsxs(Ge,{column:{xs:1,sm:2},children:[c.jsx(Ge.Item,{label:"Work Order",children:n.workOrderNumber||n.workOrderId}),c.jsx(Ge.Item,{label:"Operation Number",children:n.operationNumber}),c.jsx(Ge.Item,{label:"Operation Name",children:n.operationName}),c.jsx(Ge.Item,{label:"Work Center",children:n.workCenterName||"Not assigned"}),c.jsx(Ge.Item,{label:"Assigned Operator",children:n.assignedOperatorName||"Not assigned"}),c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:m(n.status),children:n.status.replace("_"," ")})})]}),c.jsx(Er,{}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Ordered",value:n.orderedQuantity})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Completed",value:n.completedQuantity,valueStyle:{color:"#3f8600"}})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Scrapped",value:n.scrappedQuantity,valueStyle:{color:"#cf1322"}})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Remaining",value:v})})]})]}),c.jsx(GGe,{permissions:["workorders.execute"],children:c.jsxs(xe,{title:"Production Actions",style:{marginTop:16},children:[n.status==="PENDING"&&c.jsxs("div",{children:[c.jsx(Pt,{message:"Operation Not Started",description:"Click 'Start Operation' to begin production.",type:"info",showIcon:!0,style:{marginBottom:16}}),c.jsx(le,{type:"primary",size:"large",icon:c.jsx(sm,{}),onClick:A,loading:a,"data-testid":"start-operation-button",children:"Start Operation"})]}),n.status==="IN_PROGRESS"&&c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[!u&&c.jsxs(pe,{wrap:!0,children:[c.jsx(le,{type:"primary",size:"large",icon:c.jsx(vr,{}),onClick:()=>g(!0),"data-testid":"record-button",children:"Record Production"}),c.jsx(le,{size:"large",icon:c.jsx(Ns,{}),onClick:()=>p("quality"),"data-testid":"report-quality-issue-button",children:"Report Quality Issue"}),c.jsx(le,{size:"large",icon:c.jsx(Uc,{}),onClick:()=>p("equipment"),"data-testid":"report-equipment-issue-button",children:"Report Equipment Problem"}),v===0&&c.jsx(le,{type:"primary",danger:!0,size:"large",icon:c.jsx(vr,{}),onClick:C,loading:a,"data-testid":"complete-operation-button",children:"Complete Operation"})]}),u&&c.jsx(UGe,{workOrderId:n.workOrderId,operationNumber:n.operationNumber,orderedQuantity:n.orderedQuantity,completedQuantity:n.completedQuantity,onSubmit:I,onCancel:()=>g(!1)})]}),n.status==="COMPLETED"&&c.jsx(Pt,{message:"Operation Completed",description:"This operation has been completed.",type:"success",showIcon:!0}),n.status==="ON_HOLD"&&c.jsx(Pt,{message:"Operation On Hold",description:"This operation is currently on hold. Contact your supervisor for details.",type:"warning",showIcon:!0})]})})]}),c.jsx(Se,{xs:24,lg:8,children:c.jsxs(xe,{title:"Production Progress",children:[c.jsx("div",{style:{textAlign:"center",marginBottom:16},children:c.jsx(Mt,{title:"Overall Progress",value:y,suffix:"%",valueStyle:{color:y===100?"#3f8600":"#1890ff"}})}),c.jsx(ya,{items:[{color:"green",children:`Completed: ${n.completedQuantity} units`},{color:"red",children:`Scrapped: ${n.scrappedQuantity} units`},{color:n.reworkQuantity>0?"orange":"gray",children:`Rework: ${n.reworkQuantity} units`},{color:v>0?"blue":"gray",children:`Remaining: ${v} units`}]}),n.startTime&&c.jsx("div",{style:{marginTop:16,padding:12,background:"#f0f2f5",borderRadius:4},children:c.jsxs(pe,{direction:"vertical",size:"small",children:[c.jsxs("div",{children:[c.jsx(Zi,{})," ",c.jsx("strong",{children:"Started:"})," ",new Date(n.startTime).toLocaleString()]}),n.endTime&&c.jsxs("div",{children:[c.jsx(vr,{style:{color:"#52c41a"}})," ",c.jsx("strong",{children:"Completed:"})," ",new Date(n.endTime).toLocaleString()]})]})})]})})]})]})},{Title:JGe}=yr,eVe=()=>{const t=Kr();D.useEffect(()=>{document.title="Quality Management - Manufacturing Execution System"},[]);const e={firstPassYield:94.5,defectRate:2.1,customerComplaints:.3,ncrCount:15,inspectionsToday:28,passedInspections:26},r=[{key:"1",inspectionId:"QI-2024-001",workOrder:"WO-2024-001001",partNumber:"ENG-BLADE-001",operation:"Final Inspection",result:"PASS",inspector:"Jane Smith",completedAt:"2024-01-25 14:30"},{key:"2",inspectionId:"QI-2024-002",workOrder:"WO-2024-001002",partNumber:"ENG-VANE-002",operation:"Dimensional Check",result:"FAIL",inspector:"Mike Johnson",completedAt:"2024-01-25 13:15"},{key:"3",inspectionId:"QI-2024-003",workOrder:"WO-2024-001003",partNumber:"ENG-DISK-003",operation:"Surface Finish",result:"PASS",inspector:"Sarah Wilson",completedAt:"2024-01-25 11:45"}],n=[{id:"NCR-2024-001",partNumber:"ENG-BLADE-001",description:"Dimension out of tolerance - Blade length",severity:"MAJOR",status:"OPEN",createdBy:"Jane Smith",createdAt:"2024-01-25 10:30"},{id:"NCR-2024-002",partNumber:"ENG-VANE-002",description:"Surface finish defect on leading edge",severity:"MINOR",status:"IN_REVIEW",createdBy:"Mike Johnson",createdAt:"2024-01-24 16:20"}],i=l=>{switch(l){case"PASS":return"green";case"FAIL":return"red";case"CONDITIONAL":return"orange";default:return"default"}},s=l=>{switch(l){case"CRITICAL":return"red";case"MAJOR":return"orange";case"MINOR":return"blue";default:return"default"}},o=l=>{switch(l){case"OPEN":return"red";case"IN_REVIEW":return"orange";case"CLOSED":return"green";default:return"default"}},a=[{title:"Inspection ID",dataIndex:"inspectionId",key:"inspectionId",render:(l,u)=>c.jsx(le,{type:"link",onClick:()=>t(`/quality/inspections/${u.key}`),children:l})},{title:"Work Order",dataIndex:"workOrder",key:"workOrder"},{title:"Part Number",dataIndex:"partNumber",key:"partNumber"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Result",dataIndex:"result",key:"result",render:l=>c.jsx(Be,{color:i(l),children:l})},{title:"Inspector",dataIndex:"inspector",key:"inspector"},{title:"Completed",dataIndex:"completedAt",key:"completedAt"},{title:"Actions",key:"actions",render:l=>c.jsxs(pe,{children:[c.jsx(lt,{title:"View Details",children:c.jsx(le,{icon:c.jsx(Os,{}),size:"small",onClick:()=>t(`/quality/inspections/${l.key}`)})}),c.jsx(lt,{title:"Edit",children:c.jsx(le,{icon:c.jsx(Pi,{}),size:"small"})})]})}];return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(JGe,{level:2,style:{margin:0},children:"Quality Management"}),c.jsxs(pe,{children:[c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),children:"New Inspection"}),c.jsx(le,{icon:c.jsx(zI,{}),children:"Create NCR"})]})]}),c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:24},children:[c.jsx(Se,{xs:24,sm:12,lg:8,children:c.jsx(xe,{children:c.jsx(Mt,{title:"First Pass Yield",value:e.firstPassYield,precision:1,suffix:"%",prefix:c.jsx(vr,{}),valueStyle:{color:"#faad14"}})})}),c.jsx(Se,{xs:24,sm:12,lg:8,children:c.jsxs(xe,{children:[c.jsx(Mt,{title:"Defect Rate",value:e.defectRate,precision:1,suffix:"%",prefix:c.jsx(Ns,{}),valueStyle:{color:"#faad14"}}),c.jsxs("div",{style:{fontSize:12,color:"#999",marginTop:4},children:[c.jsx(mke,{style:{color:"#52c41a"}})," 0.3% improvement"]})]})}),c.jsx(Se,{xs:24,sm:12,lg:8,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Customer Complaints",value:e.customerComplaints,precision:1,suffix:"%",prefix:c.jsx(zI,{}),valueStyle:{color:"#52c41a"}})})}),c.jsx(Se,{xs:24,sm:12,lg:8,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active NCRs",value:e.ncrCount,prefix:c.jsx(zI,{}),valueStyle:{color:"#ff4d4f"}})})}),c.jsx(Se,{xs:24,sm:12,lg:8,children:c.jsxs(xe,{children:[c.jsx(Mt,{title:"Inspections Today",value:e.inspectionsToday,prefix:c.jsx(im,{}),valueStyle:{color:"#1890ff"}}),c.jsx(Wn,{percent:Math.round(e.passedInspections/e.inspectionsToday*100),size:"small",format:()=>`${e.passedInspections}/${e.inspectionsToday} passed`,style:{marginTop:8}})]})})]}),c.jsxs(Dt,{gutter:[16,16],children:[c.jsx(Se,{xs:24,lg:16,children:c.jsx(xe,{title:"Recent Inspections",extra:c.jsx(le,{type:"link",onClick:()=>t("/quality/inspections"),children:"View All"}),children:c.jsx(Jr,{dataSource:r,columns:a,pagination:!1,size:"small"})})}),c.jsx(Se,{xs:24,lg:8,children:c.jsx(xe,{title:"Active NCRs",extra:c.jsx(le,{type:"link",onClick:()=>t("/quality/ncrs"),children:"View All"}),children:c.jsx(ya,{items:n.map(l=>({key:l.id,dot:c.jsx(zI,{style:{color:l.severity==="CRITICAL"?"#ff4d4f":l.severity==="MAJOR"?"#faad14":"#1890ff"}}),children:c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:c.jsx(le,{type:"link",size:"small",style:{padding:0,height:"auto"},onClick:()=>t(`/quality/ncrs/${l.id}`),children:l.id})}),c.jsx("div",{style:{fontSize:12,color:"#666",marginBottom:4},children:l.partNumber}),c.jsx("div",{style:{fontSize:13,marginBottom:4},children:l.description}),c.jsxs(pe,{size:"small",children:[c.jsx(Be,{color:s(l.severity),children:l.severity}),c.jsx(Be,{color:o(l.status),children:l.status})]}),c.jsxs("div",{style:{fontSize:11,color:"#999",marginTop:4},children:[l.createdBy,"  ",l.createdAt]})]})}))})})})]})]})},b2={async getInspections(t){return await Lr.get("/quality/inspections",{params:t})},async getInspectionById(t){return await Lr.get(`/quality/inspections/${t}`)},async createInspection(t){return await Lr.post("/quality/inspections",t)},async updateInspectionResult(t,e,r,n){return await Lr.patch(`/quality/inspections/${t}`,{result:e,passedCharacteristics:r,notes:n,completedAt:new Date().toISOString()})},async getNCRs(t){return await Lr.get("/quality/ncrs",{params:t})},async getNCRById(t){return await Lr.get(`/quality/ncrs/${t}`)},async createNCR(t){return await Lr.post("/quality/ncrs",t)},async updateNCRStatus(t,e,r){return await Lr.patch(`/quality/ncrs/${t}/status`,{status:e,notes:r})},async addCorrectiveAction(t,e,r){return await Lr.patch(`/quality/ncrs/${t}/corrective-action`,{correctiveAction:e,rootCause:r})},async closeNCR(t,e){return await Lr.patch(`/quality/ncrs/${t}/close`,{resolution:e,closedAt:new Date().toISOString()})}},{Title:tVe}=yr,{RangePicker:rVe}=Vl,nVe=()=>{var _,S;const[t,e]=D.useState(!1),[r,n]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState([]),[l,u]=D.useState({current:1,pageSize:10,total:0}),[g,d]=D.useState(!1),[f]=me.useForm(),h=Kr(),{user:A}=qo();D.useEffect(()=>{document.title="Quality Inspections - Manufacturing Execution System"},[]),D.useEffect(()=>{C()},[l.current,l.pageSize,i]);const C=async()=>{try{e(!0);const j={page:l.current,limit:l.pageSize};i&&(j.result=i),r&&(j.workOrderId=r);const w=await b2.getInspections(j);a(w.inspections),u(R=>({...R,total:w.total}))}catch(j){console.error("Failed to load inspections:",j),Ee.error("Failed to load inspections. Please try again.")}finally{e(!1)}},I=()=>{u(j=>({...j,current:1})),C()},p=j=>{switch(j){case"PASS":return"green";case"FAIL":return"red";case"CONDITIONAL":return"orange";default:return"default"}},m=j=>{switch(j){case"PASS":return c.jsx(vr,{});case"FAIL":return c.jsx(ts,{});case"CONDITIONAL":return c.jsx(im,{});default:return null}},v=[{title:"Inspection ID",dataIndex:"inspectionId",key:"inspectionId",render:(j,w)=>c.jsx(le,{type:"link",onClick:()=>h(`/quality/inspections/${w.key}`),children:j})},{title:"Work Order",dataIndex:"workOrder",key:"workOrder"},{title:"Part Number",dataIndex:"partNumber",key:"partNumber"},{title:"Part Name",dataIndex:"partName",key:"partName"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Inspection Plan",dataIndex:"planName",key:"planName"},{title:"Result",dataIndex:"result",key:"result",render:j=>c.jsx(Be,{color:p(j),icon:m(j),children:j})},{title:"Characteristics",key:"characteristics",render:j=>c.jsxs("span",{children:[j.passedCharacteristics,"/",j.characteristics]})},{title:"Inspector",dataIndex:"inspector",key:"inspector"},{title:"Completed",dataIndex:"completedAt",key:"completedAt"},{title:"Actions",key:"actions",render:j=>c.jsxs(pe,{children:[c.jsx(lt,{title:"View Details",children:c.jsx(le,{icon:c.jsx(Os,{}),size:"small",onClick:()=>h(`/quality/inspections/${j.key}`)})}),c.jsx(lt,{title:"Edit",children:c.jsx(le,{icon:c.jsx(Pi,{}),size:"small"})})]})}],y=()=>{d(!0)},x=async()=>{try{const j=await f.validateFields();await b2.createInspection({workOrderId:j.workOrder,operation:j.operation,qualityPlanId:j.inspectionPlan,inspector:j.inspector,quantity:j.quantity,notes:j.notes}),Ee.success("Inspection created successfully"),d(!1),f.resetFields(),C()}catch(j){console.error("Failed to create inspection:",j),Ee.error("Failed to create inspection. Please try again.")}},T=()=>{d(!1),f.resetFields()},E=((_=A==null?void 0:A.permissions)==null?void 0:_.includes("quality.write"))||((S=A==null?void 0:A.permissions)==null?void 0:S.includes("inspections.write"))||!1;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(tVe,{level:2,style:{margin:0},children:"Quality Inspections"}),c.jsx(lt,{title:E?"":"You don't have permission to create inspections",children:c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:y,disabled:!E,children:"New Inspection"})})]}),c.jsxs(xe,{children:[c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:16},children:[c.jsx(Se,{xs:24,sm:8,md:6,children:c.jsx(at,{placeholder:"Search inspections...",prefix:c.jsx(Gn,{}),value:r,onChange:j=>n(j.target.value),onPressEnter:I})}),c.jsx(Se,{xs:24,sm:8,md:4,children:c.jsxs(we,{placeholder:"Result",style:{width:"100%"},value:i,onChange:s,allowClear:!0,children:[c.jsx(we.Option,{value:"PASS",children:"Pass"}),c.jsx(we.Option,{value:"FAIL",children:"Fail"}),c.jsx(we.Option,{value:"CONDITIONAL",children:"Conditional"})]})}),c.jsx(Se,{xs:24,sm:8,md:6,children:c.jsx(rVe,{placeholder:["Start Date","End Date"],style:{width:"100%"}})}),c.jsx(Se,{xs:24,sm:24,md:8,children:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(d1,{}),children:"More Filters"}),c.jsx(le,{children:"Export"})]})})]}),c.jsx(Jr,{dataSource:o.map(j=>({key:j.id,inspectionId:j.id,workOrder:j.workOrderNumber||j.workOrderId,partNumber:j.partNumber,partName:j.partName,operation:j.operation,planName:j.qualityPlanName,result:j.result,inspector:j.inspector,startedAt:new Date(j.startedAt).toLocaleString(),completedAt:j.completedAt?new Date(j.completedAt).toLocaleString():"In Progress",characteristics:j.totalCharacteristics,passedCharacteristics:j.passedCharacteristics})),columns:v,loading:t,pagination:{current:l.current,pageSize:l.pageSize,total:l.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(j,w)=>`${w[0]}-${w[1]} of ${j} inspections`,onChange:(j,w)=>{u(R=>({...R,current:j,pageSize:w||R.pageSize}))}}})]}),c.jsx(en,{title:"Create New Inspection",open:g,onOk:x,onCancel:T,width:600,children:c.jsxs(me,{form:f,layout:"vertical",children:[c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"workOrder",label:"Work Order",rules:[{required:!0,message:"Please select a work order"}],children:c.jsxs(we,{placeholder:"Select work order",children:[c.jsx(we.Option,{value:"WO-2024-001001",children:"WO-2024-001001"}),c.jsx(we.Option,{value:"WO-2024-001002",children:"WO-2024-001002"}),c.jsx(we.Option,{value:"WO-2024-001003",children:"WO-2024-001003"})]})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"operation",label:"Operation",rules:[{required:!0,message:"Please enter operation"}],children:c.jsx(at,{placeholder:"e.g., Final Inspection"})})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"inspectionPlan",label:"Inspection Plan",rules:[{required:!0,message:"Please select inspection plan"}],children:c.jsxs(we,{placeholder:"Select inspection plan",children:[c.jsx(we.Option,{value:"PLAN-001",children:"Blade Final Inspection Plan"}),c.jsx(we.Option,{value:"PLAN-002",children:"Vane Dimensional Plan"}),c.jsx(we.Option,{value:"PLAN-003",children:"Disk Surface Inspection"})]})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"inspector",label:"Inspector",rules:[{required:!0,message:"Please select inspector"}],children:c.jsxs(we,{placeholder:"Select inspector",children:[c.jsx(we.Option,{value:"jane.smith",children:"Jane Smith"}),c.jsx(we.Option,{value:"mike.johnson",children:"Mike Johnson"}),c.jsx(we.Option,{value:"sarah.wilson",children:"Sarah Wilson"}),c.jsx(we.Option,{value:"david.brown",children:"David Brown"})]})})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"quantity",label:"Quantity to Inspect",rules:[{required:!0,message:"Please enter quantity"}],children:c.jsx(po,{min:1,style:{width:"100%"}})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"autoStart",label:"Auto Start Inspection",valuePropName:"checked",children:c.jsx(zn,{})})})]}),c.jsx(me.Item,{name:"notes",label:"Notes",children:c.jsx(at.TextArea,{rows:3,placeholder:"Optional inspection notes"})})]})})]})},{Title:iVe,Text:sVe}=yr,oVe=()=>{const{id:t}=ml(),e=Kr(),[r,n]=D.useState(!1),[i,s]=D.useState(null);D.useEffect(()=>{n(!0),setTimeout(()=>{s({id:t||"",inspectionNumber:`INS-${t}`,status:"PASSED",partNumber:"TB-450-001",lotNumber:"LOT-2024-001",inspector:"John Doe",datePerformed:new Date().toISOString().split("T")[0],result:"All measurements within tolerance"}),n(!1)},300)},[t]);const o=a=>({PASSED:"success",FAILED:"error",PENDING:"warning",IN_PROGRESS:"processing"})[a]||"default";return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsx(le,{icon:c.jsx(js,{}),onClick:()=>e("/quality/inspections"),style:{marginBottom:16},children:"Back to Inspections"}),c.jsxs(iVe,{level:2,children:["Inspection Details: ",t]}),c.jsx(sVe,{type:"secondary",children:"Quality inspection record"})]}),c.jsx(xe,{children:c.jsx(ei,{spinning:r,children:i&&c.jsxs(Ge,{bordered:!0,column:2,children:[c.jsx(Ge.Item,{label:"Inspection Number",span:2,children:i.inspectionNumber}),c.jsx(Ge.Item,{label:"Status",span:2,children:c.jsx(Be,{color:o(i.status),children:i.status})}),c.jsx(Ge.Item,{label:"Part Number",children:i.partNumber}),c.jsx(Ge.Item,{label:"Lot Number",children:i.lotNumber}),c.jsx(Ge.Item,{label:"Inspector",children:i.inspector}),c.jsx(Ge.Item,{label:"Date Performed",children:i.datePerformed}),c.jsx(Ge.Item,{label:"Result",span:2,children:i.result})]})})})]})})},{Title:aVe}=yr,{RangePicker:lVe}=Vl,{TextArea:eZ}=at,cVe=()=>{var w,R;const[t,e]=D.useState(!1),[r,n]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState([]),[g,d]=D.useState({current:1,pageSize:10,total:0}),[f,h]=D.useState(!1),[A]=me.useForm(),{user:C}=qo(),I=Kr();D.useEffect(()=>{document.title="Non-Conformance Reports - Manufacturing Execution System"},[]),D.useEffect(()=>{p()},[g.current,g.pageSize,i,o]);const p=async()=>{try{e(!0);const N={page:g.current,limit:g.pageSize};i&&(N.status=i),o&&(N.severity=o),r&&(N.workOrderId=r);const P=await b2.getNCRs(N);u(P.ncrs),d(M=>({...M,total:P.total}))}catch(N){console.error("Failed to load NCRs:",N),Ee.error("Failed to load NCRs. Please try again.")}finally{e(!1)}},m=()=>{d(N=>({...N,current:1})),p()},v=N=>{switch(N){case"CRITICAL":return"red";case"MAJOR":return"orange";case"MINOR":return"blue";default:return"default"}},y=N=>{switch(N){case"OPEN":return"red";case"IN_REVIEW":return"orange";case"CORRECTIVE_ACTION":return"purple";case"CLOSED":return"green";default:return"default"}},x=N=>{switch(N){case"CRITICAL":return c.jsx(ts,{});case"MAJOR":return c.jsx(rp,{});case"MINOR":return c.jsx(zI,{});default:return null}},T=[{title:"NCR ID",dataIndex:"ncrId",key:"ncrId",render:(N,P)=>c.jsx(le,{type:"link",onClick:()=>I(`/quality/ncrs/${P.key}`),children:N})},{title:"Work Order",dataIndex:"workOrder",key:"workOrder"},{title:"Part Number",dataIndex:"partNumber",key:"partNumber"},{title:"Part Name",dataIndex:"partName",key:"partName"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Defect Type",dataIndex:"defectType",key:"defectType"},{title:"Severity",dataIndex:"severity",key:"severity",render:N=>c.jsx(Be,{color:v(N),icon:x(N),children:N})},{title:"Status",dataIndex:"status",key:"status",render:N=>c.jsx(Be,{color:y(N),children:N.replace("_"," ")})},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Assigned To",dataIndex:"assignedTo",key:"assignedTo"},{title:"Due Date",dataIndex:"dueDate",key:"dueDate",render:(N,P)=>{const M=P.status!=="CLOSED"&&new Date(N)<new Date;return c.jsxs("span",{style:{color:M?"#ff4d4f":void 0},children:[N,M&&" (Overdue)"]})}},{title:"Actions",key:"actions",render:N=>c.jsxs(pe,{children:[c.jsx(lt,{title:"View Details",children:c.jsx(le,{icon:c.jsx(Os,{}),size:"small",onClick:()=>I(`/quality/ncrs/${N.key}`)})}),c.jsx(lt,{title:"Edit",children:c.jsx(le,{icon:c.jsx(Pi,{}),size:"small"})})]})}],E=()=>{h(!0)},_=async()=>{try{const N=await A.validateFields();await b2.createNCR({workOrderId:N.workOrder,operation:N.operation,defectType:N.defectType,description:N.description,severity:N.severity,quantity:parseInt(N.quantity),assignedTo:N.assignedTo,dueDate:N.dueDate.toISOString(),immediateAction:N.immediateAction,customerNotification:N.customerNotification,rootCause:N.rootCause}),Ee.success("NCR created successfully"),h(!1),A.resetFields(),p()}catch(N){console.error("Failed to create NCR:",N),Ee.error("Failed to create NCR. Please try again.")}},S=()=>{h(!1),A.resetFields()},j=((w=C==null?void 0:C.permissions)==null?void 0:w.includes("quality.write"))||((R=C==null?void 0:C.permissions)==null?void 0:R.includes("ncr.write"))||!1;return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(aVe,{level:2,style:{margin:0},children:"Non-Conformance Reports"}),c.jsx(lt,{title:j?"":"You don't have permission to create NCRs",children:c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:E,disabled:!j,children:"Create NCR"})})]}),c.jsxs(xe,{children:[c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:16},children:[c.jsx(Se,{xs:24,sm:8,md:5,children:c.jsx(at,{placeholder:"Search NCRs...",prefix:c.jsx(Gn,{}),value:r,onChange:N=>n(N.target.value),onPressEnter:m})}),c.jsx(Se,{xs:24,sm:8,md:4,children:c.jsxs(we,{placeholder:"Status",style:{width:"100%"},value:i,onChange:s,allowClear:!0,children:[c.jsx(we.Option,{value:"OPEN",children:"Open"}),c.jsx(we.Option,{value:"IN_REVIEW",children:"In Review"}),c.jsx(we.Option,{value:"CORRECTIVE_ACTION",children:"Corrective Action"}),c.jsx(we.Option,{value:"CLOSED",children:"Closed"})]})}),c.jsx(Se,{xs:24,sm:8,md:4,children:c.jsxs(we,{placeholder:"Severity",style:{width:"100%"},value:o,onChange:a,allowClear:!0,children:[c.jsx(we.Option,{value:"CRITICAL",children:"Critical"}),c.jsx(we.Option,{value:"MAJOR",children:"Major"}),c.jsx(we.Option,{value:"MINOR",children:"Minor"})]})}),c.jsx(Se,{xs:24,sm:8,md:5,children:c.jsx(lVe,{placeholder:["Start Date","End Date"],style:{width:"100%"}})}),c.jsx(Se,{xs:24,sm:16,md:6,children:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(d1,{}),children:"More Filters"}),c.jsx(le,{children:"Export"})]})})]}),c.jsx(Jr,{dataSource:l.map(N=>({key:N.id,ncrId:N.ncrNumber,workOrder:N.workOrderNumber||N.workOrderId,partNumber:N.partNumber,partName:N.partName,operation:N.operation,defectType:N.defectType,severity:N.severity,status:N.status,quantity:N.quantity,assignedTo:N.assignedTo,dueDate:new Date(N.dueDate).toLocaleDateString(),closedAt:N.closedAt})),columns:T,loading:t,pagination:{current:g.current,pageSize:g.pageSize,total:g.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(N,P)=>`${P[0]}-${P[1]} of ${N} NCRs`,onChange:(N,P)=>{d(M=>({...M,current:N,pageSize:P||M.pageSize}))}},scroll:{x:1200}})]}),c.jsx(en,{title:"Create Non-Conformance Report",open:f,onOk:_,onCancel:S,width:800,children:c.jsxs(me,{form:A,layout:"vertical",children:[c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"workOrder",label:"Work Order",rules:[{required:!0,message:"Please select a work order"}],children:c.jsxs(we,{placeholder:"Select work order",children:[c.jsx(we.Option,{value:"WO-2024-001001",children:"WO-2024-001001 - Turbine Blade"}),c.jsx(we.Option,{value:"WO-2024-001002",children:"WO-2024-001002 - Guide Vane"}),c.jsx(we.Option,{value:"WO-2024-001003",children:"WO-2024-001003 - Compressor Disk"})]})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"operation",label:"Operation",rules:[{required:!0,message:"Please enter operation"}],children:c.jsx(at,{placeholder:"e.g., Final Inspection"})})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"defectType",label:"Defect Type",rules:[{required:!0,message:"Please select defect type"}],children:c.jsxs(we,{placeholder:"Select defect type",children:[c.jsx(we.Option,{value:"Dimensional",children:"Dimensional"}),c.jsx(we.Option,{value:"Surface",children:"Surface"}),c.jsx(we.Option,{value:"Material",children:"Material"}),c.jsx(we.Option,{value:"Process",children:"Process"}),c.jsx(we.Option,{value:"Assembly",children:"Assembly"}),c.jsx(we.Option,{value:"Documentation",children:"Documentation"})]})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"severity",label:"Severity",rules:[{required:!0,message:"Please select severity"}],children:c.jsxs(we,{placeholder:"Select severity",children:[c.jsx(we.Option,{value:"CRITICAL",children:"Critical"}),c.jsx(we.Option,{value:"MAJOR",children:"Major"}),c.jsx(we.Option,{value:"MINOR",children:"Minor"})]})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"quantity",label:"Affected Quantity",rules:[{required:!0,message:"Please enter quantity"}],children:c.jsx(at,{placeholder:"Number of affected parts"})})})]}),c.jsx(me.Item,{name:"description",label:"Defect Description",rules:[{required:!0,message:"Please describe the defect"}],children:c.jsx(eZ,{rows:4,placeholder:"Detailed description of the non-conformance..."})}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"assignedTo",label:"Assign To",rules:[{required:!0,message:"Please assign to someone"}],children:c.jsxs(we,{placeholder:"Select assignee",children:[c.jsx(we.Option,{value:"quality.engineer",children:"Quality Engineer"}),c.jsx(we.Option,{value:"process.engineer",children:"Process Engineer"}),c.jsx(we.Option,{value:"materials.engineer",children:"Materials Engineer"}),c.jsx(we.Option,{value:"engineering.team",children:"Engineering Team"})]})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"dueDate",label:"Due Date",rules:[{required:!0,message:"Please select due date"}],children:c.jsx(Vl,{style:{width:"100%"}})})})]}),c.jsx(Er,{}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"immediateAction",label:"Immediate Action Required",valuePropName:"checked",children:c.jsx(zn,{})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"customerNotification",label:"Customer Notification Required",valuePropName:"checked",children:c.jsx(zn,{})})})]}),c.jsx(me.Item,{name:"rootCause",label:"Initial Root Cause Assessment",children:c.jsx(eZ,{rows:3,placeholder:"Preliminary assessment of root cause..."})})]})})]})},{Title:uVe,Text:gVe}=yr,dVe=()=>{const{id:t}=ml(),e=Kr(),[r,n]=D.useState(!1),[i,s]=D.useState(null);D.useEffect(()=>{n(!0),setTimeout(()=>{s({id:t||"",ncrNumber:`NCR-${t}`,status:"OPEN",partNumber:"TB-450-001",lotNumber:"LOT-2024-001",defectDescription:"Surface finish out of specification",reportedBy:"Jane Smith",dateReported:new Date().toISOString().split("T")[0],severity:"MAJOR"}),n(!1)},300)},[t]);const o=l=>({OPEN:"error",IN_REVIEW:"warning",CLOSED:"success",REJECTED:"default"})[l]||"default",a=l=>({CRITICAL:"red",MAJOR:"orange",MINOR:"gold",COSMETIC:"blue"})[l]||"default";return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsx(le,{icon:c.jsx(js,{}),onClick:()=>e("/quality/ncrs"),style:{marginBottom:16},children:"Back to NCRs"}),c.jsxs(uVe,{level:2,children:["NCR Details: ",t]}),c.jsx(gVe,{type:"secondary",children:"Non-Conformance Report"})]}),c.jsx(xe,{children:c.jsx(ei,{spinning:r,children:i&&c.jsxs(Ge,{bordered:!0,column:2,children:[c.jsx(Ge.Item,{label:"NCR Number",span:2,children:i.ncrNumber}),c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:o(i.status),children:i.status})}),c.jsx(Ge.Item,{label:"Severity",children:c.jsx(Be,{color:a(i.severity),children:i.severity})}),c.jsx(Ge.Item,{label:"Part Number",children:i.partNumber}),c.jsx(Ge.Item,{label:"Lot Number",children:i.lotNumber}),c.jsx(Ge.Item,{label:"Reported By",children:i.reportedBy}),c.jsx(Ge.Item,{label:"Date Reported",children:i.dateReported}),c.jsx(Ge.Item,{label:"Defect Description",span:2,children:i.defectDescription})]})})})]})})},XT={async getTraceabilityBySerialNumber(t){return await Lr.get(`/traceability/serial/${t}`)},async getGenealogy(t){return await Lr.get(`/traceability/genealogy/${t}`)},async getManufacturingHistory(t){return await Lr.get(`/traceability/history/${t}`)},async getMaterialCertificates(t){return await Lr.get(`/traceability/certificates/${t}`)},async getQualityRecords(t){return await Lr.get(`/traceability/quality/${t}`)},async getForwardTraceability(t){return await Lr.get(`/traceability/forward/${t}`)},async getBackwardTraceability(t){return await Lr.get(`/traceability/backward/${t}`)},async searchTraceability(t){return await Lr.get("/traceability/search",{params:t})}};var hVe={value:()=>{}};function VS(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Rw(r)}function Rw(t){this._=t}function fVe(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Rw.prototype=VS.prototype={constructor:Rw,on:function(t,e){var r=this._,n=fVe(t+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(t=n[s]).type)&&(i=AVe(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=n[s]).type)r[i]=tZ(r[i],t.name,e);else if(e==null)for(i in r)r[i]=tZ(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Rw(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],n=0,i=s.length;n<i;++n)s[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,s=n.length;i<s;++i)n[i].value.apply(e,r)}};function AVe(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function tZ(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=hVe,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var Mz="http://www.w3.org/1999/xhtml";const rZ={svg:"http://www.w3.org/2000/svg",xhtml:Mz,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function HS(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),rZ.hasOwnProperty(e)?{space:rZ[e],local:t}:t}function CVe(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Mz&&e.documentElement.namespaceURI===Mz?e.createElement(t):e.createElementNS(r,t)}}function IVe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sSe(t){var e=HS(t);return(e.local?IVe:CVe)(e)}function pVe(){}function n9(t){return t==null?pVe:function(){return this.querySelector(t)}}function mVe(t){typeof t!="function"&&(t=n9(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],o=s.length,a=n[i]=new Array(o),l,u,g=0;g<o;++g)(l=s[g])&&(u=t.call(l,l.__data__,g,s))&&("__data__"in l&&(u.__data__=l.__data__),a[g]=u);return new pl(n,this._parents)}function vVe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function yVe(){return[]}function oSe(t){return t==null?yVe:function(){return this.querySelectorAll(t)}}function xVe(t){return function(){return vVe(t.apply(this,arguments))}}function bVe(t){typeof t=="function"?t=xVe(t):t=oSe(t);for(var e=this._groups,r=e.length,n=[],i=[],s=0;s<r;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(n.push(t.call(l,l.__data__,u,o)),i.push(l));return new pl(n,i)}function aSe(t){return function(){return this.matches(t)}}function lSe(t){return function(e){return e.matches(t)}}var wVe=Array.prototype.find;function SVe(t){return function(){return wVe.call(this.children,t)}}function EVe(){return this.firstElementChild}function _Ve(t){return this.select(t==null?EVe:SVe(typeof t=="function"?t:lSe(t)))}var TVe=Array.prototype.filter;function RVe(){return Array.from(this.children)}function NVe(t){return function(){return TVe.call(this.children,t)}}function OVe(t){return this.selectAll(t==null?RVe:NVe(typeof t=="function"?t:lSe(t)))}function jVe(t){typeof t!="function"&&(t=aSe(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],o=s.length,a=n[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new pl(n,this._parents)}function cSe(t){return new Array(t.length)}function PVe(){return new pl(this._enter||this._groups.map(cSe),this._parents)}function w2(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}w2.prototype={constructor:w2,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function kVe(t){return function(){return t}}function DVe(t,e,r,n,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],n[o]=a):r[o]=new w2(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function FVe(t,e,r,n,i,s,o){var a,l,u=new Map,g=e.length,d=s.length,f=new Array(g),h;for(a=0;a<g;++a)(l=e[a])&&(f[a]=h=o.call(l,l.__data__,a,e)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(t,s[a],a,s)+"",(l=u.get(h))?(n[a]=l,l.__data__=s[a],u.delete(h)):r[a]=new w2(t,s[a]);for(a=0;a<g;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function LVe(t){return t.__data__}function MVe(t,e){if(!arguments.length)return Array.from(this,LVe);var r=e?FVe:DVe,n=this._parents,i=this._groups;typeof t!="function"&&(t=kVe(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var g=n[u],d=i[u],f=d.length,h=BVe(t.call(g,g&&g.__data__,u,n)),A=h.length,C=a[u]=new Array(A),I=o[u]=new Array(A),p=l[u]=new Array(f);r(g,d,C,I,p,h,e);for(var m=0,v=0,y,x;m<A;++m)if(y=C[m]){for(m>=v&&(v=m+1);!(x=I[v])&&++v<A;);y._next=x||null}}return o=new pl(o,n),o._enter=a,o._exit=l,o}function BVe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $Ve(){return new pl(this._exit||this._groups.map(cSe),this._parents)}function qVe(t,e,r){var n=this.enter(),i=this,s=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function zVe(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,s=n.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=r[l],g=n[l],d=u.length,f=a[l]=new Array(d),h,A=0;A<d;++A)(h=u[A]||g[A])&&(f[A]=h);for(;l<i;++l)a[l]=r[l];return new pl(a,this._parents)}function UVe(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function WVe(t){t||(t=GVe);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],a=o.length,l=i[s]=new Array(a),u,g=0;g<a;++g)(u=o[g])&&(l[g]=u);l.sort(e)}return new pl(i,this._parents).order()}function GVe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function VVe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function HVe(){return Array.from(this)}function KVe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}function YVe(){let t=0;for(const e of this)++t;return t}function ZVe(){return!this.node()}function XVe(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function QVe(t){return function(){this.removeAttribute(t)}}function JVe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eHe(t,e){return function(){this.setAttribute(t,e)}}function tHe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function rHe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function nHe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function iHe(t,e){var r=HS(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?JVe:QVe:typeof e=="function"?r.local?nHe:rHe:r.local?tHe:eHe)(r,e))}function uSe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sHe(t){return function(){this.style.removeProperty(t)}}function oHe(t,e,r){return function(){this.style.setProperty(t,e,r)}}function aHe(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function lHe(t,e,r){return arguments.length>1?this.each((e==null?sHe:typeof e=="function"?aHe:oHe)(t,e,r??"")):Bp(this.node(),t)}function Bp(t,e){return t.style.getPropertyValue(e)||uSe(t).getComputedStyle(t,null).getPropertyValue(e)}function cHe(t){return function(){delete this[t]}}function uHe(t,e){return function(){this[t]=e}}function gHe(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function dHe(t,e){return arguments.length>1?this.each((e==null?cHe:typeof e=="function"?gHe:uHe)(t,e)):this.node()[t]}function gSe(t){return t.trim().split(/^|\s+/)}function i9(t){return t.classList||new dSe(t)}function dSe(t){this._node=t,this._names=gSe(t.getAttribute("class")||"")}dSe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hSe(t,e){for(var r=i9(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function fSe(t,e){for(var r=i9(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function hHe(t){return function(){hSe(this,t)}}function fHe(t){return function(){fSe(this,t)}}function AHe(t,e){return function(){(e.apply(this,arguments)?hSe:fSe)(this,t)}}function CHe(t,e){var r=gSe(t+"");if(arguments.length<2){for(var n=i9(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?AHe:e?hHe:fHe)(r,e))}function IHe(){this.textContent=""}function pHe(t){return function(){this.textContent=t}}function mHe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vHe(t){return arguments.length?this.each(t==null?IHe:(typeof t=="function"?mHe:pHe)(t)):this.node().textContent}function yHe(){this.innerHTML=""}function xHe(t){return function(){this.innerHTML=t}}function bHe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function wHe(t){return arguments.length?this.each(t==null?yHe:(typeof t=="function"?bHe:xHe)(t)):this.node().innerHTML}function SHe(){this.nextSibling&&this.parentNode.appendChild(this)}function EHe(){return this.each(SHe)}function _He(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function THe(){return this.each(_He)}function RHe(t){var e=typeof t=="function"?t:sSe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function NHe(){return null}function OHe(t,e){var r=typeof t=="function"?t:sSe(t),n=e==null?NHe:typeof e=="function"?e:n9(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function jHe(){var t=this.parentNode;t&&t.removeChild(this)}function PHe(){return this.each(jHe)}function kHe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function DHe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FHe(t){return this.select(t?DHe:kHe)}function LHe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function MHe(t){return function(e){t.call(this,e,this.__data__)}}function BHe(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function $He(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,s;r<i;++r)s=e[r],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++n]=s;++n?e.length=n:delete this.__on}}}function qHe(t,e,r){return function(){var n=this.__on,i,s=MHe(e);if(n){for(var o=0,a=n.length;o<a;++o)if((i=n[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=e;return}}this.addEventListener(t.type,s,r),i={type:t.type,name:t.name,value:e,listener:s,options:r},n?n.push(i):this.__on=[i]}}function zHe(t,e,r){var n=BHe(t+""),i,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,g;l<u;++l)for(i=0,g=a[l];i<s;++i)if((o=n[i]).type===g.type&&o.name===g.name)return g.value}return}for(a=e?qHe:$He,i=0;i<s;++i)this.each(a(n[i],e,r));return this}function ASe(t,e,r){var n=uSe(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function UHe(t,e){return function(){return ASe(this,t,e)}}function WHe(t,e){return function(){return ASe(this,t,e.apply(this,arguments))}}function GHe(t,e){return this.each((typeof e=="function"?WHe:UHe)(t,e))}function*VHe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}var CSe=[null];function pl(t,e){this._groups=t,this._parents=e}function S1(){return new pl([[document.documentElement]],CSe)}function HHe(){return this}pl.prototype=S1.prototype={constructor:pl,select:mVe,selectAll:bVe,selectChild:_Ve,selectChildren:OVe,filter:jVe,data:MVe,enter:PVe,exit:$Ve,join:qVe,merge:zVe,selection:HHe,order:UVe,sort:WVe,call:VVe,nodes:HVe,node:KVe,size:YVe,empty:ZVe,each:XVe,attr:iHe,style:lHe,property:dHe,classed:CHe,text:vHe,html:wHe,raise:EHe,lower:THe,append:RHe,insert:OHe,remove:PHe,clone:FHe,datum:LHe,on:zHe,dispatch:GHe,[Symbol.iterator]:VHe};function zs(t){return typeof t=="string"?new pl([[document.querySelector(t)]],[document.documentElement]):new pl([[t]],CSe)}function KHe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ec(t,e){if(t=KHe(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const YHe={passive:!1},wy={capture:!0,passive:!1};function QT(t){t.stopImmediatePropagation()}function dp(t){t.preventDefault(),t.stopImmediatePropagation()}function ISe(t){var e=t.document.documentElement,r=zs(t).on("dragstart.drag",dp,wy);"onselectstart"in e?r.on("selectstart.drag",dp,wy):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function pSe(t,e){var r=t.document.documentElement,n=zs(t).on("dragstart.drag",null);e&&(n.on("click.drag",dp,wy),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const _b=t=>()=>t;function Bz(t,{sourceEvent:e,subject:r,target:n,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:g}})}Bz.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ZHe(t){return!t.ctrlKey&&!t.button}function XHe(){return this.parentNode}function QHe(t,e){return e??{x:t.x,y:t.y}}function JHe(){return navigator.maxTouchPoints||"ontouchstart"in this}function eKe(){var t=ZHe,e=XHe,r=QHe,n=JHe,i={},s=VS("start","drag","end"),o=0,a,l,u,g,d=0;function f(y){y.on("mousedown.drag",h).filter(n).on("touchstart.drag",I).on("touchmove.drag",p,YHe).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,x){if(!(g||!t.call(this,y,x))){var T=v(this,e.call(this,y,x),y,x,"mouse");T&&(zs(y.view).on("mousemove.drag",A,wy).on("mouseup.drag",C,wy),ISe(y.view),QT(y),u=!1,a=y.clientX,l=y.clientY,T("start",y))}}function A(y){if(dp(y),!u){var x=y.clientX-a,T=y.clientY-l;u=x*x+T*T>d}i.mouse("drag",y)}function C(y){zs(y.view).on("mousemove.drag mouseup.drag",null),pSe(y.view,u),dp(y),i.mouse("end",y)}function I(y,x){if(t.call(this,y,x)){var T=y.changedTouches,E=e.call(this,y,x),_=T.length,S,j;for(S=0;S<_;++S)(j=v(this,E,y,x,T[S].identifier,T[S]))&&(QT(y),j("start",y,T[S]))}}function p(y){var x=y.changedTouches,T=x.length,E,_;for(E=0;E<T;++E)(_=i[x[E].identifier])&&(dp(y),_("drag",y,x[E]))}function m(y){var x=y.changedTouches,T=x.length,E,_;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),E=0;E<T;++E)(_=i[x[E].identifier])&&(QT(y),_("end",y,x[E]))}function v(y,x,T,E,_,S){var j=s.copy(),w=Ec(S||T,x),R,N,P;if((P=r.call(y,new Bz("beforestart",{sourceEvent:T,target:f,identifier:_,active:o,x:w[0],y:w[1],dx:0,dy:0,dispatch:j}),E))!=null)return R=P.x-w[0]||0,N=P.y-w[1]||0,function M(B,W,H){var V=w,K;switch(B){case"start":i[_]=M,K=o++;break;case"end":delete i[_],--o;case"drag":w=Ec(H||W,x),K=o;break}j.call(B,y,new Bz(B,{sourceEvent:W,subject:P,target:f,identifier:_,active:K,x:w[0]+R,y:w[1]+N,dx:w[0]-V[0],dy:w[1]-V[1],dispatch:j}),E)}}return f.filter=function(y){return arguments.length?(t=typeof y=="function"?y:_b(!!y),f):t},f.container=function(y){return arguments.length?(e=typeof y=="function"?y:_b(y),f):e},f.subject=function(y){return arguments.length?(r=typeof y=="function"?y:_b(y),f):r},f.touchable=function(y){return arguments.length?(n=typeof y=="function"?y:_b(!!y),f):n},f.on=function(){var y=s.on.apply(s,arguments);return y===s?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}var $p=0,hv=0,B0=0,mSe=1e3,S2,fv,E2=0,KA=0,KS=0,Sy=typeof performance=="object"&&performance.now?performance:Date,vSe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function s9(){return KA||(vSe(tKe),KA=Sy.now()+KS)}function tKe(){KA=0}function _2(){this._call=this._time=this._next=null}_2.prototype=ySe.prototype={constructor:_2,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?s9():+r)+(e==null?0:+e),!this._next&&fv!==this&&(fv?fv._next=this:S2=this,fv=this),this._call=t,this._time=r,$z()},stop:function(){this._call&&(this._call=null,this._time=1/0,$z())}};function ySe(t,e,r){var n=new _2;return n.restart(t,e,r),n}function rKe(){s9(),++$p;for(var t=S2,e;t;)(e=KA-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$p}function nZ(){KA=(E2=Sy.now())+KS,$p=hv=0;try{rKe()}finally{$p=0,iKe(),KA=0}}function nKe(){var t=Sy.now(),e=t-E2;e>mSe&&(KS-=e,E2=t)}function iKe(){for(var t,e=S2,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:S2=r);fv=t,$z(n)}function $z(t){if(!$p){hv&&(hv=clearTimeout(hv));var e=t-KA;e>24?(t<1/0&&(hv=setTimeout(nZ,t-Sy.now()-KS)),B0&&(B0=clearInterval(B0))):(B0||(E2=Sy.now(),B0=setInterval(nKe,mSe)),$p=1,vSe(nZ))}}function iZ(t,e,r){var n=new _2;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var sKe=VS("start","end","cancel","interrupt"),oKe=[],xSe=0,sZ=1,qz=2,Nw=3,oZ=4,zz=5,Ow=6;function YS(t,e,r,n,i,s){var o=t.__transition;if(!o)t.__transition={};else if(r in o)return;aKe(t,r,{name:e,index:n,group:i,on:sKe,tween:oKe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:xSe})}function o9(t,e){var r=tu(t,e);if(r.state>xSe)throw new Error("too late; already scheduled");return r}function Xu(t,e){var r=tu(t,e);if(r.state>Nw)throw new Error("too late; already running");return r}function tu(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function aKe(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=ySe(s,0,r.time);function s(u){r.state=sZ,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var g,d,f,h;if(r.state!==sZ)return l();for(g in n)if(h=n[g],h.name===r.name){if(h.state===Nw)return iZ(o);h.state===oZ?(h.state=Ow,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete n[g]):+g<e&&(h.state=Ow,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete n[g])}if(iZ(function(){r.state===Nw&&(r.state=oZ,r.timer.restart(a,r.delay,r.time),a(u))}),r.state=qz,r.on.call("start",t,t.__data__,r.index,r.group),r.state===qz){for(r.state=Nw,i=new Array(f=r.tween.length),g=0,d=-1;g<f;++g)(h=r.tween[g].value.call(t,t.__data__,r.index,r.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var g=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=zz,1),d=-1,f=i.length;++d<f;)i[d].call(t,g);r.state===zz&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=Ow,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function jw(t,e){var r=t.__transition,n,i,s=!0,o;if(r){e=e==null?null:e+"";for(o in r){if((n=r[o]).name!==e){s=!1;continue}i=n.state>qz&&n.state<zz,n.state=Ow,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[o]}s&&delete t.__transition}}function lKe(t){return this.each(function(){jw(this,t)})}function cKe(t,e){var r,n;return function(){var i=Xu(this,t),s=i.tween;if(s!==r){n=r=s;for(var o=0,a=n.length;o<a;++o)if(n[o].name===e){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function uKe(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=Xu(this,t),o=s.tween;if(o!==n){i=(n=o).slice();for(var a={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function gKe(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=tu(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===t)return o.value;return null}return this.each((e==null?cKe:uKe)(r,t,e))}function a9(t,e,r){var n=t._id;return t.each(function(){var i=Xu(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return tu(i,n).value[e]}}function bSe(t,e){var r;return(typeof e=="number"?Jke:e instanceof QV?XV:(r=QV(e))?(e=r,XV):eDe)(t,e)}function dKe(t){return function(){this.removeAttribute(t)}}function hKe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fKe(t,e,r){var n,i=r+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===n?s:s=e(n=o,r)}}function AKe(t,e,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===n?s:s=e(n=o,r)}}function CKe(t,e,r){var n,i,s;return function(){var o,a=r(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===n&&l===i?s:(i=l,s=e(n=o,a)))}}function IKe(t,e,r){var n,i,s;return function(){var o,a=r(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===n&&l===i?s:(i=l,s=e(n=o,a)))}}function pKe(t,e){var r=HS(t),n=r==="transform"?tDe:bSe;return this.attrTween(t,typeof e=="function"?(r.local?IKe:CKe)(r,n,a9(this,"attr."+t,e)):e==null?(r.local?hKe:dKe)(r):(r.local?AKe:fKe)(r,n,e))}function mKe(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function vKe(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function yKe(t,e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&vKe(t,s)),r}return i._value=e,i}function xKe(t,e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&mKe(t,s)),r}return i._value=e,i}function bKe(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=HS(t);return this.tween(r,(n.local?yKe:xKe)(n,e))}function wKe(t,e){return function(){o9(this,t).delay=+e.apply(this,arguments)}}function SKe(t,e){return e=+e,function(){o9(this,t).delay=e}}function EKe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wKe:SKe)(e,t)):tu(this.node(),e).delay}function _Ke(t,e){return function(){Xu(this,t).duration=+e.apply(this,arguments)}}function TKe(t,e){return e=+e,function(){Xu(this,t).duration=e}}function RKe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_Ke:TKe)(e,t)):tu(this.node(),e).duration}function NKe(t,e){if(typeof e!="function")throw new Error;return function(){Xu(this,t).ease=e}}function OKe(t){var e=this._id;return arguments.length?this.each(NKe(e,t)):tu(this.node(),e).ease}function jKe(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Xu(this,t).ease=r}}function PKe(t){if(typeof t!="function")throw new Error;return this.each(jKe(this._id,t))}function kKe(t){typeof t!="function"&&(t=aSe(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],o=s.length,a=n[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new hd(n,this._parents,this._name,this._id)}function DKe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=e[a],u=r[a],g=l.length,d=o[a]=new Array(g),f,h=0;h<g;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<n;++a)o[a]=e[a];return new hd(o,this._parents,this._name,this._id)}function FKe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function LKe(t,e,r){var n,i,s=FKe(e)?o9:Xu;return function(){var o=s(this,t),a=o.on;a!==n&&(i=(n=a).copy()).on(e,r),o.on=i}}function MKe(t,e){var r=this._id;return arguments.length<2?tu(this.node(),r).on.on(t):this.each(LKe(r,t,e))}function BKe(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function $Ke(){return this.on("end.remove",BKe(this._id))}function qKe(t){var e=this._name,r=this._id;typeof t!="function"&&(t=n9(t));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var a=n[o],l=a.length,u=s[o]=new Array(l),g,d,f=0;f<l;++f)(g=a[f])&&(d=t.call(g,g.__data__,f,a))&&("__data__"in g&&(d.__data__=g.__data__),u[f]=d,YS(u[f],e,r,f,u,tu(g,r)));return new hd(s,this._parents,e,r)}function zKe(t){var e=this._name,r=this._id;typeof t!="function"&&(t=oSe(t));for(var n=this._groups,i=n.length,s=[],o=[],a=0;a<i;++a)for(var l=n[a],u=l.length,g,d=0;d<u;++d)if(g=l[d]){for(var f=t.call(g,g.__data__,d,l),h,A=tu(g,r),C=0,I=f.length;C<I;++C)(h=f[C])&&YS(h,e,r,C,f,A);s.push(f),o.push(g)}return new hd(s,o,e,r)}var UKe=S1.prototype.constructor;function WKe(){return new UKe(this._groups,this._parents)}function GKe(t,e){var r,n,i;return function(){var s=Bp(this,t),o=(this.style.removeProperty(t),Bp(this,t));return s===o?null:s===r&&o===n?i:i=e(r=s,n=o)}}function wSe(t){return function(){this.style.removeProperty(t)}}function VKe(t,e,r){var n,i=r+"",s;return function(){var o=Bp(this,t);return o===i?null:o===n?s:s=e(n=o,r)}}function HKe(t,e,r){var n,i,s;return function(){var o=Bp(this,t),a=r(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Bp(this,t))),o===l?null:o===n&&l===i?s:(i=l,s=e(n=o,a))}}function KKe(t,e){var r,n,i,s="style."+e,o="end."+s,a;return function(){var l=Xu(this,t),u=l.on,g=l.value[s]==null?a||(a=wSe(e)):void 0;(u!==r||i!==g)&&(n=(r=u).copy()).on(o,i=g),l.on=n}}function YKe(t,e,r){var n=(t+="")=="transform"?rDe:bSe;return e==null?this.styleTween(t,GKe(t,n)).on("end.style."+t,wSe(t)):typeof e=="function"?this.styleTween(t,HKe(t,n,a9(this,"style."+t,e))).each(KKe(this._id,t)):this.styleTween(t,VKe(t,n,e),r).on("end.style."+t,null)}function ZKe(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function XKe(t,e,r){var n,i;function s(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&ZKe(t,o,r)),n}return s._value=e,s}function QKe(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,XKe(t,e,r??""))}function JKe(t){return function(){this.textContent=t}}function eYe(t){return function(){var e=t(this);this.textContent=e??""}}function tYe(t){return this.tween("text",typeof t=="function"?eYe(a9(this,"text",t)):JKe(t==null?"":t+""))}function rYe(t){return function(e){this.textContent=t.call(this,e)}}function nYe(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&rYe(i)),e}return n._value=t,n}function iYe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,nYe(t))}function sYe(){for(var t=this._name,e=this._id,r=SSe(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var g=tu(l,e);YS(l,t,r,u,o,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new hd(n,this._parents,t,r)}function oYe(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};r.each(function(){var u=Xu(this,n),g=u.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var aYe=0;function hd(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function SSe(){return++aYe}var Cg=S1.prototype;hd.prototype={constructor:hd,select:qKe,selectAll:zKe,selectChild:Cg.selectChild,selectChildren:Cg.selectChildren,filter:kKe,merge:DKe,selection:WKe,transition:sYe,call:Cg.call,nodes:Cg.nodes,node:Cg.node,size:Cg.size,empty:Cg.empty,each:Cg.each,on:MKe,attr:pKe,attrTween:bKe,style:YKe,styleTween:QKe,text:tYe,textTween:iYe,remove:$Ke,tween:gKe,delay:EKe,duration:RKe,ease:OKe,easeVarying:PKe,end:oYe,[Symbol.iterator]:Cg[Symbol.iterator]};function lYe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var cYe={time:null,delay:0,duration:250,ease:lYe};function uYe(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function gYe(t){var e,r;t instanceof hd?(e=t._id,t=t._name):(e=SSe(),(r=cYe).time=s9(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&YS(l,t,e,u,o,r||uYe(l,e));return new hd(n,this._parents,t,e)}S1.prototype.interrupt=lKe;S1.prototype.transition=gYe;function dYe(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function hYe(){return this.eachAfter(dYe)}function fYe(t,e){let r=-1;for(const n of this)t.call(e,n,++r,this);return this}function AYe(t,e){for(var r=this,n=[r],i,s,o=-1;r=n.pop();)if(t.call(e,r,++o,this),i=r.children)for(s=i.length-1;s>=0;--s)n.push(i[s]);return this}function CYe(t,e){for(var r=this,n=[r],i=[],s,o,a,l=-1;r=n.pop();)if(i.push(r),s=r.children)for(o=0,a=s.length;o<a;++o)n.push(s[o]);for(;r=i.pop();)t.call(e,r,++l,this);return this}function IYe(t,e){let r=-1;for(const n of this)if(t.call(e,n,++r,this))return n}function pYe(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)r+=n[i].value;e.value=r})}function mYe(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function vYe(t){for(var e=this,r=yYe(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;t!==r;)n.splice(i,0,t),t=t.parent;return n}function yYe(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),i=null;for(t=r.pop(),e=n.pop();t===e;)i=t,t=r.pop(),e=n.pop();return i}function xYe(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function bYe(){return Array.from(this)}function wYe(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function SYe(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function*EYe(){var t=this,e,r=[t],n,i,s;do for(e=r.reverse(),r=[];t=e.pop();)if(yield t,n=t.children)for(i=0,s=n.length;i<s;++i)r.push(n[i]);while(r.length)}function l9(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=RYe)):e===void 0&&(e=TYe);for(var r=new Ey(t),n,i=[r],s,o,a,l;n=i.pop();)if((o=e(n.data))&&(l=(o=Array.from(o)).length))for(n.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new Ey(o[a])),s.parent=n,s.depth=n.depth+1;return r.eachBefore(OYe)}function _Ye(){return l9(this).eachBefore(NYe)}function TYe(t){return t.children}function RYe(t){return Array.isArray(t)?t[1]:null}function NYe(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function OYe(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ey(t){this.data=t,this.depth=this.height=0,this.parent=null}Ey.prototype=l9.prototype={constructor:Ey,count:hYe,each:fYe,eachAfter:CYe,eachBefore:AYe,find:IYe,sum:pYe,sort:mYe,path:vYe,ancestors:xYe,descendants:bYe,leaves:wYe,links:SYe,copy:_Ye,[Symbol.iterator]:EYe};function jYe(t,e){return t.parent===e.parent?1:2}function JT(t){var e=t.children;return e?e[0]:t.t}function e5(t){var e=t.children;return e?e[e.length-1]:t.t}function PYe(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function kYe(t){for(var e=0,r=0,n=t.children,i=n.length,s;--i>=0;)s=n[i],s.z+=e,s.m+=e,e+=s.s+(r+=s.c)}function DYe(t,e,r){return t.a.parent===e.parent?t.a:r}function Pw(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Pw.prototype=Object.create(Ey.prototype);function FYe(t){for(var e=new Pw(t,0),r,n=[e],i,s,o,a;r=n.pop();)if(s=r._.children)for(r.children=new Array(a=s.length),o=a-1;o>=0;--o)n.push(i=r.children[o]=new Pw(s[o],o)),i.parent=r;return(e.parent=new Pw(null,0)).children=[e],e}function LYe(){var t=jYe,e=1,r=1,n=null;function i(u){var g=FYe(u);if(g.eachAfter(s),g.parent.m=-g.z,g.eachBefore(o),n)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(m){m.x<d.x&&(d=m),m.x>f.x&&(f=m),m.depth>h.depth&&(h=m)});var A=d===f?1:t(d,f)/2,C=A-d.x,I=e/(f.x+A+C),p=r/(h.depth||1);u.eachBefore(function(m){m.x=(m.x+C)*I,m.y=m.depth*p})}return u}function s(u){var g=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(g){kYe(u);var h=(g[0].z+g[g.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+t(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,g,d){if(g){for(var f=u,h=u,A=g,C=f.parent.children[0],I=f.m,p=h.m,m=A.m,v=C.m,y;A=e5(A),f=JT(f),A&&f;)C=JT(C),h=e5(h),h.a=u,y=A.z+m-f.z-I+t(A._,f._),y>0&&(PYe(DYe(A,u,d),u,y),I+=y,p+=y),m+=A.m,I+=f.m,v+=C.m,p+=h.m;A&&!e5(h)&&(h.t=A,h.m+=m-p),f&&!JT(C)&&(C.t=f,C.m+=I-v,d=u)}return d}function l(u){u.x*=e,u.y=u.depth*r}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(n=!1,e=+u[0],r=+u[1],i):n?null:[e,r]},i.nodeSize=function(u){return arguments.length?(n=!0,e=+u[0],r=+u[1],i):n?[e,r]:null},i}const Tb=t=>()=>t;function MYe(t,{sourceEvent:e,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Ug(t,e,r){this.k=t,this.x=e,this.y=r}Ug.prototype={constructor:Ug,scale:function(t){return t===1?this:new Ug(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ug(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bc=new Ug(1,0,0);Ug.prototype;function t5(t){t.stopImmediatePropagation()}function $0(t){t.preventDefault(),t.stopImmediatePropagation()}function BYe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function $Ye(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function aZ(){return this.__zoom||Bc}function qYe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function zYe(){return navigator.maxTouchPoints||"ontouchstart"in this}function UYe(t,e,r){var n=t.invertX(e[0][0])-r[0][0],i=t.invertX(e[1][0])-r[1][0],s=t.invertY(e[0][1])-r[0][1],o=t.invertY(e[1][1])-r[1][1];return t.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function GI(){var t=BYe,e=$Ye,r=UYe,n=qYe,i=zYe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=nDe,u=VS("start","zoom","end"),g,d,f,h=500,A=150,C=0,I=10;function p(P){P.property("__zoom",aZ).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",j).filter(i).on("touchstart.zoom",w).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(P,M,B,W){var H=P.selection?P.selection():P;H.property("__zoom",aZ),P!==H?x(P,M,B,W):H.interrupt().each(function(){T(this,arguments).event(W).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},p.scaleBy=function(P,M,B,W){p.scaleTo(P,function(){var H=this.__zoom.k,V=typeof M=="function"?M.apply(this,arguments):M;return H*V},B,W)},p.scaleTo=function(P,M,B,W){p.transform(P,function(){var H=e.apply(this,arguments),V=this.__zoom,K=B==null?y(H):typeof B=="function"?B.apply(this,arguments):B,Y=V.invert(K),k=typeof M=="function"?M.apply(this,arguments):M;return r(v(m(V,k),K,Y),H,o)},B,W)},p.translateBy=function(P,M,B,W){p.transform(P,function(){return r(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof B=="function"?B.apply(this,arguments):B),e.apply(this,arguments),o)},null,W)},p.translateTo=function(P,M,B,W,H){p.transform(P,function(){var V=e.apply(this,arguments),K=this.__zoom,Y=W==null?y(V):typeof W=="function"?W.apply(this,arguments):W;return r(Bc.translate(Y[0],Y[1]).scale(K.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof B=="function"?-B.apply(this,arguments):-B),V,o)},W,H)};function m(P,M){return M=Math.max(s[0],Math.min(s[1],M)),M===P.k?P:new Ug(M,P.x,P.y)}function v(P,M,B){var W=M[0]-B[0]*P.k,H=M[1]-B[1]*P.k;return W===P.x&&H===P.y?P:new Ug(P.k,W,H)}function y(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function x(P,M,B,W){P.on("start.zoom",function(){T(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(W).end()}).tween("zoom",function(){var H=this,V=arguments,K=T(H,V).event(W),Y=e.apply(H,V),k=B==null?y(Y):typeof B=="function"?B.apply(H,V):B,q=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),z=H.__zoom,G=typeof M=="function"?M.apply(H,V):M,Z=l(z.invert(k).concat(q/z.k),G.invert(k).concat(q/G.k));return function(ue){if(ue===1)ue=G;else{var re=Z(ue),ie=q/re[2];ue=new Ug(ie,k[0]-re[0]*ie,k[1]-re[1]*ie)}K.zoom(null,ue)}})}function T(P,M,B){return!B&&P.__zooming||new E(P,M)}function E(P,M){this.that=P,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,M),this.taps=0}E.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,M){return this.mouse&&P!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var M=zs(this.that).datum();u.call(P,this.that,new MYe(P,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),M)}};function _(P,...M){if(!t.apply(this,arguments))return;var B=T(this,M).event(P),W=this.__zoom,H=Math.max(s[0],Math.min(s[1],W.k*Math.pow(2,n.apply(this,arguments)))),V=Ec(P);if(B.wheel)(B.mouse[0][0]!==V[0]||B.mouse[0][1]!==V[1])&&(B.mouse[1]=W.invert(B.mouse[0]=V)),clearTimeout(B.wheel);else{if(W.k===H)return;B.mouse=[V,W.invert(V)],jw(this),B.start()}$0(P),B.wheel=setTimeout(K,A),B.zoom("mouse",r(v(m(W,H),B.mouse[0],B.mouse[1]),B.extent,o));function K(){B.wheel=null,B.end()}}function S(P,...M){if(f||!t.apply(this,arguments))return;var B=P.currentTarget,W=T(this,M,!0).event(P),H=zs(P.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",q,!0),V=Ec(P,B),K=P.clientX,Y=P.clientY;ISe(P.view),t5(P),W.mouse=[V,this.__zoom.invert(V)],jw(this),W.start();function k(z){if($0(z),!W.moved){var G=z.clientX-K,Z=z.clientY-Y;W.moved=G*G+Z*Z>C}W.event(z).zoom("mouse",r(v(W.that.__zoom,W.mouse[0]=Ec(z,B),W.mouse[1]),W.extent,o))}function q(z){H.on("mousemove.zoom mouseup.zoom",null),pSe(z.view,W.moved),$0(z),W.event(z).end()}}function j(P,...M){if(t.apply(this,arguments)){var B=this.__zoom,W=Ec(P.changedTouches?P.changedTouches[0]:P,this),H=B.invert(W),V=B.k*(P.shiftKey?.5:2),K=r(v(m(B,V),W,H),e.apply(this,M),o);$0(P),a>0?zs(this).transition().duration(a).call(x,K,W,P):zs(this).call(p.transform,K,W,P)}}function w(P,...M){if(t.apply(this,arguments)){var B=P.touches,W=B.length,H=T(this,M,P.changedTouches.length===W).event(P),V,K,Y,k;for(t5(P),K=0;K<W;++K)Y=B[K],k=Ec(Y,this),k=[k,this.__zoom.invert(k),Y.identifier],H.touch0?!H.touch1&&H.touch0[2]!==k[2]&&(H.touch1=k,H.taps=0):(H.touch0=k,V=!0,H.taps=1+!!g);g&&(g=clearTimeout(g)),V&&(H.taps<2&&(d=k[0],g=setTimeout(function(){g=null},h)),jw(this),H.start())}}function R(P,...M){if(this.__zooming){var B=T(this,M).event(P),W=P.changedTouches,H=W.length,V,K,Y,k;for($0(P),V=0;V<H;++V)K=W[V],Y=Ec(K,this),B.touch0&&B.touch0[2]===K.identifier?B.touch0[0]=Y:B.touch1&&B.touch1[2]===K.identifier&&(B.touch1[0]=Y);if(K=B.that.__zoom,B.touch1){var q=B.touch0[0],z=B.touch0[1],G=B.touch1[0],Z=B.touch1[1],ue=(ue=G[0]-q[0])*ue+(ue=G[1]-q[1])*ue,re=(re=Z[0]-z[0])*re+(re=Z[1]-z[1])*re;K=m(K,Math.sqrt(ue/re)),Y=[(q[0]+G[0])/2,(q[1]+G[1])/2],k=[(z[0]+Z[0])/2,(z[1]+Z[1])/2]}else if(B.touch0)Y=B.touch0[0],k=B.touch0[1];else return;B.zoom("touch",r(v(K,Y,k),B.extent,o))}}function N(P,...M){if(this.__zooming){var B=T(this,M).event(P),W=P.changedTouches,H=W.length,V,K;for(t5(P),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),V=0;V<H;++V)K=W[V],B.touch0&&B.touch0[2]===K.identifier?delete B.touch0:B.touch1&&B.touch1[2]===K.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(K=Ec(K,this),Math.hypot(d[0]-K[0],d[1]-K[1])<I)){var Y=zs(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return p.wheelDelta=function(P){return arguments.length?(n=typeof P=="function"?P:Tb(+P),p):n},p.filter=function(P){return arguments.length?(t=typeof P=="function"?P:Tb(!!P),p):t},p.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:Tb(!!P),p):i},p.extent=function(P){return arguments.length?(e=typeof P=="function"?P:Tb([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),p):e},p.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],p):[s[0],s[1]]},p.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(P){return arguments.length?(r=P,p):r},p.duration=function(P){return arguments.length?(a=+P,p):a},p.interpolate=function(P){return arguments.length?(l=P,p):l},p.on=function(){var P=u.on.apply(u,arguments);return P===u?p:P},p.clickDistance=function(P){return arguments.length?(C=(P=+P)*P,p):Math.sqrt(C)},p.tapDistance=function(P){return arguments.length?(I=+P,p):I},p}const{Text:fI}=yr,ESe=({serialNumber:t,maxDepth:e=5,width:r=1200,height:n=800})=>{const i=D.useRef(null),[s,o]=D.useState(!1),[a,l]=D.useState(null),[u,g]=D.useState(null),[d,f]=D.useState(e),[h,A]=D.useState(1);D.useEffect(()=>{C()},[t,d]);const C=async()=>{var E,_;o(!0),l(null);try{const S=await Vt.get(`/api/v1/traceability/genealogy-graph/${t}?maxDepth=${d}`);g(S.data)}catch(S){l(((_=(E=S.response)==null?void 0:E.data)==null?void 0:_.message)||"Failed to load genealogy data")}finally{o(!1)}};D.useEffect(()=>{!u||!i.current||I(u)},[u,r,n]);const I=E=>{const _=zs(i.current);_.selectAll("*").remove();const S=_.append("g").attr("class","genealogy-tree"),j=GI().scaleExtent([.1,4]).on("zoom",B=>{S.attr("transform",B.transform),A(B.transform.k)});_.call(j);const w=p(E);if(!w)return;const N=LYe().size([n-100,r-200])(w);S.selectAll(".link").data(N.links()).enter().append("path").attr("class","link").attr("d",B=>`M${B.source.y},${B.source.x}
                C${(B.source.y+B.target.y)/2},${B.source.x}
                 ${(B.source.y+B.target.y)/2},${B.target.x}
                 ${B.target.y},${B.target.x}`).attr("fill","none").attr("stroke","#ccc").attr("stroke-width",2);const P=S.selectAll(".node").data(N.descendants()).enter().append("g").attr("class","node").attr("transform",B=>`translate(${B.y},${B.x})`);P.append("circle").attr("r",8).attr("fill",B=>m(B.data.nodeType)).attr("stroke",B=>B.data.id===E.rootNodeId?"#1890ff":"#fff").attr("stroke-width",B=>B.data.id===E.rootNodeId?3:2).style("cursor","pointer").on("mouseover",function(){zs(this).attr("r",12)}).on("mouseout",function(){zs(this).attr("r",8)}),P.append("text").attr("dy",-15).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").text(B=>B.data.serialNumber),P.append("text").attr("dy",25).attr("text-anchor","middle").style("font-size","10px").style("fill","#666").text(B=>B.data.partNumber),P.on("click",(B,W)=>{v(W.data)});const M=Bc.translate(100,n/2);_.call(j.transform,M)},p=E=>{if(E.nodes.length===0)return null;const _=new Map(E.nodes.map(j=>[j.id,{...j,children:[]}]));E.edges.forEach(j=>{const w=_.get(j.source),R=_.get(j.target);w&&R&&w.children.push(R)});const S=_.get(E.rootNodeId);return S?l9(S):null},m=E=>{switch(E){case"finished":return"#1890ff";case"wip":return"#faad14";case"raw_material":return"#52c41a";case"purchased":return"#722ed1";default:return"#d9d9d9"}},v=E=>{console.log("Node details:",E)},y=()=>{if(!i.current)return;zs(i.current).transition().call(GI().scaleBy,1.3)},x=()=>{if(!i.current)return;zs(i.current).transition().call(GI().scaleBy,.7)},T=()=>{if(!i.current)return;const E=zs(i.current),_=Bc.translate(100,n/2);E.transition().call(GI().transform,_)};return s?c.jsx(xe,{children:c.jsx("div",{style:{textAlign:"center",padding:"50px"},children:c.jsx(ei,{size:"large",tip:"Loading genealogy tree...",children:c.jsx("div",{})})})}):a?c.jsx(xe,{children:c.jsx(Pt,{message:"Error Loading Genealogy",description:a,type:"error",showIcon:!0,action:c.jsx(le,{size:"small",onClick:C,children:"Retry"})})}):!u||u.nodes.length===0?c.jsx(xe,{children:c.jsx(Pt,{message:"No Genealogy Data",description:"No component relationships found for this serial number.",type:"info",showIcon:!0})}):c.jsxs(xe,{title:"Genealogy Tree Visualization",extra:c.jsxs(pe,{children:[c.jsx(fI,{type:"secondary",children:"Max Depth:"}),c.jsx(po,{min:1,max:10,value:d,onChange:E=>E&&f(E),style:{width:70}}),c.jsx(le,{icon:c.jsx(vke,{}),onClick:y,size:"small",children:"Zoom In"}),c.jsx(le,{icon:c.jsx(yke,{}),onClick:x,size:"small",children:"Zoom Out"}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:T,size:"small",children:"Reset View"}),c.jsx(le,{icon:c.jsx(AU,{}),size:"small",children:"Fullscreen"})]}),children:[c.jsx("div",{style:{marginBottom:16},children:c.jsxs(pe,{children:[c.jsxs(pe,{children:[c.jsx("div",{style:{width:16,height:16,backgroundColor:"#1890ff",borderRadius:"50%"}}),c.jsx(fI,{type:"secondary",children:"Finished Product"})]}),c.jsxs(pe,{children:[c.jsx("div",{style:{width:16,height:16,backgroundColor:"#faad14",borderRadius:"50%"}}),c.jsx(fI,{type:"secondary",children:"Work in Progress"})]}),c.jsxs(pe,{children:[c.jsx("div",{style:{width:16,height:16,backgroundColor:"#52c41a",borderRadius:"50%"}}),c.jsx(fI,{type:"secondary",children:"Raw Material"})]}),c.jsxs(pe,{children:[c.jsx("div",{style:{width:16,height:16,backgroundColor:"#722ed1",borderRadius:"50%"}}),c.jsx(fI,{type:"secondary",children:"Purchased Part"})]})]})}),c.jsx("div",{style:{marginBottom:8},children:c.jsxs(fI,{type:"secondary",children:["Total Nodes: ",u.nodes.length," | Max Depth: ",u.maxDepth," | Zoom:"," ",(h*100).toFixed(0),"%"]})}),c.jsx("div",{style:{border:"1px solid #d9d9d9",borderRadius:4,overflow:"hidden"},children:c.jsx("svg",{ref:i,width:r,height:n,style:{backgroundColor:"#fafafa"}})})]})};class WYe extends Error{constructor(r,n,i,s){super(r);ve(this,"status");ve(this,"code");ve(this,"details");this.name="APIRequestError",this.status=n,this.code=i,this.details=s}}const GYe=t=>{if(console.error("API Error:",t),t.message==="Failed to fetch"||t.message==="Network request failed"){Ee.error("Network error. Please check your connection and try again.");return}if(t.name==="AbortError"){Ee.error("Request timed out. Please try again.");return}if(t instanceof WYe)switch(t.status){case 401:Ee.error("Your session has expired. Please login again.");break;case 403:Ee.error("You do not have permission to perform this action.");break;case 404:Ee.error("The requested resource was not found.");break;case 429:Ee.warning("Too many requests. Please wait a moment and try again.");break;case 500:Ee.error("Server error. Please try again later.");break;default:Ee.error(t.message||"An unexpected error occurred")}else Ee.error(t.message||"An unexpected error occurred")},r5=async(t,e)=>{try{return await t()}catch(r){return(e==null?void 0:e.showError)!==!1&&(e!=null&&e.errorMessage?Ee.error(e.errorMessage):GYe(r)),e!=null&&e.onError&&e.onError(r),null}},{Title:lZ,Text:pc}=yr,{Search:n5}=at,VYe=()=>{const t=Kr(),[e,r]=D.useState(""),[n,i]=D.useState(!1),[s,o]=D.useState(null),[a,l]=D.useState(null),[u,g]=D.useState([]),[d,f]=D.useState([]),[h,A]=D.useState([]),[C,I]=D.useState(""),[p,m]=D.useState([]),[v,y]=D.useState(!1),[x,T]=D.useState(""),[E,_]=D.useState([]),[S,j]=D.useState(!1);D.useEffect(()=>{document.title="Material Traceability - Manufacturing Execution System"},[]);const w=async W=>{if(!W.trim()){Ee.warning("Please enter a lot number");return}y(!0),I(W);const H=await r5(()=>XT.getForwardTraceability(W),{errorMessage:`Failed to search for lot number ${W}`,onError:V=>{var K;m([]),((K=V.response)==null?void 0:K.status)===404&&Ee.error(`Lot number ${W} not found`)}});if(H)if(H.usedInParts&&H.usedInParts.length>0){const V=H.usedInParts.map((K,Y)=>({key:`${K.serialNumber}-${Y}`,serialNumber:K.serialNumber,partNumber:K.partNumber,status:"ACTIVE",date:K.dateUsed?new Date(K.dateUsed).toLocaleDateString():"N/A"}));m(V),Ee.success(`Found ${V.length} products using lot ${W}`)}else m([]),Ee.info("No products found using this lot number");y(!1)},R=async W=>{if(!W.trim()){Ee.warning("Please enter a serial number");return}j(!0),T(W);const H=await r5(()=>XT.getBackwardTraceability(W),{errorMessage:`Failed to search for serial number ${W}`,onError:V=>{var K;_([]),((K=V.response)==null?void 0:K.status)===404&&Ee.error(`Serial number ${W} not found`)}});if(H)if(H.components&&H.components.length>0){const V=H.components.map((K,Y)=>({key:`${K.serialNumber||K.lotNumber}-${Y}`,material:K.partName||K.partNumber||"Unknown",lotNumber:K.lotNumber||"N/A",supplier:K.supplier||"N/A",certificate:K.certificateNumber||"N/A"}));_(V),Ee.success(`Found ${V.length} components/materials for serial ${W}`)}else _([]),Ee.info("No component data found for this serial number");j(!1)},N=async W=>{var V,K,Y,k;if(!W.trim()){Ee.warning("Please enter a serial number to search");return}i(!0),r(W),o(null);const H=await r5(()=>XT.getTraceabilityBySerialNumber(W),{onError:q=>{var G;const z=((G=q.response)==null?void 0:G.status)===404?"No traceability data found for this serial number":"Failed to load traceability data. Please try again.";o(z),l(null),g([]),f([]),A([])}});H&&(l({serialNumber:H.serialNumber,partNumber:H.partNumber,partName:H.partName,lotNumber:H.genealogy.lotNumber,status:"IN_SERVICE",currentLocation:"See tracking system",workOrder:((V=H.manufacturingHistory[0])==null?void 0:V.workOrderNumber)||"N/A",customer:"See order system",manufactureDate:((K=H.manufacturingHistory[0])==null?void 0:K.startTime)||new Date().toISOString(),heatNumber:((Y=H.materialCertificates[0])==null?void 0:Y.heatNumber)||"N/A",materialCert:((k=H.materialCertificates[0])==null?void 0:k.certificateNumber)||"N/A"}),g(H.manufacturingHistory),f(H.materialCertificates),A(H.qualityRecords)),i(!1)},P=[{title:"Certificate #",dataIndex:"certNumber",key:"certNumber"},{title:"Material",dataIndex:"material",key:"material"},{title:"Supplier",dataIndex:"supplier",key:"supplier"},{title:"Heat/Batch #",key:"batch",render:W=>W.heatNumber||W.batchNumber},{title:"Certification",dataIndex:"certification",key:"certification"},{title:"Expiry",dataIndex:"expiry",key:"expiry"}],M=[{title:"Inspection ID",dataIndex:"inspectionId",key:"inspectionId"},{title:"Type",dataIndex:"type",key:"type"},{title:"Result",dataIndex:"result",key:"result",render:W=>c.jsx(Be,{color:W==="PASS"?"green":"red",children:W})},{title:"Inspector",dataIndex:"inspector",key:"inspector"},{title:"Date",dataIndex:"date",key:"date"},{title:"Details",dataIndex:"characteristics",key:"characteristics"}],B=[{key:"forward",label:"Forward Traceability",children:c.jsxs(xe,{title:"Forward Traceability (Lot to Products)",children:[c.jsx(Pt,{message:"Forward Traceability",description:"Track where materials from a specific lot number were used. Enter a lot number to see all products that contain materials from that lot.",type:"info",style:{marginBottom:16}}),c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsx(n5,{placeholder:"Enter lot number (e.g., LOT-20251015-001)",allowClear:!0,enterButton:c.jsx(le,{type:"primary",icon:c.jsx(Gn,{}),"data-testid":"forward-search-button",children:"Search"}),size:"large",onSearch:w,loading:v}),C&&c.jsxs("div",{style:{marginTop:16},children:[c.jsxs(pc,{type:"secondary",children:["Search results for lot: ",C]}),c.jsx(Jr,{dataSource:p,columns:[{title:"Product Serial Number",dataIndex:"serialNumber",key:"serialNumber"},{title:"Part Number",dataIndex:"partNumber",key:"partNumber"},{title:"Status",dataIndex:"status",key:"status"},{title:"Date",dataIndex:"date",key:"date"}],pagination:!1,size:"small",locale:{emptyText:"No data - Forward traceability feature implemented, API integration pending"}})]})]})]})},{key:"backward",label:"Backward Traceability",children:c.jsxs(xe,{title:"Backward Traceability (Serial to Materials)",children:[c.jsx(Pt,{message:"Backward Traceability",description:"Track all materials and components used to manufacture a specific product. Enter a serial number to see its complete material genealogy.",type:"info",style:{marginBottom:16}}),c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsx(n5,{placeholder:"Enter serial number (e.g., SN-20251015-000001-7)",allowClear:!0,enterButton:c.jsx(le,{type:"primary",icon:c.jsx(Gn,{}),"data-testid":"backward-search-button",children:"Search"}),size:"large",onSearch:R,loading:S}),x&&c.jsxs("div",{style:{marginTop:16},children:[c.jsxs(pc,{type:"secondary",children:["Search results for serial: ",x]}),c.jsx(Jr,{dataSource:E,columns:[{title:"Material/Component",dataIndex:"material",key:"material"},{title:"Lot Number",dataIndex:"lotNumber",key:"lotNumber"},{title:"Supplier",dataIndex:"supplier",key:"supplier"},{title:"Certificate",dataIndex:"certificate",key:"certificate"}],pagination:!1,size:"small",locale:{emptyText:"No data - Backward traceability feature implemented, API integration pending"}})]})]})]})},{key:"1",label:"Genealogy",children:c.jsxs(xe,{title:"Part Genealogy Tree",children:[c.jsx(Pt,{message:"Component Breakdown",description:"This interactive tree shows the complete breakdown of components and materials that make up this part. Use zoom/pan controls to navigate.",type:"info",style:{marginBottom:16}}),a!=null&&a.serialNumber?c.jsx(ESe,{serialNumber:a.serialNumber,maxDepth:5,width:1200,height:600}):c.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"No genealogy data available"})]})},{key:"2",label:"Manufacturing History",children:c.jsx(xe,{title:"Manufacturing History",children:u.length>0?c.jsx(ya,{items:u.map(W=>({key:`${W.id}-${W.operationNumber}`,color:W.status==="COMPLETED"?"green":"orange",children:c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:500,marginBottom:4},children:["Operation ",W.operationNumber,": ",W.operationName]}),c.jsxs(pe,{size:"small",style:{marginBottom:4},children:[c.jsx(Fi,{}),c.jsx(pc,{type:"secondary",children:W.operatorName||W.operatorId}),W.machineName&&c.jsxs(c.Fragment,{children:[c.jsx(Uc,{}),c.jsx(pc,{type:"secondary",children:W.machineName})]}),c.jsx(cd,{}),c.jsx(pc,{type:"secondary",children:new Date(W.startTime).toLocaleString()})]}),W.notes&&c.jsx("div",{style:{fontSize:12,color:"#666"},children:W.notes})]})}))}):c.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"No manufacturing history available"})})},{key:"3",label:"Material Certificates",children:c.jsx(xe,{title:"Material Certificates",children:c.jsx(Jr,{dataSource:d.map(W=>({key:W.id,certNumber:W.certificateNumber,material:W.materialType,supplier:W.supplierName,heatNumber:W.heatNumber,batchNumber:W.lotNumber,certification:"See Certificate",expiry:W.expiryDate?new Date(W.expiryDate).toLocaleDateString():"N/A"})),columns:P,pagination:!1,size:"small"})})},{key:"4",label:"Quality Records",children:c.jsx(xe,{title:"Quality Records",children:c.jsx(Jr,{dataSource:h.map(W=>({key:W.id,inspectionId:W.id,type:W.inspectionType,result:W.result,inspector:W.inspector,date:new Date(W.inspectionDate).toLocaleString(),characteristics:W.notes||"See inspection details"})),columns:M,pagination:!1,size:"small"})})}];return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsx(lZ,{level:2,style:{margin:0},children:"Material Traceability"}),c.jsx(pe,{children:c.jsx(le,{icon:c.jsx(MA,{}),onClick:()=>t("/serialization"),children:"Manage Serial Numbers"})})]}),c.jsx(xe,{style:{marginBottom:24},children:c.jsxs(Dt,{gutter:16,align:"middle",children:[c.jsx(Se,{xs:24,md:18,children:c.jsx(n5,{placeholder:"Enter serial number, lot number or work order to search",allowClear:!0,enterButton:c.jsx(le,{type:"primary",icon:c.jsx(Gn,{}),"data-testid":"main-search-button",children:"Search"}),size:"large",onSearch:N,loading:n})}),c.jsx(Se,{xs:24,md:6,children:c.jsx(le,{icon:c.jsx(Y1e,{}),size:"large",style:{width:"100%"},children:"Scan QR Code"})})]})}),s&&c.jsx(Pt,{message:"Error",description:s,type:"error",closable:!0,onClose:()=>o(null),style:{marginBottom:24},showIcon:!0}),!a&&!n&&!s&&c.jsx(xe,{style:{marginBottom:24},children:c.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[c.jsx(lZ,{level:3,children:"Search for Part Traceability"}),c.jsx(pc,{type:"secondary",style:{fontSize:16},children:"Enter a serial number, lot number, or work order to view complete traceability information"}),c.jsx(Er,{}),c.jsxs(Dt,{gutter:[24,24],style:{marginTop:32},children:[c.jsx(Se,{xs:24,sm:12,md:6,children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(dl,{style:{fontSize:32,color:"#1890ff",marginBottom:8}}),c.jsx("div",{style:{fontWeight:500},children:"Genealogy"}),c.jsx(pc,{type:"secondary",style:{fontSize:12},children:"Component breakdown"})]})}),c.jsx(Se,{xs:24,sm:12,md:6,children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(uy,{style:{fontSize:32,color:"#1890ff",marginBottom:8}}),c.jsx("div",{style:{fontWeight:500},children:"History"}),c.jsx(pc,{type:"secondary",style:{fontSize:12},children:"Manufacturing operations"})]})}),c.jsx(Se,{xs:24,sm:12,md:6,children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(Zl,{style:{fontSize:32,color:"#1890ff",marginBottom:8}}),c.jsx("div",{style:{fontWeight:500},children:"Certificates"}),c.jsx(pc,{type:"secondary",style:{fontSize:12},children:"Material certifications"})]})}),c.jsx(Se,{xs:24,sm:12,md:6,children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(im,{style:{fontSize:32,color:"#1890ff",marginBottom:8}}),c.jsx("div",{style:{fontWeight:500},children:"Quality"}),c.jsx(pc,{type:"secondary",style:{fontSize:12},children:"Inspection records"})]})})]})]})}),a&&c.jsx(xe,{title:"Part Information",style:{marginBottom:24},children:c.jsxs(Dt,{gutter:[16,16],children:[c.jsx(Se,{xs:24,lg:12,children:c.jsxs(Ge,{column:1,size:"small",children:[c.jsx(Ge.Item,{label:"Serial Number",children:c.jsx(pc,{strong:!0,children:a.serialNumber})}),c.jsx(Ge.Item,{label:"Part Number",children:a.partNumber}),c.jsx(Ge.Item,{label:"Part Name",children:a.partName}),c.jsx(Ge.Item,{label:"Lot Number",children:a.lotNumber}),c.jsx(Ge.Item,{label:"Work Order",children:a.workOrder})]})}),c.jsx(Se,{xs:24,lg:12,children:c.jsxs(Ge,{column:1,size:"small",children:[c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:"green",children:a.status})}),c.jsx(Ge.Item,{label:"Current Location",children:a.currentLocation}),c.jsx(Ge.Item,{label:"Customer",children:a.customer}),c.jsx(Ge.Item,{label:"Manufacture Date",children:a.manufactureDate}),c.jsx(Ge.Item,{label:"Heat Number",children:a.heatNumber})]})})]})}),c.jsx(xe,{children:c.jsx(Zc,{defaultActiveKey:"forward",items:B})})]})},cZ={equipment:[],currentEquipment:null,equipmentLoading:!1,equipmentError:null,maintenanceRecords:[],currentMaintenance:null,maintenanceLoading:!1,maintenanceError:null,oeeMetrics:null,oeeHistory:[],oeeSummary:[],oeeLoading:!1,oeeError:null,stateHistory:[],stateHistoryLoading:!1,stateHistoryError:null,statistics:null,statisticsLoading:!1,statisticsError:null,upcomingMaintenance:[],overdueMaintenance:[],criticalEquipment:[],equipmentFilters:{},maintenanceFilters:{},searchText:""},HYe=vd()(cf((t,e)=>({...cZ,fetchEquipment:async r=>{t({equipmentLoading:!0,equipmentError:null});try{const n=r||e().equipmentFilters,i=await vu.getAllEquipment(n);i.success&&i.data?t({equipment:i.data,equipmentLoading:!1}):t({equipmentError:i.error||"Failed to fetch equipment",equipmentLoading:!1})}catch(n){console.error("[EquipmentStore] fetchEquipment error:",n),t({equipmentError:n instanceof Error?n.message:"Network error while fetching equipment",equipmentLoading:!1})}},fetchEquipmentById:async(r,n=!0)=>{t({equipmentLoading:!0,equipmentError:null});const i=await vu.getEquipmentById(r,n);i.success&&i.data?t({currentEquipment:i.data,equipmentLoading:!1}):t({equipmentError:i.error||"Failed to fetch equipment",equipmentLoading:!1})},fetchEquipmentByNumber:async(r,n=!0)=>{t({equipmentLoading:!0,equipmentError:null});const i=await vu.getEquipmentByNumber(r,n);i.success&&i.data?t({currentEquipment:i.data,equipmentLoading:!1}):t({equipmentError:i.error||"Failed to fetch equipment",equipmentLoading:!1})},fetchEquipmentHierarchy:async r=>{t({equipmentLoading:!0,equipmentError:null});const n=await vu.getEquipmentHierarchy(r);n.success&&n.data?t({equipment:n.data,equipmentLoading:!1}):t({equipmentError:n.error||"Failed to fetch hierarchy",equipmentLoading:!1})},fetchChildEquipment:async r=>{t({equipmentLoading:!0,equipmentError:null});const n=await vu.getChildEquipment(r);n.success&&n.data?t({equipment:n.data,equipmentLoading:!1}):t({equipmentError:n.error||"Failed to fetch child equipment",equipmentLoading:!1})},fetchEquipmentBySite:async r=>{t({equipmentLoading:!0,equipmentError:null});const n=await vu.getEquipmentBySite(r);n.success&&n.data?t({equipment:n.data,equipmentLoading:!1}):t({equipmentError:n.error||"Failed to fetch equipment by site",equipmentLoading:!1})},fetchEquipmentByArea:async r=>{t({equipmentLoading:!0,equipmentError:null});const n=await vu.getEquipmentByArea(r);n.success&&n.data?t({equipment:n.data,equipmentLoading:!1}):t({equipmentError:n.error||"Failed to fetch equipment by area",equipmentLoading:!1})},fetchEquipmentByWorkCenter:async r=>{t({equipmentLoading:!0,equipmentError:null});const n=await vu.getEquipmentByWorkCenter(r);n.success&&n.data?t({equipment:n.data,equipmentLoading:!1}):t({equipmentError:n.error||"Failed to fetch equipment by work center",equipmentLoading:!1})},setEquipmentFilters:r=>{t({equipmentFilters:{...e().equipmentFilters,...r}})},clearEquipmentFilters:()=>{t({equipmentFilters:{}})},fetchMaintenance:async r=>{t({maintenanceLoading:!0,maintenanceError:null});try{const n=r||e().maintenanceFilters,i=await tl.getAllMaintenance(n);i.success&&i.data?t({maintenanceRecords:i.data,maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to fetch maintenance records",maintenanceLoading:!1})}catch(n){console.error("[EquipmentStore] fetchMaintenance error:",n),t({maintenanceError:n instanceof Error?n.message:"Network error while fetching maintenance records",maintenanceLoading:!1})}},fetchMaintenanceById:async(r,n=!0)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await tl.getMaintenanceById(r,n);i.success&&i.data?t({currentMaintenance:i.data,maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to fetch maintenance record",maintenanceLoading:!1})},fetchMaintenanceByEquipment:async(r,n)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await tl.getMaintenanceByEquipment(r,n);i.success&&i.data?t({maintenanceRecords:i.data,maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to fetch maintenance records",maintenanceLoading:!1})},fetchScheduledMaintenance:async(r,n)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await tl.getScheduledMaintenance(r,n);i.success&&i.data?t({maintenanceRecords:i.data,maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to fetch scheduled maintenance",maintenanceLoading:!1})},fetchOverdueMaintenance:async()=>{t({maintenanceLoading:!0,maintenanceError:null});const r=await tl.getOverdueMaintenance();r.success&&r.data?t({overdueMaintenance:r.data,maintenanceLoading:!1}):t({maintenanceError:r.error||"Failed to fetch overdue maintenance",maintenanceLoading:!1})},fetchUpcomingMaintenance:async(r=30)=>{t({maintenanceLoading:!0,maintenanceError:null});const n=await tl.getUpcomingMaintenance(r);n.success&&n.data?t({upcomingMaintenance:n.data,maintenanceLoading:!1}):t({maintenanceError:n.error||"Failed to fetch upcoming maintenance",maintenanceLoading:!1})},createMaintenance:async r=>{t({maintenanceLoading:!0,maintenanceError:null});const n=await tl.createMaintenance(r);n.success&&n.data?t({currentMaintenance:n.data,maintenanceRecords:[...e().maintenanceRecords,n.data],maintenanceLoading:!1}):t({maintenanceError:n.error||"Failed to create maintenance record",maintenanceLoading:!1})},updateMaintenance:async(r,n)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await tl.updateMaintenance(r,n);i.success&&i.data?t({currentMaintenance:i.data,maintenanceRecords:e().maintenanceRecords.map(s=>s.id===r?i.data:s),maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to update maintenance record",maintenanceLoading:!1})},completeMaintenance:async(r,n)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await tl.completeMaintenance(r,n);i.success&&i.data?t({currentMaintenance:i.data,maintenanceRecords:e().maintenanceRecords.map(s=>s.id===r?i.data:s),maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to complete maintenance record",maintenanceLoading:!1})},cancelMaintenance:async(r,n)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await tl.cancelMaintenance(r,n);i.success&&i.data?t({currentMaintenance:i.data,maintenanceRecords:e().maintenanceRecords.map(s=>s.id===r?i.data:s),maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to cancel maintenance record",maintenanceLoading:!1})},setMaintenanceFilters:r=>{t({maintenanceFilters:{...e().maintenanceFilters,...r}})},clearMaintenanceFilters:()=>{t({maintenanceFilters:{}})},fetchOEEMetrics:async(r,n,i)=>{t({oeeLoading:!0,oeeError:null});const s=await YT.getOEEMetrics(r,n,i);s.success&&s.data?t({oeeMetrics:s.data,oeeLoading:!1}):t({oeeError:s.error||"Failed to fetch OEE metrics",oeeLoading:!1})},fetchOEEHistory:async(r,n,i)=>{t({oeeLoading:!0,oeeError:null});const s=await YT.getOEEHistory(r,n,i);s.success&&s.data?t({oeeHistory:s.data,oeeLoading:!1}):t({oeeError:s.error||"Failed to fetch OEE history",oeeLoading:!1})},fetchOEESummary:async(r,n)=>{t({oeeLoading:!0,oeeError:null});const i=await YT.getOEESummary(r,n);i.success&&i.data?t({oeeSummary:i.data,oeeLoading:!1}):t({oeeError:i.error||"Failed to fetch OEE summary",oeeLoading:!1})},fetchStateHistory:async(r,n,i)=>{t({stateHistoryLoading:!0,stateHistoryError:null});const s=await YY.getStateHistory(r,n,i);s.success&&s.data?t({stateHistory:s.data,stateHistoryLoading:!1}):t({stateHistoryError:s.error||"Failed to fetch state history",stateHistoryLoading:!1})},updateEquipmentState:async(r,n)=>{t({equipmentLoading:!0,equipmentError:null});const i=await YY.updateEquipmentState(r,n);i.success&&i.data?t({currentEquipment:i.data,equipment:e().equipment.map(s=>s.id===r?i.data:s),equipmentLoading:!1}):t({equipmentError:i.error||"Failed to update equipment state",equipmentLoading:!1})},fetchStatistics:async()=>{t({statisticsLoading:!0,statisticsError:null});const r=await vu.getEquipmentStatistics();r.success&&r.data?t({statistics:r.data,statisticsLoading:!1}):t({statisticsError:r.error||"Failed to fetch statistics",statisticsLoading:!1})},fetchDashboard:async()=>{t({equipmentLoading:!0,maintenanceLoading:!0,statisticsLoading:!0,equipmentError:null,maintenanceError:null,statisticsError:null});const r=await uGe();r.success&&r.data?t({statistics:r.data.statistics,upcomingMaintenance:r.data.upcomingMaintenance,overdueMaintenance:r.data.overdueMaintenance,criticalEquipment:r.data.criticalEquipment,equipmentLoading:!1,maintenanceLoading:!1,statisticsLoading:!1}):t({equipmentError:r.error||"Failed to fetch dashboard data",maintenanceError:r.error||"Failed to fetch dashboard data",statisticsError:r.error||"Failed to fetch dashboard data",equipmentLoading:!1,maintenanceLoading:!1,statisticsLoading:!1})},fetchMaintenanceCalendar:async(r,n)=>{t({maintenanceLoading:!0,maintenanceError:null});const i=await gGe(r,n);i.success&&i.data?t({maintenanceRecords:i.data,maintenanceLoading:!1}):t({maintenanceError:i.error||"Failed to fetch maintenance calendar",maintenanceLoading:!1})},setSearchText:r=>{t({searchText:r})},clearErrors:()=>{t({equipmentError:null,maintenanceError:null,oeeError:null,stateHistoryError:null,statisticsError:null})},reset:()=>{t(cZ)}}),{name:"EquipmentStore"})),{Search:KYe}=at,{Option:AI}=we,YYe=()=>{const t=Kr(),[e,r]=D.useState(""),[n,i]=D.useState(),[s,o]=D.useState(),[a,l]=D.useState(),[u,g]=D.useState(),[d,f]=D.useState("maintenance"),{equipment:h,maintenanceRecords:A,statistics:C,upcomingMaintenance:I,overdueMaintenance:p,equipmentLoading:m,maintenanceLoading:v,statisticsLoading:y,equipmentError:x,maintenanceError:T,statisticsError:E,fetchEquipment:_,fetchMaintenance:S,fetchDashboard:j,setEquipmentFilters:w,setMaintenanceFilters:R,clearErrors:N}=HYe();D.useEffect(()=>{j()},[]),D.useEffect(()=>{if(d==="equipment"){const K={};n&&(K.equipmentClass=n),s&&(K.status=s),e&&(K.searchText=e),w(K),_(K)}else{const K={};a&&(K.maintenanceType=a),u&&(K.status=u),R(K),S(K)}},[e,n,s,a,u,d]);const P=()=>{j(),Ee.success("Data refreshed")},M=K=>{r(K)};D.useEffect(()=>{x&&Ee.error(x),T&&Ee.error(T),E&&Ee.error(E),(x||T||E)&&setTimeout(()=>N(),3e3)},[x,T,E]);const B=[{title:"Equipment Number",dataIndex:"equipmentNumber",key:"equipmentNumber",width:150,fixed:"left",render:K=>c.jsx("strong",{children:K})},{title:"Equipment Name",dataIndex:"name",key:"name",width:200,ellipsis:!0},{title:"Class",dataIndex:"equipmentClass",key:"equipmentClass",width:150,render:K=>c.jsx(Be,{color:nSe[K],children:x2[K]})},{title:"Status",dataIndex:"status",key:"status",width:120,render:K=>c.jsx(Be,{color:iSe[K],children:ZY[K]})},{title:"OEE",dataIndex:"oee",key:"oee",width:100,align:"center",render:K=>{if(!K)return"N/A";const Y=Math.round(K*100),k=Y>=85?"success":Y>=70?"warning":"error";return c.jsxs(Be,{color:k,children:[Y,"%"]})}},{title:"Availability",dataIndex:"availability",key:"availability",width:100,align:"center",render:K=>K?`${Math.round(K*100)}%`:"N/A"},{title:"Location",key:"location",width:150,render:(K,Y)=>c.jsxs("div",{style:{fontSize:"12px"},children:[Y.siteId&&c.jsxs("div",{children:["Site: ",Y.siteId]}),Y.areaId&&c.jsxs("div",{children:["Area: ",Y.areaId]})]})},{title:"Maintenance Records",key:"maintenance",width:120,align:"center",render:(K,Y)=>{var k;return c.jsx(Be,{color:"blue",children:((k=Y.maintenanceRecords)==null?void 0:k.length)||0})}},{title:"Actions",key:"actions",width:100,fixed:"right",render:(K,Y)=>c.jsx(lt,{title:"View Details",children:c.jsx(le,{type:"link",size:"small",icon:c.jsx(Os,{}),onClick:()=>t(`/equipment/${Y.id}`),children:"View"})})}],W=[{title:"Equipment",key:"equipment",width:200,fixed:"left",render:(K,Y)=>{var k,q;return c.jsxs("div",{children:[c.jsx("div",{children:c.jsx("strong",{children:(k=Y.equipment)==null?void 0:k.name})}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:(q=Y.equipment)==null?void 0:q.equipmentNumber})]})}},{title:"Maintenance Type",dataIndex:"maintenanceType",key:"maintenanceType",width:150,render:K=>c.jsx(Be,{color:hGe[K],children:XY[K]})},{title:"Description",dataIndex:"description",key:"description",width:250,ellipsis:!0},{title:"Status",dataIndex:"status",key:"status",width:120,render:K=>c.jsx(Be,{color:fGe[K],children:QY[K]})},{title:"Scheduled Date",dataIndex:"scheduledDate",key:"scheduledDate",width:120,render:K=>new Date(K).toLocaleDateString()},{title:"Completed Date",dataIndex:"completedDate",key:"completedDate",width:120,render:K=>K?new Date(K).toLocaleDateString():"N/A"},{title:"Duration",dataIndex:"duration",key:"duration",width:100,align:"center",render:K=>K?`${K} hrs`:"N/A"},{title:"Cost",dataIndex:"cost",key:"cost",width:120,align:"right",render:K=>K?`$${K.toLocaleString()}`:"N/A"},{title:"Performed By",dataIndex:"performedBy",key:"performedBy",width:150,render:K=>K||"N/A"},{title:"Actions",key:"actions",width:100,fixed:"right",render:(K,Y)=>c.jsx(lt,{title:"View Details",children:c.jsx(le,{type:"link",size:"small",icon:c.jsx(Os,{}),onClick:()=>t(`/equipment/maintenance/${Y.id}`),children:"View"})})}],H=m||v||y,V=A.filter(K=>K.maintenanceType===tSe.CALIBRATION&&K.status===rSe.SCHEDULED).length;return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs("h1",{children:[c.jsx(Uc,{style:{marginRight:8}}),"Equipment Maintenance Scheduling"]}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:"Manage preventive maintenance, calibration, and equipment downtime tracking"})]}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Equipment",value:(C==null?void 0:C.totalEquipment)||0,prefix:c.jsx(Uc,{}),valueStyle:{color:"#1890ff"},loading:y})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Scheduled Maintenance",value:(C==null?void 0:C.totalMaintenanceScheduled)||0,prefix:c.jsx(cd,{}),valueStyle:{color:"#52c41a"},loading:y})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Overdue",value:(C==null?void 0:C.totalMaintenanceOverdue)||0,prefix:c.jsx(Ns,{}),valueStyle:{color:"#ff4d4f"},loading:y})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Calibration Due",value:V,prefix:c.jsx(vr,{}),valueStyle:{color:"#faad14"},loading:v})})})]}),p.length>0&&c.jsx(Pt,{message:`${p.length} maintenance tasks are overdue`,description:"Review overdue maintenance tasks and schedule completion",type:"error",showIcon:!0,closable:!0,style:{marginBottom:"16px"}}),I.length>0&&c.jsx(Pt,{message:`${I.length} maintenance tasks scheduled in the next 30 days`,description:"Review upcoming maintenance and ensure resources are available",type:"warning",showIcon:!0,closable:!0,style:{marginBottom:"16px"}}),c.jsx(xe,{style:{marginBottom:"16px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",gap:"8px",flex:1},children:[c.jsxs(we,{value:d,onChange:f,style:{width:"180px"},children:[c.jsx(AI,{value:"maintenance",children:"Maintenance Records"}),c.jsx(AI,{value:"equipment",children:"Equipment List"})]}),c.jsx(KYe,{placeholder:d==="maintenance"?"Search maintenance...":"Search equipment...",allowClear:!0,enterButton:c.jsx(Gn,{}),value:e,onChange:K=>r(K.target.value),onSearch:M,style:{width:"300px"}}),d==="equipment"?c.jsxs(c.Fragment,{children:[c.jsx(we,{placeholder:"Filter by class",allowClear:!0,value:n,onChange:i,style:{width:"180px"},children:Object.entries(x2||{}).map(([K,Y])=>c.jsx(AI,{value:K,children:Y},K))}),c.jsx(we,{placeholder:"Filter by status",allowClear:!0,value:s,onChange:o,style:{width:"180px"},children:Object.entries(ZY||{}).map(([K,Y])=>c.jsx(AI,{value:K,children:Y},K))})]}):c.jsxs(c.Fragment,{children:[c.jsx(we,{placeholder:"Filter by type",allowClear:!0,value:a,onChange:l,style:{width:"180px"},children:Object.entries(XY||{}).map(([K,Y])=>c.jsx(AI,{value:K,children:Y},K))}),c.jsx(we,{placeholder:"Filter by status",allowClear:!0,value:u,onChange:g,style:{width:"180px"},children:Object.entries(QY||{}).map(([K,Y])=>c.jsx(AI,{value:K,children:Y},K))})]})]}),c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Ps,{}),onClick:P,children:"Refresh"}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),children:"Schedule Maintenance"})]})]})}),c.jsx(xe,{title:d==="maintenance"?"Maintenance Records":"Equipment List",children:c.jsx(ei,{spinning:H,children:d==="maintenance"?c.jsx(Jr,{columns:W,dataSource:A,rowKey:"id",loading:H,pagination:{showSizeChanger:!0,showTotal:K=>`Total ${K} records`,pageSizeOptions:["10","20","50","100"]},scroll:{x:1600},bordered:!0,locale:{emptyText:H?"Loading...":"No maintenance records found"}}):c.jsx(Jr,{columns:B,dataSource:h,rowKey:"id",loading:H,pagination:{showSizeChanger:!0,showTotal:K=>`Total ${K} equipment`,pageSizeOptions:["10","20","50","100"]},scroll:{x:1400},bordered:!0,locale:{emptyText:H?"Loading...":"No equipment found"}})})})]})},ZYe=()=>{const{user:t}=qo();return D.useEffect(()=>{document.title="Profile - Manufacturing Execution System"},[]),t?c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsx("h1",{children:"User Profile"}),c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Pi,{}),children:"Edit Profile"}),c.jsx(le,{icon:c.jsx(ld,{}),children:"Account Settings"})]})]}),c.jsxs(Dt,{gutter:[16,16],children:[c.jsx(Se,{xs:24,lg:16,children:c.jsxs(xe,{title:"Profile Information",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:24},children:[c.jsx(ia,{size:64,icon:c.jsx(Fi,{}),style:{marginRight:16}}),c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0},children:t.username}),c.jsx("p",{style:{margin:0,color:"#666"},children:t.email})]})]}),c.jsxs(Ge,{column:{xs:1,sm:2},children:[c.jsx(Ge.Item,{label:"Username",children:t.username}),c.jsx(Ge.Item,{label:"Email",children:t.email}),c.jsx(Ge.Item,{label:"User ID",children:t.id}),c.jsx(Ge.Item,{label:"Account Status",children:c.jsx(Be,{color:"green",children:"Active"})})]})]})}),c.jsxs(Se,{xs:24,lg:8,children:[c.jsxs(xe,{title:"Roles & Permissions",style:{marginBottom:16},children:[c.jsxs("div",{style:{marginBottom:16},children:[c.jsx("h4",{children:"Roles:"}),c.jsx(pe,{wrap:!0,children:t.roles.map(e=>c.jsx(Be,{color:"blue",children:e},`role-${e}`))})]}),c.jsxs("div",{children:[c.jsx("h4",{children:"Permissions:"}),c.jsx(pe,{wrap:!0,children:t.permissions.map(e=>c.jsx(Be,{color:"green",style:{fontSize:"10px"},children:e},`permission-${e}`))})]})]}),c.jsx(xe,{title:"Quick Actions",children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsx(le,{block:!0,type:"default",children:"Change Password"}),c.jsx(le,{block:!0,type:"default",children:"Download Activity Report"}),c.jsx(le,{block:!0,type:"default",children:"Update Preferences"})]})})]})]})]}):c.jsx("div",{children:"Loading..."})},XYe=()=>{const t=Kr();return c.jsx(jv,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:c.jsx(le,{type:"primary",onClick:()=>t("/dashboard"),children:"Back to Dashboard"})})},QYe="/api/v1",JYe=()=>{const t=Vt.create({baseURL:QYe,timeout:15e3,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(e=>{var r;try{const n=localStorage.getItem("mes-auth-storage");if(n){const s=(r=JSON.parse(n).state)==null?void 0:r.token;s&&(e.headers.Authorization=`Bearer ${s}`)}}catch(n){console.error("Error getting auth token",n)}return e},e=>Promise.reject(e)),t.interceptors.response.use(e=>e.data,e=>{var r;throw(r=e.response)!=null&&r.data?new Error(e.response.data.error||e.response.data.message||"API request failed"):new Error(e.message||"Network error")}),t},Ol=JYe(),yc={list:async t=>Ol.get("/work-instructions",{params:t}),getById:async t=>Ol.get(`/work-instructions/${t}`),getByPartId:async t=>Ol.get(`/work-instructions/part/${t}`),create:async t=>Ol.post("/work-instructions",t),update:async(t,e)=>Ol.put(`/work-instructions/${t}`,e),delete:async t=>Ol.delete(`/work-instructions/${t}`),approve:async t=>Ol.post(`/work-instructions/${t}/approve`),reject:async(t,e,r)=>Ol.post(`/work-instructions/${t}/reject`,{reason:e,comments:r}),addStep:async(t,e)=>Ol.post(`/work-instructions/${t}/steps`,e),updateStep:async(t,e,r)=>Ol.put(`/work-instructions/${t}/steps/${e}`,r),deleteStep:async(t,e)=>Ol.delete(`/work-instructions/${t}/steps/${e}`),reorderSteps:async(t,e)=>Ol.post(`/work-instructions/${t}/steps/reorder`,{stepOrders:e})},i5={page:1,limit:20,sortBy:"updatedAt",sortOrder:"desc"},qp=vd()(cf((t,e)=>({workInstructions:[],filteredWorkInstructions:[],isLoading:!1,error:null,pagination:{page:1,limit:20,total:0,totalPages:0},filters:i5,currentWorkInstruction:null,isLoadingDetail:!1,detailError:null,executionMode:!1,currentStepIndex:0,completedSteps:new Set,fetchWorkInstructions:async r=>{try{t({isLoading:!0,error:null});const n=r||e().filters,i=await yc.list(n);t({workInstructions:i.workInstructions,filteredWorkInstructions:i.workInstructions,pagination:i.pagination,filters:n,isLoading:!1})}catch(n){throw t({isLoading:!1,error:n.message||"Failed to fetch work instructions"}),n}},setFilters:r=>{const i={...e().filters,...r,page:1};t({filters:i}),e().fetchWorkInstructions(i)},clearFilters:()=>{t({filters:i5}),e().fetchWorkInstructions(i5)},setPage:r=>{const n={...e().filters,page:r};t({filters:n}),e().fetchWorkInstructions(n)},fetchWorkInstructionById:async r=>{try{t({isLoadingDetail:!0,detailError:null});const n=await yc.getById(r);t({currentWorkInstruction:n,isLoadingDetail:!1})}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to fetch work instruction"}),n}},createWorkInstruction:async r=>{try{t({isLoading:!0,error:null});const n=await yc.create(r);return t({currentWorkInstruction:n,isLoading:!1}),await e().fetchWorkInstructions(),n}catch(n){throw t({isLoading:!1,error:n.message||"Failed to create work instruction"}),n}},updateWorkInstruction:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null});const i=await yc.update(r,n);t({currentWorkInstruction:i,isLoadingDetail:!1}),await e().fetchWorkInstructions()}catch(i){throw t({isLoadingDetail:!1,detailError:i.message||"Failed to update work instruction"}),i}},deleteWorkInstruction:async r=>{try{t({isLoading:!0,error:null}),await yc.delete(r),t({currentWorkInstruction:null,isLoading:!1}),await e().fetchWorkInstructions()}catch(n){throw t({isLoading:!1,error:n.message||"Failed to delete work instruction"}),n}},approveWorkInstruction:async r=>{try{t({isLoadingDetail:!0,detailError:null});const n=await yc.approve(r);t({currentWorkInstruction:n,isLoadingDetail:!1}),await e().fetchWorkInstructions()}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to approve work instruction"}),n}},addStep:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null}),await yc.addStep(r,n),await e().fetchWorkInstructionById(r),t({isLoadingDetail:!1})}catch(i){throw t({isLoadingDetail:!1,detailError:i.message||"Failed to add step"}),i}},updateStep:async(r,n,i)=>{try{t({isLoadingDetail:!0,detailError:null}),await yc.updateStep(r,n,i),await e().fetchWorkInstructionById(r),t({isLoadingDetail:!1})}catch(s){throw t({isLoadingDetail:!1,detailError:s.message||"Failed to update step"}),s}},deleteStep:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null}),await yc.deleteStep(r,n),await e().fetchWorkInstructionById(r),t({isLoadingDetail:!1})}catch(i){throw t({isLoadingDetail:!1,detailError:i.message||"Failed to delete step"}),i}},reorderSteps:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null}),await yc.reorderSteps(r,n),await e().fetchWorkInstructionById(r),t({isLoadingDetail:!1})}catch(i){throw t({isLoadingDetail:!1,detailError:i.message||"Failed to reorder steps"}),i}},startExecution:r=>{t({executionMode:!0,currentWorkInstruction:r,currentStepIndex:0,completedSteps:new Set})},stopExecution:()=>{t({executionMode:!1,currentStepIndex:0,completedSteps:new Set})},goToNextStep:()=>{const{currentWorkInstruction:r,currentStepIndex:n}=e();if(r&&r.steps){const i=Math.min(n+1,r.steps.length-1);t({currentStepIndex:i})}},goToPreviousStep:()=>{const{currentStepIndex:r}=e(),n=Math.max(r-1,0);t({currentStepIndex:n})},goToStep:r=>{const{currentWorkInstruction:n}=e();if(n&&n.steps){const i=Math.max(0,Math.min(r,n.steps.length-1));t({currentStepIndex:i})}},markStepComplete:r=>{const{completedSteps:n}=e(),i=new Set(n);i.add(r),t({completedSteps:i})},markStepIncomplete:r=>{const{completedSteps:n}=e(),i=new Set(n);i.delete(r),t({completedSteps:i})},setError:r=>{t({error:r})},clearError:()=>{t({error:null})},setDetailError:r=>{t({detailError:r})},clearDetailError:()=>{t({detailError:null})}}),{name:"work-instruction-store"})),eZe=()=>qp(t=>{var e,r,n,i;return{executionMode:t.executionMode,currentWorkInstruction:t.currentWorkInstruction,currentStepIndex:t.currentStepIndex,completedSteps:t.completedSteps,currentStep:(r=(e=t.currentWorkInstruction)==null?void 0:e.steps)==null?void 0:r[t.currentStepIndex],totalSteps:((i=(n=t.currentWorkInstruction)==null?void 0:n.steps)==null?void 0:i.length)||0}}),{Search:tZe}=at,{Option:q0}=we,rZe={DRAFT:"default",REVIEW:"processing",APPROVED:"success",SUPERSEDED:"warning",ARCHIVED:"error"},nZe=()=>{const t=Kr(),[e,r]=D.useState(""),[n,i]=D.useState(),{workInstructions:s,isLoading:o,error:a,pagination:l,fetchWorkInstructions:u,setFilters:g,setPage:d,deleteWorkInstruction:f,approveWorkInstruction:h}=qp();D.useEffect(()=>{u()},[u]);const A=y=>{r(y),g({search:y||void 0})},C=y=>{i(y),g({status:y})},I=y=>{y.current&&d(y.current)},p=async y=>{try{await f(y),Ee.success("Work instruction deleted successfully")}catch(x){Ee.error(x.message||"Failed to delete work instruction")}},m=async y=>{try{await h(y),Ee.success("Work instruction approved successfully")}catch(x){Ee.error(x.message||"Failed to approve work instruction")}},v=[{title:"Title",dataIndex:"title",key:"title",width:"25%",ellipsis:!0,render:(y,x)=>c.jsxs(pe,{children:[c.jsx(Zl,{}),c.jsx("a",{onClick:()=>t(`/work-instructions/${x.id}`),children:y})]})},{title:"Version",dataIndex:"version",key:"version",width:"10%",sorter:!0},{title:"Status",dataIndex:"status",key:"status",width:"12%",render:y=>c.jsx(Be,{color:rZe[y],children:y})},{title:"Steps",key:"steps",width:"8%",align:"center",render:(y,x)=>{var T;return c.jsx("span",{children:((T=x.steps)==null?void 0:T.length)||0})}},{title:"Description",dataIndex:"description",key:"description",width:"25%",ellipsis:!0},{title:"Updated",dataIndex:"updatedAt",key:"updatedAt",width:"12%",sorter:!0,render:y=>new Date(y).toLocaleDateString()},{title:"Actions",key:"actions",width:"15%",fixed:"right",render:(y,x)=>c.jsxs(pe,{size:"small",children:[c.jsx(lt,{title:"View",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Os,{}),onClick:()=>t(`/work-instructions/${x.id}`)})}),x.status==="APPROVED"&&c.jsx(lt,{title:"Execute",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(sm,{}),onClick:()=>t(`/work-instructions/${x.id}/execute`)})}),(x.status==="DRAFT"||x.status==="REVIEW")&&c.jsxs(c.Fragment,{children:[c.jsx(lt,{title:"Edit",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>t(`/work-instructions/${x.id}/edit`)})}),x.status==="REVIEW"&&c.jsx(lt,{title:"Approve",children:c.jsx(sa,{title:"Approve this work instruction?",onConfirm:()=>m(x.id),okText:"Yes",cancelText:"No",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(vr,{}),style:{color:"#52c41a"}})})}),c.jsx(lt,{title:"Delete",children:c.jsx(sa,{title:"Are you sure you want to delete this work instruction?",onConfirm:()=>p(x.id),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{})})})})]})]})}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("h1",{children:"Work Instructions"}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:"Create and manage digital work instructions for manufacturing operations"})]}),c.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",gap:"16px"},children:[c.jsxs(pe,{size:"middle",style:{flex:1},children:[c.jsx(tZe,{placeholder:"Search by title or description",allowClear:!0,enterButton:c.jsx(Gn,{}),value:e,onChange:y=>r(y.target.value),onSearch:A,style:{width:"300px"}}),c.jsxs(we,{placeholder:"Filter by status",allowClear:!0,value:n,onChange:C,style:{width:"150px"},children:[c.jsx(q0,{value:"DRAFT",children:"Draft"}),c.jsx(q0,{value:"REVIEW",children:"Review"}),c.jsx(q0,{value:"APPROVED",children:"Approved"}),c.jsx(q0,{value:"SUPERSEDED",children:"Superseded"}),c.jsx(q0,{value:"ARCHIVED",children:"Archived"})]})]}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>t("/work-instructions/create"),size:"large",children:"Create Work Instruction"})]}),a&&c.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#fff2f0",border:"1px solid #ffccc7",borderRadius:"4px"},children:c.jsx("span",{style:{color:"#cf1322"},children:a})}),c.jsx(Jr,{columns:v,dataSource:s,rowKey:"id",loading:o,pagination:{current:l.page,pageSize:l.limit,total:l.total,showSizeChanger:!0,showTotal:y=>`Total ${y} work instructions`,pageSizeOptions:["10","20","50","100"]},onChange:I,scroll:{x:1200},bordered:!0})]})},iZe=()=>c.jsx(nZe,{}),CI="/api/v1";class sZe{async createSignature(e){return(await Vt.post(`${CI}/signatures`,e)).data}async verifySignature(e){return(await Vt.post(`${CI}/signatures/verify`,e)).data}async getSignature(e){return(await Vt.get(`${CI}/signatures/${e}`)).data}async listSignatures(e){return(await Vt.get(`${CI}/signatures`,{params:e})).data}async getSignaturesForEntity(e,r){return(await Vt.get(`${CI}/signatures/entity/${e}/${r}`)).data}async invalidateSignature(e,r,n){await Vt.post(`${CI}/signatures/${e}/invalidate`,{invalidatedById:r,invalidationReason:n})}}const II=new sZe,uZ={signatures:[],currentSignature:null,isLoading:!1,error:null,pagination:{page:1,limit:20,total:0,totalPages:0}},c9=vd()(cf((t,e)=>({...uZ,createSignature:async r=>{var n,i;t({isLoading:!0,error:null});try{const s=await II.createSignature(r);return e().pagination&&r.signedEntityType&&r.signedEntityId&&await e().listSignatures({signedEntityType:r.signedEntityType,signedEntityId:r.signedEntityId}),t({isLoading:!1}),s}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to create signature";throw t({error:o,isLoading:!1}),new Error(o)}},verifySignature:async r=>{var n,i;t({isLoading:!0,error:null});try{const s=await II.verifySignature({signatureId:r});return t({currentSignature:s,isLoading:!1}),s}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to verify signature";throw t({error:o,isLoading:!1}),new Error(o)}},getSignature:async r=>{var n,i;t({isLoading:!0,error:null});try{const s=await II.getSignature(r);t({currentSignature:s,isLoading:!1})}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to get signature";throw t({error:o,isLoading:!1}),new Error(o)}},listSignatures:async r=>{var n,i;t({isLoading:!0,error:null});try{const{page:s,limit:o}=e().pagination,a={page:s,limit:o,...r},l=await II.listSignatures(a);t({signatures:l.signatures,pagination:l.pagination,isLoading:!1})}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to list signatures";throw t({error:o,isLoading:!1}),new Error(o)}},getSignaturesForEntity:async(r,n)=>{var i,s;t({isLoading:!0,error:null});try{const o=await II.getSignaturesForEntity(r,n);return t({signatures:o,isLoading:!1}),o}catch(o){const a=((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.error)||o.message||"Failed to get entity signatures";throw t({error:a,isLoading:!1}),new Error(a)}},invalidateSignature:async(r,n,i)=>{var s,o;t({isLoading:!0,error:null});try{await II.invalidateSignature(r,n,i),await e().listSignatures(),t({isLoading:!1})}catch(a){const l=((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.error)||a.message||"Failed to invalidate signature";throw t({error:l,isLoading:!1}),new Error(l)}},setPage:r=>{t(n=>({pagination:{...n.pagination,page:r}})),e().listSignatures()},setPageSize:r=>{t(n=>({pagination:{...n.pagination,limit:r,page:1}})),e().listSignatures()},setFilters:r=>{e().listSignatures(r)},clearError:()=>{t({error:null})},reset:()=>{t(uZ)}}),{name:"SignatureStore"})),{Text:Ia}=yr,u9=({signatures:t,compact:e=!1,showDetails:r=!0})=>{if(!t||t.length===0)return c.jsxs(Ia,{type:"secondary",italic:!0,children:[c.jsx(Wc,{})," No signatures"]});const n=o=>{switch(o){case"BASIC":return c.jsx(cy,{});case"ADVANCED":return c.jsx(cs,{});case"QUALIFIED":return c.jsx(cs,{style:{color:"#faad14"}});default:return c.jsx(cy,{})}},i=o=>{switch(o){case"OPERATOR":return"blue";case"SUPERVISOR":return"cyan";case"QUALITY":return"purple";case"ENGINEER":return"orange";case"MANAGER":return"red";default:return"default"}},s=o=>c.jsxs(Ge,{column:1,size:"small",bordered:!0,children:[c.jsx(Ge.Item,{label:"Signer",children:o.firstName&&o.lastName?`${o.firstName} ${o.lastName}`:o.username}),c.jsx(Ge.Item,{label:"User ID",children:c.jsx(Ia,{code:!0,style:{fontSize:"11px"},children:o.userId})}),c.jsx(Ge.Item,{label:"Signature Type",children:c.jsx(Be,{color:o.signatureType==="QUALIFIED"?"gold":"blue",children:o.signatureType})}),c.jsx(Ge.Item,{label:"Signature Level",children:c.jsx(Be,{color:i(o.signatureLevel),children:o.signatureLevel})}),c.jsx(Ge.Item,{label:"Timestamp",children:Vs(o.timestamp).format("MMM D, YYYY h:mm A")}),c.jsx(Ge.Item,{label:"Status",children:o.isValid?c.jsx(Be,{color:"success",icon:c.jsx(vr,{}),children:"Valid"}):c.jsx(Be,{color:"error",icon:c.jsx(ts,{}),children:"Invalid"})}),o.biometricType&&c.jsx(Ge.Item,{label:"Biometric",children:c.jsxs(pe,{children:[c.jsx(Yg,{}),c.jsx(Ia,{children:o.biometricType}),o.biometricScore&&c.jsxs(Ia,{type:"secondary",children:["(",(o.biometricScore*100).toFixed(1),"%)"]})]})}),o.signatureReason&&c.jsx(Ge.Item,{label:"Reason",children:c.jsx(Ia,{italic:!0,children:o.signatureReason})}),!o.isValid&&o.invalidationReason&&c.jsxs(Ge.Item,{label:"Invalidation Reason",children:[c.jsx(Ia,{type:"danger",children:o.invalidationReason}),o.invalidatedAt&&c.jsx("div",{children:c.jsxs(Ia,{type:"secondary",style:{fontSize:"12px"},children:["Invalidated: ",Vs(o.invalidatedAt).format("MMM D, YYYY h:mm A")]})})]}),c.jsx(Ge.Item,{label:"Signature ID",children:c.jsx(Ia,{code:!0,style:{fontSize:"10px"},children:o.id})})]});return e?c.jsx(pe,{size:"small",wrap:!0,children:t.map(o=>c.jsx(VV,{content:s(o),title:"Signature Details",trigger:"hover",children:c.jsx(ji,{status:o.isValid?"success":"error",text:c.jsxs(pe,{size:4,children:[n(o.signatureType),c.jsx(Ia,{style:{fontSize:"12px"},children:o.username}),o.biometricType&&c.jsx(Yg,{style:{fontSize:"12px",color:"#52c41a"}})]})})},o.id))}):c.jsx(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:t.map(o=>c.jsx("div",{style:{padding:"12px",border:`1px solid ${o.isValid?"#52c41a":"#ff4d4f"}`,borderRadius:"4px",background:o.isValid?"#f6ffed":"#fff2f0"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"small",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(pe,{children:[o.isValid?c.jsx(vr,{style:{color:"#52c41a",fontSize:"18px"}}):c.jsx(ts,{style:{color:"#ff4d4f",fontSize:"18px"}}),c.jsx(Ia,{strong:!0,children:o.firstName&&o.lastName?`${o.firstName} ${o.lastName}`:o.username}),c.jsx(Be,{color:i(o.signatureLevel),children:o.signatureLevel})]}),c.jsxs(pe,{children:[o.biometricType&&c.jsx(lt,{title:`Biometric: ${o.biometricType} (${(o.biometricScore||0)*100}%)`,children:c.jsx(Yg,{style:{color:"#52c41a"}})}),c.jsxs(Be,{color:o.signatureType==="QUALIFIED"?"gold":"blue",children:[n(o.signatureType)," ",o.signatureType]})]})]}),c.jsxs(Ia,{type:"secondary",style:{fontSize:"12px"},children:["Signed: ",Vs(o.timestamp).format("MMM D, YYYY h:mm A")]}),o.signatureReason&&c.jsxs(Ia,{italic:!0,style:{fontSize:"12px"},children:["Reason: ",o.signatureReason]}),!o.isValid&&o.invalidationReason&&c.jsxs("div",{children:[c.jsxs(Ia,{type:"danger",style:{fontSize:"12px"},children:[" Invalidated: ",o.invalidationReason]}),o.invalidatedAt&&c.jsxs(Ia,{type:"secondary",style:{fontSize:"11px",display:"block"},children:["(",Vs(o.invalidatedAt).format("MMM D, YYYY h:mm A"),")"]})]}),r&&c.jsx(VV,{content:s(o),title:"Full Signature Details",trigger:"click",children:c.jsxs("a",{style:{fontSize:"12px"},children:[c.jsx(Wc,{})," View details"]})})]})},o.id))})},{Text:Ig,Title:Rb}=yr,oZe=({biometricType:t,onCapture:e,onCancel:r,minQualityScore:n=.8})=>{const[i,s]=D.useState(!1),[o,a]=D.useState(0),[l,u]=D.useState("idle"),[g,d]=D.useState(null),[f,h]=D.useState(null),[A,C]=D.useState(0),I=3,p=()=>{s(!0),u("capturing"),a(0),C(A+1);const E=setInterval(()=>{a(_=>_>=100?(clearInterval(E),m(),100):_+10)},200)},m=()=>{const E=Math.random()*.3+.7,_=v();d(E),h(_),s(!1),E>=n?u("success"):u("failed")},v=()=>{const E=Date.now(),_=Math.random().toString(36).substring(2,15);return`BIO_${t}_${E}_${_}`},y=()=>{f&&g&&e(f,g)},x=()=>{u("idle"),a(0),d(null),h(null)},T=()=>{switch(l){case"idle":return c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(Yg,{style:{fontSize:"120px",color:"#d9d9d9",marginBottom:"24px"}}),c.jsx(Rb,{level:4,children:"Ready to Capture"}),c.jsxs(Ig,{type:"secondary",style:{display:"block",marginBottom:"24px"},children:["Place your ",t.toLowerCase()," on the reader"]}),c.jsxs(pe,{children:[c.jsx(le,{type:"primary",size:"large",onClick:p,children:"Start Capture"}),c.jsx(le,{size:"large",onClick:r,children:"Cancel"})]}),A>0&&c.jsxs(Ig,{type:"secondary",style:{display:"block",marginTop:"16px"},children:["Attempt ",A,"/",I]})]});case"capturing":return c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(Yg,{style:{fontSize:"120px",color:"#1890ff",marginBottom:"24px",animation:"pulse 1.5s ease-in-out infinite"}}),c.jsx(Rb,{level:4,children:"Capturing..."}),c.jsx(Ig,{type:"secondary",style:{display:"block",marginBottom:"24px"},children:"Please hold still"}),c.jsx(Wn,{percent:o,status:"active",strokeColor:{"0%":"#108ee9","100%":"#87d068"}})]});case"success":return c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(vr,{style:{fontSize:"120px",color:"#52c41a",marginBottom:"24px"}}),c.jsx(Rb,{level:4,children:"Capture Successful"}),c.jsx(xe,{style:{marginTop:"24px",textAlign:"left"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsx(Ig,{type:"secondary",children:"Quality Score:"}),c.jsx("br",{}),c.jsxs(Ig,{strong:!0,style:{fontSize:"18px",color:"#52c41a"},children:[g?(g*100).toFixed(1):0,"%"]}),c.jsx(Wn,{percent:g?g*100:0,status:"success",showInfo:!1,style:{marginTop:"8px"}})]}),c.jsxs("div",{children:[c.jsx(Ig,{type:"secondary",children:"Template ID:"}),c.jsx("br",{}),c.jsxs(Ig,{code:!0,style:{fontSize:"11px"},children:[f==null?void 0:f.substring(0,40),"..."]})]})]})}),c.jsx(Pt,{message:"High Quality Capture",description:`Biometric quality score exceeds minimum requirement of ${(n*100).toFixed(0)}%`,type:"success",showIcon:!0,style:{marginTop:"16px",textAlign:"left"}}),c.jsxs(pe,{style:{marginTop:"24px"},children:[c.jsx(le,{type:"primary",size:"large",onClick:y,children:"Confirm & Continue"}),c.jsx(le,{size:"large",onClick:x,children:"Recapture"})]})]});case"failed":return c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(ts,{style:{fontSize:"120px",color:"#ff4d4f",marginBottom:"24px"}}),c.jsx(Rb,{level:4,children:"Capture Failed"}),c.jsx(xe,{style:{marginTop:"24px",textAlign:"left"},children:c.jsx(pe,{direction:"vertical",style:{width:"100%"},children:c.jsxs("div",{children:[c.jsx(Ig,{type:"secondary",children:"Quality Score:"}),c.jsx("br",{}),c.jsxs(Ig,{strong:!0,style:{fontSize:"18px",color:"#ff4d4f"},children:[g?(g*100).toFixed(1):0,"%"]}),c.jsx(Wn,{percent:g?g*100:0,status:"exception",showInfo:!1,style:{marginTop:"8px"}})]})})}),c.jsx(Pt,{message:"Low Quality Capture",description:`Biometric quality score is below minimum requirement of ${(n*100).toFixed(0)}%. Please try again.`,type:"error",showIcon:!0,style:{marginTop:"16px",textAlign:"left"}}),A<I?c.jsxs(pe,{style:{marginTop:"24px"},children:[c.jsx(le,{type:"primary",size:"large",icon:c.jsx(Ps,{}),onClick:x,children:"Try Again"}),c.jsx(le,{size:"large",onClick:r,children:"Cancel"})]}):c.jsxs("div",{style:{marginTop:"24px"},children:[c.jsx(Pt,{message:"Maximum Attempts Reached",description:"Please contact your supervisor or try again later.",type:"warning",showIcon:!0}),c.jsx(le,{size:"large",onClick:r,style:{marginTop:"16px"},children:"Close"})]})]});default:return null}};return c.jsxs("div",{style:{minHeight:"400px",padding:"24px"},children:[T(),c.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.05);
          }
        }
      `})]})},{Text:el,Title:aZe}=yr,{Step:lZe}=iA,g9=({visible:t,onCancel:e,onSign:r,entityType:n,entityId:i,entityName:s,signatureLevel:o,signatureType:a,requireBiometric:l=!1,title:u="Electronic Signature Required",description:g})=>{const[d]=me.useForm(),[f,h]=D.useState(!1),[A,C]=D.useState(null),[I,p]=D.useState(0),[m,v]=D.useState(null),[y,x]=D.useState(!1),T=a==="ADVANCED"||a==="QUALIFIED",E=l||a==="QUALIFIED",_=async()=>{try{C(null),h(!0);const N=await d.validateFields();if(E&&!m){C("Biometric verification is required for this signature level"),p(1);return}const P={username:N.username,password:N.password,totpCode:N.totpCode,biometricTemplate:m==null?void 0:m.template,biometricScore:m==null?void 0:m.score,signatureReason:N.signatureReason};await r(P),d.resetFields(),v(null),p(0),x(!1)}catch(N){if(N.errorFields)return;C(N.message||"Failed to apply electronic signature")}finally{h(!1)}},S=(N,P)=>{v({template:N,score:P}),x(!1),p(2)},j=()=>{d.resetFields(),v(null),p(0),C(null),x(!1),e()},w=()=>{switch(I){case 0:return c.jsxs(me,{form:d,layout:"vertical",size:"large",children:[c.jsx(me.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please enter your username"}],children:c.jsx(at,{prefix:c.jsx(Fi,{}),placeholder:"Enter your username",autoComplete:"username",autoFocus:!0})}),c.jsx(me.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter your password"}],children:c.jsx(at.Password,{prefix:c.jsx(cy,{}),placeholder:"Enter your password",autoComplete:"current-password"})}),T&&c.jsx(me.Item,{name:"totpCode",label:"Two-Factor Authentication Code",rules:[{required:!0,message:"Please enter your 2FA code"},{pattern:/^\d{6}$/,message:"2FA code must be 6 digits"}],children:c.jsx(at,{prefix:c.jsx(cs,{}),placeholder:"000000",maxLength:6,style:{letterSpacing:"0.5em",fontSize:"18px"}})}),c.jsx(me.Item,{name:"signatureReason",label:"Reason for Signature (Optional)",children:c.jsx(at.TextArea,{placeholder:"Enter reason for signing (e.g., Approval, Review, Verification)",rows:3,maxLength:500})})]});case 1:return c.jsx("div",{style:{padding:"24px 0"},children:y?c.jsx(oZe,{biometricType:"FINGERPRINT",onCapture:S,onCancel:()=>{x(!1),p(0)}}):c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(Yg,{style:{fontSize:"64px",color:"#1890ff",marginBottom:"24px"}}),c.jsx(aZe,{level:4,children:"Biometric Verification Required"}),c.jsxs(el,{type:"secondary",style:{display:"block",marginBottom:"24px"},children:["This signature level requires biometric verification for enhanced security.",a==="QUALIFIED"&&c.jsxs("span",{style:{display:"block",marginTop:"8px",color:"#ff4d4f"},children:[c.jsx("strong",{children:"Qualified Signature:"})," Digital certificate + biometric required"]})]}),c.jsx(le,{type:"primary",size:"large",icon:c.jsx(Yg,{}),onClick:()=>x(!0),children:"Capture Biometric"})]})});case 2:return c.jsxs("div",{children:[c.jsx(Pt,{message:"Review Signature Details",description:"Please review the information below before applying your electronic signature.",type:"info",showIcon:!0,style:{marginBottom:"24px"}}),c.jsx("div",{style:{background:"#fafafa",padding:"16px",borderRadius:"4px"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsxs("div",{children:[c.jsx(el,{type:"secondary",children:"Document:"}),c.jsx("br",{}),c.jsx(el,{strong:!0,children:s||`${n} #${i}`})]}),c.jsx(Er,{style:{margin:"8px 0"}}),c.jsxs("div",{children:[c.jsx(el,{type:"secondary",children:"Username:"}),c.jsx("br",{}),c.jsx(el,{strong:!0,children:d.getFieldValue("username")})]}),c.jsxs("div",{children:[c.jsx(el,{type:"secondary",children:"Signature Level:"}),c.jsx("br",{}),c.jsx(el,{strong:!0,children:o})]}),c.jsxs("div",{children:[c.jsx(el,{type:"secondary",children:"Signature Type:"}),c.jsx("br",{}),c.jsx(el,{strong:!0,children:a})]}),T&&c.jsxs("div",{children:[c.jsx(vr,{style:{color:"#52c41a",marginRight:"8px"}}),c.jsx(el,{type:"success",children:"Two-Factor Authentication Verified"})]}),m&&c.jsxs("div",{children:[c.jsx(vr,{style:{color:"#52c41a",marginRight:"8px"}}),c.jsxs(el,{type:"success",children:["Biometric Verified (Score: ",(m.score*100).toFixed(1),"%)"]})]}),d.getFieldValue("signatureReason")&&c.jsxs("div",{children:[c.jsx(el,{type:"secondary",children:"Reason:"}),c.jsx("br",{}),c.jsx(el,{italic:!0,children:d.getFieldValue("signatureReason")})]})]})}),c.jsx(Pt,{message:"Legal Notice",description:"By applying your electronic signature, you acknowledge that this signature has the same legal effect as a handwritten signature and you are responsible for all actions taken under this signature.",type:"warning",showIcon:!0,style:{marginTop:"24px"}})]});default:return null}},R=[{title:"Authentication",icon:c.jsx(Fi,{})},...E?[{title:"Biometric",icon:c.jsx(Yg,{})}]:[],{title:"Review",icon:c.jsx(vr,{})}];return c.jsxs(en,{title:u,open:t,onCancel:j,width:600,footer:null,destroyOnClose:!0,maskClosable:!1,children:[g&&c.jsx(Pt,{message:g,type:"info",showIcon:!0,style:{marginBottom:"24px"}}),R.length>1&&c.jsx(iA,{current:I,size:"small",style:{marginBottom:"24px"},children:R.map((N,P)=>c.jsx(lZe,{title:N.title,icon:N.icon},P))}),A&&c.jsx(Pt,{message:"Signature Error",description:A,type:"error",showIcon:!0,closable:!0,onClose:()=>C(null),style:{marginBottom:"16px"}}),w(),c.jsx("div",{style:{marginTop:"24px",textAlign:"right"},children:c.jsxs(pe,{children:[c.jsx(le,{onClick:j,disabled:f,children:"Cancel"}),I===0&&c.jsx(le,{type:"primary",onClick:async()=>{try{await d.validateFields(),p(E?1:2)}catch{}},loading:f,children:E?"Next: Biometric":"Next: Review"}),I===2&&c.jsxs(c.Fragment,{children:[c.jsx(le,{onClick:()=>p(0),children:"Back"}),c.jsx(le,{type:"primary",onClick:_,loading:f,icon:c.jsx(cy,{}),children:"Apply Signature"})]})]})})]})},{Title:cZe,Text:pg,Paragraph:gZ}=yr,{Panel:uZe}=nm,dZ={DRAFT:"default",REVIEW:"processing",APPROVED:"success",SUPERSEDED:"warning",ARCHIVED:"error"},gZe=()=>{var S,j;const t=Kr(),{id:e}=ml(),[r,n]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),{user:l}=qo(),{currentWorkInstruction:u,isLoadingDetail:g,detailError:d,fetchWorkInstructionById:f,approveWorkInstruction:h}=qp(),{signatures:A,getSignaturesForEntity:C,createSignature:I}=c9();D.useEffect(()=>{e&&(f(e),p())},[e]);const p=async()=>{if(e)try{n(!0),await C("work_instruction",e)}catch(w){console.error("Failed to load signatures:",w)}finally{n(!1)}},m=w=>w.map(R=>({id:R.signatureId||R.id,userId:R.userId,username:R.username,firstName:R.firstName,lastName:R.lastName,signatureType:R.signatureType,signatureLevel:R.signatureLevel,timestamp:R.timestamp,isValid:R.isValid,biometricType:R.biometricType,biometricScore:R.biometricScore,invalidationReason:R.invalidationReason,invalidatedAt:R.invalidatedAt,signatureReason:R.signatureReason})),v=()=>{s(!0)},y=async w=>{if(!(!e||!l))try{a(!0),await I({signedEntityType:"work_instruction",signedEntityId:e,signedEntityName:(u==null?void 0:u.title)||"Work Instruction",signatureLevel:"SUPERVISOR",signatureType:"ADVANCED",userId:l.id,password:w.password,biometricTemplate:w.biometricTemplate,biometricScore:w.biometricScore,signatureReason:w.signatureReason||"Work Instruction Approval"}),await h(e),Ee.success("Work instruction approved and signed successfully"),s(!1),await f(e),await p()}catch(R){Ee.error(R.message||"Failed to approve work instruction")}finally{a(!1)}};if(g)return c.jsx("div",{style:{textAlign:"center",padding:"100px 0"},children:c.jsx(ei,{size:"large",tip:"Loading work instruction...",children:c.jsx("div",{})})});if(d||!u)return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(xe,{children:[c.jsx(Pt,{message:"Error",description:d||"Work instruction not found",type:"error",showIcon:!0,style:{marginBottom:"16px"}}),c.jsx(le,{type:"primary",icon:c.jsx(js,{}),onClick:()=>t("/work-instructions"),children:"Back to List"})]})});const x=u,T=x.status==="DRAFT"||x.status==="REVIEW",E=x.status==="REVIEW",_=x.status==="APPROVED";return c.jsxs("div",{style:{padding:"24px",maxWidth:"1400px",margin:"0 auto"},children:[c.jsx(le,{type:"text",icon:c.jsx(js,{}),onClick:()=>t("/work-instructions"),style:{marginBottom:"16px"},children:"Back to List"}),c.jsx(xe,{style:{marginBottom:"24px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsxs(pe,{align:"center",style:{marginBottom:"16px"},children:[c.jsx(Zl,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(cZe,{level:2,style:{margin:0},children:x.title}),c.jsx(Be,{color:dZ[x.status],style:{fontSize:"14px"},children:x.status})]}),x.description&&c.jsx(gZ,{style:{fontSize:"16px",color:"#666",marginTop:"8px"},children:x.description})]}),c.jsxs(pe,{size:"middle",children:[T&&c.jsx(le,{type:"default",size:"large",icon:c.jsx(Pi,{}),onClick:()=>t(`/work-instructions/${e}/edit`),children:"Edit"}),E&&c.jsx(le,{type:"primary",size:"large",icon:c.jsx(vr,{}),onClick:v,style:{background:"#52c41a",borderColor:"#52c41a"},children:"Approve"}),_&&c.jsx(le,{type:"primary",size:"large",icon:c.jsx(sm,{}),onClick:()=>t(`/work-instructions/${e}/execute`),children:"Execute"})]})]})}),c.jsx(xe,{title:"Details",style:{marginBottom:"24px"},children:c.jsxs(Ge,{bordered:!0,column:2,children:[c.jsx(Ge.Item,{label:"Version",children:x.version}),c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:dZ[x.status],children:x.status})}),c.jsx(Ge.Item,{label:"Part ID",children:x.partId||"N/A"}),c.jsx(Ge.Item,{label:"Operation ID",children:x.operationId||"N/A"}),c.jsx(Ge.Item,{label:"ECO Number",children:x.ecoNumber||"N/A"}),c.jsx(Ge.Item,{label:"Total Steps",children:((S=x.steps)==null?void 0:S.length)||0}),c.jsx(Ge.Item,{label:"Created",children:new Date(x.createdAt).toLocaleString()}),c.jsx(Ge.Item,{label:"Last Updated",children:new Date(x.updatedAt).toLocaleString()})]})}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(Zl,{}),c.jsxs("span",{children:["Instructions (",((j=x.steps)==null?void 0:j.length)||0," steps)"]})]}),style:{marginBottom:"24px"},children:x.steps&&x.steps.length>0?c.jsx(ya,{mode:"left",children:x.steps.map(w=>{var R,N,P,M,B,W;return c.jsx(ya.Item,{color:w.isCritical?"red":"blue",label:c.jsxs(pg,{strong:!0,style:{fontSize:"16px"},children:["Step ",w.stepNumber]}),children:c.jsxs(xe,{type:"inner",title:c.jsxs(pe,{children:[c.jsx("span",{children:w.title}),w.isCritical&&c.jsx(Be,{color:"red",children:"CRITICAL"})]}),children:[c.jsx(gZ,{style:{whiteSpace:"pre-wrap"},children:w.content}),w.estimatedDuration&&c.jsxs(pg,{type:"secondary",children:["Estimated: ",Math.floor(w.estimatedDuration/60)," min"," ",w.estimatedDuration%60," sec"]}),(((R=w.imageUrls)==null?void 0:R.length)>0||((N=w.videoUrls)==null?void 0:N.length)>0||((P=w.attachmentUrls)==null?void 0:P.length)>0)&&c.jsx("div",{style:{marginTop:"12px"},children:c.jsxs(pg,{type:"secondary",children:["Attachments: ",((M=w.imageUrls)==null?void 0:M.length)||0," images,"," ",((B=w.videoUrls)==null?void 0:B.length)||0," videos,"," ",((W=w.attachmentUrls)==null?void 0:W.length)||0," documents"]})})]})},w.id)})}):c.jsx(Pt,{message:"No Steps",description:"This work instruction does not have any steps yet. Edit it to add steps.",type:"info",showIcon:!0})}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(cs,{}),c.jsx("span",{children:"Electronic Signatures"})]}),style:{marginBottom:"24px"},children:r?c.jsx("div",{style:{textAlign:"center",padding:"24px"},children:c.jsx(ei,{tip:"Loading signatures...",children:c.jsx("div",{})})}):A&&A.length>0?c.jsx(u9,{signatures:m(A),showDetails:!0}):c.jsx(Pt,{message:"No Signatures",description:"This work instruction has not been electronically signed yet. Signatures are required for approval and quality compliance.",type:"info",showIcon:!0})}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(uy,{}),c.jsx("span",{children:"Revision History"})]}),children:c.jsx(nm,{children:c.jsx(uZe,{header:"View Revision History",children:c.jsxs(ya,{children:[c.jsxs(ya.Item,{color:"green",children:[c.jsx(pg,{strong:!0,children:new Date(x.createdAt).toLocaleString()}),c.jsx("br",{}),c.jsxs(pg,{children:["Work instruction created (v",x.version,")"]})]}),c.jsxs(ya.Item,{color:"blue",children:[c.jsx(pg,{strong:!0,children:new Date(x.updatedAt).toLocaleString()}),c.jsx("br",{}),c.jsx(pg,{children:"Last updated"})]}),x.status==="APPROVED"&&c.jsxs(ya.Item,{color:"green",children:[c.jsx(pg,{strong:!0,children:"Approved"}),c.jsx("br",{}),c.jsx(pg,{children:"Work instruction approved and active"})]})]})},"1")})}),c.jsx(g9,{visible:i,onCancel:()=>s(!1),onSign:y,entityType:"work_instruction",entityId:e||"",entityName:x.title,signatureLevel:"SUPERVISOR",signatureType:"ADVANCED",requireBiometric:!1,title:"Sign and Approve Work Instruction",description:"Approving this work instruction requires an ADVANCED electronic signature (username + password + 2FA). This signature will be recorded in the audit trail."})]})},_Se=D.createContext(null);function dZe(t,e){return{getTheme:function(){return e??null}}}function vl(){const t=D.useContext(_Se);return t==null&&function(e,...r){const n=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",e);for(const s of r)i.append("v",s);throw n.search=i.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),t}function At(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function TSe(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);r.search=n.toString(),console.warn(`Minified Lexical warning #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const ru=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,hZe=ru&&"documentMode"in document?document.documentMode:null,_c=ru&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),YA=ru&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),T2=!(!ru||!("InputEvent"in window)||hZe)&&"getTargetRanges"in new window.InputEvent("input"),_y=ru&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),zp=ru&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,fZe=ru&&/Android/.test(navigator.userAgent),RSe=ru&&/^(?=.*Chrome).*/i.test(navigator.userAgent),hZ=ru&&fZe&&RSe,Ty=ru&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&_c&&!RSe;function NSe(...t){const e=[];for(const r of t)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))e.push(n);return e}const AZe=0,CZe=1,IZe=2,OSe=128,pZe=1,mZe=2,vZe=3,yZe=4,xZe=5,bZe=6,ZS=_y||zp||Ty?"":"",ef=`

`,wZe=YA?"":ZS,tf={bold:1,capitalize:1024,code:16,highlight:OSe,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},SZe={directionless:1,unmergeable:2},fZ={center:2,end:6,justify:4,left:1,right:3,start:5},EZe={[mZe]:"center",[bZe]:"end",[yZe]:"justify",[pZe]:"left",[vZe]:"right",[xZe]:"start"},_Ze={normal:0,segmented:2,token:1},TZe={[AZe]:"normal",[IZe]:"segmented",[CZe]:"token"},AZ="$config";function jSe(t,e,r,n,i,s){let o=t.getFirstChild();for(;o!==null;){const a=o.__key;o.__parent===e&&(We(o)&&jSe(o,a,r,n,i,s),r.has(a)||s.delete(a),i.push(a)),o=o.getNextSibling()}}let Uz=!1,d9=0;function RZe(t){d9=t.timeStamp}function s5(t,e,r){const n=t.nodeName==="BR",i=e.__lexicalLineBreak;return i&&(t===i||n&&t.previousSibling===i)||n&&uE(t,r)!==void 0}function NZe(t,e,r){const n=aa(Jl(r));let i=null,s=null;n!==null&&n.anchorNode===t&&(i=n.anchorOffset,s=n.focusOffset);const o=t.nodeValue;o!==null&&P9(e,o,i,s,!1)}function OZe(t,e,r){if(nt(t)){const n=t.anchor.getNode();if(n.is(r)&&t.format!==n.getFormat())return!1}return bd(e)&&r.isAttached()}function jZe(t,e,r,n){for(let i=t;i&&!jXe(i);i=T1(i)){const s=uE(i,e);if(s!==void 0){const o=Jn(s,r);if(o)return dn(o)||!ui(i)?void 0:[i,o]}else if(i===n)return[n,wEe(r)]}}function PSe(t,e,r){Uz=!0;const n=performance.now()-d9>100;try{ll(t,()=>{const i=pt()||function(f){return f.getEditorState().read(()=>{const h=pt();return h!==null?h.clone():null})}(t),s=new Map,o=t.getRootElement(),a=t._editorState,l=t._blockCursorElement;let u=!1,g="";for(let f=0;f<e.length;f++){const h=e[f],A=h.type,C=h.target,I=jZe(C,t,a,o);if(!I)continue;const[p,m]=I;if(A==="characterData")n&&Rt(m)&&bd(C)&&OZe(i,C,m)&&NZe(C,m,t);else if(A==="childList"){u=!0;const v=h.addedNodes;for(let T=0;T<v.length;T++){const E=v[T],_=xEe(E),S=E.parentNode;if(S!=null&&E!==l&&_===null&&!s5(E,S,t)){if(YA){const j=(ui(E)?E.innerText:null)||E.nodeValue;j&&(g+=j)}S.removeChild(E)}}const y=h.removedNodes,x=y.length;if(x>0){let T=0;for(let E=0;E<x;E++){const _=y[E];(s5(_,C,t)||l===_)&&(C.appendChild(_),T++)}x!==T&&s.set(p,m)}}}if(s.size>0)for(const[f,h]of s)h.reconcileObservedMutation(f,t);const d=r.takeRecords();if(d.length>0){for(let f=0;f<d.length;f++){const h=d[f],A=h.addedNodes,C=h.target;for(let I=0;I<A.length;I++){const p=A[I],m=p.parentNode;m==null||p.nodeName!=="BR"||s5(p,C,t)||m.removeChild(p)}}r.takeRecords()}i!==null&&(u&&fi(i),YA&&TEe(t)&&i.insertRawText(g))})}finally{Uz=!1}}function kSe(t){const e=t._observer;e!==null&&PSe(t,e.takeRecords(),e)}function DSe(t){(function(e){d9===0&&Jl(e).addEventListener("textInput",RZe,!0)})(t),t._observer=new MutationObserver((e,r)=>{PSe(t,e,r)})}function PZe(t){const e=new Map,r=new Set;for(let n=typeof t=="function"?t:t.replace;n.prototype&&n.prototype.getType!==void 0;n=Object.getPrototypeOf(n)){const{ownNodeConfig:i}=L9(n);if(i&&i.stateConfigs)for(const s of i.stateConfigs){let o;"stateConfig"in s?(o=s.stateConfig,s.flat&&r.add(o.key)):o=s,e.set(o.key,o)}}return{flatKeys:r,sharedConfigMap:e}}let kZe=class FSe{constructor(e,r,n=void 0,i=new Map,s=void 0){ve(this,"node");ve(this,"knownState");ve(this,"unknownState");ve(this,"sharedNodeState");ve(this,"size");this.node=e,this.sharedNodeState=r,this.unknownState=n,this.knownState=i;const{sharedConfigMap:o}=this.sharedNodeState,a=s!==void 0?s:function(l,u,g){let d=g.size;if(u)for(const f in u){const h=l.get(f);h&&g.has(h)||d++}return d}(o,n,i);this.size=a}getValue(e){const r=this.knownState.get(e);if(r!==void 0)return r;this.sharedNodeState.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const i=this.unknownState[e.key];i!==void 0&&(n=e.parse(i)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},r={};for(const[n,i]of this.knownState)n.isEqual(i,n.defaultValue)?delete e[n.key]:e[n.key]=n.unparse(i);for(const n of this.sharedNodeState.flatKeys)n in e&&(r[n]=e[n],delete e[n]);return CZ(e)&&(r.$=e),r}getWritable(e){if(this.node===e)return this;const{sharedNodeState:r,unknownState:n}=this,i=new Map(this.knownState);return new FSe(e,r,function(s,o,a){let l;if(a)for(const[u,g]of Object.entries(a)){const d=s.get(u);d?o.has(d)||o.set(d,d.parse(g)):(l=l||{},l[u]=g)}return l}(r.sharedConfigMap,i,n),i,this.size)}updateFromKnown(e,r){const n=e.key;this.sharedNodeState.sharedConfigMap.set(n,e);const{knownState:i,unknownState:s}=this;i.has(e)||s&&n in s||(s&&(delete s[n],this.unknownState=CZ(s)),this.size++),i.set(e,r)}updateFromUnknown(e,r){const n=this.sharedNodeState.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(r)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=r)}updateFromJSON(e){const{knownState:r}=this;for(const n of r.keys())r.set(n,n.defaultValue);if(this.size=r.size,this.unknownState=void 0,e)for(const[n,i]of Object.entries(e))this.updateFromUnknown(n,i)}};function DZe(t){const e=t.getWritable(),r=e.__state?e.__state.getWritable(e):new kZe(e,LSe(e));return e.__state=r,r}function LSe(t){return t.__state?t.__state.sharedNodeState:IEe(bm(),t.getType()).sharedNodeState}function CZ(t){if(t)for(const e in t)return t}function IZ(t,e,r){for(const[n,i]of e.knownState){if(t.has(n.key))continue;t.add(n.key);const s=r?r.getValue(n):n.defaultValue;if(s!==i&&!n.isEqual(s,i))return!0}return!1}function pZ(t,e,r){const{unknownState:n}=e,i=r?r.unknownState:void 0;if(n){for(const[s,o]of Object.entries(n))if(!t.has(s)&&(t.add(s),o!==(i?i[s]:void 0)))return!0}return!1}function mZ(t,e){const r=t.__state;return r&&r.node===t?r.getWritable(e):r}function vZ(t,e){const r=t.__mode,n=t.__format,i=t.__style,s=e.__mode,o=e.__format,a=e.__style,l=t.__state,u=e.__state;return(r===null||r===s)&&(n===null||n===o)&&(i===null||i===a)&&(t.__state===null||l===u||function(g,d){if(g===d)return!0;if(g&&d&&g.size!==d.size)return!1;const f=new Set;return!(g&&IZ(f,g,d)||d&&IZ(f,d,g)||g&&pZ(f,g,d)||d&&pZ(f,d,g))}(l,u))}function yZ(t,e){const r=t.mergeWithSibling(e),n=vi()._normalizedNodes;return n.add(t.__key),n.add(e.__key),r}function xZ(t){let e,r,n=t;if(n.__text!==""||!n.isSimpleText()||n.isUnmergeable()){for(;(e=n.getPreviousSibling())!==null&&Rt(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(vZ(e,n)){n=yZ(e,n);break}break}e.remove()}for(;(r=n.getNextSibling())!==null&&Rt(r)&&r.isSimpleText()&&!r.isUnmergeable();){if(r.__text!==""){if(vZ(n,r)){n=yZ(n,r);break}break}r.remove()}}else n.remove()}function ZA(t){return bZ(t.anchor),bZ(t.focus),t}function bZ(t){for(;t.type==="element";){const e=t.getNode(),r=t.offset;let n,i;if(r===e.getChildrenSize()?(n=e.getChildAtIndex(r-1),i=!0):(n=e.getChildAtIndex(r),i=!1),Rt(n)){t.set(n.__key,i?n.getTextContentSize():0,"text",!0);break}if(!We(n))break;t.set(n.__key,i?n.getChildrenSize():0,"element",!0)}}let XA,Bo,Ry,XS,Wz,Gz,QA,$c,Vz,Ny,_s="",bu=null,wu="",jg="",MI=!1,R2=!1;function N2(t,e){const r=QA.get(t);if(e!==null){const n=Zz(t);n.parentNode===e&&e.removeChild(n)}if($c.has(t)||Bo._keyToDOMMap.delete(t),We(r)){const n=j2(r,QA);Hz(n,0,n.length-1,null)}r!==void 0&&k9(Ny,Ry,XS,r,"destroyed")}function Hz(t,e,r,n){let i=e;for(;i<=r;++i){const s=t[i];s!==void 0&&N2(s,n)}}function qf(t,e){t.setProperty("text-align",e)}const FZe="40px";function MSe(t,e){const r=XA.theme.indent;if(typeof r=="string"){const i=t.classList.contains(r);e>0&&!i?t.classList.add(r):e<1&&i&&t.classList.remove(r)}const n=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||FZe;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${n})`)}function BSe(t,e){const r=t.style;e===0?qf(r,""):e===1?qf(r,"left"):e===2?qf(r,"center"):e===3?qf(r,"right"):e===4?qf(r,"justify"):e===5?qf(r,"start"):e===6&&qf(r,"end")}function Kz(t,e){const r=function(n){const i=n.__dir;if(i!==null)return i;if(Xi(n))return null;const s=n.getParentOrThrow();return Xi(s)&&s.__dir===null?"auto":null}(e);r!==null?t.dir=r:t.removeAttribute("dir")}function O2(t,e){const r=$c.get(t);r===void 0&&At(60);const n=r.createDOM(XA,Bo);if(function(i,s,o){const a=o._keyToDOMMap;(function(l,u,g){const d=`__lexicalKey_${u._key}`;l[d]=g})(s,o,i),a.set(i,s)}(t,n,Bo),Rt(r)?n.setAttribute("data-lexical-text","true"):dn(r)&&n.setAttribute("data-lexical-decorator","true"),We(r)){const i=r.__indent,s=r.__size;if(Kz(n,r),i!==0&&MSe(n,i),s!==0){const a=s-1;Yz(j2(r,$c),r,0,a,r.getDOMSlot(n))}const o=r.__format;o!==0&&BSe(n,o),r.isInline()||$Se(null,r,n),gE(r)&&(_s+=ef,jg+=ef)}else{const i=r.getTextContent();if(dn(r)){const s=r.decorate(Bo,XA);s!==null&&qSe(t,s),n.contentEditable="false"}_s+=i,jg+=i}return e!==null&&e.insertChild(n),k9(Ny,Ry,XS,r,"created"),n}function Yz(t,e,r,n,i){const s=_s;_s="";let o=r;for(;o<=n;++o){O2(t[o],i);const a=$c.get(t[o]);a!==null&&Rt(a)&&(bu===null&&(bu=a.getFormat()),wu===""&&(wu=a.getStyle()))}gE(e)&&(_s+=ef),i.element.__lexicalTextContent=_s,_s=s+_s}function wZ(t,e){if(t){const r=t.__last;if(r){const n=e.get(r);if(n)return Dh(n)?"line-break":dn(n)&&n.isInline()?"decorator":null}return"empty"}return null}function $Se(t,e,r){const n=wZ(t,QA),i=wZ(e,$c);n!==i&&e.getDOMSlot(r).setManagedLineBreak(i)}function LZe(t,e,r){var n;bu=null,wu="",function(i,s,o){const a=_s,l=i.__size,u=s.__size;_s="";const g=o.element;if(l===1&&u===1){const d=i.__first,f=s.__first;if(d===f)Av(d,g);else{const A=Zz(d),C=O2(f,null);try{g.replaceChild(C,A)}catch(I){if(typeof I=="object"&&I!=null){const p=`${I.toString()} Parent: ${g.tagName}, new child: {tag: ${C.tagName} key: ${f}}, old child: {tag: ${A.tagName}, key: ${d}}.`;throw new Error(p)}throw I}N2(d,null)}const h=$c.get(f);Rt(h)&&(bu===null&&(bu=h.getFormat()),wu===""&&(wu=h.getStyle()))}else{const d=j2(i,QA),f=j2(s,$c);if(d.length!==l&&At(227),f.length!==u&&At(228),l===0)u!==0&&Yz(f,s,0,u-1,o);else if(u===0){if(l!==0){const h=o.after==null&&o.before==null&&o.element.__lexicalLineBreak==null;Hz(d,0,l-1,h?null:g),h&&(g.textContent="")}}else(function(h,A,C,I,p,m){const v=I-1,y=p-1;let x,T,E=m.getFirstChild(),_=0,S=0;for(;_<=v&&S<=y;){const R=A[_],N=C[S];if(R===N)E=o5(Av(N,m.element)),_++,S++;else{x===void 0&&(x=new Set(A)),T===void 0&&(T=new Set(C));const M=T.has(R),B=x.has(N);if(M)if(B){const W=rC(Bo,N);W===E?E=o5(Av(N,m.element)):(m.withBefore(E).insertChild(W),Av(N,m.element)),_++,S++}else O2(N,m.withBefore(E)),S++;else E=o5(Zz(R)),N2(R,m.element),_++}const P=$c.get(N);P!==null&&Rt(P)&&(bu===null&&(bu=P.getFormat()),wu===""&&(wu=P.getStyle()))}const j=_>v,w=S>y;if(j&&!w){const R=C[y+1],N=R===void 0?null:Bo.getElementByKey(R);Yz(C,h,S,y,m.withBefore(N))}else w&&!j&&Hz(A,_,v,m.element)})(s,d,f,l,u,o)}gE(s)&&(_s+=ef),g.__lexicalTextContent=_s,_s=a+_s}(t,e,e.getDOMSlot(r)),n=e,bu==null||bu===n.__textFormat||R2||n.setTextFormat(bu),function(i){wu===""||wu===i.__textStyle||R2||i.setTextStyle(wu)}(e)}function j2(t,e){const r=[];let n=t.__first;for(;n!==null;){const i=e.get(n);i===void 0&&At(101),r.push(n),n=i.__next}return r}function Av(t,e){const r=QA.get(t);let n=$c.get(t);r!==void 0&&n!==void 0||At(61);const i=MI||Gz.has(t)||Wz.has(t),s=rC(Bo,t);if(r===n&&!i){if(We(r)){const o=s.__lexicalTextContent;o!==void 0&&(_s+=o,jg+=o)}else{const o=r.getTextContent();jg+=o,_s+=o}return s}if(r!==n&&i&&k9(Ny,Ry,XS,n,"updated"),n.updateDOM(r,s,XA)){const o=O2(t,null);return e===null&&At(62),e.replaceChild(o,s),N2(t,null),o}if(We(r)&&We(n)){const o=n.__indent;(MI||o!==r.__indent)&&MSe(s,o);const a=n.__format;if((MI||a!==r.__format)&&BSe(s,a),i&&(LZe(r,n,s),Xi(n)||n.isInline()||$Se(r,n,s)),gE(n)&&(_s+=ef,jg+=ef),(MI||n.__dir!==r.__dir)&&(Kz(s,n),Xi(n)&&!MI))for(const l of n.getChildren())We(l)&&Kz(rC(Bo,l.getKey()),l)}else{const o=n.getTextContent();if(dn(n)){const a=n.decorate(Bo,XA);a!==null&&qSe(t,a)}_s+=o,jg+=o}if(!R2&&Xi(n)&&n.__cachedText!==jg){const o=n.getWritable();o.__cachedText=jg,n=o}return s}function qSe(t,e){let r=Bo._pendingDecorators;const n=Bo._decorators;if(r===null){if(n[t]===e)return;r=bEe(Bo)}r[t]=e}function o5(t){let e=t.nextSibling;return e!==null&&e===Bo._blockCursorElement&&(e=e.nextSibling),e}function MZe(t,e,r,n,i,s){_s="",jg="",MI=n===2,Bo=r,XA=r._config,Ry=r._nodes,XS=Bo._listeners.mutation,Wz=i,Gz=s,QA=t._nodeMap,$c=e._nodeMap,R2=e._readOnly,Vz=new Map(r._keyToDOMMap);const o=new Map;return Ny=o,Av("root",null),Bo=void 0,Ry=void 0,Wz=void 0,Gz=void 0,QA=void 0,$c=void 0,XA=void 0,Vz=void 0,Ny=void 0,o}function Zz(t){const e=Vz.get(t);return e===void 0&&At(75,t),e}function dr(t){return{type:t}}const Wg=dr("SELECTION_CHANGE_COMMAND"),h9=dr("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),f9=dr("CLICK_COMMAND"),Ph=dr("DELETE_CHARACTER_COMMAND"),hp=dr("INSERT_LINE_BREAK_COMMAND"),JA=dr("INSERT_PARAGRAPH_COMMAND"),_A=dr("CONTROLLED_TEXT_INSERTION_COMMAND"),QS=dr("PASTE_COMMAND"),Xz=dr("REMOVE_TEXT_COMMAND"),Up=dr("DELETE_WORD_COMMAND"),eC=dr("DELETE_LINE_COMMAND"),Pu=dr("FORMAT_TEXT_COMMAND"),JS=dr("UNDO_COMMAND"),eE=dr("REDO_COMMAND"),BZe=dr("KEYDOWN_COMMAND"),A9=dr("KEY_ARROW_RIGHT_COMMAND"),$Ze=dr("MOVE_TO_END"),C9=dr("KEY_ARROW_LEFT_COMMAND"),qZe=dr("MOVE_TO_START"),I9=dr("KEY_ARROW_UP_COMMAND"),p9=dr("KEY_ARROW_DOWN_COMMAND"),P2=dr("KEY_ENTER_COMMAND"),zSe=dr("KEY_SPACE_COMMAND"),m9=dr("KEY_BACKSPACE_COMMAND"),v9=dr("KEY_ESCAPE_COMMAND"),y9=dr("KEY_DELETE_COMMAND"),x9=dr("KEY_TAB_COMMAND"),zZe=dr("INSERT_TAB_COMMAND"),UZe=dr("INDENT_CONTENT_COMMAND"),SZ=dr("OUTDENT_CONTENT_COMMAND"),USe=dr("DROP_COMMAND"),WSe=dr("FORMAT_ELEMENT_COMMAND"),GSe=dr("DRAGSTART_COMMAND"),VSe=dr("DRAGOVER_COMMAND"),WZe=dr("DRAGEND_COMMAND"),tE=dr("COPY_COMMAND"),rE=dr("CUT_COMMAND"),Qz=dr("SELECT_ALL_COMMAND"),GZe=dr("CLEAR_EDITOR_COMMAND"),VZe=dr("CLEAR_HISTORY_COMMAND"),Cv=dr("CAN_REDO_COMMAND"),Iv=dr("CAN_UNDO_COMMAND"),HSe=dr("FOCUS_COMMAND"),HZe=dr("BLUR_COMMAND"),KZe=dr("KEY_MODIFIER_COMMAND"),mg=Object.freeze({}),Jz=[["keydown",function(t,e){if(Vv=t.timeStamp,KSe=t.key,!e.isComposing()&&!Ut(e,BZe,t)&&t.key!=null){if(a5&&JZ(t))return ll(e,()=>{Nb(e,l5)}),a5=!1,void(l5="");if(function(r){return _n(r,"ArrowRight",{shiftKey:"any"})}(t))Ut(e,A9,t);else if(function(r){return _n(r,"ArrowRight",Eg)}(t))Ut(e,$Ze,t);else if(function(r){return _n(r,"ArrowLeft",{shiftKey:"any"})}(t))Ut(e,C9,t);else if(function(r){return _n(r,"ArrowLeft",Eg)}(t))Ut(e,qZe,t);else if(function(r){return _n(r,"ArrowUp",{altKey:"any",shiftKey:"any"})}(t))Ut(e,I9,t);else if(function(r){return _n(r,"ArrowDown",{altKey:"any",shiftKey:"any"})}(t))Ut(e,p9,t);else if(function(r){return _n(r,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(t))Hv=!0,Ut(e,P2,t);else if(function(r){return r.key===" "}(t))Ut(e,zSe,t);else if(function(r){return _c&&_n(r,"o",{ctrlKey:!0})}(t))t.preventDefault(),Hv=!0,Ut(e,hp,!0);else if(function(r){return _n(r,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(t))Hv=!1,Ut(e,P2,t);else if(function(r){return _n(r,"Backspace",{shiftKey:"any"})||_c&&_n(r,"h",{ctrlKey:!0})}(t))JZ(t)?Ut(e,m9,t):(t.preventDefault(),Ut(e,Ph,!0));else if(function(r){return r.key==="Escape"}(t))Ut(e,v9,t);else if(function(r){return _n(r,"Delete",{})||_c&&_n(r,"d",{ctrlKey:!0})}(t))(function(r){return r.key==="Delete"})(t)?Ut(e,y9,t):(t.preventDefault(),Ut(e,Ph,!1));else if(function(r){return _n(r,"Backspace",QZ)}(t))t.preventDefault(),Ut(e,Up,!0);else if(function(r){return _n(r,"Delete",QZ)}(t))t.preventDefault(),Ut(e,Up,!1);else if(function(r){return _c&&_n(r,"Backspace",{metaKey:!0})}(t))t.preventDefault(),Ut(e,eC,!0);else if(function(r){return _c&&(_n(r,"Delete",{metaKey:!0})||_n(r,"k",{ctrlKey:!0}))}(t))t.preventDefault(),Ut(e,eC,!1);else if(function(r){return _n(r,"b",Eg)}(t))t.preventDefault(),Ut(e,Pu,"bold");else if(function(r){return _n(r,"u",Eg)}(t))t.preventDefault(),Ut(e,Pu,"underline");else if(function(r){return _n(r,"i",Eg)}(t))t.preventDefault(),Ut(e,Pu,"italic");else if(function(r){return _n(r,"Tab",{shiftKey:"any"})}(t))Ut(e,x9,t);else if(function(r){return _n(r,"z",Eg)}(t))t.preventDefault(),Ut(e,JS,void 0);else if(function(r){return _c?_n(r,"z",{metaKey:!0,shiftKey:!0}):_n(r,"y",{ctrlKey:!0})||_n(r,"z",{ctrlKey:!0,shiftKey:!0})}(t))t.preventDefault(),Ut(e,eE,void 0);else{const r=e._editorState._selection;r===null||nt(r)?eX(t)&&(t.preventDefault(),Ut(e,Qz,t)):function(n){return _n(n,"c",Eg)}(t)?(t.preventDefault(),Ut(e,tE,t)):function(n){return _n(n,"x",Eg)}(t)?(t.preventDefault(),Ut(e,rE,t)):eX(t)&&(t.preventDefault(),Ut(e,Qz,t))}(function(r){return r.ctrlKey||r.shiftKey||r.altKey||r.metaKey})(t)&&Ut(e,KZe,t)}}],["pointerdown",function(t,e){const r=t.target,n=t.pointerType;Pc(r)&&n!=="touch"&&n!=="pen"&&t.button===0&&ll(e,()=>{YZ(r)||(r7=!0)})}],["compositionstart",function(t,e){ll(e,()=>{const r=pt();if(nt(r)&&!e.isComposing()){const n=r.anchor,i=r.anchor.getNode();Ao(n.key),(t.timeStamp<Vv+30||n.type==="element"||!r.isCollapsed()||i.getFormat()!==r.format||Rt(i)&&i.getStyle()!==r.style)&&Ut(e,_A,wZe)}})}],["compositionend",function(t,e){YA?z0=!0:zp||!_y&&!Ty?ll(e,()=>{Nb(e,t.data)}):(a5=!0,l5=t.data)}],["input",function(t,e){t.stopPropagation(),ll(e,()=>{if(ui(t.target)&&YZ(t.target))return;const r=pt(),n=t.data,i=JSe(t);if(n!=null&&nt(r)&&XSe(r,i,n,t.timeStamp,!1)){z0&&(Nb(e,n),z0=!1);const s=r.anchor.getNode(),o=aa(Jl(e));if(o===null)return;const a=r.isBackward(),l=a?r.anchor.offset:r.focus.offset,u=a?r.focus.offset:r.anchor.offset;T2&&!r.isCollapsed()&&Rt(s)&&o.anchorNode!==null&&s.getTextContent().slice(0,l)+n+s.getTextContent().slice(l+u)===_Ee(o.anchorNode)||Ut(e,_A,n);const g=n.length;YA&&g>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(r.anchor.offset-=g),_y||zp||Ty||!e.isComposing()||(Vv=0,Ao(null))}else j9(!1,e,n!==null?n:void 0),z0&&(Nb(e,n||void 0),z0=!1);(function(){fo();const s=vi();kSe(s)})()},{event:t}),BI=null}],["click",function(t,e){ll(e,()=>{const r=pt(),n=aa(Jl(e)),i=Hu();if(n){if(nt(r)){const s=r.anchor,o=s.getNode();if(s.type==="element"&&s.offset===0&&r.isCollapsed()&&!Xi(o)&&Bi().getChildrenSize()===1&&o.getTopLevelElementOrThrow().isEmpty()&&i!==null&&r.is(i))n.removeAllRanges(),r.dirty=!0;else if(t.detail===3&&!r.isCollapsed()&&o!==r.focus.getNode()){const a=Nr(o,l=>We(l)&&!l.isInline());We(a)&&a.select(0)}}else if(t.pointerType==="touch"||t.pointerType==="pen"){const s=n.anchorNode;(ui(s)||bd(s))&&fi(oE(i,n,e,t))}}Ut(e,f9,t)})}],["cut",mg],["copy",mg],["dragstart",mg],["dragover",mg],["dragend",mg],["paste",mg],["focus",mg],["blur",mg],["drop",mg]];T2&&Jz.push(["beforeinput",(t,e)=>function(r,n){const i=r.inputType,s=JSe(r);i==="deleteCompositionText"||YA&&TEe(n)||i!=="insertCompositionText"&&ll(n,()=>{const o=pt();if(i==="deleteContentBackward"){if(o===null){const h=Hu();if(!nt(h))return;fi(h.clone())}if(nt(o)){const h=o.anchor.key===o.focus.key;if(a=r.timeStamp,KSe==="MediaLast"&&a<Vv+30&&n.isComposing()&&h){if(Ao(null),Vv=0,setTimeout(()=>{ll(n,()=>{Ao(null)})},30),nt(o)){const A=o.anchor.getNode();A.markDirty(),Rt(A)||At(142),QSe(o,A)}}else{Ao(null),r.preventDefault();const A=o.anchor.getNode(),C=A.getTextContent(),I=A.canInsertTextAfter(),p=o.anchor.offset===0&&o.focus.offset===C.length;let m=hZ&&h&&!p&&I;if(m&&o.isCollapsed()&&(m=!dn(l7(o.anchor,!0))),!m){Ut(n,Ph,!0);const v=pt();hZ&&nt(v)&&v.isCollapsed()&&(eA=v,setTimeout(()=>eA=null))}}return}}var a;if(!nt(o))return;const l=r.data;BI!==null&&j9(!1,n,BI),o.dirty&&BI===null||!o.isCollapsed()||Xi(o.anchor.getNode())||s===null||o.applyDOMRange(s),BI=null;const u=o.anchor,g=o.focus,d=u.getNode(),f=g.getNode();if(i!=="insertText"&&i!=="insertTranspose")switch(r.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ut(n,_A,r);break;case"insertFromComposition":Ao(null),Ut(n,_A,r);break;case"insertLineBreak":Ao(null),Ut(n,hp,!1);break;case"insertParagraph":Ao(null),Hv&&!zp?(Hv=!1,Ut(n,hp,!1)):Ut(n,JA,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ut(n,QS,r);break;case"deleteByComposition":(function(h,A){return h!==A||We(h)||We(A)||!RA(h)||!RA(A)})(d,f)&&Ut(n,Xz,r);break;case"deleteByDrag":case"deleteByCut":Ut(n,Xz,r);break;case"deleteContent":Ut(n,Ph,!1);break;case"deleteWordBackward":Ut(n,Up,!0);break;case"deleteWordForward":Ut(n,Up,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ut(n,eC,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ut(n,eC,!1);break;case"formatStrikeThrough":Ut(n,Pu,"strikethrough");break;case"formatBold":Ut(n,Pu,"bold");break;case"formatItalic":Ut(n,Pu,"italic");break;case"formatUnderline":Ut(n,Pu,"underline");break;case"historyUndo":Ut(n,JS,void 0);break;case"historyRedo":Ut(n,eE,void 0)}else{if(l===`
`)r.preventDefault(),Ut(n,hp,!1);else if(l===ef)r.preventDefault(),Ut(n,JA,void 0);else if(l==null&&r.dataTransfer){const h=r.dataTransfer.getData("text/plain");r.preventDefault(),o.insertRawText(h)}else l!=null&&XSe(o,s,l,r.timeStamp,!0)?(r.preventDefault(),Ut(n,_A,l)):BI=l;YSe=r.timeStamp}})}(t,e)]);let Vv=0,KSe=null,YSe=0,BI=null;const e7=new WeakMap,k2=new WeakMap;let t7=!1,r7=!1,Hv=!1,z0=!1,a5=!1,l5="",eA=null,ZSe=[0,"",0,"root",0];function XSe(t,e,r,n,i){const s=t.anchor,o=t.focus,a=s.getNode(),l=vi(),u=aa(Jl(l)),g=u!==null?u.anchorNode:null,d=s.key,f=l.getElementByKey(d),h=r.length;return d!==o.key||!Rt(a)||(!i&&(!T2||YSe<n+50)||a.isDirty()&&h<2||SEe(r))&&s.offset!==o.offset&&!a.isComposing()||_g(a)||a.isDirty()&&h>1||(i||!T2)&&f!==null&&!a.isComposing()&&g!==Wp(f)||u!==null&&e!==null&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||a.getFormat()!==t.format||a.getStyle()!==t.style||function(A,C){if(C.isSegmented())return!0;if(!A.isCollapsed())return!1;const I=A.anchor.offset,p=C.getParentOrThrow(),m=RA(C);return I===0?!C.canInsertTextBefore()||!p.canInsertTextBefore()&&!C.isComposing()||m||function(v){const y=v.getPreviousSibling();return(Rt(y)||We(y)&&y.isInline())&&!y.canInsertTextAfter()}(C):I===C.getTextContentSize()&&(!C.canInsertTextAfter()||!p.canInsertTextAfter()&&!C.isComposing()||m)}(t,a)}function EZ(t,e){return bd(t)&&t.nodeValue!==null&&e!==0&&e!==t.nodeValue.length}function _Z(t,e,r){const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o}=t;t7&&(t7=!1,EZ(n,i)&&EZ(s,o)&&!eA)||ll(e,()=>{if(!r)return void fi(null);if(!_1(e,n,s))return;let a=pt();if(eA&&nt(a)&&a.isCollapsed()){const l=a.anchor,u=eA.anchor;(l.key===u.key&&l.offset===u.offset+1||l.offset===1&&u.getNode().is(l.getNode().getPreviousSibling()))&&(a=eA.clone(),fi(a))}if(eA=null,nt(a)){const l=a.anchor,u=l.getNode();if(a.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(a.dirty=!0);const g=Jl(e).event,d=g?g.timeStamp:performance.now(),[f,h,A,C,I]=ZSe,p=Bi(),m=e.isComposing()===!1&&p.getTextContent()==="";if(d<I+200&&l.offset===A&&l.key===C)kw(a,f,h);else if(l.type==="text")Rt(u)||At(141),QSe(a,u);else if(l.type==="element"&&!m){We(u)||At(259);const v=l.getNode();v.isEmpty()?function(y,x){const T=x.getTextFormat(),E=x.getTextStyle();kw(y,T,E)}(a,v):kw(a,0,"")}}else{const g=l.key,d=a.focus.key,f=a.getNodes(),h=f.length,A=a.isBackward(),C=A?o:i,I=A?i:o,p=A?d:g,m=A?g:d;let v=2047,y=!1;for(let x=0;x<h;x++){const T=f[x],E=T.getTextContentSize();if(Rt(T)&&E!==0&&!(x===0&&T.__key===p&&C===E||x===h-1&&T.__key===m&&I===0)&&(y=!0,v&=T.getFormat(),v===0))break}a.format=y?v:0}}Ut(e,Wg,void 0)})}function kw(t,e,r){t.format===e&&t.style===r||(t.format=e,t.style=r,t.dirty=!0)}function QSe(t,e){kw(t,e.getFormat(),e.getStyle())}function JSe(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function Nb(t,e){const r=t._compositionKey;if(Ao(null),r!==null&&e!=null){if(e===""){const n=Jn(r),i=Wp(t.getElementByKey(r));return void(i!==null&&i.nodeValue!==null&&Rt(n)&&P9(n,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const n=pt();if(nt(n)){const i=n.focus;return n.anchor.set(i.key,i.offset,i.type),void Ut(t,P2,null)}}}j9(!0,t,e)}function eEe(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const fp=new Map;function tEe(t){const e=TXe(t.target);if(e===null)return;const r=pEe(e.anchorNode);if(r===null)return;r7&&(r7=!1,ll(r,()=>{const l=Hu(),u=e.anchorNode;(ui(u)||bd(u))&&fi(oE(l,e,r,t))}));const n=O9(r),i=n[n.length-1],s=i._key,o=fp.get(s),a=o||i;a!==r&&_Z(e,a,!1),_Z(e,r,!0),r!==i?fp.set(s,r):o&&fp.delete(s)}function TZ(t){t._lexicalHandled=!0}function RZ(t){return t._lexicalHandled===!0}function YZe(t){const e=e7.get(t);if(e===void 0)return;const r=k2.get(e);if(r===void 0)return;const n=r-1;n>=0||At(164),e7.delete(t),k2.set(e,n),n===0&&e.removeEventListener("selectionchange",tEe);const i=cE(t);N9(i)?(function(o){if(o._parentEditor!==null){const a=O9(o),l=a[a.length-1]._key;fp.get(l)===o&&fp.delete(l)}else fp.delete(o._key)}(i),t.__lexicalEditor=null):i&&At(198);const s=eEe(t);for(let o=0;o<s.length;o++)s[o]();t.__lexicalEventHandles=[]}function n7(t,e,r){fo();const n=t.__key,i=t.getParent();if(i===null)return;const s=function(a){const l=pt();if(!nt(l)||!We(a))return l;const{anchor:u,focus:g}=l,d=u.getNode(),f=g.getNode();return c7(d,a)&&u.set(a.__key,0,"element"),c7(f,a)&&g.set(a.__key,0,"element"),l}(t);let o=!1;if(nt(s)&&e){const a=s.anchor,l=s.focus;a.key===n&&(L2(a,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0),l.key===n&&(L2(l,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0)}else Zo(s)&&e&&t.isSelected()&&t.selectPrevious();if(nt(s)&&e&&!o){const a=t.getIndexWithinParent();NA(t),F2(s,i,a,-1)}else NA(t);r||Ea(i)||i.canBeEmpty()||!i.isEmpty()||n7(i,e),e&&s&&Xi(i)&&i.isEmpty()&&i.selectEnd()}const rEe=Symbol.for("ephemeral");function D2(t){return t[rEe]||!1}var Uq;let kh=(Uq=class{constructor(e){ve(this,"__type");ve(this,"__key");ve(this,"__parent");ve(this,"__prev");ve(this,"__next");ve(this,"__state");this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),yEe(this,e)}static getType(){const{ownNodeType:e}=L9(this);return e===void 0&&At(64,this.name),e}static clone(e){At(65,this.name)}$config(){return{}}config(e,r){const n=r.extends||Object.getPrototypeOf(this.constructor);return Object.assign(r,{extends:n,type:e}),{[e]:r}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}getType(){return this.__type}isInline(){At(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const r=Jn(e);if(r===null)break;e=r.__parent}return!1}isSelected(e){const r=e||pt();if(r==null)return!1;const n=r.getNodes().some(i=>i.__key===this.__key);if(Rt(this))return n;if(nt(r)&&r.anchor.type==="element"&&r.focus.type==="element"){if(r.isCollapsed())return!1;const i=this.getParent();if(dn(this)&&this.isInline()&&i){const s=r.isBackward()?r.focus:r.anchor;if(i.is(s.getNode())&&s.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let r=e.getFirstChild(),n=0;for(;r!==null;){if(this.is(r))return n;n++,r=r.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Jn(e)}getParentOrThrow(){const e=this.getParent();return e===null&&At(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const r=e.getParent();if(Ea(r))return We(e)||e===this&&dn(e)||At(194),e;e=r}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&At(67,this.__key),e}getParents(){const e=[];let r=this.getParent();for(;r!==null;)e.push(r),r=r.getParent();return e}getParentKeys(){const e=[];let r=this.getParent();for(;r!==null;)e.push(r.__key),r=r.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Jn(e)}getPreviousSiblings(){const e=[],r=this.getParent();if(r===null)return e;let n=r.getFirstChild();for(;n!==null&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Jn(e)}getNextSiblings(){const e=[];let r=this.getNextSibling();for(;r!==null;)e.push(r),r=r.getNextSibling();return e}getCommonAncestor(e){const r=We(this)?this:this.getParent(),n=We(e)?e:e.getParent(),i=r&&n?Fw(r,n):null;return i?i.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const r=Fw(this,e);return r!==null&&(r.type==="descendant"||(r.type==="branch"?kEe(r)===-1:(r.type!=="same"&&r.type!=="ancestor"&&At(279),!1)))}isParentOf(e){const r=Fw(this,e);return r!==null&&r.type==="ancestor"}getNodesBetween(e){const r=this.isBefore(e),n=[],i=new Set;let s=this;for(;s!==null;){const o=s.__key;if(i.has(o)||(i.add(o),n.push(s)),s===e)break;const a=We(s)?r?s.getFirstChild():s.getLastChild():null;if(a!==null){s=a;continue}const l=r?s.getNextSibling():s.getPreviousSibling();if(l!==null){s=l;continue}const u=s.getParentOrThrow();if(i.has(u.__key)||n.push(u),u===e)break;let g=null,d=u;do{if(d===null&&At(68),g=r?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;g!==null||i.has(d.__key)||n.push(d)}while(g===null);s=g}return r||n.reverse(),n}isDirty(){const e=vi()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){if(D2(this))return this;const e=Jn(this.__key);return e===null&&At(113),e}getWritable(){if(D2(this))return this;fo();const e=gf(),r=vi(),n=e._nodeMap,i=this.__key,s=this.getLatest(),o=r._cloneNotNeeded,a=pt();if(a!==null&&a.setCachedNodes(null),o.has(i))return B2(s),s;const l=OEe(s);return o.add(i),B2(l),n.set(i,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,r){At(70)}updateDOM(e,r,n){At(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){At(18,this.name)}updateFromJSON(e){return function(r,n){const i=r.getWritable(),s=n.$;let o=s;for(const a of LSe(i).flatKeys)a in n&&(o!==void 0&&o!==s||(o={...s}),o[a]=n[a]);return(i.__state||o)&&DZe(r).updateFromJSON(o),i}(this,e)}static transform(){return null}remove(e){n7(this,!0,e)}replace(e,r){fo();let n=pt();n!==null&&(n=n.clone()),A5(this,e);const i=this.getLatest(),s=this.__key,o=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),u=l.__size;NA(a);const g=i.getPreviousSibling(),d=i.getNextSibling(),f=i.__prev,h=i.__next,A=i.__parent;if(n7(i,!1,!0),g===null?l.__first=o:g.getWritable().__next=o,a.__prev=f,d===null?l.__last=o:d.getWritable().__prev=o,a.__next=h,a.__parent=A,l.__size=u,r&&(We(this)&&We(a)||At(139),this.getChildren().forEach(C=>{a.append(C)})),nt(n)){fi(n);const C=n.anchor,I=n.focus;C.key===s&&PZ(C,a),I.key===s&&PZ(I,a)}return Sh()===s&&Ao(o),a}insertAfter(e,r=!0){fo(),A5(this,e);const n=this.getWritable(),i=e.getWritable(),s=i.getParent(),o=pt();let a=!1,l=!1;if(s!==null){const h=e.getIndexWithinParent();if(NA(i),nt(o)){const A=s.__key,C=o.anchor,I=o.focus;a=C.type==="element"&&C.key===A&&C.offset===h+1,l=I.type==="element"&&I.key===A&&I.offset===h+1}}const u=this.getNextSibling(),g=this.getParentOrThrow().getWritable(),d=i.__key,f=n.__next;if(u===null?g.__last=d:u.getWritable().__prev=d,g.__size++,n.__next=d,i.__next=f,i.__prev=n.__key,i.__parent=n.__parent,r&&nt(o)){const h=this.getIndexWithinParent();F2(o,g,h+1);const A=g.__key;a&&o.anchor.set(A,h+2,"element"),l&&o.focus.set(A,h+2,"element")}return e}insertBefore(e,r=!0){fo(),A5(this,e);const n=this.getWritable(),i=e.getWritable(),s=i.__key;NA(i);const o=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=n.__prev,u=this.getIndexWithinParent();o===null?a.__first=s:o.getWritable().__next=s,a.__size++,n.__prev=s,i.__prev=l,i.__next=n.__key,i.__parent=n.__parent;const g=pt();return r&&nt(g)&&F2(g,this.getParentOrThrow(),u),e}isParentRequired(){return!1}createParentElementNode(){return qr()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,r){fo();const n=this.getPreviousSibling(),i=this.getParentOrThrow();if(n===null)return i.select(0,0);if(We(n))return n.select();if(!Rt(n)){const s=n.getIndexWithinParent()+1;return i.select(s,s)}return n.select(e,r)}selectNext(e,r){fo();const n=this.getNextSibling(),i=this.getParentOrThrow();if(n===null)return i.select();if(We(n))return n.select(0,0);if(!Rt(n)){const s=n.getIndexWithinParent();return i.select(s,s)}return n.select(e,r)}markDirty(){this.getWritable()}reconcileObservedMutation(e,r){this.markDirty()}},ve(Uq,"importDOM"),Uq);const i7="historic",ZZe="history-push",TA="history-merge",XZe="paste",QZe="collaboration",JZe="skip-scroll-into-view",eXe="skip-dom-selection",tXe="skip-selection-focus";class Cm extends kh{static getType(){return"linebreak"}static clone(e){return new Cm(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(r){const n=r.parentElement;if(n!==null&&$2(n)){const i=n.firstChild;if(i===r||i.nextSibling===r&&Ob(i)){const s=n.lastChild;if(s===r||s.previousSibling===r&&Ob(s))return!0}}return!1}(e)||function(r){const n=r.parentElement;if(n!==null&&$2(n)){const i=n.firstChild;if(i===r||i.nextSibling===r&&Ob(i))return!1;const s=n.lastChild;if(s===r||s.previousSibling===r&&Ob(s))return!0}return!1}(e)?null:{conversion:rXe,priority:0}}}static importJSON(e){return fd().updateFromJSON(e)}}function rXe(t){return{node:fd()}}function fd(){return Fa(new Cm)}function Dh(t){return t instanceof Cm}function Ob(t){return bd(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function c5(t,e){return 16&e?"code":e&OSe?"mark":32&e?"sub":64&e?"sup":null}function u5(t,e){return 1&e?"strong":2&e?"em":"span"}function nEe(t,e,r,n,i){const s=n.classList;let o=Ap(i,"base");o!==void 0&&s.add(...o),o=Ap(i,"underlineStrikethrough");let a=!1;const l=8&e&&4&e;o!==void 0&&(8&r&&4&r?(a=!0,l||s.add(...o)):l&&s.remove(...o));for(const u in tf){const g=tf[u];if(o=Ap(i,u),o!==void 0)if(r&g){if(a&&(u==="underline"||u==="strikethrough")){e&g&&s.remove(...o);continue}(!(e&g)||l&&u==="underline"||u==="strikethrough")&&s.add(...o)}else e&g&&s.remove(...o)}}function iEe(t,e,r){const n=e.firstChild,i=r.isComposing(),s=t+(i?ZS:"");if(n==null)e.textContent=s;else{const o=n.nodeValue;if(o!==s)if(i||YA){const[a,l,u]=function(g,d){const f=g.length,h=d.length;let A=0,C=0;for(;A<f&&A<h&&g[A]===d[A];)A++;for(;C+A<f&&C+A<h&&g[f-C-1]===d[h-C-1];)C++;return[A,f-A-C,d.slice(A,h-C)]}(o,s);l!==0&&n.deleteData(a,l),n.insertData(a,u)}else n.nodeValue=s}}function NZ(t,e,r,n,i,s){iEe(i,t,e);const o=s.theme.text;o!==void 0&&nEe(0,0,n,t,o)}function jb(t,e){const r=document.createElement(e);return r.appendChild(t),r}class xd extends kh{constructor(r="",n){super(n);ve(this,"__text");ve(this,"__format");ve(this,"__style");ve(this,"__mode");ve(this,"__detail");this.__text=r,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}static getType(){return"text"}static clone(r){return new xd(r.__text,r.__key)}afterCloneFrom(r){super.afterCloneFrom(r),this.__text=r.__text,this.__format=r.__format,this.__style=r.__style,this.__mode=r.__mode,this.__detail=r.__detail}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const r=this.getLatest();return TZe[r.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Sh()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(r){const n=tf[r];return(this.getFormat()&n)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(r,n){return M2(this.getLatest().__format,r,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(r,n){const i=this.__format,s=c5(0,i),o=u5(0,i),a=s===null?o:s,l=document.createElement(a);let u=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),s!==null&&(u=document.createElement(o),l.appendChild(u)),NZ(u,this,0,i,this.__text,r);const g=this.__style;return g!==""&&(l.style.cssText=g),l}updateDOM(r,n,i){const s=this.__text,o=r.__format,a=this.__format,l=c5(0,o),u=c5(0,a),g=u5(0,o),d=u5(0,a);if((l===null?g:l)!==(u===null?d:u))return!0;if(l===u&&g!==d){const I=n.firstChild;I==null&&At(48);const p=document.createElement(d);return NZ(p,this,0,a,s,i),n.replaceChild(p,I),!1}let f=n;u!==null&&l!==null&&(f=n.firstChild,f==null&&At(49)),iEe(s,f,this);const h=i.theme.text;h!==void 0&&o!==a&&nEe(0,o,a,f,h);const A=r.__style,C=this.__style;return A!==C&&(n.style.cssText=C),!1}static importDOM(){return{"#text":()=>({conversion:oXe,priority:0}),b:()=>({conversion:iXe,priority:0}),code:()=>({conversion:vg,priority:0}),em:()=>({conversion:vg,priority:0}),i:()=>({conversion:vg,priority:0}),mark:()=>({conversion:vg,priority:0}),s:()=>({conversion:vg,priority:0}),span:()=>({conversion:nXe,priority:0}),strong:()=>({conversion:vg,priority:0}),sub:()=>({conversion:vg,priority:0}),sup:()=>({conversion:vg,priority:0}),u:()=>({conversion:vg,priority:0})}}static importJSON(r){return Vi().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setTextContent(r.text).setFormat(r.format).setDetail(r.detail).setMode(r.mode).setStyle(r.style)}exportDOM(r){let{element:n}=super.exportDOM(r);return ui(n)||At(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=jb(n,"b")),this.hasFormat("italic")&&(n=jb(n,"i")),this.hasFormat("strikethrough")&&(n=jb(n,"s")),this.hasFormat("underline")&&(n=jb(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(r,n){}setFormat(r){const n=this.getWritable();return n.__format=typeof r=="string"?tf[r]:r,n}setDetail(r){const n=this.getWritable();return n.__detail=typeof r=="string"?SZe[r]:r,n}setStyle(r){const n=this.getWritable();return n.__style=r,n}toggleFormat(r){const n=M2(this.getFormat(),r,null);return this.setFormat(n)}toggleDirectionless(){const r=this.getWritable();return r.__detail^=1,r}toggleUnmergeable(){const r=this.getWritable();return r.__detail^=2,r}setMode(r){const n=_Ze[r];if(this.__mode===n)return this;const i=this.getWritable();return i.__mode=n,i}setTextContent(r){if(this.__text===r)return this;const n=this.getWritable();return n.__text=r,n}select(r,n){fo();let i=r,s=n;const o=pt(),a=this.getTextContent(),l=this.__key;if(typeof a=="string"){const u=a.length;i===void 0&&(i=u),s===void 0&&(s=u)}else i=0,s=0;if(!nt(o))return aEe(l,i,l,s,"text","text");{const u=Sh();u!==o.anchor.key&&u!==o.focus.key||Ao(l),o.setTextNodeRange(this,i,this,s)}return o}selectStart(){return this.select(0,0)}selectEnd(){const r=this.getTextContentSize();return this.select(r,r)}spliceText(r,n,i,s){const o=this.getWritable(),a=o.__text,l=i.length;let u=r;u<0&&(u=l+u,u<0&&(u=0));const g=pt();if(s&&nt(g)){const f=r+l;g.setTextNodeRange(o,f,o,f)}const d=a.slice(0,u)+i+a.slice(u+n);return o.__text=d,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...r){fo();const n=this.getLatest(),i=n.getTextContent();if(i==="")return[];const s=n.__key,o=Sh(),a=i.length;r.sort((S,j)=>S-j),r.push(a);const l=[],u=r.length;for(let S=0,j=0;S<a&&j<=u;j++){const w=r[j];w>S&&(l.push(i.slice(S,w)),S=w)}const g=l.length;if(g===1)return[n];const d=l[0],f=n.getParent();let h;const A=n.getFormat(),C=n.getStyle(),I=n.__detail;let p=!1,m=null,v=null;const y=pt();if(nt(y)){const[S,j]=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus];S.type==="text"&&S.key===s&&(m=S),j.type==="text"&&j.key===s&&(v=j)}n.isSegmented()?(h=Vi(d),h.__format=A,h.__style=C,h.__detail=I,h.__state=mZ(n,h),p=!0):h=n.setTextContent(d);const x=[h];for(let S=1;S<g;S++){const j=Vi(l[S]);j.__format=A,j.__style=C,j.__detail=I,j.__state=mZ(n,j);const w=j.__key;o===s&&Ao(w),x.push(j)}const T=m?m.offset:null,E=v?v.offset:null;let _=0;for(const S of x){if(!m&&!v)break;const j=_+S.getTextContentSize();if(m!==null&&T!==null&&T<=j&&T>=_&&(m.set(S.getKey(),T-_,"text"),T<j&&(m=null)),v!==null&&E!==null&&E<=j&&E>=_){v.set(S.getKey(),E-_,"text");break}_=j}if(f!==null){(function(w){const R=w.getPreviousSibling(),N=w.getNextSibling();R!==null&&B2(R),N!==null&&B2(N)})(this);const S=f.getWritable(),j=this.getIndexWithinParent();p?(S.splice(j,0,x),this.remove()):S.splice(j,1,x),nt(y)&&F2(y,f,j,g-1)}return x}mergeWithSibling(r){const n=r===this.getPreviousSibling();n||r===this.getNextSibling()||At(50);const i=this.__key,s=r.__key,o=this.__text,a=o.length;Sh()===s&&Ao(i);const l=pt();if(nt(l)){const f=l.anchor,h=l.focus;f!==null&&f.key===s&&$Z(f,n,i,r,a),h!==null&&h.key===s&&$Z(h,n,i,r,a)}const u=r.__text,g=n?u+o:o+u;this.setTextContent(g);const d=this.getWritable();return r.remove(),d}isTextEntity(){return!1}}function nXe(t){return{forChild:b9(t.style),node:null}}function iXe(t){const e=t,r=e.style.fontWeight==="normal";return{forChild:b9(e.style,r?void 0:"bold"),node:null}}const OZ=new WeakMap;function sXe(t){if(!ui(t))return!1;if(t.nodeName==="PRE")return!0;const e=t.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function oXe(t){const e=t;t.parentElement===null&&At(129);let r=e.textContent||"";if(function(n){let i,s=n.parentNode;const o=[n];for(;s!==null&&(i=OZ.get(s))===void 0&&!sXe(s);)o.push(s),s=s.parentNode;const a=i===void 0?s:i;for(let l=0;l<o.length;l++)OZ.set(o[l],a);return a}(e)!==null){const n=r.split(/(\r?\n|\t)/),i=[],s=n.length;for(let o=0;o<s;o++){const a=n[o];a===`
`||a===`\r
`?i.push(fd()):a==="	"?i.push(pm()):a!==""&&i.push(Vi(a))}return{node:i}}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),r==="")return{node:null};if(r[0]===" "){let n=e,i=!0;for(;n!==null&&(n=jZ(n,!1))!==null;){const s=n.textContent||"";if(s.length>0){/[ \t\n]$/.test(s)&&(r=r.slice(1)),i=!1;break}}i&&(r=r.slice(1))}if(r[r.length-1]===" "){let n=e,i=!0;for(;n!==null&&(n=jZ(n,!0))!==null;)if((n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(r=r.slice(0,r.length-1))}return r===""?{node:null}:{node:Vi(r)}}function jZ(t,e){let r=t;for(;;){let n;for(;(n=e?r.nextSibling:r.previousSibling)===null;){const s=r.parentElement;if(s===null)return null;r=s}if(r=n,ui(r)){const s=r.style.display;if(s===""&&!d7(r)||s!==""&&!s.startsWith("inline"))return null}let i=r;for(;(i=e?r.firstChild:r.lastChild)!==null;)r=i;if(bd(r))return r;if(r.nodeName==="BR")return null}}const aXe={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function vg(t){const e=aXe[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:b9(t.style,e),node:null}}function Vi(t=""){return Fa(new xd(t))}function Rt(t){return t instanceof xd}function b9(t,e){const r=t.fontWeight,n=t.textDecoration.split(" "),i=r==="700"||r==="bold",s=n.includes("line-through"),o=t.fontStyle==="italic",a=n.includes("underline"),l=t.verticalAlign;return u=>(Rt(u)&&(i&&!u.hasFormat("bold")&&u.toggleFormat("bold"),s&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),o&&!u.hasFormat("italic")&&u.toggleFormat("italic"),a&&!u.hasFormat("underline")&&u.toggleFormat("underline"),l!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),l!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),e&&!u.hasFormat(e)&&u.toggleFormat(e)),u)}class Im extends xd{static getType(){return"tab"}static clone(e){return new Im(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const r=super.createDOM(e),n=Ap(e.theme,"tab");return n!==void 0&&r.classList.add(...n),r}static importJSON(e){return pm().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&TSe(126),super.setTextContent("	")}spliceText(e,r,n,i){return n===""&&r===0||n==="	"&&r===1||At(286),this}setDetail(e){return e!==2&&At(127),this}setMode(e){return e!=="normal"&&At(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function pm(){return Fa(new Im)}function nE(t){return t instanceof Im}class lXe{constructor(e,r,n){ve(this,"key");ve(this,"offset");ve(this,"type");ve(this,"_selection");this._selection=null,this.key=e,this.offset=r,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:PEe(na(Vc(this,"next")),na(Vc(e,"next")))<0}getNode(){const e=Jn(this.key);return e===null&&At(20),e}set(e,r,n,i){const s=this._selection,o=this.key;i&&this.key===e&&this.offset===r&&this.type===n||(this.key=e,this.offset=r,this.type=n,mm()||(Sh()===o&&Ao(e),s!==null&&(s.setCachedNodes(null),s.dirty=!0)))}}function Na(t,e,r){return new lXe(t,e,r)}function g5(t,e){let r=e.__key,n=t.offset,i="element";if(Rt(e)){i="text";const s=e.getTextContentSize();n>s&&(n=s)}else if(!We(e)){const s=e.getNextSibling();if(Rt(s))r=s.__key,n=0,i="text";else{const o=e.getParent();o&&(r=o.__key,n=e.getIndexWithinParent()+1)}}t.set(r,n,i)}function PZ(t,e){if(We(e)){const r=e.getLastDescendant();We(r)||Rt(r)?g5(t,r):g5(t,e)}else g5(t,e)}class iE{constructor(e){ve(this,"_nodes");ve(this,"_cachedNodes");ve(this,"dirty");this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Zo(e))return!1;const r=this._nodes,n=e._nodes;return r.size===n.size&&Array.from(r).every(i=>n.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new iE(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const r=this.getNodes(),n=r.length,i=r[n-1];let s;if(Rt(i))s=i.select();else{const o=i.getIndexWithinParent()+1;s=i.getParentOrThrow().select(o,o)}s.insertNodes(e);for(let o=0;o<n;o++)r[o].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const r=this._nodes,n=[];for(const i of r){const s=Jn(i);s!==null&&n.push(s)}return mm()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let r="";for(let n=0;n<e.length;n++)r+=e[n].getTextContent();return r}deleteNodes(){const e=this.getNodes();if((pt()||Hu())===this&&e[0]){const r=Mi(e[0],"next");DEe(nf(r,r))}for(const r of e)r.remove()}}function nt(t){return t instanceof SC}class SC{constructor(e,r,n,i){ve(this,"format");ve(this,"style");ve(this,"anchor");ve(this,"focus");ve(this,"_cachedNodes");ve(this,"dirty");this.anchor=e,this.focus=r,e._selection=this,r._selection=this,this._cachedNodes=null,this.format=n,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!nt(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const r=function(n){const i=[],[s,o]=n.getTextSlices();s&&i.push(s.caret.origin);const a=new Set,l=new Set;for(const u of n)if(_a(u)){const{origin:g}=u;i.length===0?a.add(g):(l.add(g),i.push(g))}else{const{origin:g}=u;We(g)&&l.has(g)||i.push(g)}if(o&&i.push(o.caret.origin),rf(n.focus)&&We(n.focus.origin)&&n.focus.getNodeAtCaret()===null)for(let u=la(n.focus.origin,"previous");_a(u)&&a.has(u.origin)&&!u.origin.isEmpty()&&u.origin.is(i[i.length-1]);u=R1(u))a.delete(u.origin),i.pop();for(;i.length>1;){const u=i[i.length-1];if(!We(u)||l.has(u)||u.isEmpty()||a.has(u))break;i.pop()}if(i.length===0&&n.isCollapsed()){const u=na(n.anchor),g=na(n.anchor.getFlipped()),d=h=>Bu(h)?h.origin:h.getNodeAtCaret(),f=d(u)||d(g)||(n.anchor.getNodeAtCaret()?u.origin:g.origin);i.push(f)}return i}(FEe(oX(this),"next"));return mm()||(this._cachedNodes=r),r}setTextNodeRange(e,r,n,i){this.anchor.set(e.__key,r,"text"),this.focus.set(n.__key,i,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const r=e[0],n=e[e.length-1],i=this.anchor,s=this.focus,o=i.isBefore(s),[a,l]=s7(this);let u="",g=!0;for(let d=0;d<e.length;d++){const f=e[d];if(We(f)&&!f.isInline())g||(u+=`
`),g=!f.isEmpty();else if(g=!1,Rt(f)){let h=f.getTextContent();f===r?f===n?i.type==="element"&&s.type==="element"&&s.offset!==i.offset||(h=a<l?h.slice(a,l):h.slice(l,a)):h=o?h.slice(a):h.slice(l):f===n&&(h=o?h.slice(0,l):h.slice(0,a)),u+=h}else!dn(f)&&!Dh(f)||f===n&&this.isCollapsed()||(u+=f.getTextContent())}return u}applyDOMRange(e){const r=vi(),n=r.getEditorState()._selection,i=oEe(e.startContainer,e.startOffset,e.endContainer,e.endOffset,r,n);if(i===null)return;const[s,o]=i;this.anchor.set(s.key,s.offset,s.type,!0),this.focus.set(o.key,o.offset,o.type,!0),ZA(this)}clone(){const e=this.anchor,r=this.focus;return new SC(Na(e.key,e.offset,e.type),Na(r.key,r.offset,r.type),this.format,this.style)}toggleFormat(e){this.format=M2(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const r=tf[e];return(this.format&r)!==0}insertRawText(e){const r=e.split(/(\r?\n|\t)/),n=[],i=r.length;for(let s=0;s<i;s++){const o=r[s];o===`
`||o===`\r
`?n.push(fd()):o==="	"?n.push(pm()):n.push(Vi(o))}this.insertNodes(n)}insertText(e){const r=this.anchor,n=this.focus,i=this.format,s=this.style;let o=r,a=n;!this.isCollapsed()&&n.isBefore(r)&&(o=n,a=r),o.type==="element"&&function(I,p,m,v){const y=I.getNode(),x=y.getChildAtIndex(I.offset),T=Vi();if(T.setFormat(m),T.setStyle(v),xm(x))x.splice(0,0,[T]);else{const E=Xi(y)?qr().append(T):T;x===null?y.append(E):x.insertBefore(E)}I.is(p)&&p.set(T.__key,0,"text"),I.set(T.__key,0,"text")}(o,a,i,s),a.type==="element"&&kc(a,na(Vc(a,"next")));const l=o.offset;let u=a.offset;const g=this.getNodes(),d=g.length;let f=g[0];Rt(f)||At(26);const h=f.getTextContent().length,A=f.getParentOrThrow();let C=g[d-1];if(d===1&&a.type==="element"&&(u=h,a.set(o.key,u,"text")),this.isCollapsed()&&l===h&&(_g(f)||!f.canInsertTextAfter()||!A.canInsertTextAfter()&&f.getNextSibling()===null)){let I=f.getNextSibling();if(Rt(I)&&I.canInsertTextBefore()&&!_g(I)||(I=Vi(),I.setFormat(i),I.setStyle(s),A.canInsertTextAfter()?f.insertAfter(I):A.insertAfter(I)),I.select(0,0),f=I,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&l===0&&(_g(f)||!f.canInsertTextBefore()||!A.canInsertTextBefore()&&f.getPreviousSibling()===null)){let I=f.getPreviousSibling();if(Rt(I)&&!_g(I)||(I=Vi(),I.setFormat(i),A.canInsertTextBefore()?f.insertBefore(I):A.insertBefore(I)),I.select(),f=I,e!=="")return void this.insertText(e)}else if(f.isSegmented()&&l!==h){const I=Vi(f.getTextContent());I.setFormat(i),f.replace(I),f=I}else if(!this.isCollapsed()&&e!==""){const I=C.getParent();if(!A.canInsertTextBefore()||!A.canInsertTextAfter()||We(I)&&(!I.canInsertTextBefore()||!I.canInsertTextAfter()))return this.insertText(""),sEe(this.anchor,this.focus,null),void this.insertText(e)}if(d===1){if(RA(f)){const v=Vi(e);return v.select(),void f.replace(v)}const I=f.getFormat(),p=f.getStyle();if(l!==u||I===i&&p===s){if(nE(f)){const v=Vi(e);return v.setFormat(i),v.setStyle(s),v.select(),void f.replace(v)}}else{if(f.getTextContent()!==""){const v=Vi(e);if(v.setFormat(i),v.setStyle(s),v.select(),l===0)f.insertBefore(v,!1);else{const[y]=f.splitText(l);y.insertAfter(v,!1)}return void(v.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}f.setFormat(i),f.setStyle(s)}const m=u-l;f=f.spliceText(l,m,e,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=I,this.style=p))}else{const I=new Set([...f.getParentKeys(),...C.getParentKeys()]),p=We(f)?f:f.getParentOrThrow();let m=We(C)?C:C.getParentOrThrow(),v=C;if(!p.is(m)&&m.isInline())do v=m,m=m.getParentOrThrow();while(m.isInline());if(a.type==="text"&&(u!==0||C.getTextContent()==="")||a.type==="element"&&C.getIndexWithinParent()<u)if(Rt(C)&&!RA(C)&&u!==C.getTextContentSize()){if(C.isSegmented()){const _=Vi(C.getTextContent());C.replace(_),C=_}Xi(a.getNode())||a.type!=="text"||(C=C.spliceText(0,u,"")),I.add(C.__key)}else{const _=C.getParentOrThrow();_.canBeEmpty()||_.getChildrenSize()!==1?C.remove():_.remove()}else I.add(C.__key);const y=m.getChildren(),x=new Set(g),T=p.is(m),E=p.isInline()&&f.getNextSibling()===null?p:f;for(let _=y.length-1;_>=0;_--){const S=y[_];if(S.is(f)||We(S)&&S.isParentOf(f))break;S.isAttached()&&(!x.has(S)||S.is(v)?T||E.insertAfter(S,!1):S.remove())}if(!T){let _=m,S=null;for(;_!==null;){const j=_.getChildren(),w=j.length;(w===0||j[w-1].is(S))&&(I.delete(_.__key),S=_),_=_.getParent()}}if(RA(f))if(l===h)f.select();else{const _=Vi(e);_.select(),f.replace(_)}else f=f.spliceText(l,h-l,e,!0),f.getTextContent()===""?f.remove():f.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let _=1;_<d;_++){const S=g[_],j=S.__key;I.has(j)||S.remove()}}}removeText(){const e=pt()===this;Lw(this,qXe(oX(this))),e&&pt()!==this&&fi(this)}formatText(e,r=null){if(this.isCollapsed())return this.toggleFormat(e),void Ao(null);const n=this.getNodes(),i=[];for(const y of n)Rt(y)&&i.push(y);const s=y=>{n.forEach(x=>{if(We(x)){const T=x.getFormatFlags(e,y);x.setTextFormat(T)}})},o=i.length;if(o===0)return this.toggleFormat(e),Ao(null),void s(r);const a=this.anchor,l=this.focus,u=this.isBackward(),g=u?l:a,d=u?a:l;let f=0,h=i[0],A=g.type==="element"?0:g.offset;if(g.type==="text"&&A===h.getTextContentSize()&&(f=1,h=i[1],A=0),h==null)return;const C=h.getFormatFlags(e,r);s(C);const I=o-1;let p=i[I];const m=d.type==="text"?d.offset:p.getTextContentSize();if(h.is(p)){if(A===m)return;if(_g(h)||A===0&&m===h.getTextContentSize())h.setFormat(C);else{const y=h.splitText(A,m),x=A===0?y[0]:y[1];x.setFormat(C),g.type==="text"&&g.set(x.__key,0,"text"),d.type==="text"&&d.set(x.__key,m-A,"text")}return void(this.format=C)}A===0||_g(h)||([,h]=h.splitText(A),A=0),h.setFormat(C);const v=p.getFormatFlags(e,C);m>0&&(m===p.getTextContentSize()||_g(p)||([p]=p.splitText(m)),p.setFormat(v));for(let y=f+1;y<I;y++){const x=i[y],T=x.getFormatFlags(e,v);x.setFormat(T)}g.type==="text"&&g.set(h.__key,A,"text"),d.type==="text"&&d.set(p.__key,m,"text"),this.format=C|v}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const A=pt();return nt(A)||At(134),A.insertNodes(e)}const r=(this.isBackward()?this.focus:this.anchor).getNode(),n=Nr(r,ql),i=e[e.length-1];if(We(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const A=d5(this);n.splice(A,0,e),i.selectEnd()}return}if(!e.some(A=>(We(A)||dn(A))&&!A.isInline())){We(n)||At(211,r.constructor.name,r.getType());const A=d5(this);return n.splice(A,0,e),void i.selectEnd()}const s=function(A){const C=qr();let I=null;for(let p=0;p<A.length;p++){const m=A[p],v=Dh(m);if(v||dn(m)&&m.isInline()||We(m)&&m.isInline()||Rt(m)||m.isParentRequired()){if(I===null&&(I=m.createParentElementNode(),C.append(I),v))continue;I!==null&&I.append(m)}else C.append(m),I=null}return C}(e),o=s.getLastDescendant(),a=s.getChildren(),l=!We(n)||!n.isEmpty()?this.insertParagraph():null,u=a[a.length-1];let g=a[0];var d;We(d=g)&&ql(d)&&!d.isEmpty()&&We(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(We(n)||At(211,r.constructor.name,r.getType()),n.append(...g.getChildren()),g=a[1]),g&&(n===null&&At(212,r.constructor.name,r.getType()),function(A,C){const I=C.getParentOrThrow().getLastChild();let p=C;const m=[C];for(;p!==I;)p.getNextSibling()||At(140),p=p.getNextSibling(),m.push(p);let v=A;for(const y of m)v=v.insertAfter(y)}(n,g));const f=Nr(o,ql);l&&We(f)&&(l.canMergeWhenEmpty()||ql(u))&&(f.append(...l.getChildren()),l.remove()),We(n)&&n.isEmpty()&&n.remove(),o.selectEnd();const h=We(n)?n.getLastChild():null;Dh(h)&&f!==n&&h.remove()}insertParagraph(){if(this.anchor.key==="root"){const o=qr();return Bi().splice(this.anchor.offset,0,[o]),o.select(),o}const e=d5(this),r=Nr(this.anchor.getNode(),ql);We(r)||At(213);const n=r.getChildAtIndex(e),i=n?[n,...n.getNextSiblings()]:[],s=r.insertNewAfter(this,!1);return s?(s.append(...i),s.selectStart(),s):null}insertLineBreak(e){const r=fd();if(this.insertNodes([r]),e){const n=r.getParentOrThrow(),i=r.getIndexWithinParent();n.select(i,i)}}extract(){const e=[...this.getNodes()],r=e.length;let n=e[0],i=e[r-1];const[s,o]=s7(this),a=this.isBackward(),[l,u]=a?[this.focus,this.anchor]:[this.anchor,this.focus],[g,d]=a?[o,s]:[s,o];if(r===0)return[];if(r===1){if(Rt(n)&&!this.isCollapsed()){const f=n.splitText(g,d),h=g===0?f[0]:f[1];return h?(l.set(h.getKey(),0,"text"),u.set(h.getKey(),h.getTextContentSize(),"text"),[h]):[]}return[n]}if(Rt(n)&&(g===n.getTextContentSize()?e.shift():g!==0&&([,n]=n.splitText(g),e[0]=n,l.set(n.getKey(),0,"text"))),Rt(i)){const f=i.getTextContent().length;d===0?e.pop():d!==f&&([i]=i.splitText(d),e[e.length-1]=i,u.set(i.getKey(),i.getTextContentSize(),"text"))}return e}modify(e,r,n){if(qZ(this,e,r,n))return;const i=e==="move",s=vi(),o=aa(Jl(s));if(!o)return;const a=s._blockCursorElement,l=s._rootElement,u=this.focus.getNode();if(l===null||a===null||!We(u)||u.isInline()||u.canBeEmpty()||u7(a,s,l),this.dirty){let g=rC(s,this.anchor.key),d=rC(s,this.focus.key);this.anchor.type==="text"&&(g=Wp(g)),this.focus.type==="text"&&(d=Wp(d)),g&&d&&cEe(o,g,this.anchor.offset,d,this.focus.offset)}if(function(g,d,f,h){g.modify(d,f,h)}(o,e,r?"backward":"forward",n),o.rangeCount>0){const g=o.getRangeAt(0),d=this.anchor.getNode(),f=Xi(d)?d:SXe(d);if(this.applyDOMRange(g),this.dirty=!0,!i){const h=this.getNodes(),A=[];let C=!1;for(let I=0;I<h.length;I++){const p=h[I];c7(p,f)?A.push(p):C=!0}if(C&&A.length>0)if(r){const I=A[0];We(I)?I.selectStart():I.getParentOrThrow().selectStart()}else{const I=A[A.length-1];We(I)?I.selectEnd():I.getParentOrThrow().selectEnd()}o.anchorNode===g.startContainer&&o.anchorOffset===g.startOffset||function(I){const p=I.focus,m=I.anchor,v=m.key,y=m.offset,x=m.type;m.set(p.key,p.offset,p.type,!0),p.set(v,y,x,!0)}(this)}}n==="lineboundary"&&qZ(this,e,r,n,"decorators")}forwardDeletion(e,r,n){if(!n&&(e.type==="element"&&We(r)&&e.offset===r.getChildrenSize()||e.type==="text"&&e.offset===r.getTextContentSize())){const i=r.getParent(),s=r.getNextSibling()||(i===null?null:i.getNextSibling());if(We(s)&&s.isShadowRoot())return!0}return!1}deleteCharacter(e){const r=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let i=n.getNode();if(this.forwardDeletion(n,i,e))return;const s=jy(Vc(n,e?"previous":"next"));if(s.getTextSlices().every(a=>a===null||a.distance===0)){let a={type:"initial"};for(const l of s.iterNodeCarets("shadowRoot"))if(_a(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(a.type==="merge-block")break;if(We(s.anchor.origin)&&s.anchor.origin.isEmpty()){const u=na(l);Lw(this,nf(u,u)),s.anchor.origin.remove()}return}a.type!=="merge-next-block"&&a.type!=="merge-block"||(a={block:a.block,caret:l,type:"merge-block"})}}else{if(a.type==="merge-block")break;if(rf(l)){if(We(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(s.anchor.origin))break}else a={block:l.origin,type:"merge-next-block"};continue}if(dn(l.origin)){if(!l.origin.isIsolated())if(a.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&We(s.anchor.origin)&&s.anchor.origin.isEmpty()){s.anchor.origin.remove();const u=lEe();u.add(l.origin.getKey()),fi(u)}else l.origin.remove();return}break}}if(a.type==="merge-block"){const{caret:l,block:u}=a;return Lw(this,nf(!l.origin.isEmpty()&&u.isEmpty()?N1(Mi(u,l.direction)):s.anchor,l)),this.removeText()}}const o=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&n.offset===0&&DZ(this,n.getNode()))return}else{const a=o.type==="text"?o.getNode():null;if(i=n.type==="text"?n.getNode():null,a!==null&&a.isSegmented()){const l=o.offset,u=a.getTextContentSize();if(a.is(i)||e&&l!==u||!e&&l!==0)return void FZ(a,e,l)}else if(i!==null&&i.isSegmented()){const l=n.offset,u=i.getTextContentSize();if(i.is(a)||e&&l!==0||!e&&l!==u)return void FZ(i,e,l)}(function(l,u){const g=l.anchor,d=l.focus,f=g.getNode(),h=d.getNode();if(f===h&&g.type==="text"&&d.type==="text"){const A=g.offset,C=d.offset,I=A<C,p=I?A:C,m=I?C:A,v=m-1;p!==v&&function(y){return!(SEe(y)||cXe(y))}(f.getTextContent().slice(p,m))&&(u?d.set(d.key,v,d.type):g.set(g.key,v,g.type))}})(this,e)}}if(this.removeText(),e&&!r&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const n=this.anchor.getNode();n.isEmpty()&&Xi(n.getParent())&&n.getPreviousSibling()===null&&DZ(this,n)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const r=this.anchor,n=r.getNode();if(this.forwardDeletion(r,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Zo(t){return t instanceof iE}function kZ(t){const e=t.offset;if(t.type==="text")return e;const r=t.getNode();return e===r.getChildrenSize()?r.getTextContent().length:0}function s7(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[r,n]=e;return r.type==="element"&&n.type==="element"&&r.key===n.key&&r.offset===n.offset?[0,0]:[kZ(r),kZ(n)]}function DZ(t,e){for(let r=e;r;r=r.getParent()){if(We(r)){if(r.collapseAtStart(t))return!0;if(Ea(r))break}if(r.getPreviousSibling())break}return!1}const cXe=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function FZ(t,e,r){const n=t,i=n.getTextContent().split(/(?=\s)/g),s=i.length;let o=0,a=0;for(let u=0;u<s;u++){const g=u===s-1;if(a=o,o+=i[u].length,e&&o===r||o>r||g){i.splice(u,1),g&&(a=void 0);break}}const l=i.join("").trim();l===""?n.remove():(n.setTextContent(l),n.select(a,a))}function LZ(t,e,r,n){let i,s=e;if(ui(t)){let o=!1;const a=t.childNodes,l=a.length,u=n._blockCursorElement;s===l&&(o=!0,s=l-1);let g=a[s],d=!1;if(g===u)g=a[s+1],d=!0;else if(u!==null){const f=u.parentNode;t===f&&e>Array.prototype.indexOf.call(f.children,u)&&s--}if(i=VI(g),Rt(i))s=$u(i,o?"next":"previous");else{let f=VI(t);if(f===null)return null;if(We(f)){const h=n.getElementByKey(f.getKey());h===null&&At(214),[f,s]=f.getDOMSlot(h).resolveChildIndex(f,h,t,e),We(f)||At(215),o&&s>=f.getChildrenSize()&&(s=Math.max(0,f.getChildrenSize()-1));let C=f.getChildAtIndex(s);if(We(C)&&function(I,p,m){const v=I.getParent();return m===null||v===null||!v.canBeEmpty()||v!==m.getNode()}(C,0,r)){const I=o?C.getLastDescendant():C.getFirstDescendant();I===null?f=C:(C=I,f=We(C)?C:C.getParentOrThrow()),s=0}Rt(C)?(i=C,f=null,s=$u(C,o?"next":"previous")):C!==f&&o&&!d&&(We(f)||At(216),s=Math.min(f.getChildrenSize(),s+1))}else{const h=f.getIndexWithinParent();s=e===0&&dn(f)&&VI(t)===f?h:h+1,f=f.getParentOrThrow()}if(We(f))return Na(f.__key,s,"element")}}else i=VI(t);return Rt(i)?Na(i.__key,$u(i,s,"clamp"),"text"):null}function MZ(t,e,r){const n=t.offset,i=t.getNode();if(n===0){const s=i.getPreviousSibling(),o=i.getParent();if(e){if((r||!e)&&s===null&&We(o)&&o.isInline()){const a=o.getPreviousSibling();Rt(a)&&t.set(a.__key,a.getTextContent().length,"text")}}else We(s)&&!r&&s.isInline()?t.set(s.__key,s.getChildrenSize(),"element"):Rt(s)&&t.set(s.__key,s.getTextContent().length,"text")}else if(n===i.getTextContent().length){const s=i.getNextSibling(),o=i.getParent();if(e&&We(s)&&s.isInline())t.set(s.__key,0,"element");else if((r||e)&&s===null&&We(o)&&o.isInline()&&!o.canInsertTextAfter()){const a=o.getNextSibling();Rt(a)&&t.set(a.__key,0,"text")}}}function sEe(t,e,r){if(t.type==="text"&&e.type==="text"){const n=t.isBefore(e),i=t.is(e);MZ(t,n,i),MZ(e,!n,i),i&&e.set(t.key,t.offset,t.type);const s=vi();if(s.isComposing()&&s._compositionKey!==t.key&&nt(r)){const o=r.anchor,a=r.focus;t.set(o.key,o.offset,o.type,!0),e.set(a.key,a.offset,a.type,!0)}}}function oEe(t,e,r,n,i,s){if(t===null||r===null||!_1(i,t,r))return null;const o=LZ(t,e,nt(s)?s.anchor:null,i);if(o===null)return null;const a=LZ(r,n,nt(s)?s.focus:null,i);if(a===null)return null;if(o.type==="element"&&a.type==="element"){const l=VI(t),u=VI(r);if(dn(l)&&dn(u))return null}return sEe(o,a,s),[o,a]}function o7(t){return We(t)&&!t.isInline()}function aEe(t,e,r,n,i,s){const o=gf(),a=new SC(Na(t,e,i),Na(r,n,s),0,"");return a.dirty=!0,o._selection=a,a}function sE(){const t=Na("root",0,"element"),e=Na("root",0,"element");return new SC(t,e,0,"")}function lEe(){return new iE(new Set)}function uXe(t,e){return oE(null,t,e,null)}function oE(t,e,r,n){const i=r._window;if(i===null)return null;const s=n||i.event,o=s?s.type:void 0,a=o==="selectionchange",l=!Uz&&(a||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&s&&s.detail===3||o==="drop"||o===void 0);let u,g,d,f;if(nt(t)&&!l)return t.clone();if(e===null)return null;if(u=e.anchorNode,g=e.focusNode,d=e.anchorOffset,f=e.focusOffset,a&&nt(t)&&!_1(r,u,g))return t.clone();const h=oEe(u,d,g,f,r,t);if(h===null)return null;const[A,C]=h;return new SC(A,C,nt(t)?t.format:0,nt(t)?t.style:"")}function pt(){return gf()._selection}function Hu(){return vi()._editorState._selection}function F2(t,e,r,n=1){const i=t.anchor,s=t.focus,o=i.getNode(),a=s.getNode();if(!e.is(o)&&!e.is(a))return;const l=e.__key;if(t.isCollapsed()){const u=i.offset;if(r<=u&&n>0||r<u&&n<0){const g=Math.max(0,u+n);i.set(l,g,"element"),s.set(l,g,"element"),BZ(t)}}else{const u=t.isBackward(),g=u?s:i,d=g.getNode(),f=u?i:s,h=f.getNode();if(e.is(d)){const A=g.offset;(r<=A&&n>0||r<A&&n<0)&&g.set(l,Math.max(0,A+n),"element")}if(e.is(h)){const A=f.offset;(r<=A&&n>0||r<A&&n<0)&&f.set(l,Math.max(0,A+n),"element")}}BZ(t)}function BZ(t){const e=t.anchor,r=e.offset,n=t.focus,i=n.offset,s=e.getNode(),o=n.getNode();if(t.isCollapsed()){if(!We(s))return;const a=s.getChildrenSize(),l=r>=a,u=l?s.getChildAtIndex(a-1):s.getChildAtIndex(r);if(Rt(u)){let g=0;l&&(g=u.getTextContentSize()),e.set(u.__key,g,"text"),n.set(u.__key,g,"text")}return}if(We(s)){const a=s.getChildrenSize(),l=r>=a,u=l?s.getChildAtIndex(a-1):s.getChildAtIndex(r);if(Rt(u)){let g=0;l&&(g=u.getTextContentSize()),e.set(u.__key,g,"text")}}if(We(o)){const a=o.getChildrenSize(),l=i>=a,u=l?o.getChildAtIndex(a-1):o.getChildAtIndex(i);if(Rt(u)){let g=0;l&&(g=u.getTextContentSize()),n.set(u.__key,g,"text")}}}function L2(t,e,r,n,i){let s=null,o=0,a=null;n!==null?(s=n.__key,Rt(n)?(o=n.getTextContentSize(),a="text"):We(n)&&(o=n.getChildrenSize(),a="element")):i!==null&&(s=i.__key,Rt(i)?a="text":We(i)&&(a="element")),s!==null&&a!==null?t.set(s,o,a):(o=e.getIndexWithinParent(),o===-1&&(o=r.getChildrenSize()),t.set(r.__key,o,"element"))}function $Z(t,e,r,n,i){t.type==="text"?t.set(r,t.offset+(e?0:i),"text"):t.offset>n.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function cEe(t,e,r,n,i){try{t.setBaseAndExtent(e,r,n,i)}catch{}}function gXe(t,e,r,n,i,s,o){const a=n.anchorNode,l=n.focusNode,u=n.anchorOffset,g=n.focusOffset,d=document.activeElement;if(i.has(QZe)&&d!==s||d!==null&&R9(d))return;if(!nt(e))return void(t!==null&&_1(r,a,l)&&n.removeAllRanges());const f=e.anchor,h=e.focus,A=f.key,C=h.key,I=rC(r,A),p=rC(r,C),m=f.offset,v=h.offset,y=e.format,x=e.style,T=e.isCollapsed();let E=I,_=p,S=!1;if(f.type==="text"){E=Wp(I);const M=f.getNode();S=M.getFormat()!==y||M.getStyle()!==x}else nt(t)&&t.anchor.type==="text"&&(S=!0);var j,w,R,N,P;if(h.type==="text"&&(_=Wp(p)),E!==null&&_!==null&&(T&&(t===null||S||nt(t)&&(t.format!==y||t.style!==x))&&(j=y,w=x,R=m,N=A,P=performance.now(),ZSe=[j,w,R,N,P]),u!==m||g!==v||a!==E||l!==_||n.type==="Range"&&T||(d!==null&&s.contains(d)||i.has(tXe)||s.focus({preventScroll:!0}),f.type==="element"))){if(cEe(n,E,m,_,v),!i.has(JZe)&&e.isCollapsed()&&s!==null&&s===document.activeElement){const M=nt(e)&&e.anchor.type==="element"?E.childNodes[m]||null:n.rangeCount>0?n.getRangeAt(0):null;if(M!==null){let B;if(M instanceof Text){const W=document.createRange();W.selectNode(M),B=W.getBoundingClientRect()}else B=M.getBoundingClientRect();(function(W,H,V){const K=REe(V),Y=D9(K);if(K===null||Y===null)return;let{top:k,bottom:q}=H,z=0,G=0,Z=V;for(;Z!==null;){const ue=Z===K.body;if(ue)z=0,G=Jl(W).innerHeight;else{const ie=Z.getBoundingClientRect();z=ie.top,G=ie.bottom}let re=0;if(k<z?re=-(z-k):q>G&&(re=q-G),re!==0)if(ue)Y.scrollBy(0,re);else{const ie=Z.scrollTop;Z.scrollTop+=re;const Ce=Z.scrollTop-ie;k-=Ce,q-=Ce}if(ue)break;Z=T1(Z)}})(r,B,s)}}t7=!0}}function dXe(t){let e=pt()||Hu();e===null&&(e=Bi().selectEnd()),e.insertNodes(t)}function d5(t){let e=t;t.isCollapsed()||e.removeText();const r=pt();nt(r)&&(e=r),nt(e)||At(161);const n=e.anchor;let i=n.getNode(),s=n.offset;for(;!ql(i);){const o=i;if([i,s]=hXe(i,s),o.is(i))break}return s}function hXe(t,e){const r=t.getParent();if(!r){const i=qr();return Bi().append(i),i.select(),[Bi(),0]}if(Rt(t)){const i=t.splitText(e);if(i.length===0)return[r,t.getIndexWithinParent()];const s=e===0?0:1;return[r,i[0].getIndexWithinParent()+s]}if(!We(t)||e===0)return[r,t.getIndexWithinParent()];const n=t.getChildAtIndex(e);if(n){const i=new SC(Na(t.__key,e,"element"),Na(t.__key,e,"element"),0,""),s=t.insertNewAfter(i);s&&s.append(n,...n.getNextSiblings())}return[r,t.getIndexWithinParent()+1]}function qZ(t,e,r,n,i="decorators-and-blocks"){if(e==="move"&&n==="character"&&!t.isCollapsed()){const[g,d]=r===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return d.set(g.key,g.offset,g.type),!0}const s=Vc(t.focus,r?"previous":"next"),o=n==="lineboundary",a=e==="move";let l=s,u=i==="decorators-and-blocks";if(!z9(l)){for(const g of l){u=!1;const{origin:d}=g;if(!dn(d)||d.isIsolated()||(l=g,!o||!d.isInline()))break}if(u)for(const g of jy(s).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(_a(g))g.origin.isInline()||(l=g);else{if(We(g.origin))continue;dn(g.origin)&&!g.origin.isInline()&&(l=g)}break}}if(l===s)return!1;if(a&&!o&&dn(l.origin)&&l.origin.isKeyboardSelectable()){const g=lEe();return g.add(l.origin.getKey()),fi(g),!0}return l=na(l),a&&kc(t.anchor,l),kc(t.focus,l),u||!o}let Ws=null,Gs=null,Sa=!1,h5=!1,Dw=0;const zZ={characterData:!0,childList:!0,subtree:!0};function mm(){return Sa||Ws!==null&&Ws._readOnly}function fo(){Sa&&At(13)}function uEe(){Dw>99&&At(14)}function gf(){return Ws===null&&At(195,gEe()),Ws}function vi(){return Gs===null&&At(196,gEe()),Gs}function gEe(){let t=0;const e=new Set,r=tC.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const s=cE(i);if(N9(s))t++;else if(s){let o=String(s.constructor.version||"<0.17.1");o===r&&(o+=" (separately built, likely a bundler configuration issue)"),e.add(o)}}let n=` Detected on the page: ${t} compatible editor(s) with version ${r}`;return e.size&&(n+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),n}function fXe(){return Gs}function UZ(t,e,r){const n=e.__type,i=IEe(t,n);let s=r.get(n);s===void 0&&(s=Array.from(i.transforms),r.set(n,s));const o=s.length;for(let a=0;a<o&&(s[a](e),e.isAttached());a++);}function WZ(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function dEe(t,e){if(!e)return;const r=t._updateTags;let n=e;Array.isArray(e)||(n=[e]);for(const i of n)r.add(i)}function AXe(t){return w9(t,vi()._nodes)}function w9(t,e){const r=t.type,n=e.get(r);n===void 0&&At(17,r);const i=n.klass;t.type!==i.getType()&&At(18,i.name);const s=i.importJSON(t),o=t.children;if(We(s)&&Array.isArray(o))for(let a=0;a<o.length;a++){const l=w9(o[a],e);s.append(l)}return s}function GZ(t,e,r){const n=Ws,i=Sa,s=Gs;Ws=e,Sa=!0,Gs=t;try{return r()}finally{Ws=n,Sa=i,Gs=s}}function Mg(t,e){const r=t._pendingEditorState,n=t._rootElement,i=t._headless||n===null;if(r===null)return;const s=t._editorState,o=s._selection,a=r._selection,l=t._dirtyType!==0,u=Ws,g=Sa,d=Gs,f=t._updating,h=t._observer;let A=null;if(t._pendingEditorState=null,t._editorState=r,!i&&l&&h!==null){Gs=t,Ws=r,Sa=!1,t._updating=!0;try{const T=t._dirtyType,E=t._dirtyElements,_=t._dirtyLeaves;h.disconnect(),A=MZe(s,r,t,T,E,_)}catch(T){if(T instanceof Error&&t._onError(T),h5)throw T;return AEe(t,null,n,r),DSe(t),t._dirtyType=2,h5=!0,Mg(t,s),void(h5=!1)}finally{h.observe(n,zZ),t._updating=f,Ws=u,Sa=g,Gs=d}}r._readOnly||(r._readOnly=!0);const C=t._dirtyLeaves,I=t._dirtyElements,p=t._normalizedNodes,m=t._updateTags,v=t._deferred;l&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(T,E){const _=T._decorators;let S=T._pendingDecorators||_;const j=E._nodeMap;let w;for(w in S)j.has(w)||(S===_&&(S=bEe(T)),delete S[w])}(t,r);const y=i?null:aa(Jl(t));if(t._editable&&y!==null&&(l||a===null||a.dirty)&&n!==null&&!m.has(eXe)){Gs=t,Ws=r;try{if(h!==null&&h.disconnect(),l||a===null||a.dirty){const T=t._blockCursorElement;T!==null&&u7(T,t,n),gXe(o,a,t,y,m,n)}(function(T,E,_){let S=T._blockCursorElement;if(nt(_)&&_.isCollapsed()&&_.anchor.type==="element"&&E.contains(document.activeElement)){const j=_.anchor,w=j.getNode(),R=j.offset;let N=!1,P=null;if(R===w.getChildrenSize())C5(w.getChildAtIndex(R-1))&&(N=!0);else{const M=w.getChildAtIndex(R);if(M!==null&&C5(M)){const B=M.getPreviousSibling();(B===null||C5(B))&&(N=!0,P=T.getElementByKey(M.__key))}}if(N){const M=T.getElementByKey(w.__key);return S===null&&(T._blockCursorElement=S=function(B){const W=B.theme,H=document.createElement("div");H.contentEditable="false",H.setAttribute("data-lexical-cursor","true");let V=W.blockCursor;if(V!==void 0){if(typeof V=="string"){const K=NSe(V);V=W.blockCursor=K}V!==void 0&&H.classList.add(...V)}return H}(T._config)),E.style.caretColor="transparent",void(P===null?M.appendChild(S):M.insertBefore(S,P))}}S!==null&&u7(S,T,E)})(t,n,a)}finally{h!==null&&h.observe(n,zZ),Gs=d,Ws=u}}A!==null&&function(T,E,_,S,j){const w=Array.from(T._listeners.mutation),R=w.length;for(let N=0;N<R;N++){const[P,M]=w[N];for(const B of M){const W=E.get(B);W!==void 0&&P(W,{dirtyLeaves:S,prevEditorState:j,updateTags:_})}}}(t,A,m,C,s),nt(a)||a===null||o!==null&&o.is(a)||t.dispatchCommand(Wg,void 0);const x=t._pendingDecorators;x!==null&&(t._decorators=x,t._pendingDecorators=null,Kv("decorator",t,!0,x)),function(T,E,_){const S=ZZ(E),j=ZZ(_);S!==j&&Kv("textcontent",T,!0,j)}(t,e||s,r),Kv("update",t,!0,{dirtyElements:I,dirtyLeaves:C,editorState:r,mutatedNodes:A,normalizedNodes:p,prevEditorState:e||s,tags:m}),function(T,E){if(T._deferred=[],E.length!==0){const _=T._updating;T._updating=!0;try{for(let S=0;S<E.length;S++)E[S]()}finally{T._updating=_}}}(t,v),function(T){const E=T._updates;if(E.length!==0){const _=E.shift();if(_){const[S,j]=_;aE(T,S,j)}}}(t)}function Kv(t,e,r,...n){const i=e._updating;e._updating=r;try{const s=Array.from(e._listeners[t]);for(let o=0;o<s.length;o++)s[o].apply(null,n)}finally{e._updating=i}}function VZ(t,e){const r=t._updates;let n=e||!1;for(;r.length!==0;){const i=r.shift();if(i){const[s,o]=i,a=t._pendingEditorState;let l;o!==void 0&&(l=o.onUpdate,o.skipTransforms&&(n=!0),o.discrete&&(a===null&&At(191),a._flushSync=!0),l&&t._deferred.push(l),dEe(t,o.tag)),a==null?aE(t,s,o):s()}}return n}function aE(t,e,r){const n=t._updateTags;let i,s=!1,o=!1;r!==void 0&&(i=r.onUpdate,dEe(t,r.tag),s=r.skipTransforms||!1,o=r.discrete||!1),i&&t._deferred.push(i);const a=t._editorState;let l=t._pendingEditorState,u=!1;(l===null||l._readOnly)&&(l=t._pendingEditorState=hEe(l||a),u=!0),l._flushSync=o;const g=Ws,d=Sa,f=Gs,h=t._updating;Ws=l,Sa=!1,t._updating=!0,Gs=t;const A=t._headless||t.getRootElement()===null;_9(null);try{u&&(A?a._selection!==null&&(l._selection=a._selection.clone()):l._selection=function(m,v){const y=m.getEditorState()._selection,x=aa(Jl(m));return nt(y)||y==null?oE(y,x,m,v):y.clone()}(t,r&&r.event||null));const I=t._compositionKey;e(),s=VZ(t,s),function(m,v){const y=v.getEditorState()._selection,x=m._selection;if(nt(x)){const T=x.anchor,E=x.focus;let _;if(T.type==="text"&&(_=T.getNode(),_.selectionTransform(y,x)),E.type==="text"){const S=E.getNode();_!==S&&S.selectionTransform(y,x)}}}(l,t),t._dirtyType!==0&&(s?function(m,v){const y=v._dirtyLeaves,x=m._nodeMap;for(const T of y){const E=x.get(T);Rt(E)&&E.isAttached()&&E.isSimpleText()&&!E.isUnmergeable()&&xZ(E)}}(l,t):function(m,v){const y=v._dirtyLeaves,x=v._dirtyElements,T=m._nodeMap,E=Sh(),_=new Map;let S=y,j=S.size,w=x,R=w.size;for(;j>0||R>0;){if(j>0){v._dirtyLeaves=new Set;for(const N of S){const P=T.get(N);Rt(P)&&P.isAttached()&&P.isSimpleText()&&!P.isUnmergeable()&&xZ(P),P!==void 0&&WZ(P,E)&&UZ(v,P,_),y.add(N)}if(S=v._dirtyLeaves,j=S.size,j>0){Dw++;continue}}v._dirtyLeaves=new Set,v._dirtyElements=new Map,w.delete("root")&&w.set("root",!0);for(const N of w){const P=N[0],M=N[1];if(x.set(P,M),!M)continue;const B=T.get(P);B!==void 0&&WZ(B,E)&&UZ(v,B,_)}S=v._dirtyLeaves,j=S.size,w=v._dirtyElements,R=w.size,Dw++}v._dirtyLeaves=y,v._dirtyElements=x}(l,t),VZ(t),function(m,v,y,x){const T=m._nodeMap,E=v._nodeMap,_=[];for(const[S]of x){const j=E.get(S);j!==void 0&&(j.isAttached()||(We(j)&&jSe(j,S,T,E,_,x),T.has(S)||x.delete(S),_.push(S)))}for(const S of _)E.delete(S);for(const S of y){const j=E.get(S);j===void 0||j.isAttached()||(T.has(S)||y.delete(S),E.delete(S))}}(a,l,t._dirtyLeaves,t._dirtyElements)),I!==t._compositionKey&&(l._flushSync=!0);const p=l._selection;if(nt(p)){const m=l._nodeMap,v=p.anchor.key,y=p.focus.key;m.get(v)!==void 0&&m.get(y)!==void 0||At(19)}else Zo(p)&&p._nodes.size===0&&(l._selection=null)}catch(I){return I instanceof Error&&t._onError(I),t._pendingEditorState=a,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void Mg(t)}finally{Ws=g,Sa=d,Gs=f,t._updating=h,Dw=0}t._dirtyType!==0||t._deferred.length>0||function(I,p){const m=p.getEditorState()._selection,v=I._selection;if(v!==null){if(v.dirty||!v.is(m))return!0}else if(m!==null)return!0;return!1}(l,t)?l._flushSync?(l._flushSync=!1,Mg(t)):u&&mXe(()=>{Mg(t)}):(l._flushSync=!1,u&&(n.clear(),t._deferred=[],t._pendingEditorState=null))}function ll(t,e,r){Gs===t&&r===void 0?e():aE(t,e,r)}class Yv{constructor(e,r,n){ve(this,"element");ve(this,"before");ve(this,"after");this.element=e,this.before=r||null,this.after=n||null}withBefore(e){return new Yv(this.element,e,this.after)}withAfter(e){return new Yv(this.element,this.before,e)}withElement(e){return this.element===e?this:new Yv(e,this.before,this.after)}insertChild(e){const r=this.before||this.getManagedLineBreak();return r!==null&&r.parentElement!==this.element&&At(222),this.element.insertBefore(e,r),this}removeChild(e){return e.parentElement!==this.element&&At(223),this.element.removeChild(e),this}replaceChild(e,r){return r.parentElement!==this.element&&At(224),this.element.replaceChild(e,r),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const r=e==="decorator"&&(Ty||zp||_y);this.insertManagedLineBreak(r)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const r=this.element,n=e.nodeName==="IMG"?e.nextSibling:null;n&&r.removeChild(n),r.removeChild(e),r.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const r=this.getManagedLineBreak();if(r){if(e===(r.nodeName==="IMG"))return;this.removeManagedLineBreak()}const n=this.element,i=this.before,s=document.createElement("br");if(n.insertBefore(s,i),e){const o=document.createElement("img");o.setAttribute("data-lexical-linebreak","true"),o.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",o.alt="",n.insertBefore(o,s),n.__lexicalLineBreak=o}else n.__lexicalLineBreak=s}getFirstChildOffset(){let e=0;for(let r=this.after;r!==null;r=r.previousSibling)e++;return e}resolveChildIndex(e,r,n,i){if(n===this.element){const l=this.getFirstChildOffset();return[e,Math.min(l+e.getChildrenSize(),Math.max(l,i))]}const s=HZ(r,n);s.push(i);const o=HZ(r,this.element);let a=e.getIndexWithinParent();for(let l=0;l<o.length;l++){const u=s[l],g=o[l];if(u===void 0||u<g)break;if(u>g){a+=1;break}}return[e.getParentOrThrow(),a]}}function HZ(t,e){const r=[];let n=e;for(;n!==t&&n!==null;n=n.parentNode){let i=0;for(let s=n.previousSibling;s!==null;s=s.previousSibling)i++;r.push(i)}return n!==t&&At(225),r.reverse()}class $o extends kh{constructor(r){super(r);ve(this,"__first");ve(this,"__last");ve(this,"__size");ve(this,"__format");ve(this,"__style");ve(this,"__indent");ve(this,"__dir");ve(this,"__textFormat");ve(this,"__textStyle");this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(r){super.afterCloneFrom(r),this.__key===r.__key&&(this.__first=r.__first,this.__last=r.__last,this.__size=r.__size),this.__indent=r.__indent,this.__format=r.__format,this.__style=r.__style,this.__dir=r.__dir,this.__textFormat=r.__textFormat,this.__textStyle=r.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const r=this.getFormat();return EZe[r]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const r=[];let n=this.getFirstChild();for(;n!==null;)r.push(n),n=n.getNextSibling();return r}getChildrenKeys(){const r=[];let n=this.getFirstChild();for(;n!==null;)r.push(n.__key),n=n.getNextSibling();return r}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const r=vi()._dirtyElements;return r!==null&&r.has(this.__key)}isLastChild(){const r=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(r)}getAllTextNodes(){const r=[];let n=this.getFirstChild();for(;n!==null;){if(Rt(n)&&r.push(n),We(n)){const i=n.getAllTextNodes();r.push(...i)}n=n.getNextSibling()}return r}getFirstDescendant(){let r=this.getFirstChild();for(;We(r);){const n=r.getFirstChild();if(n===null)break;r=n}return r}getLastDescendant(){let r=this.getLastChild();for(;We(r);){const n=r.getLastChild();if(n===null)break;r=n}return r}getDescendantByIndex(r){const n=this.getChildren(),i=n.length;if(r>=i){const o=n[i-1];return We(o)&&o.getLastDescendant()||o||null}const s=n[r];return We(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const r=this.getLatest().__first;return r===null?null:Jn(r)}getFirstChildOrThrow(){const r=this.getFirstChild();return r===null&&At(45,this.__key),r}getLastChild(){const r=this.getLatest().__last;return r===null?null:Jn(r)}getLastChildOrThrow(){const r=this.getLastChild();return r===null&&At(96,this.__key),r}getChildAtIndex(r){const n=this.getChildrenSize();let i,s;if(r<n/2){for(i=this.getFirstChild(),s=0;i!==null&&s<=r;){if(s===r)return i;i=i.getNextSibling(),s++}return null}for(i=this.getLastChild(),s=n-1;i!==null&&s>=r;){if(s===r)return i;i=i.getPreviousSibling(),s--}return null}getTextContent(){let r="";const n=this.getChildren(),i=n.length;for(let s=0;s<i;s++){const o=n[s];r+=o.getTextContent(),We(o)&&s!==i-1&&!o.isInline()&&(r+=ef)}return r}getTextContentSize(){let r=0;const n=this.getChildren(),i=n.length;for(let s=0;s<i;s++){const o=n[s];r+=o.getTextContentSize(),We(o)&&s!==i-1&&!o.isInline()&&(r+=2)}return r}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(r){if(r!==""){const n=fZ[r];return(this.getFormat()&n)!==0}return!1}hasTextFormat(r){const n=tf[r];return(this.getTextFormat()&n)!==0}getFormatFlags(r,n){return M2(this.getLatest().__textFormat,r,n)}getTextStyle(){return this.getLatest().__textStyle}select(r,n){fo();const i=pt();let s=r,o=n;const a=this.getChildrenSize();if(!this.canBeEmpty()){if(r===0&&n===0){const u=this.getFirstChild();if(Rt(u)||We(u))return u.select(0,0)}else if(!(r!==void 0&&r!==a||n!==void 0&&n!==a)){const u=this.getLastChild();if(Rt(u)||We(u))return u.select()}}s===void 0&&(s=a),o===void 0&&(o=a);const l=this.__key;return nt(i)?(i.anchor.set(l,s,"element"),i.focus.set(l,o,"element"),i.dirty=!0,i):aEe(l,s,l,o,"element","element")}selectStart(){const r=this.getFirstDescendant();return r?r.selectStart():this.select()}selectEnd(){const r=this.getLastDescendant();return r?r.selectEnd():this.select()}clear(){const r=this.getWritable();return this.getChildren().forEach(n=>n.remove()),r}append(...r){return this.splice(this.getChildrenSize(),0,r)}setDirection(r){const n=this.getWritable();return n.__dir=r,n}setFormat(r){return this.getWritable().__format=r!==""?fZ[r]:0,this}setStyle(r){return this.getWritable().__style=r||"",this}setTextFormat(r){const n=this.getWritable();return n.__textFormat=r,n}setTextStyle(r){const n=this.getWritable();return n.__textStyle=r,n}setIndent(r){return this.getWritable().__indent=r,this}splice(r,n,i){D2(this)&&At(324,this.__key,this.__type);const s=this.getChildrenSize(),o=this.getWritable();r+n<=s||At(226,String(r),String(n),String(s));const a=o.__key,l=[],u=[],g=this.getChildAtIndex(r+n);let d=null,f=s-n+i.length;if(r!==0)if(r===s)d=this.getLastChild();else{const A=this.getChildAtIndex(r);A!==null&&(d=A.getPreviousSibling())}if(n>0){let A=d===null?this.getFirstChild():d.getNextSibling();for(let C=0;C<n;C++){A===null&&At(100);const I=A.getNextSibling(),p=A.__key;NA(A.getWritable()),u.push(p),A=I}}let h=d;for(const A of i){h!==null&&A.is(h)&&(d=h=h.getPreviousSibling());const C=A.getWritable();C.__parent===a&&f--,NA(C);const I=A.__key;if(h===null)o.__first=I,C.__prev=null;else{const p=h.getWritable();p.__next=I,C.__prev=p.__key}A.__key===a&&At(76),C.__parent=a,l.push(I),h=A}if(r+n===s)h!==null&&(h.getWritable().__next=null,o.__last=h.__key);else if(g!==null){const A=g.getWritable();if(h!==null){const C=h.getWritable();A.__prev=h.__key,C.__next=g.__key}else A.__prev=null}if(o.__size=f,u.length){const A=pt();if(nt(A)){const C=new Set(u),I=new Set(l),{anchor:p,focus:m}=A;KZ(p,C,I)&&L2(p,p.getNode(),this,d,g),KZ(m,C,I)&&L2(m,m.getNode(),this,d,g),f!==0||this.canBeEmpty()||Ea(this)||this.remove()}}return o}getDOMSlot(r){return new Yv(r)}exportDOM(r){const{element:n}=super.exportDOM(r);if(ui(n)){const i=this.getIndent();i>0&&(n.style.paddingInlineStart=40*i+"px");const s=this.getDirection();s&&(n.dir=s)}return{element:n}}exportJSON(){const r={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),i=this.getTextStyle();return n!==0&&(r.textFormat=n),i!==""&&(r.textStyle=i),r}updateFromJSON(r){return super.updateFromJSON(r).setFormat(r.format).setIndent(r.indent).setDirection(r.direction).setTextFormat(r.textFormat||0).setTextStyle(r.textStyle||"")}insertNewAfter(r,n){return null}canIndent(){return!0}collapseAtStart(r){return!1}excludeFromCopy(r){return!1}canReplaceWith(r){return!0}canInsertAfter(r){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(r){return!1}extractWithChild(r,n,i){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(r,n){const i=this.getDOMSlot(r);let s=i.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const a=n.getElementByKey(o.getKey());a!==null&&(s==null?(i.insertChild(a),s=a):s!==a&&i.replaceChild(a,s),s=s.nextSibling)}}}function We(t){return t instanceof $o}function KZ(t,e,r){let n=t.getNode();for(;n;){const i=n.__key;if(e.has(i)&&!r.has(i))return!0;n=n.getParent()}return!1}class lE extends kh{decorate(e,r){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function dn(t){return t instanceof lE}class vm extends $o{constructor(){super("root");ve(this,"__cachedText");this.__cachedText=null}static getType(){return"root"}static clone(){return new vm}getTopLevelElementOrThrow(){At(51)}getTextContent(){const r=this.__cachedText;return!mm()&&vi()._dirtyType!==0||r===null?super.getTextContent():r}remove(){At(52)}replace(r){At(53)}insertBefore(r){At(54)}insertAfter(r){At(55)}updateDOM(r,n){return!1}splice(r,n,i){for(const s of i)We(s)||dn(s)||At(282);return super.splice(r,n,i)}static importJSON(r){return Bi().updateFromJSON(r)}collapseAtStart(){return!0}}function Xi(t){return t instanceof vm}function hEe(t){return new E1(new Map(t._nodeMap))}function S9(){return new E1(new Map([["root",new vm]]))}function fEe(t){const e=t.exportJSON(),r=t.constructor;if(e.type!==r.getType()&&At(130,r.name),We(t)){const n=e.children;Array.isArray(n)||At(59,r.name);const i=t.getChildren();for(let s=0;s<i.length;s++){const o=fEe(i[s]);n.push(o)}}return e}function CXe(t){return t instanceof E1}class E1{constructor(e,r){ve(this,"_nodeMap");ve(this,"_selection");ve(this,"_flushSync");ve(this,"_readOnly");this._nodeMap=e,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,r){return GZ(r&&r.editor||null,this,e)}clone(e){const r=new E1(this._nodeMap,e===void 0?this._selection:e);return r._readOnly=!0,r}toJSON(){return GZ(null,this,()=>({root:fEe(Bi())}))}}class E9 extends $o{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class ym extends $o{static getType(){return"paragraph"}static clone(e){return new ym(e.__key)}createDOM(e){const r=document.createElement("p"),n=Ap(e.theme,"paragraph");return n!==void 0&&r.classList.add(...n),r}updateDOM(e,r,n){return!1}static importDOM(){return{p:e=>({conversion:IXe,priority:0})}}exportDOM(e){const{element:r}=super.exportDOM(e);if(ui(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();n&&(r.style.textAlign=n)}return{element:r}}static importJSON(e){return qr().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,r){const n=qr();n.setTextFormat(e.format),n.setTextStyle(e.style);const i=this.getDirection();return n.setDirection(i),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,r),n}collapseAtStart(){const e=this.getChildren();if(e.length===0||Rt(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function IXe(t){const e=qr();return t.style&&(e.setFormat(t.style.textAlign),F9(t,e)),{node:e}}function qr(){return Fa(new ym)}function xm(t){return t instanceof ym}const Ur=0,tA=1,f5=3,xc=4;function AEe(t,e,r,n){const i=t._keyToDOMMap;i.clear(),t._editorState=S9(),t._pendingEditorState=n,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const s=t._observer;s!==null&&(s.disconnect(),t._observer=null),e!==null&&(e.textContent=""),r!==null&&(r.textContent="",i.set("root",r))}function CEe(t){const e=t||{},r=fXe(),n=e.theme||{},i=t===void 0?r:e.parentEditor||null,s=e.disableEvents||!1,o=S9(),a=e.namespace||(i!==null?i._config.namespace:EEe()),l=e.editorState,u=[vm,xd,Cm,Im,ym,E9,...e.nodes||[]],{onError:g,html:d}=e,f=e.editable===void 0||e.editable;let h;if(t===void 0&&r!==null)h=r._nodes;else{h=new Map;for(let C=0;C<u.length;C++){let I=u[C],p=null,m=null;if(typeof I!="function"){const E=I;I=E.replace,p=E.with,m=E.withKlass||null}const{ownNodeConfig:v}=L9(I),y=I.getType(),x=I.transform(),T=new Set;v&&v.$transform&&T.add(v.$transform),x!==null&&T.add(x),h.set(y,{exportDOM:d&&d.export?d.export.get(I):void 0,klass:I,replace:p,replaceWithKlass:m,sharedNodeState:PZe(u[C]),transforms:T})}}const A=new tC(o,i,h,{disableEvents:s,namespace:a,theme:n},g||console.error,function(C,I){const p=new Map,m=new Set,v=y=>{Object.keys(y).forEach(x=>{let T=p.get(x);T===void 0&&(T=[],p.set(x,T)),T.push(y[x])})};return C.forEach(y=>{const x=y.klass.importDOM;if(x==null||m.has(x))return;m.add(x);const T=x.call(y.klass);T!==null&&v(T)}),I&&v(I),p}(h,d?d.import:void 0),f,t);return l!==void 0&&(A._pendingEditorState=l,A._dirtyType=2),A}class tC{constructor(e,r,n,i,s,o,a,l){ve(this,"_headless");ve(this,"_parentEditor");ve(this,"_rootElement");ve(this,"_editorState");ve(this,"_pendingEditorState");ve(this,"_compositionKey");ve(this,"_deferred");ve(this,"_keyToDOMMap");ve(this,"_updates");ve(this,"_updating");ve(this,"_listeners");ve(this,"_commands");ve(this,"_nodes");ve(this,"_decorators");ve(this,"_pendingDecorators");ve(this,"_config");ve(this,"_dirtyType");ve(this,"_cloneNotNeeded");ve(this,"_dirtyLeaves");ve(this,"_dirtyElements");ve(this,"_normalizedNodes");ve(this,"_updateTags");ve(this,"_observer");ve(this,"_key");ve(this,"_onError");ve(this,"_htmlConversions");ve(this,"_window");ve(this,"_editable");ve(this,"_blockCursorElement");ve(this,"_createEditorArgs");this._createEditorArgs=l,this._parentEditor=r,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=EEe(),this._onError=s,this._htmlConversions=o,this._editable=a,this._headless=r!==null&&r._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const r=this._listeners.update;return r.add(e),()=>{r.delete(e)}}registerEditableListener(e){const r=this._listeners.editable;return r.add(e),()=>{r.delete(e)}}registerDecoratorListener(e){const r=this._listeners.decorator;return r.add(e),()=>{r.delete(e)}}registerTextContentListener(e){const r=this._listeners.textcontent;return r.add(e),()=>{r.delete(e)}}registerRootListener(e){const r=this._listeners.root;return e(this._rootElement,null),r.add(e),()=>{e(null,this._rootElement),r.delete(e)}}registerCommand(e,r,n){n===void 0&&At(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const s=i.get(e);s===void 0&&At(36,String(e));const o=s[n];return o.add(r),()=>{o.delete(r),s.every(a=>a.size===0)&&i.delete(e)}}registerMutationListener(e,r,n){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,s=this._listeners.mutation;let o=s.get(r);o===void 0&&(o=new Set,s.set(r,o)),o.add(i);const a=n&&n.skipInitialization;return a!==void 0&&a||this.initializeMutationListener(r,i),()=>{o.delete(i),o.size===0&&s.delete(r)}}getRegisteredNode(e){const r=this._nodes.get(e.getType());return r===void 0&&At(37,e.name),r}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,r){const n=this._editorState,i=nX(n).get(r.getType());if(!i)return;const s=new Map;for(const o of i.keys())s.set(o,"created");s.size>0&&e(s,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,r){const n=this.getRegisteredNode(e);return n.transforms.add(r),n}registerNodeTransform(e,r){const n=this.registerNodeTransformToKlass(e,r),i=[n],s=n.replaceWithKlass;if(s!=null){const o=this.registerNodeTransformToKlass(s,r);i.push(o)}return function(o,a){const l=nX(o.getEditorState()),u=[];for(const g of a){const d=l.get(g);d&&u.push(d)}u.length!==0&&o.update(()=>{for(const g of u)for(const d of g.keys()){const f=Jn(d);f&&f.markDirty()}},o._pendingEditorState===null?{tag:TA}:void 0)}(this,i.map(o=>o.klass.getType())),()=>{i.forEach(o=>o.transforms.delete(r))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,r){return Ut(this,e,r)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const r=this._rootElement;if(e!==r){const n=Ap(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,AEe(this,r,e,i),r!==null&&(this._config.disableEvents||YZe(r),n!=null&&r.classList.remove(...n)),e!==null){const s=D9(e),o=e.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=2,DSe(this),this._updateTags.add(TA),Mg(this),this._config.disableEvents||function(a,l){const u=a.ownerDocument;e7.set(a,u);const g=k2.get(u)??0;g<1&&u.addEventListener("selectionchange",tEe),k2.set(u,g+1),a.__lexicalEditor=l;const d=eEe(a);for(let f=0;f<Jz.length;f++){const[h,A]=Jz[f],C=typeof A=="function"?I=>{RZ(I)||(TZ(I),(l.isEditable()||h==="click")&&A(I,l))}:I=>{if(RZ(I))return;TZ(I);const p=l.isEditable();switch(h){case"cut":return p&&Ut(l,rE,I);case"copy":return Ut(l,tE,I);case"paste":return p&&Ut(l,QS,I);case"dragstart":return p&&Ut(l,GSe,I);case"dragover":return p&&Ut(l,VSe,I);case"dragend":return p&&Ut(l,WZe,I);case"focus":return p&&Ut(l,HSe,I);case"blur":return p&&Ut(l,HZe,I);case"drop":return p&&Ut(l,USe,I)}};a.addEventListener(h,C),d.push(()=>{a.removeEventListener(h,C)})}}(e,this),n!=null&&e.classList.add(...n)}else this._window=null,this._updateTags.add(TA),Mg(this);Kv("root",this,!1,e,r)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,r){e.isEmpty()&&At(38);let n=e;n._readOnly&&(n=hEe(e),n._selection=e._selection?e._selection.clone():null),kSe(this);const i=this._pendingEditorState,s=this._updateTags,o=r!==void 0?r.tag:null;i===null||i.isEmpty()||(o!=null&&s.add(o),Mg(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,o!=null&&s.add(o),this._updating||Mg(this)}parseEditorState(e,r){return function(n,i,s){const o=S9(),a=Ws,l=Sa,u=Gs,g=i._dirtyElements,d=i._dirtyLeaves,f=i._cloneNotNeeded,h=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Ws=o,Sa=!1,Gs=i,_9(null);try{const A=i._nodes;w9(n.root,A),s&&s(),o._readOnly=!0}catch(A){A instanceof Error&&i._onError(A)}finally{i._dirtyElements=g,i._dirtyLeaves=d,i._cloneNotNeeded=f,i._dirtyType=h,Ws=a,Sa=l,Gs=u}return o}(typeof e=="string"?JSON.parse(e):e,this,r)}read(e){return Mg(this),this.getEditorState().read(e,{editor:this})}update(e,r){(function(n,i,s){n._updating?n._updates.push([i,s]):aE(n,i,s)})(this,e,r)}focus(e,r={}){const n=this._rootElement;n!==null&&(n.setAttribute("autocapitalize","off"),ll(this,()=>{const i=pt(),s=Bi();i!==null?i.dirty||fi(i.clone()):s.getChildrenSize()!==0&&(r.defaultSelection==="rootStart"?s.selectStart():s.selectEnd()),xXe("focus"),bXe(()=>{n.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const r=aa(this._window);r!==null&&r.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Kv("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}ve(tC,"version");tC.version="0.37.0+prod.esm";let a7=null;function _9(t){a7=t}let pXe=1;function IEe(t,e){const r=T9(t,e);return r===void 0&&At(30,e),r}function T9(t,e){return t._nodes.get(e)}const mXe=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function YZ(t){return dn(Oa(t))}function R9(t){const e=document.activeElement;if(!ui(e))return!1;const r=e.nodeName;return dn(Oa(t))&&(r==="INPUT"||r==="TEXTAREA"||e.contentEditable==="true"&&cE(e)==null)}function _1(t,e,r){const n=t.getRootElement();try{return n!==null&&n.contains(e)&&n.contains(r)&&e!==null&&!R9(e)&&pEe(e)===t}catch{return!1}}function N9(t){return t instanceof tC}function pEe(t){let e=t;for(;e!=null;){const r=cE(e);if(N9(r))return r;e=T1(e)}return null}function cE(t){return t?t.__lexicalEditor:null}function RA(t){return nE(t)||t.isToken()}function _g(t){return RA(t)||t.isSegmented()}function bd(t){return Pc(t)&&t.nodeType===3}function mEe(t){return Pc(t)&&t.nodeType===9}function Wp(t){let e=t;for(;e!=null;){if(bd(e))return e;e=e.firstChild}return null}function M2(t,e,r){const n=tf[e];if(r!==null&&(t&n)===(r&n))return t;let i=t^n;return e==="subscript"?i&=-65:e==="superscript"?i&=-33:e==="lowercase"?(i&=-513,i&=-1025):e==="uppercase"?(i&=-257,i&=-1025):e==="capitalize"&&(i&=-257,i&=-513),i}function vEe(t){return Rt(t)||Dh(t)||dn(t)}function yEe(t,e){const r=function(){const o=a7;return a7=null,o}();if((e=e||r&&r.__key)!=null)return void(t.__key=e);fo(),uEe();const n=vi(),i=gf(),s=""+pXe++;i._nodeMap.set(s,t),We(t)?n._dirtyElements.set(s,!0):n._dirtyLeaves.add(s),n._cloneNotNeeded.add(s),n._dirtyType=1,t.__key=s}function NA(t){const e=t.getParent();if(e!==null){const r=t.getWritable(),n=e.getWritable(),i=t.getPreviousSibling(),s=t.getNextSibling(),o=s!==null?s.__key:null,a=i!==null?i.__key:null,l=i!==null?i.getWritable():null,u=s!==null?s.getWritable():null;i===null&&(n.__first=o),s===null&&(n.__last=a),l!==null&&(l.__next=o),u!==null&&(u.__prev=a),r.__prev=null,r.__next=null,r.__parent=null,n.__size--}}function B2(t){uEe(),D2(t)&&At(323,t.__key,t.__type);const e=t.getLatest(),r=e.__parent,n=gf(),i=vi(),s=n._nodeMap,o=i._dirtyElements;r!==null&&function(l,u,g){let d=l;for(;d!==null;){if(g.has(d))return;const f=u.get(d);if(f===void 0)break;g.set(d,!1),d=f.__parent}}(r,s,o);const a=e.__key;i._dirtyType=1,We(t)?o.set(a,!0):i._dirtyLeaves.add(a)}function Ao(t){fo();const e=vi(),r=e._compositionKey;if(t!==r){if(e._compositionKey=t,r!==null){const n=Jn(r);n!==null&&n.getWritable()}if(t!==null){const n=Jn(t);n!==null&&n.getWritable()}}}function Sh(){return mm()?null:vi()._compositionKey}function Jn(t,e){const r=(e||gf())._nodeMap.get(t);return r===void 0?null:r}function xEe(t,e){const r=uE(t,vi());return r!==void 0?Jn(r,e):null}function uE(t,e){return t[`__lexicalKey_${e._key}`]}function Oa(t,e){let r=t;for(;r!=null;){const n=xEe(r,e);if(n!==null)return n;r=T1(r)}return null}function bEe(t){const e=t._decorators,r=Object.assign({},e);return t._pendingDecorators=r,r}function ZZ(t){return t.read(()=>Bi().getTextContent())}function Bi(){return wEe(gf())}function wEe(t){return t._nodeMap.get("root")}function fi(t){fo();const e=gf();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function VI(t){const e=vi(),r=function(n,i){let s=n;for(;s!=null;){const o=uE(s,i);if(o!==void 0)return o;s=T1(s)}return null}(t,e);return r===null?t===e.getRootElement()?Jn("root"):null:Jn(r)}function SEe(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function O9(t){const e=[];let r=t;for(;r!==null;)e.push(r),r=r._parentEditor;return e}function EEe(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function _Ee(t){return bd(t)?t.nodeValue:null}function j9(t,e,r){const n=aa(Jl(e));if(n===null)return;const i=n.anchorNode;let{anchorOffset:s,focusOffset:o}=n;if(i!==null){let a=_Ee(i);const l=Oa(i);if(a!==null&&Rt(l)){if(a===ZS&&r){const u=r.length;a=r,s=u,o=u}a!==null&&P9(l,a,s,o,t)}}}function P9(t,e,r,n,i){let s=t;if(s.isAttached()&&(i||!s.isDirty())){const o=s.isComposing();let a=e;(o||i)&&e[e.length-1]===ZS&&(a=e.slice(0,-1));const l=s.getTextContent();if(i||a!==l){if(a===""){if(Ao(null),_y||zp||Ty)s.remove();else{const C=vi();setTimeout(()=>{C.update(()=>{s.isAttached()&&s.remove()})},20)}return}const u=s.getParent(),g=Hu(),d=s.getTextContentSize(),f=Sh(),h=s.getKey();if(s.isToken()||f!==null&&h===f&&!o||nt(g)&&(u!==null&&!u.canInsertTextBefore()&&g.anchor.offset===0||g.anchor.key===t.__key&&g.anchor.offset===0&&!s.canInsertTextBefore()&&!o||g.focus.key===t.__key&&g.focus.offset===d&&!s.canInsertTextAfter()&&!o))return void s.markDirty();const A=pt();if(!nt(A)||r===null||n===null)return void XZ(s,a,A);if(A.setTextNodeRange(s,r,s,n),s.isSegmented()){const C=Vi(s.getTextContent());s.replace(C),s=C}XZ(s,a,A)}}}function XZ(t,e,r){if(t.setTextContent(e),nt(r)){const n=t.getKey();for(const i of["anchor","focus"]){const s=r[i];s.type==="text"&&s.key===n&&(s.offset=$u(t,s.offset,"clamp"))}}}function Pb(t,e,r){const n=e[r]||!1;return n==="any"||n===t[r]}function vXe(t,e){return Pb(t,e,"altKey")&&Pb(t,e,"ctrlKey")&&Pb(t,e,"shiftKey")&&Pb(t,e,"metaKey")}function _n(t,e,r){return vXe(t,r)&&t.key.toLowerCase()===e.toLowerCase()}const Eg={ctrlKey:!_c,metaKey:_c},QZ={altKey:_c,ctrlKey:!_c};function JZ(t){return t.key==="Backspace"}function eX(t){return _n(t,"a",Eg)}function yXe(t){const e=Bi();if(nt(t)){const r=t.anchor,n=t.focus,i=r.getNode().getTopLevelElementOrThrow().getParentOrThrow();return r.set(i.getKey(),0,"element"),n.set(i.getKey(),i.getChildrenSize(),"element"),ZA(t),t}{const r=e.select(0,e.getChildrenSize());return fi(ZA(r)),r}}function Ap(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const r=t.__lexicalClassNameCache,n=r[e];if(n!==void 0)return n;const i=t[e];if(typeof i=="string"){const s=NSe(i);return r[e]=s,s}return i}function k9(t,e,r,n,i){if(r.size===0)return;const s=n.__type,o=n.__key,a=e.get(s);a===void 0&&At(33,s);const l=a.klass;let u=t.get(l);u===void 0&&(u=new Map,t.set(l,u));const g=u.get(o),d=g==="destroyed"&&i==="created";(g===void 0||d)&&u.set(o,d?"updated":i)}function tX(t,e,r){const n=t.getParent();let i=r,s=t;return n!==null&&(e&&r===0?(i=s.getIndexWithinParent(),s=n):e||r!==s.getChildrenSize()||(i=s.getIndexWithinParent()+1,s=n)),s.getChildAtIndex(e?i-1:i)}function l7(t,e){const r=t.offset;if(t.type==="element")return tX(t.getNode(),e,r);{const n=t.getNode();if(e&&r===0||!e&&r===n.getTextContentSize()){const i=e?n.getPreviousSibling():n.getNextSibling();return i===null?tX(n.getParentOrThrow(),e,n.getIndexWithinParent()+(e?0:1)):i}}return null}function TEe(t){const e=Jl(t).event,r=e&&e.inputType;return r==="insertFromPaste"||r==="insertFromPasteAsQuotation"}function Ut(t,e,r){return function(n,i,s){const o=O9(n);for(let a=4;a>=0;a--)for(let l=0;l<o.length;l++){const u=o[l],g=u._commands.get(i);if(g!==void 0){const d=g[a];if(d!==void 0){const f=Array.from(d),h=f.length;let A=!1;if(ll(u,()=>{for(let C=0;C<h;C++)if(f[C](s,n))return void(A=!0)}),A)return A}}}return!1}(t,e,r)}function gE(t){return!Xi(t)&&!t.isLastChild()&&!t.isInline()}function rC(t,e){const r=t._keyToDOMMap.get(e);return r===void 0&&At(75,e),r}function T1(t){const e=t.assignedSlot||t.parentElement;return g7(e)?e.host:e}function REe(t){return mEe(t)?t:ui(t)?t.ownerDocument:null}function xXe(t){fo(),vi()._updateTags.add(t)}function bXe(t){fo(),vi()._deferred.push(t)}function c7(t,e){let r=t.getParent();for(;r!==null;){if(r.is(e))return!0;r=r.getParent()}return!1}function D9(t){const e=REe(t);return e?e.defaultView:null}function Jl(t){const e=t._window;return e===null&&At(78),e}function wXe(t){return We(t)&&t.isInline()||dn(t)&&t.isInline()}function SXe(t){let e=t.getParentOrThrow();for(;e!==null;){if(Ea(e))return e;e=e.getParentOrThrow()}return e}function Ea(t){return Xi(t)||We(t)&&t.isShadowRoot()}function EXe(t){const e=t.constructor.clone(t);return yEe(e,null),e.afterCloneFrom(t),e}function Fa(t){const e=vi(),r=t.getType(),n=T9(e,r);n===void 0&&At(200,t.constructor.name,r);const{replace:i,replaceWithKlass:s}=n;if(i!==null){const o=i(t),a=o.constructor;return s!==null?o instanceof s||At(201,s.name,s.getType(),a.name,a.getType(),t.constructor.name,r):o instanceof t.constructor&&a!==t.constructor||At(202,a.name,a.getType(),t.constructor.name,r),o.__key===t.__key&&At(203,t.constructor.name,r,a.name,a.getType()),o}return t}function A5(t,e){!Xi(t.getParent())||We(e)||dn(e)||At(99)}function _Xe(t){const e=Jn(t);return e===null&&At(63,t),e}function C5(t){return(dn(t)||We(t)&&!t.canBeEmpty())&&!t.isInline()}function u7(t,e,r){r.style.removeProperty("caret-color"),e._blockCursorElement=null;const n=t.parentElement;n!==null&&n.removeChild(t)}function aa(t){return ru?(t||window).getSelection():null}function TXe(t){const e=D9(t);return e?e.getSelection():null}function NEe(t){return ui(t)&&t.tagName==="A"}function ui(t){return Pc(t)&&t.nodeType===1}function Pc(t){return typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeType=="number"}function g7(t){return Pc(t)&&t.nodeType===11}function d7(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function $2(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function ql(t){if(dn(t)&&!t.isInline())return!0;if(!We(t)||Ea(t))return!1;const e=t.getFirstChild(),r=e===null||Dh(e)||Rt(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&r}function bm(){return vi()}const rX=new WeakMap,RXe=new Map;function nX(t){if(!t._readOnly&&t.isEmpty())return RXe;t._readOnly||At(192);let e=rX.get(t);return e||(e=function(r){const n=new Map;for(const[i,s]of r._nodeMap){const o=s.__type;let a=n.get(o);a||(a=new Map,n.set(o,a)),a.set(i,s)}return n}(t),rX.set(t,e)),e}function OEe(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function NXe(t){return(e=OEe(t))[rEe]=!0,e;var e}function F9(t,e){const r=parseInt(t.style.paddingInlineStart,10)||0,n=Math.round(r/40);e.setIndent(n)}function OXe(t){t.__lexicalUnmanaged=!0}function jXe(t){return t.__lexicalUnmanaged===!0}function U0(t,e){return function(r,n){return Object.prototype.hasOwnProperty.call(r,n)}(t,e)&&t[e]!==kh[e]}function L9(t){const e=AZ in t.prototype?t.prototype[AZ]():void 0,r=function(o){if(!(o===kh||o.prototype instanceof kh)){let a="<unknown>",l="<unknown>";try{a=o.getType()}catch{}try{tC.version&&(l=JSON.parse(tC.version))}catch{}At(290,o.name,a,l)}return o===lE||o===$o||o===kh}(t),n=!r&&U0(t,"getType")?t.getType():void 0;let i,s=n;if(e)if(n)i=e[n];else for(const[o,a]of Object.entries(e))s=o,i=a;if(!r&&s&&(U0(t,"getType")||(t.getType=()=>s),U0(t,"clone")||(t.clone=o=>(_9(o),new t)),U0(t,"importJSON")||(t.importJSON=i&&i.$importJSON||(o=>new t().updateFromJSON(o))),!U0(t,"importDOM")&&i)){const{importDOM:o}=i;o&&(t.importDOM=()=>o)}return{ownNodeConfig:i,ownNodeType:s}}function PXe(t){const e=bm();return fo(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t))).klass}const Nr=(t,e)=>{let r=t;for(;r!=null&&!Xi(r);){if(e(r))return r;r=r.getParent()}return null},kXe={next:"previous",previous:"next"};class M9{constructor(e){ve(this,"origin");this.origin=e}[Symbol.iterator](){return q9({hasNext:rf,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Mi(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Mi(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,r){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(n===null?this.insert(e):n.replace(e,r)),this}splice(e,r,n="next"){const i=n===this.direction?r:Array.from(r).reverse();let s=this;const o=this.getParentAtCaret(),a=new Map;for(let l=s.getAdjacentCaret();l!==null&&a.size<e;l=l.getAdjacentCaret()){const u=l.origin.getWritable();a.set(u.getKey(),u)}for(const l of i){if(a.size>0){const u=s.getNodeAtCaret();if(u){if(a.delete(u.getKey()),a.delete(l.getKey()),!(u.is(l)||s.origin.is(l))){const g=l.getParent();g&&g.is(o)&&l.remove(),u.replace(l)}}else u===null&&At(263,Array.from(a).join(" "))}else s.insert(l);s=Mi(l,this.direction)}for(const l of a.values())l.remove();return this}}class Oy extends M9{constructor(){super(...arguments);ve(this,"type","child")}getLatest(){const r=this.origin.getLatest();return r===this.origin?this:la(r,this.direction)}getParentCaret(r="root"){return Mi(B9(this.getParentAtCaret(),r),this.direction)}getFlipped(){const r=EC(this.direction);return Mi(this.getNodeAtCaret(),r)||la(this.origin,r)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(r){return r instanceof Oy&&this.direction===r.direction&&this.origin.is(r.origin)}isSamePointCaret(r){return this.isSameNodeCaret(r)}}const DXe={root:Xi,shadowRoot:Ea};function EC(t){return kXe[t]}function B9(t,e="root"){return DXe[e](t)?null:t}class nC extends M9{constructor(){super(...arguments);ve(this,"type","sibling")}getLatest(){const r=this.origin.getLatest();return r===this.origin?this:Mi(r,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return We(this.origin)?la(this.origin,this.direction):null}getParentCaret(r="root"){return Mi(B9(this.getParentAtCaret(),r),this.direction)}getFlipped(){const r=EC(this.direction);return Mi(this.getNodeAtCaret(),r)||la(this.origin.getParentOrThrow(),r)}isSamePointCaret(r){return r instanceof nC&&this.direction===r.direction&&this.origin.is(r.origin)}isSameNodeCaret(r){return(r instanceof nC||r instanceof iC)&&this.direction===r.direction&&this.origin.is(r.origin)}}class iC extends M9{constructor(r,n){super(r);ve(this,"type","text");ve(this,"offset");this.offset=n}getLatest(){const r=this.origin.getLatest();return r===this.origin?this:sC(r,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(r="root"){return Mi(B9(this.getParentAtCaret(),r),this.direction)}getFlipped(){return sC(this.origin,EC(this.direction),this.offset)}isSamePointCaret(r){return r instanceof iC&&this.direction===r.direction&&this.origin.is(r.origin)&&this.offset===r.offset}isSameNodeCaret(r){return(r instanceof nC||r instanceof iC)&&this.direction===r.direction&&this.origin.is(r.origin)}getSiblingCaret(){return Mi(this.origin,this.direction)}}function Bu(t){return t instanceof iC}function rf(t){return t instanceof nC}function _a(t){return t instanceof Oy}const FXe={next:class extends iC{constructor(){super(...arguments);ve(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends iC{constructor(){super(...arguments);ve(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},LXe={next:class extends nC{constructor(){super(...arguments);ve(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends nC{constructor(){super(...arguments);ve(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},MXe={next:class extends Oy{constructor(){super(...arguments);ve(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Oy{constructor(){super(...arguments);ve(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function Mi(t,e){return t?new LXe[e](t):null}function sC(t,e,r){return t?new FXe[e](t,$u(t,r)):null}function $u(t,e,r="error"){const n=t.getTextContentSize();let i=e==="next"?n:e==="previous"?0:e;return(i<0||i>n)&&(r!=="clamp"&&TSe(284,String(e),String(n),t.getKey()),i=i<0?0:n),i}function iX(t,e){return new $Xe(t,e)}function la(t,e){return We(t)?new MXe[e](t):null}function BXe(t){return t&&t.getChildCaret()||t}function R1(t){return t&&BXe(t.getAdjacentCaret())}class $9{constructor(e,r,n){ve(this,"type","node-caret-range");ve(this,"direction");ve(this,"anchor");ve(this,"focus");this.anchor=e,this.focus=r,this.direction=n}getLatest(){const e=this.anchor.getLatest(),r=this.focus.getLatest();return e===this.anchor&&r===this.focus?this:new $9(e,r,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=i=>{const s=this[i].getLatest();return Bu(s)?function(o,a){const{direction:l,origin:u}=o,g=$u(u,a==="focus"?EC(l):l);return iX(o,g-o.offset)}(s,i):null},r=e("anchor"),n=e("focus");if(r&&n){const{caret:i}=r,{caret:s}=n;if(i.isSameNodeCaret(s))return[iX(i,s.offset-i.offset),null]}return[r,n]}iterNodeCarets(e="root"){const r=Bu(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),i=Bu(n),s=o=>o.isSameNodeCaret(n)?null:R1(o)||o.getParentCaret(e);return q9({hasNext:o=>o!==null&&!(i&&n.isSameNodeCaret(o)),initial:r.isSameNodeCaret(n)?null:s(r),map:o=>o,step:s})}[Symbol.iterator](){return this.iterNodeCarets("root")}}let $Xe=class{constructor(e,r){ve(this,"type","slice");ve(this,"caret");ve(this,"distance");this.caret=e,this.distance=r}getSliceIndices(){const{distance:e,caret:{offset:r}}=this,n=r+e;return n<r?[n,r]:[r,n]}getTextContent(){const[e,r]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,r)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:r}}=this,[n,i]=this.getSliceIndices(),s=e.getTextContent();return sC(e.setTextContent(s.slice(0,n)+s.slice(i)),r,n)}};function jy(t){return nf(t,Mi(Bi(),t.direction))}function jEe(t){return nf(t,t)}function nf(t,e){return t.direction!==e.direction&&At(265),new $9(t,e,t.direction)}function q9(t){const{initial:e,hasNext:r,step:n,map:i}=t;let s=e;return{[Symbol.iterator](){return this},next(){if(!r(s))return{done:!0,value:void 0};const o={done:!1,value:i(s)};return s=n(s),o}}}function PEe(t,e){const r=Fw(t.origin,e.origin);switch(r===null&&At(275,t.origin.getKey(),e.origin.getKey()),r.type){case"same":{const n=t.type==="text",i=e.type==="text";return n&&i?function(s,o){return Math.sign(s-o)}(t.offset,e.offset):t.type===e.type?0:n?-1:i?1:t.type==="child"?-1:1}case"ancestor":return t.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return kEe(r)}}function kEe(t){const{a:e,b:r}=t,n=e.__key,i=r.__key;let s=e,o=r;for(;s&&o;s=s.getNextSibling(),o=o.getNextSibling()){if(s.__key===i)return-1;if(o.__key===n)return 1}return s===null?1:-1}function kb(t,e){return e.is(t)}function sX(t){return We(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function Fw(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const r=new Map;for(let[n,i]=sX(t);n;i=n,n=n.getParent())r.set(n,i);for(let[n,i]=sX(e);n;i=n,n=n.getParent()){const s=r.get(n);if(s!==void 0)return s===null?(kb(t,n)||At(276),{commonAncestor:n,type:"ancestor"}):i===null?(kb(e,n)||At(277),{commonAncestor:n,type:"descendant"}):((We(s)||kb(t,s))&&(We(i)||kb(e,i))&&n.is(s.getParent())&&n.is(i.getParent())||At(278),{a:s,b:i,commonAncestor:n,type:"branch"})}return null}function Vc(t,e){const{type:r,key:n,offset:i}=t,s=_Xe(t.key);return r==="text"?(Rt(s)||At(266,s.getType(),n),sC(s,e,i)):(We(s)||At(267,s.getType(),n),zXe(s,t.offset,e))}function kc(t,e){const{origin:r,direction:n}=e,i=n==="next";Bu(e)?t.set(r.getKey(),e.offset,"text"):rf(e)?Rt(r)?t.set(r.getKey(),$u(r,n),"text"):t.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(i?1:0),"element"):(_a(e)&&We(r)||At(268),t.set(r.getKey(),i?0:r.getChildrenSize(),"element"))}function DEe(t){const e=pt(),r=nt(e)?e:sE();return Lw(r,t),fi(r),r}function Lw(t,e){kc(t.anchor,e.anchor),kc(t.focus,e.focus)}function oX(t){const{anchor:e,focus:r}=t,n=Vc(e,"next"),i=Vc(r,"next"),s=PEe(n,i)<=0?"next":"previous";return nf(Ad(n,s),Ad(i,s))}function N1(t){const{direction:e,origin:r}=t,n=Mi(r,EC(e)).getNodeAtCaret();return n?Mi(n,e):la(r.getParentOrThrow(),e)}function aX(t,e="root"){const r=[t];for(let n=_a(t)?t.getParentCaret(e):t.getSiblingCaret();n!==null;n=n.getParentCaret(e))r.push(N1(n));return r}function I5(t){return!!t&&t.origin.isAttached()}function qXe(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const r="root",n="next";let i=e;const s=FEe(t,n),o=aX(s.anchor,r),a=aX(s.focus.getFlipped(),r),l=new Set,u=[];for(const A of s.iterNodeCarets(r))if(_a(A))l.add(A.origin.getKey());else if(rf(A)){const{origin:C}=A;We(C)&&!l.has(C.getKey())||u.push(C)}for(const A of u)A.remove();for(const A of s.getTextSlices()){if(!A)continue;const{origin:C}=A.caret,I=C.getTextContentSize(),p=N1(Mi(C,n)),m=C.getMode();if(Math.abs(A.distance)===I&&i==="removeEmptySlices"||m==="token"&&A.distance!==0)p.remove();else if(A.distance!==0){i="removeEmptySlices";let v=A.removeTextSlice();const y=A.caret.origin;if(m==="segmented"){const x=v.origin,T=Vi(x.getTextContent()).setStyle(x.getStyle()).setFormat(x.getFormat());p.replaceOrInsert(T),v=sC(T,n,v.offset)}y.is(o[0].origin)&&(o[0]=v),y.is(a[0].origin)&&(a[0]=v.getFlipped())}}let g,d;for(const A of o)if(I5(A)){g=na(A);break}for(const A of a)if(I5(A)){d=na(A);break}const f=function(A,C,I){if(!A||!C)return null;const p=A.getParentAtCaret(),m=C.getParentAtCaret();if(!p||!m)return null;const v=p.getParents().reverse();v.push(p);const y=m.getParents().reverse();y.push(m);const x=Math.min(v.length,y.length);let T;for(T=0;T<x&&v[T]===y[T];T++);const E=(j,w)=>{let R;for(let N=T;N<j.length;N++){const P=j[N];if(Ea(P))return;!R&&w(P)&&(R=P)}return R},_=E(v,ql),S=_&&E(y,j=>I.has(j.getKey())&&ql(j));return _&&S?[_,S]:null}(g,d,l);if(f){const[A,C]=f;la(A,"previous").splice(0,C.getChildren()),C.remove()}const h=[g,d,...o,...a].find(I5);if(h)return jEe(Ad(na(h),t.direction));At(269,JSON.stringify(o.map(A=>A.origin.__key)))}function na(t){const e=function(i){let s=i;for(;_a(s);){const o=R1(s);if(!_a(o))break;s=o}return s}(t.getLatest()),{direction:r}=e;if(Rt(e.origin))return Bu(e)?e:sC(e.origin,r,r);const n=e.getAdjacentCaret();return rf(n)&&Rt(n.origin)?sC(n.origin,r,EC(r)):e}function z9(t){return Bu(t)&&t.offset!==$u(t.origin,t.direction)}function Ad(t,e){return t.direction===e?t:t.getFlipped()}function FEe(t,e){return t.direction===e?t:nf(Ad(t.focus,e),Ad(t.anchor,e))}function zXe(t,e,r){let n=la(t,"next");for(let i=0;i<e;i++){const s=n.getAdjacentCaret();if(s===null)break;n=s}return Ad(n,r)}function UXe(t){const{origin:e,offset:r,direction:n}=t;if(r===$u(e,n))return t.getSiblingCaret();if(r===$u(e,EC(n)))return N1(t.getSiblingCaret());const[i]=e.splitText(r);return Rt(i)||At(281),Ad(Mi(i,"next"),n)}function WXe(t,e){return!0}function GXe(t,{$copyElementNode:e=EXe,$splitTextPointCaretNext:r=UXe,rootMode:n="shadowRoot",$shouldSplit:i=WXe}={}){if(Bu(t))return r(t);const s=t.getParentCaret(n);if(s){const{origin:o}=s;if(_a(t)&&(!o.canBeEmpty()||!i(o,"first")))return N1(s);const a=function(l){const u=[];for(let g=l.getAdjacentCaret();g;g=g.getAdjacentCaret())u.push(g.origin);return u}(t);(a.length>0||o.canBeEmpty()&&i(o,"last"))&&s.insert(e(o).splice(0,0,a))}return s}function VXe(...t){return t}function HXe(t,e){if(!e||t===e)return t;for(const r in e)if(t[r]!==e[r])return{...t,...e};return t}const LEe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,KXe=LEe?D.useLayoutEffect:D.useEffect,Db={tag:TA};function YXe({initialConfig:t,children:e}){const r=D.useMemo(()=>{const{theme:n,namespace:i,nodes:s,onError:o,editorState:a,html:l}=t,u=dZe(null,n),g=CEe({editable:t.editable,html:l,namespace:i,nodes:s,onError:d=>o(d,g),theme:n});return function(d,f){if(f!==null){if(f===void 0)d.update(()=>{const h=Bi();if(h.isEmpty()){const A=qr();h.append(A);const C=LEe?document.activeElement:null;(pt()!==null||C!==null&&C===d.getRootElement())&&A.select()}},Db);else if(f!==null)switch(typeof f){case"string":{const h=d.parseEditorState(f);d.setEditorState(h,Db);break}case"object":d.setEditorState(f,Db);break;case"function":d.update(()=>{Bi().isEmpty()&&f(d)},Db)}}}(g,a),[g,u]},[]);return KXe(()=>{const n=t.editable,[i]=r;i.setEditable(n===void 0||n)},[]),c.jsx(_Se.Provider,{value:r,children:e})}const ZXe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function XXe(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function QXe(){return function(t){const[e]=vl(),r=D.useMemo(()=>t(e),[e,t]),[n,i]=D.useState(()=>r.initialValueFn()),s=D.useRef(n);return ZXe(()=>{const{initialValueFn:o,subscribe:a}=r,l=o();return s.current!==l&&(s.current=l,i(l)),a(u=>{s.current=u,i(u)})},[r,t]),n}(XXe)}const h7=new Map;function MEe(t){const e={};if(!t)return e;const r=t.split(";");for(const n of r)if(n!==""){const[i,s]=n.split(/:([^]+)/);i&&s&&(e[i.trim()]=s.trim())}return e}function lX(t){let e=h7.get(t);return e===void 0&&(e=MEe(t),h7.set(t,e)),e}function BEe(t){const e=bm().getElementByKey(t.getKey());if(e===null)return null;const r=e.ownerDocument.defaultView;return r===null?null:r.getComputedStyle(e)}function $Ee(t){return BEe(Xi(t)?t:t.getParentOrThrow())}function cX(t){const e=$Ee(t);return e!==null&&e.direction==="rtl"}function qEe(t,e,r="self"){const n=t.getStartEndPoints();if(e.isSelected(t)&&!_g(e)&&n!==null){const[i,s]=n,o=t.isBackward(),a=i.getNode(),l=s.getNode(),u=e.is(a),g=e.is(l);if(u||g){const[d,f]=s7(t),h=a.is(l),A=e.is(o?l:a),C=e.is(o?a:l);let I,p=0;h?(p=d>f?f:d,I=d>f?d:f):A?(p=o?f:d,I=void 0):C&&(p=0,I=o?d:f);const m=e.__text.slice(p,I);m!==e.__text&&(r==="clone"&&(e=NXe(e)),e.__text=m)}}return e}function JXe(t){const e=t.getStyle(),r=MEe(e);h7.set(e,r)}function eQe(t,e){const r=t.getFormatType(),n=t.getIndent();r!==e.getFormatType()&&e.setFormat(r),n!==e.getIndent()&&e.setIndent(n)}function uX(t,e,r=eQe){if(t===null)return;const n=t.getStartEndPoints(),i=new Map;let s=null;if(n){const[o,a]=n;s=sE(),s.anchor.set(o.key,o.offset,o.type),s.focus.set(a.key,a.offset,a.type);const l=Nr(o.getNode(),ql),u=Nr(a.getNode(),ql);We(l)&&i.set(l.getKey(),l),We(u)&&i.set(u.getKey(),u)}for(const o of t.getNodes())if(We(o)&&ql(o))i.set(o.getKey(),o);else if(n===null){const a=Nr(o,ql);We(a)&&i.set(a.getKey(),a)}for(const[o,a]of i){const l=e();r(a,l),a.replace(l,!0),s&&(o===s.anchor.key&&s.anchor.set(l.getKey(),s.anchor.offset,s.anchor.type),o===s.focus.key&&s.focus.set(l.getKey(),s.focus.offset,s.focus.type))}s&&t.is(pt())&&fi(s)}function zEe(t){const e=UEe(t);return e!==null&&e.writingMode==="vertical-rl"}function UEe(t){const e=t.anchor.getNode();return We(e)?BEe(e):$Ee(e)}function gX(t,e){let r=zEe(t)?!e:e;WEe(t)&&(r=!r);const n=Vc(t.focus,r?"previous":"next");if(z9(n))return!1;for(const i of jy(n)){if(_a(i))return!i.origin.isInline();if(!We(i.origin)){if(dn(i.origin))return!0;break}}return!1}function tQe(t,e,r,n){t.modify(e?"extend":"move",r,n)}function WEe(t){const e=UEe(t);return e!==null&&e.direction==="rtl"}function dX(t,e,r){const n=WEe(t);let i;i=zEe(t)||n?!r:r,tQe(t,e,i,"character")}function GEe(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const VEe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,rQe=VEe&&"documentMode"in document?document.documentMode:null;!(!VEe||!("InputEvent"in window)||rQe)&&"getTargetRanges"in new window.InputEvent("input");function HEe(...t){const e=[];for(const r of t)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))e.push(n);return e}function Hc(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function Ts(t,...e){const r=HEe(...e);r.length>0&&t.classList.add(...r)}function Jg(t,...e){const r=HEe(...e);r.length>0&&t.classList.remove(...r)}function nQe(t){return t?t.getAdjacentCaret():null}function KEe(t,e){let r=t;for(;r!=null;){if(r instanceof e)return r;r=r.getParent()}return null}function iQe(t){const e=Nr(t,r=>We(r)&&!r.isInline());return We(e)||GEe(4,t.__key),e}function sQe(t){const e=pt()||Hu();let r;if(nt(e))r=Vc(e.focus,"next");else{if(e!=null){const o=e.getNodes(),a=o[o.length-1];a&&(r=Mi(a,"next"))}r=r||la(Bi(),"previous").getFlipped().insert(qr())}const n=oQe(t,r),i=R1(n),s=_a(i)?na(i):n;return DEe(jEe(s)),t.getLatest()}function oQe(t,e,r){let n=Ad(e,"next");for(let i=n;i;i=GXe(i,r))n=i;return Bu(n)&&GEe(283),n.insert(t.isInline()?qr().append(t):t),Ad(Mi(t.getLatest(),"next"),e.direction)}function Gg(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}function aQe(t,e){la(t,"next").insert(e)}function YEe(t,e){return ZEe(t,e,null)}function ZEe(t,e,r){let n=!1;for(const i of QEe(t))e(i)?r!==null&&r(i):(n=!0,We(i)&&ZEe(i,e,r||(s=>i.insertAfter(s))),i.remove());return n}function XEe(t,e){const r=[],n=Array.from(t).reverse();for(let i=n.pop();i!==void 0;i=n.pop())if(e(i))r.push(i);else if(We(i))for(const s of QEe(i))n.push(s);return r}function QEe(t){return lQe(la(t,"previous"))}function lQe(t){return q9({hasNext:rf,initial:t.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}const cQe=Symbol.for("preact-signals");function dE(){if(Fh>1)return void Fh--;let t,e=!1;for(;Zv!==void 0;){let r=Zv;for(Zv=void 0,f7++;r!==void 0;){const n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&JEe(r))try{r.c()}catch(i){e||(t=i,e=!0)}r=n}}if(f7=0,Fh--,e)throw t}function uQe(t){if(Fh>0)return t();Fh++;try{return t()}finally{dE()}}let vn,Zv;function hX(t){const e=vn;vn=void 0;try{return t()}finally{vn=e}}let Fh=0,f7=0,Mw=0;function fX(t){if(vn===void 0)return;let e=t.n;return e===void 0||e.t!==vn?(e={i:0,S:t,p:vn.s,n:void 0,t:vn,e:void 0,x:void 0,r:e},vn.s!==void 0&&(vn.s.n=e),vn.s=e,t.n=e,32&vn.f&&t.S(e),e):e.i===-1?(e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=vn.s,e.n=void 0,vn.s.n=e,vn.s=e),e):void 0}function Vo(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}function gQe(t,e){return new Vo(t,e)}function JEe(t){for(let e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function AX(t){for(let e=t.s;e!==void 0;e=e.n){const r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function e_e(t){let e,r=t.s;for(;r!==void 0;){const n=r.p;r.i===-1?(r.S.U(r),n!==void 0&&(n.n=r.n),r.n!==void 0&&(r.n.p=n)):e=r,r.S.n=r.r,r.r!==void 0&&(r.r=void 0),r=n}t.s=e}function pI(t,e){Vo.call(this,void 0),this.x=t,this.s=void 0,this.g=Mw-1,this.f=4,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}function t_e(t){const e=t.u;if(t.u=void 0,typeof e=="function"){Fh++;const r=vn;vn=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,U9(t),n}finally{vn=r,dE()}}}function U9(t){for(let e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,t_e(t)}function dQe(t){if(vn!==this)throw new Error("Out-of-order effect");e_e(this),vn=t,this.f&=-2,8&this.f&&U9(this),dE()}function $I(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e==null?void 0:e.name}function Py(t,e){const r=new $I(t,e);try{r.c()}catch(i){throw r.d(),i}const n=r.d.bind(r);return n[Symbol.dispose]=n,n}function r_e(t,e={}){const r={};for(const n in t){const i=e[n],s=gQe(i===void 0?t[n]:i);r[n]=s}return r}Vo.prototype.brand=cQe,Vo.prototype.h=function(){return!0},Vo.prototype.S=function(t){const e=this.t;e!==t&&t.e===void 0&&(t.x=e,this.t=t,e!==void 0?e.e=t:hX(()=>{var r;(r=this.W)==null||r.call(this)}))},Vo.prototype.U=function(t){if(this.t!==void 0){const e=t.e,r=t.x;e!==void 0&&(e.x=r,t.e=void 0),r!==void 0&&(r.e=e,t.x=void 0),t===this.t&&(this.t=r,r===void 0&&hX(()=>{var n;(n=this.Z)==null||n.call(this)}))}},Vo.prototype.subscribe=function(t){return Py(()=>{const e=this.value,r=vn;vn=void 0;try{t(e)}finally{vn=r}},{name:"sub"})},Vo.prototype.valueOf=function(){return this.value},Vo.prototype.toString=function(){return this.value+""},Vo.prototype.toJSON=function(){return this.value},Vo.prototype.peek=function(){const t=vn;vn=void 0;try{return this.value}finally{vn=t}},Object.defineProperty(Vo.prototype,"value",{get(){const t=fX(this);return t!==void 0&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(f7>100)throw new Error("Cycle detected");this.v=t,this.i++,Mw++,Fh++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{dE()}}}}),pI.prototype=new Vo,pI.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Mw))return!0;if(this.g=Mw,this.f|=1,this.i>0&&!JEe(this))return this.f&=-2,!0;const t=vn;try{AX(this),vn=this;const e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return vn=t,e_e(this),this.f&=-2,!0},pI.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}Vo.prototype.S.call(this,t)},pI.prototype.U=function(t){if(this.t!==void 0&&(Vo.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}},pI.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;t!==void 0;t=t.x)t.t.N()}},Object.defineProperty(pI.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const t=fX(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),$I.prototype.c=function(){const t=this.S();try{if(8&this.f||this.x===void 0)return;const e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}},$I.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,t_e(this),AX(this),Fh++;const t=vn;return vn=this,dQe.bind(this,t)},$I.prototype.N=function(){2&this.f||(this.f|=2,this.o=Zv,Zv=this)},$I.prototype.d=function(){this.f|=8,1&this.f||U9(this)},$I.prototype.dispose=function(){this.d()};function qn(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function n_e(t,e){if(t&&e&&!Array.isArray(e)&&typeof t=="object"&&typeof e=="object"){const r=t,n=e;for(const i in n)r[i]=n_e(r[i],n[i]);return t}return e}const W9=0,A7=1,i_e=2,p5=3,Fb=4,mI=5,m5=6,W0=7;function v5(t){return t.id===W9}function s_e(t){return t.id===i_e}function hQe(t){return function(e){return e.id===A7}(t)||qn(305,String(t.id),String(A7)),Object.assign(t,{id:i_e})}const fQe=new Set;let AQe=class{constructor(e,r){ve(this,"builder");ve(this,"configs");ve(this,"_dependency");ve(this,"_peerNameSet");ve(this,"extension");ve(this,"state");ve(this,"_signal");this.builder=e,this.extension=r,this.configs=new Set,this.state={id:W9}}mergeConfigs(){let e=this.extension.config||{};const r=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):HXe;for(const n of this.configs)e=r(e,n);return e}init(e){const r=this.state;s_e(r)||qn(306,String(r.id));const n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...n,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},s=function(a,l,u){return Object.assign(a,{config:l,id:p5,registerState:u})}(r,this.mergeConfigs(),n);let o;this.state=s,this.extension.init&&(o=this.extension.init(e,s.config,n)),this.state=function(a,l,u){return Object.assign(a,{id:Fb,initResult:l,registerState:u})}(s,o,i)}build(e){const r=this.state;let n;r.id!==Fb&&qn(307,String(r.id),String(mI)),this.extension.build&&(n=this.extension.build(e,r.config,r.registerState));const i={...r.registerState,getOutput:()=>n,getSignal:this.getSignal.bind(this)};this.state=function(s,o,a){return Object.assign(s,{id:mI,output:o,registerState:a})}(r,n,i)}register(e,r){this._signal=r;const n=this.state;n.id!==mI&&qn(308,String(n.id),String(mI));const i=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=function(s){return Object.assign(s,{id:m5})}(n),()=>{const s=this.state;s.id!==W0&&qn(309,String(n.id),String(W0)),this.state=function(o){return Object.assign(o,{id:mI})}(s),i&&i()}}afterRegistration(e){const r=this.state;let n;return r.id!==m5&&qn(310,String(r.id),String(m5)),this.extension.afterRegistration&&(n=this.extension.afterRegistration(e,r.config,r.registerState)),this.state=function(i){return Object.assign(i,{id:W0})}(r),n}getSignal(){return this._signal===void 0&&qn(311),this._signal}getInitResult(){this.extension.init===void 0&&qn(312,this.extension.name);const e=this.state;return function(r){return r.id>=Fb}(e)||qn(313,String(e.id),String(Fb)),e.initResult}getInitPeer(e){const r=this.builder.extensionNameMap.get(e);return r?r.getExtensionInitDependency():void 0}getExtensionInitDependency(){const e=this.state;return function(r){return r.id>=p5}(e)||qn(314,String(e.id),String(p5)),{config:e.config}}getPeer(e){const r=this.builder.extensionNameMap.get(e);return r?r.getExtensionDependency():void 0}getInitDependency(e){const r=this.builder.getExtensionRep(e);return r===void 0&&qn(315,this.extension.name,e.name),r.getExtensionInitDependency()}getDependency(e){const r=this.builder.getExtensionRep(e);return r===void 0&&qn(315,this.extension.name,e.name),r.getExtensionDependency()}getState(){const e=this.state;return function(r){return r.id>=W0}(e)||qn(316,String(e.id),String(W0)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||fQe}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([r])=>r)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){const e=this.state;(function(r){return r.id>=mI})(e)||qn(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}};const CX={tag:TA};function CQe(){const t=Bi();t.isEmpty()&&t.append(qr())}const IQe={config:{setOptions:CX,updateOptions:CX},init:({$initialEditorState:t=CQe})=>({$initialEditorState:t,initialized:!1}),afterRegistration(t,{updateOptions:e,setOptions:r},n){const i=n.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:s}=i;if(CXe(s))t.setEditorState(s,r);else if(typeof s=="function")t.update(()=>{s(t)},e);else if(s&&(typeof s=="string"||typeof s=="object")){const o=t.parseEditorState(s);t.setEditorState(o,r)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[vm,xd,Cm,Im,ym]},IX=Symbol.for("@lexical/extension/LexicalBuilder");function pX(){}function pQe(t){throw t}function Lb(t){return Array.isArray(t)?t:[t]}const y5="0.37.0+prod.esm";let o_e=class Bw{constructor(e){ve(this,"roots");ve(this,"extensionNameMap");ve(this,"outgoingConfigEdges");ve(this,"incomingEdges");ve(this,"conflicts");ve(this,"_sortedExtensionReps");ve(this,"PACKAGE_VERSION");this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=y5,this.roots=e;for(const r of e)this.addExtension(r)}static fromExtensions(e){const r=[Lb(IQe)];for(const n of e)r.push(Lb(n));return new Bw(r)}static maybeFromEditor(e){const r=e[IX];return r&&(r.PACKAGE_VERSION!==y5&&qn(292,r.PACKAGE_VERSION,y5),r instanceof Bw||qn(293)),r}static fromEditor(e){const r=Bw.maybeFromEditor(e);return r===void 0&&qn(294),r}constructEditor(){const{$initialEditorState:e,onError:r,...n}=this.buildCreateEditorArgs(),i=Object.assign(CEe({...n,...r?{onError:s=>{r(s,i)}}:{}}),{[IX]:this});for(const s of this.sortedExtensionReps())s.build(i);return i}buildEditor(){let e=pX;function r(){try{e()}finally{e=pX}}const n=Object.assign(this.constructEditor(),{dispose:r,[Symbol.dispose]:r});return e=Hc(this.registerEditor(n),()=>n.setRootElement(null)),n}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){const r=this.extensionNameMap.get(e.name);if(r)return r.extension!==e&&qn(295,e.name),r}addEdge(e,r,n){const i=this.outgoingConfigEdges.get(e);i?i.set(r,n):this.outgoingConfigEdges.set(e,new Map([[r,n]]));const s=this.incomingEdges.get(r);s?s.add(e):this.incomingEdges.set(r,new Set([e]))}addExtension(e){this._sortedExtensionReps!==void 0&&qn(296);const r=Lb(e),[n]=r;typeof n.name!="string"&&qn(297,typeof n.name);let i=this.extensionNameMap.get(n.name);if(i!==void 0&&i.extension!==n&&qn(298,n.name),!i){i=new AQe(this,n),this.extensionNameMap.set(n.name,i);const s=this.conflicts.get(n.name);typeof s=="string"&&qn(299,n.name,s);for(const o of n.conflictsWith||[])this.extensionNameMap.has(o)&&qn(299,n.name,o),this.conflicts.set(o,n.name);for(const o of n.dependencies||[]){const a=Lb(o);this.addEdge(n.name,a[0].name,a.slice(1)),this.addExtension(a)}for(const[o,a]of n.peerDependencies||[])this.addEdge(n.name,o,a?[a]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const e=[],r=(n,i)=>{let s=n.state;if(s_e(s))return;const o=n.extension.name;var a;v5(s)||qn(300,o,i||"[unknown]"),v5(a=s)||qn(304,String(a.id),String(W9)),s=Object.assign(a,{id:A7}),n.state=s;const l=this.outgoingConfigEdges.get(o);if(l)for(const u of l.keys()){const g=this.extensionNameMap.get(u);g&&r(g,o)}s=hQe(s),n.state=s,e.push(n)};for(const n of this.extensionNameMap.values())v5(n.state)&&r(n);for(const n of e)for(const[i,s]of this.outgoingConfigEdges.get(n.extension.name)||[])if(s.length>0){const o=this.extensionNameMap.get(i);if(o)for(const a of s)o.configs.add(a)}for(const[n,...i]of this.roots)if(i.length>0){const s=this.extensionNameMap.get(n.name);s===void 0&&qn(301,n.name);for(const o of i)s.configs.add(o)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){const r=this.sortedExtensionReps(),n=new AbortController,i=[()=>n.abort()],s=n.signal;for(const o of r){const a=o.register(e,s);a&&i.push(a)}for(const o of r){const a=o.afterRegistration(e);a&&i.push(a)}return Hc(...i)}buildCreateEditorArgs(){const e={},r=new Set,n=new Map,i=new Map,s={},o={},a=this.sortedExtensionReps();for(const g of a){const{extension:d}=g;if(d.onError!==void 0&&(e.onError=d.onError),d.disableEvents!==void 0&&(e.disableEvents=d.disableEvents),d.parentEditor!==void 0&&(e.parentEditor=d.parentEditor),d.editable!==void 0&&(e.editable=d.editable),d.namespace!==void 0&&(e.namespace=d.namespace),d.$initialEditorState!==void 0&&(e.$initialEditorState=d.$initialEditorState),d.nodes)for(const f of d.nodes){if(typeof f!="function"){const h=n.get(f.replace);h&&qn(302,d.name,f.replace.name,h.extension.name),n.set(f.replace,g)}r.add(f)}if(d.html){if(d.html.export)for(const[f,h]of d.html.export.entries())i.set(f,h);d.html.import&&Object.assign(s,d.html.import)}d.theme&&n_e(o,d.theme)}Object.keys(o).length>0&&(e.theme=o),r.size&&(e.nodes=[...r]);const l=Object.keys(s).length>0,u=i.size>0;(l||u)&&(e.html={},l&&(e.html.import=s),u&&(e.html.export=i));for(const g of a)g.init(e);return e.onError||(e.onError=pQe),e}};function mQe(t,e){const r=o_e.fromEditor(t).extensionNameMap.get(e);return r?r.getExtensionDependency():void 0}const vQe={name:"@lexical/react/ReactProvider"};function yQe(){return Bi().getTextContent()}function xQe(t,e=!0){if(t)return!1;let r=yQe();return e&&(r=r.trim()),r===""}function bQe(t){if(!xQe(t,!1))return!1;const e=Bi().getChildren(),r=e.length;if(r>1)return!1;for(let n=0;n<r;n++){const i=e[n];if(dn(i))return!1;if(We(i)){if(!xm(i)||i.__indent!==0)return!1;const s=i.getChildren(),o=s.length;for(let a=0;a<o;a++){const l=s[n];if(!Rt(l))return!1}}}return!0}function a_e(t){return()=>bQe(t)}function wQe(t){const e=window.location.origin,r=n=>{if(n.origin!==e)return;const i=t.getRootElement();if(document.activeElement!==i)return;const s=n.data;if(typeof s=="string"){let o;try{o=JSON.parse(s)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"){const a=o.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[u,g,d,f,h]=l;t.update(()=>{const A=pt();if(nt(A)){const C=A.anchor;let I=C.getNode(),p=0,m=0;if(Rt(I)&&u>=0&&g>=0&&(p=u,m=u+g,A.setTextNodeRange(I,p,I,m)),p===m&&d===""||(A.insertRawText(d),I=C.getNode()),Rt(I)){p=f,m=f+h;const v=I.getTextContentSize();p=p>v?v:p,m=m>v?v:m,A.setTextNodeRange(I,p,I,m)}n.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}function SQe(t,e){const r=mEe(e)?e.body.childNodes:e.childNodes;let n=[];const i=[];for(const s of r)if(!c_e.has(s.nodeName)){const o=u_e(s,t,i,!1);o!==null&&(n=n.concat(o))}return function(s){for(const o of s)o.getNextSibling()instanceof E9&&o.insertAfter(fd());for(const o of s){const a=o.getChildren();for(const l of a)o.insertBefore(l);o.remove()}}(i),n}function EQe(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),n=Bi().getChildren();for(let i=0;i<n.length;i++)l_e(t,n[i],r,e);return r.innerHTML}function l_e(t,e,r,n=null){let i=n===null||e.isSelected(n);const s=We(e)&&e.excludeFromCopy("html");let o=e;n!==null&&Rt(e)&&(o=qEe(n,e,"clone"));const a=We(o)?o.getChildren():[],l=T9(t,o.getType());let u;u=l&&l.exportDOM!==void 0?l.exportDOM(t,o):o.exportDOM(t);const{element:g,after:d}=u;if(!g)return!1;const f=document.createDocumentFragment();for(let h=0;h<a.length;h++){const A=a[h],C=l_e(t,A,f,n);!i&&We(e)&&C&&e.extractWithChild(A,n,"html")&&(i=!0)}if(i&&!s){if((ui(g)||g7(g))&&g.append(f),r.append(g),d){const h=d.call(o,g);h&&(g7(g)?g.replaceChildren(h):g.replaceWith(h))}}else r.append(f);return i}const c_e=new Set(["STYLE","SCRIPT"]);function u_e(t,e,r,n,i=new Map,s){let o=[];if(c_e.has(t.nodeName))return o;let a=null;const l=function(A,C){const{nodeName:I}=A,p=C._htmlConversions.get(I.toLowerCase());let m=null;if(p!==void 0)for(const v of p){const y=v(A);y!==null&&(m===null||(m.priority||0)<=(y.priority||0))&&(m=y)}return m!==null?m.conversion:null}(t,e),u=l?l(t):null;let g=null;if(u!==null){g=u.after;const A=u.node;if(a=Array.isArray(A)?A[A.length-1]:A,a!==null){for(const[,C]of i)if(a=C(a,s),!a)break;a&&o.push(...Array.isArray(A)?A:[a])}u.forChild!=null&&i.set(t.nodeName,u.forChild)}const d=t.childNodes;let f=[];const h=(a==null||!Ea(a))&&(a!=null&&o7(a)||n);for(let A=0;A<d.length;A++)f.push(...u_e(d[A],e,r,h,new Map(i),a));return g!=null&&(f=g(f)),$2(t)&&(f=_Qe(t,f,h?()=>{const A=new E9;return r.push(A),A}:qr)),a==null?f.length>0?o=o.concat(f):$2(t)&&function(A){return A.nextSibling==null||A.previousSibling==null?!1:d7(A.nextSibling)&&d7(A.previousSibling)}(t)&&(o=o.concat(fd())):We(a)&&a.append(...f),o}function _Qe(t,e,r){const n=t.style.textAlign,i=[];let s=[];for(let o=0;o<e.length;o++){const a=e[o];if(o7(a))n&&!a.getFormat()&&a.setFormat(n),i.push(a);else if(s.push(a),o===e.length-1||o<e.length-1&&o7(e[o+1])){const l=r();l.setFormat(n),l.append(...s),i.push(l),s=[]}}return i}function q2(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function TQe(t,e=pt()){return e==null&&q2(166),nt(e)&&e.isCollapsed()||e.getNodes().length===0?"":EQe(t,e)}function RQe(t,e=pt()){return e==null&&q2(166),nt(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(NQe(t,e))}function mX(t,e,r){const n=t.getData("application/x-lexical-editor");if(n)try{const a=JSON.parse(n);if(a.namespace===r._config.namespace&&Array.isArray(a.nodes))return vX(r,OQe(a.nodes),e)}catch{}const i=t.getData("text/html"),s=t.getData("text/plain");if(i&&s!==i)try{const a=new DOMParser().parseFromString(function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(l):l}(i),"text/html");return vX(r,SQe(r,a),e)}catch{}const o=s||t.getData("text/uri-list");if(o!=null)if(nt(e)){const a=o.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){const u=pt();if(nt(u)){const g=a[l];g===`
`||g===`\r
`?u.insertParagraph():g==="	"?u.insertNodes([pm()]):u.insertText(g)}}}else e.insertRawText(o)}function vX(t,e,r){t.dispatchCommand(h9,{nodes:e,selection:r})||(r.insertNodes(e),function(n){if(nt(n)&&n.isCollapsed()){const i=n.anchor;let s=null;const o=Vc(i,"previous");if(o)if(Bu(o))s=o.origin;else{const a=nf(o,la(Bi(),"next").getFlipped());for(const l of a){if(Rt(l.origin)){s=l.origin;break}if(We(l.origin)&&!l.origin.isInline())break}}if(s&&Rt(s)){const a=s.getFormat(),l=s.getStyle();n.format===a&&n.style===l||(n.format=a,n.style=l,n.dirty=!0)}}}(r))}function g_e(t,e,r,n=[]){let i=e===null||r.isSelected(e);const s=We(r)&&r.excludeFromCopy("html");let o=r;e!==null&&Rt(o)&&(o=qEe(e,o,"clone"));const a=We(o)?o.getChildren():[],l=function(u){const g=u.exportJSON(),d=u.constructor;if(g.type!==d.getType()&&q2(58,d.name),We(u)){const f=g.children;Array.isArray(f)||q2(59,d.name)}return g}(o);Rt(o)&&o.getTextContentSize()===0&&(i=!1);for(let u=0;u<a.length;u++){const g=a[u],d=g_e(t,e,g,l.children);!i&&We(r)&&d&&r.extractWithChild(g,e,"clone")&&(i=!0)}if(i&&!s)n.push(l);else if(Array.isArray(l.children))for(let u=0;u<l.children.length;u++){const g=l.children[u];n.push(g)}return i}function NQe(t,e){const r=[],n=Bi().getChildren();for(let i=0;i<n.length;i++)g_e(t,e,n[i],r);return{namespace:t._config.namespace,nodes:r}}function OQe(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r],i=AXe(n);Rt(i)&&JXe(i),e.push(i)}return e}let vI=null;async function C7(t,e,r){if(vI!==null)return!1;if(e!==null)return new Promise((u,g)=>{t.update(()=>{u(yX(t,e,r))})});const n=t.getRootElement(),i=t._window||window,s=i.document,o=aa(i);if(n===null||o===null)return!1;const a=s.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(s.createTextNode("#")),n.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),o.removeAllRanges(),o.addRange(l),new Promise((u,g)=>{const d=t.registerCommand(tE,f=>(Gg(f,ClipboardEvent)&&(d(),vI!==null&&(i.clearTimeout(vI),vI=null),u(yX(t,f,r))),!0),xc);vI=i.setTimeout(()=>{d(),vI=null,u(!1)},50),s.execCommand("copy"),a.remove()})}function yX(t,e,r){if(r===void 0){const i=aa(t._window),s=pt();if(!s||s.isCollapsed()||!i)return!1;const o=i.anchorNode,a=i.focusNode;if(o!==null&&a!==null&&!_1(t,o,a))return!1;r=h_e(s)}e.preventDefault();const n=e.clipboardData;return n!==null&&(jQe(n,r),!0)}const d_e=[["text/html",TQe],["application/x-lexical-editor",RQe]];function h_e(t=pt()){const e={"text/plain":t?t.getTextContent():""};if(t){const r=bm();for(const[n,i]of d_e){const s=i(r,t);s!==null&&(e[n]=s)}}return e}function jQe(t,e){for(const[r]of d_e)e[r]===void 0&&t.setData(r,"");for(const r in e){const n=e[r];n!==void 0&&t.setData(r,n)}}function xX(t,e){if(document.caretRangeFromPoint!==void 0){const r=document.caretRangeFromPoint(t,e);return r===null?null:{node:r.startContainer,offset:r.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const r=document.caretPositionFromPoint(t,e);return r===null?null:{node:r.offsetNode,offset:r.offset}}return null}const _C=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,PQe=_C&&"documentMode"in document?document.documentMode:null,kQe=_C&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),DQe=!(!_C||!("InputEvent"in window)||PQe)&&"getTargetRanges"in new window.InputEvent("input"),FQe=_C&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),bX=_C&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,LQe=_C&&/^(?=.*Chrome).*/i.test(navigator.userAgent),MQe=_C&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&kQe&&!LQe,wX=dr("DRAG_DROP_PASTE_FILE");let f_e=class A_e extends $o{static getType(){return"quote"}static clone(e){return new A_e(e.__key)}createDOM(e){const r=document.createElement("blockquote");return Ts(r,e.theme.quote),r}updateDOM(e,r){return!1}static importDOM(){return{blockquote:e=>({conversion:BQe,priority:0})}}exportDOM(e){const{element:r}=super.exportDOM(e);if(ui(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();n&&(r.style.textAlign=n);const i=this.getDirection();i&&(r.dir=i)}return{element:r}}static importJSON(e){return C_e().updateFromJSON(e)}insertNewAfter(e,r){const n=qr(),i=this.getDirection();return n.setDirection(i),this.insertAfter(n,r),n}collapseAtStart(){const e=qr();return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}canMergeWhenEmpty(){return!0}};function C_e(){return Fa(new f_e)}let G9=class I_e extends $o{constructor(r,n){super(n);ve(this,"__tag");this.__tag=r}static getType(){return"heading"}static clone(r){return new I_e(r.__tag,r.__key)}getTag(){return this.__tag}setTag(r){const n=this.getWritable();return this.__tag=r,n}createDOM(r){const n=this.__tag,i=document.createElement(n),s=r.theme.heading;if(s!==void 0){const o=s[n];Ts(i,o)}return i}updateDOM(r,n,i){return r.__tag!==this.__tag}static importDOM(){return{h1:r=>({conversion:yI,priority:0}),h2:r=>({conversion:yI,priority:0}),h3:r=>({conversion:yI,priority:0}),h4:r=>({conversion:yI,priority:0}),h5:r=>({conversion:yI,priority:0}),h6:r=>({conversion:yI,priority:0}),p:r=>{const n=r.firstChild;return n!==null&&SX(n)?{conversion:()=>({node:null}),priority:3}:null},span:r=>SX(r)?{conversion:n=>({node:HI("h1")}),priority:3}:null}}exportDOM(r){const{element:n}=super.exportDOM(r);if(ui(n)){this.isEmpty()&&n.append(document.createElement("br"));const i=this.getFormatType();i&&(n.style.textAlign=i);const s=this.getDirection();s&&(n.dir=s)}return{element:n}}static importJSON(r){return HI(r.tag).updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setTag(r.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(r,n=!0){const i=r?r.anchor.offset:0,s=this.getLastDescendant(),o=!s||r&&r.anchor.key===s.getKey()&&i===s.getTextContentSize()||!r?qr():HI(this.getTag()),a=this.getDirection();if(o.setDirection(a),this.insertAfter(o,n),i===0&&!this.isEmpty()&&r){const l=qr();l.select(),this.replace(l,!0)}return o}collapseAtStart(){const r=this.isEmpty()?qr():HI(this.getTag());return this.getChildren().forEach(n=>r.append(n)),this.replace(r),!0}extractWithChild(){return!0}};function SX(t){return t.nodeName.toLowerCase()==="span"&&t.style.fontSize==="26pt"}function yI(t){const e=t.nodeName.toLowerCase();let r=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(r=HI(e),t.style!==null&&(F9(t,r),r.setFormat(t.style.textAlign))),{node:r}}function BQe(t){const e=C_e();return t.style!==null&&(e.setFormat(t.style.textAlign),F9(t,e)),{node:e}}function HI(t="h1"){return Fa(new G9(t))}function $Qe(t){return t instanceof G9}function Mb(t){let e=null;if(Gg(t,DragEvent)?e=t.dataTransfer:Gg(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const r=e.types,n=r.includes("Files"),i=r.includes("text/html")||r.includes("text/plain");return[n,Array.from(e.files),i]}function EX(t){const e=pt();if(!nt(e))return!1;const r=new Set,n=e.getNodes();for(let i=0;i<n.length;i++){const s=n[i],o=s.getKey();if(r.has(o))continue;const a=Nr(s,u=>We(u)&&!u.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!r.has(l)&&(r.add(l),t(a))}return r.size>0}function _X(t){const e=Oa(t);return dn(e)}function x5(t){for(const e of["lowercase","uppercase","capitalize"])t.hasFormat(e)&&t.toggleFormat(e)}function qQe(t){return Hc(t.registerCommand(f9,e=>{const r=pt();return!!Zo(r)&&(r.clear(),!0)},Ur),t.registerCommand(Ph,e=>{const r=pt();return nt(r)?(r.deleteCharacter(e),!0):!!Zo(r)&&(r.deleteNodes(),!0)},Ur),t.registerCommand(Up,e=>{const r=pt();return!!nt(r)&&(r.deleteWord(e),!0)},Ur),t.registerCommand(eC,e=>{const r=pt();return!!nt(r)&&(r.deleteLine(e),!0)},Ur),t.registerCommand(_A,e=>{const r=pt();if(typeof e=="string")r!==null&&r.insertText(e);else{if(r===null)return!1;const n=e.dataTransfer;if(n!=null)mX(n,r,t);else if(nt(r)){const i=e.data;return i&&r.insertText(i),!0}}return!0},Ur),t.registerCommand(Xz,()=>{const e=pt();return!!nt(e)&&(e.removeText(),!0)},Ur),t.registerCommand(Pu,e=>{const r=pt();return!!nt(r)&&(r.formatText(e),!0)},Ur),t.registerCommand(WSe,e=>{const r=pt();if(!nt(r)&&!Zo(r))return!1;const n=r.getNodes();for(const i of n){const s=Nr(i,o=>We(o)&&!o.isInline());s!==null&&s.setFormat(e)}return!0},Ur),t.registerCommand(hp,e=>{const r=pt();return!!nt(r)&&(r.insertLineBreak(e),!0)},Ur),t.registerCommand(JA,()=>{const e=pt();return!!nt(e)&&(e.insertParagraph(),!0)},Ur),t.registerCommand(zZe,()=>(dXe([pm()]),!0),Ur),t.registerCommand(UZe,()=>EX(e=>{const r=e.getIndent();e.setIndent(r+1)}),Ur),t.registerCommand(SZ,()=>EX(e=>{const r=e.getIndent();r>0&&e.setIndent(Math.max(0,r-1))}),Ur),t.registerCommand(I9,e=>{const r=pt();if(Zo(r)){const n=r.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}else if(nt(r)){const n=l7(r.focus,!0);if(!e.shiftKey&&dn(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1},Ur),t.registerCommand(p9,e=>{const r=pt();if(Zo(r)){const n=r.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}else if(nt(r)){if(function(i){const s=i.focus;return s.key==="root"&&s.offset===Bi().getChildrenSize()}(r))return e.preventDefault(),!0;const n=l7(r.focus,!1);if(!e.shiftKey&&dn(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},Ur),t.registerCommand(C9,e=>{const r=pt();if(Zo(r)){const n=r.getNodes();if(n.length>0)return e.preventDefault(),cX(n[0])?n[0].selectNext(0,0):n[0].selectPrevious(),!0}if(!nt(r))return!1;if(gX(r,!0)){const n=e.shiftKey;return e.preventDefault(),dX(r,n,!0),!0}return!1},Ur),t.registerCommand(A9,e=>{const r=pt();if(Zo(r)){const i=r.getNodes();if(i.length>0)return e.preventDefault(),cX(i[0])?i[0].selectPrevious():i[0].selectNext(0,0),!0}if(!nt(r))return!1;const n=e.shiftKey;return!!gX(r,!1)&&(e.preventDefault(),dX(r,n,!1),!0)},Ur),t.registerCommand(m9,e=>{if(_X(e.target))return!1;const r=pt();if(nt(r)){if(function(n){if(!n.isCollapsed())return!1;const{anchor:i}=n;if(i.offset!==0)return!1;const s=i.getNode();if(Xi(s))return!1;const o=iQe(s);return o.getIndent()>0&&(o.is(s)||s.is(o.getFirstDescendant()))}(r))return e.preventDefault(),t.dispatchCommand(SZ,void 0);if(bX&&navigator.language==="ko-KR")return!1}else if(!Zo(r))return!1;return e.preventDefault(),t.dispatchCommand(Ph,!0)},Ur),t.registerCommand(y9,e=>{if(_X(e.target))return!1;const r=pt();return!(!nt(r)&&!Zo(r))&&(e.preventDefault(),t.dispatchCommand(Ph,!1))},Ur),t.registerCommand(P2,e=>{const r=pt();if(!nt(r))return!1;if(x5(r),e!==null){if((bX||FQe||MQe)&&DQe)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(hp,!1)}return t.dispatchCommand(JA,void 0)},Ur),t.registerCommand(v9,()=>{const e=pt();return!!nt(e)&&(t.blur(),!0)},Ur),t.registerCommand(USe,e=>{const[,r]=Mb(e);if(r.length>0){const i=xX(e.clientX,e.clientY);if(i!==null){const{offset:s,node:o}=i,a=Oa(o);if(a!==null){const l=sE();if(Rt(a))l.anchor.set(a.getKey(),s,"text"),l.focus.set(a.getKey(),s,"text");else{const g=a.getParentOrThrow().getKey(),d=a.getIndexWithinParent()+1;l.anchor.set(g,d,"element"),l.focus.set(g,d,"element")}const u=ZA(l);fi(u)}t.dispatchCommand(wX,r)}return e.preventDefault(),!0}const n=pt();return!!nt(n)},Ur),t.registerCommand(GSe,e=>{const[r]=Mb(e),n=pt();return!(r&&!nt(n))},Ur),t.registerCommand(VSe,e=>{const[r]=Mb(e),n=pt();if(r&&!nt(n))return!1;const i=xX(e.clientX,e.clientY);if(i!==null){const s=Oa(i.node);dn(s)&&e.preventDefault()}return!0},Ur),t.registerCommand(Qz,()=>(yXe(),!0),Ur),t.registerCommand(tE,e=>(C7(t,Gg(e,ClipboardEvent)?e:null),!0),Ur),t.registerCommand(rE,e=>(async function(r,n){await C7(n,Gg(r,ClipboardEvent)?r:null),n.update(()=>{const i=pt();nt(i)?i.removeText():Zo(i)&&i.getNodes().forEach(s=>s.remove())})}(e,t),!0),Ur),t.registerCommand(QS,e=>{const[,r,n]=Mb(e);return r.length>0&&!n?(t.dispatchCommand(wX,r),!0):Pc(e.target)&&R9(e.target)?!1:pt()!==null&&(function(i,s){i.preventDefault(),s.update(()=>{const o=pt(),a=Gg(i,InputEvent)||Gg(i,KeyboardEvent)?null:i.clipboardData;a!=null&&o!==null&&mX(a,o,s)},{tag:XZe})}(e,t),!0)},Ur),t.registerCommand(zSe,e=>{const r=pt();return nt(r)&&x5(r),!1},Ur),t.registerCommand(x9,e=>{const r=pt();return nt(r)&&x5(r),!1},Ur))}function zQe(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const V9=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function UQe({editor:t,ErrorBoundary:e}){return function(r,n){const[i,s]=D.useState(()=>r.getDecorators());return V9(()=>r.registerDecoratorListener(o=>{ly.flushSync(()=>{s(o)})}),[r]),D.useEffect(()=>{s(r.getDecorators())},[r]),D.useMemo(()=>{const o=[],a=Object.keys(i);for(let l=0;l<a.length;l++){const u=a[l],g=c.jsx(n,{onError:f=>r._onError(f),children:c.jsx(D.Suspense,{fallback:null,children:i[u]})}),d=r.getElementByKey(u);d!==null&&o.push(ly.createPortal(g,d,u))}return o},[n,i,r])}(t,e)}function WQe({editor:t,ErrorBoundary:e}){return function(r){const n=o_e.maybeFromEditor(r);if(n&&n.hasExtensionByName(vQe.name)){for(const i of["@lexical/plain-text","@lexical/rich-text"])n.hasExtensionByName(i)&&zQe(320,i);return!0}return!1}(t)?null:c.jsx(UQe,{editor:t,ErrorBoundary:e})}function TX(t){return t.getEditorState().read(a_e(t.isComposing()))}function GQe({contentEditable:t,placeholder:e=null,ErrorBoundary:r}){const[n]=vl();return function(i){V9(()=>Hc(qQe(i),wQe(i)),[i])}(n),c.jsxs(c.Fragment,{children:[t,c.jsx(VQe,{content:e}),c.jsx(WQe,{editor:n,ErrorBoundary:r})]})}function VQe({content:t}){const[e]=vl(),r=function(i){const[s,o]=D.useState(()=>TX(i));return V9(()=>{function a(){const l=TX(i);o(l)}return a(),Hc(i.registerUpdateListener(()=>{a()}),i.registerEditableListener(()=>{a()}))},[i]),s}(e),n=QXe();return r?typeof t=="function"?t(n):t:null}const p_e=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function HQe({editor:t,ariaActiveDescendant:e,ariaAutoComplete:r,ariaControls:n,ariaDescribedBy:i,ariaErrorMessage:s,ariaExpanded:o,ariaInvalid:a,ariaLabel:l,ariaLabelledBy:u,ariaMultiline:g,ariaOwns:d,ariaRequired:f,autoCapitalize:h,className:A,id:C,role:I="textbox",spellCheck:p=!0,style:m,tabIndex:v,"data-testid":y,...x},T){const[E,_]=D.useState(t.isEditable()),S=D.useCallback(w=>{w&&w.ownerDocument&&w.ownerDocument.defaultView?t.setRootElement(w):t.setRootElement(null)},[t]),j=D.useMemo(()=>function(...w){return R=>{for(const N of w)typeof N=="function"?N(R):N!=null&&(N.current=R)}}(T,S),[S,T]);return p_e(()=>(_(t.isEditable()),t.registerEditableListener(w=>{_(w)})),[t]),c.jsx("div",{"aria-activedescendant":E?e:void 0,"aria-autocomplete":E?r:"none","aria-controls":E?n:void 0,"aria-describedby":i,...s!=null?{"aria-errormessage":s}:{},"aria-expanded":E&&I==="combobox"?!!o:void 0,...a!=null?{"aria-invalid":a}:{},"aria-label":l,"aria-labelledby":u,"aria-multiline":g,"aria-owns":E?d:void 0,"aria-readonly":!E||void 0,"aria-required":f,autoCapitalize:h,className:A,contentEditable:E,"data-testid":y,id:C,ref:j,role:I,spellCheck:p,style:m,tabIndex:v,...x})}const KQe=D.forwardRef(HQe);function RX(t){return t.getEditorState().read(a_e(t.isComposing()))}const YQe=D.forwardRef(ZQe);function ZQe(t,e){const{placeholder:r,...n}=t,[i]=vl();return c.jsxs(c.Fragment,{children:[c.jsx(KQe,{editor:i,...n,ref:e}),r!=null&&c.jsx(XQe,{editor:i,content:r})]})}function XQe({content:t,editor:e}){const r=function(o){const[a,l]=D.useState(()=>RX(o));return p_e(()=>{function u(){const g=RX(o);l(g)}return u(),Hc(o.registerUpdateListener(()=>{u()}),o.registerEditableListener(()=>{u()}))},[o]),a}(e),[n,i]=D.useState(e.isEditable());if(D.useLayoutEffect(()=>(i(e.isEditable()),e.registerEditableListener(o=>{i(o)})),[e]),!r)return null;let s=null;return typeof t=="function"?s=t(n):t!==null&&(s=t),s===null?null:c.jsx("div",{"aria-hidden":!0,children:s})}function QQe(t,e,r,n,i){if(t===null||r.size===0&&n.size===0&&!i)return 0;const s=e._selection,o=t._selection;if(i)return 1;if(!(nt(s)&&nt(o)&&o.isCollapsed()&&s.isCollapsed()))return 0;const a=function(p,m,v){const y=p._nodeMap,x=[];for(const T of m){const E=y.get(T);E!==void 0&&x.push(E)}for(const[T,E]of v){if(!E)continue;const _=y.get(T);_===void 0||Xi(_)||x.push(_)}return x}(e,r,n);if(a.length===0)return 0;if(a.length>1){const p=e._nodeMap,m=p.get(s.anchor.key),v=p.get(o.anchor.key);return m&&v&&!t._nodeMap.has(m.__key)&&Rt(m)&&m.__text.length===1&&s.anchor.offset===1?2:0}const l=a[0],u=t._nodeMap.get(l.__key);if(!Rt(u)||!Rt(l)||u.__mode!==l.__mode)return 0;const g=u.__text,d=l.__text;if(g===d)return 0;const f=s.anchor,h=o.anchor;if(f.key!==h.key||f.type!=="text")return 0;const A=f.offset,C=h.offset,I=d.length-g.length;return I===1&&C===A-1?2:I===-1&&C===A+1?3:I===-1&&C===A?4:0}function JQe(t,e){let r=Date.now(),n=0;return(i,s,o,a,l,u)=>{const g=Date.now();if(u.has(i7))return n=0,r=g,2;const d=QQe(i,s,a,l,t.isComposing()),f=(()=>{const h=o===null||o.editor===t,A=u.has(ZZe);if(!A&&h&&u.has(TA))return 0;if(i===null)return 1;const C=s._selection;if(!(a.size>0||l.size>0))return C!==null?0:2;const I=typeof e=="number"?e:e.peek();return A===!1&&d!==0&&d===n&&g<r+I&&h||a.size===1&&function(p,m,v){const y=m._nodeMap.get(p),x=v._nodeMap.get(p),T=m._selection,E=v._selection;return!(nt(T)&&nt(E)&&T.anchor.type==="element"&&T.focus.type==="element"&&E.anchor.type==="text"&&E.focus.type==="text"||!Rt(y)||!Rt(x)||y.__parent!==x.__parent)&&JSON.stringify(m.read(()=>y.exportJSON()))===JSON.stringify(v.read(()=>x.exportJSON()))}(Array.from(a)[0],i,s)?0:1})();return r=g,n=d,f}}function NX(t){t.undoStack=[],t.redoStack=[],t.current=null}function m_e(t,e,r){const n=JQe(t,r);return Hc(t.registerCommand(JS,()=>(function(s,o){const a=o.redoStack,l=o.undoStack;if(l.length!==0){const u=o.current,g=l.pop();u!==null&&(a.push(u),s.dispatchCommand(Cv,!0)),l.length===0&&s.dispatchCommand(Iv,!1),o.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:i7})}}(t,e),!0),Ur),t.registerCommand(eE,()=>(function(s,o){const a=o.redoStack,l=o.undoStack;if(a.length!==0){const u=o.current;u!==null&&(l.push(u),s.dispatchCommand(Iv,!0));const g=a.pop();a.length===0&&s.dispatchCommand(Cv,!1),o.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:i7})}}(t,e),!0),Ur),t.registerCommand(GZe,()=>(NX(e),!1),Ur),t.registerCommand(VZe,()=>(NX(e),t.dispatchCommand(Cv,!1),t.dispatchCommand(Iv,!1),!0),Ur),t.registerUpdateListener(({editorState:s,prevEditorState:o,dirtyLeaves:a,dirtyElements:l,tags:u})=>{const g=e.current,d=e.redoStack,f=e.undoStack,h=g===null?null:g.editorState;if(g!==null&&s===h)return;const A=n(o,s,g,a,l,u);if(A===1)d.length!==0&&(e.redoStack=[],t.dispatchCommand(Cv,!1)),g!==null&&(f.push({...g}),t.dispatchCommand(Iv,!0));else if(A===2)return;e.current={editor:t,editorState:s}}))}function v_e(){return{current:null,redoStack:[],undoStack:[]}}const b5={build:(t,{delay:e,createInitialHistoryState:r,disabled:n})=>r_e({delay:e,disabled:n,historyState:r(t)}),config:{createInitialHistoryState:v_e,delay:300,disabled:typeof window>"u"},name:"@lexical/history/History",register:(t,e,r)=>{const n=r.getOutput();return Py(()=>n.disabled.value?void 0:m_e(t,n.historyState.value,n.delay))}};VXe(b5,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0});function eJe({delay:t,externalHistoryState:e}){const[r]=vl();return function(n,i,s=1e3){const o=D.useMemo(()=>i||v_e(),[i]);D.useEffect(()=>m_e(n,o,s),[s,n,o])}(r,e,t),null}function tJe({defaultSelection:t}){const[e]=vl();return D.useEffect(()=>{e.focus(()=>{const r=document.activeElement,n=e.getRootElement();n===null||r!==null&&n.contains(r)||n.focus({preventScroll:!0})},{defaultSelection:t})},[t,e]),null}function Eh(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function I7(t){let e=1,r=t.getParent();for(;r!=null;){if(yn(r)){const n=r.getParent();if($r(n)){e++,r=n.getParent();continue}Eh(40)}return e}return e}function p7(t){let e=t.getParent();$r(e)||Eh(40);let r=e;for(;r!==null;)r=r.getParent(),$r(r)&&(e=r);return e}function y_e(t){let e=[];const r=t.getChildren().filter(yn);for(let n=0;n<r.length;n++){const i=r[n],s=i.getFirstChild();$r(s)?e=e.concat(y_e(s)):e.push(i)}return e}function Nu(t){return yn(t)&&$r(t.getFirstChild())}function OX(t){return ec().append(t)}function x_e(t,e){return yn(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function jX(t){const e=pt();if(e!==null){let r=e.getNodes();if(nt(e)){const i=e.getStartEndPoints();i===null&&Eh(143);const[s]=i,o=s.getNode(),a=o.getParent();if(Ea(o)){const l=o.getFirstChild();if(l)r=l.selectStart().getNodes();else{const u=qr();o.append(u),r=u.select().getNodes()}}else if(x_e(o,r)){const l=fl(t);if(Ea(a)){o.replace(l);const u=ec();We(o)&&(u.setFormat(o.getFormatType()),u.setIndent(o.getIndent())),l.append(u)}else if(yn(o)){const u=o.getParentOrThrow();oC(l,u.getChildren()),u.replace(l)}return}}const n=new Set;for(let i=0;i<r.length;i++){const s=r[i];if(We(s)&&s.isEmpty()&&!yn(s)&&!n.has(s.getKey())){PX(s,t);continue}let o=vEe(s)?s.getParent():yn(s)&&s.isEmpty()?s:null;for(;o!=null;){const a=o.getKey();if($r(o)){if(!n.has(a)){const l=fl(t);oC(l,o.getChildren()),o.replace(l),n.add(a)}break}{const l=o.getParent();if(Ea(l)&&!n.has(a)){n.add(a),PX(o,t);break}o=l}}}}}function oC(t,e){t.splice(t.getChildrenSize(),0,e)}function PX(t,e){if($r(t))return t;const r=t.getPreviousSibling(),n=t.getNextSibling(),i=ec();let s;if(oC(i,t.getChildren()),$r(r)&&e===r.getListType())r.append(i),$r(n)&&e===n.getListType()&&(oC(r,n.getChildren()),n.remove()),s=r;else if($r(n)&&e===n.getListType())n.getFirstChildOrThrow().insertBefore(i),s=n;else{const o=fl(e);o.append(i),t.replace(o),s=o}return i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),t.remove(),s}function H9(t,e){const r=t.getLastChild(),n=e.getFirstChild();r&&n&&Nu(r)&&Nu(n)&&(H9(r.getFirstChild(),n.getFirstChild()),n.remove());const i=e.getChildren();i.length>0&&t.append(...i),e.remove()}function rJe(){const t=pt();if(nt(t)){const e=new Set,r=t.getNodes(),n=t.anchor.getNode();if(x_e(n,r))e.add(p7(n));else for(let i=0;i<r.length;i++){const s=r[i];if(vEe(s)){const o=KEe(s,wm);o!=null&&e.add(p7(o))}}for(const i of e){let s=i;const o=y_e(i);for(const a of o){const l=qr().setTextStyle(t.style).setTextFormat(t.format);oC(l,a.getChildren()),s.insertAfter(l),s=l,a.__key===t.anchor.key&&kc(t.anchor,na(la(l,"next"))),a.__key===t.focus.key&&kc(t.focus,na(la(l,"next"))),a.remove()}i.remove()}}}function b_e(t){const e=t.getListType()!=="check";let r=t.getStart();for(const n of t.getChildren())yn(n)&&(n.getValue()!==r&&n.setValue(r),e&&n.getLatest().__checked!=null&&n.setChecked(void 0),$r(n.getFirstChild())||r++)}function nJe(t){const e=new Set;if(Nu(t)||e.has(t.getKey()))return;const r=t.getParent(),n=t.getNextSibling(),i=t.getPreviousSibling();if(Nu(n)&&Nu(i)){const s=i.getFirstChild();if($r(s)){s.append(t);const o=n.getFirstChild();$r(o)&&(oC(s,o.getChildren()),n.remove(),e.add(n.getKey()))}}else if(Nu(n)){const s=n.getFirstChild();if($r(s)){const o=s.getFirstChild();o!==null&&o.insertBefore(t)}}else if(Nu(i)){const s=i.getFirstChild();$r(s)&&s.append(t)}else if($r(r)){const s=ec().setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle()),o=fl(r.getListType()).setTextFormat(r.getTextFormat()).setTextStyle(r.getTextStyle());s.append(o),o.append(t),i?i.insertAfter(s):n?n.insertBefore(s):r.append(s)}}function iJe(t){if(Nu(t))return;const e=t.getParent(),r=e?e.getParent():void 0;if($r(r?r.getParent():void 0)&&yn(r)&&$r(e)){const n=e?e.getFirstChild():void 0,i=e?e.getLastChild():void 0;if(t.is(n))r.insertBefore(t),e.isEmpty()&&r.remove();else if(t.is(i))r.insertAfter(t),e.isEmpty()&&r.remove();else{const s=e.getListType(),o=ec(),a=fl(s);o.append(a),t.getPreviousSiblings().forEach(g=>a.append(g));const l=ec(),u=fl(s);l.append(u),oC(u,t.getNextSiblings()),r.insertBefore(o),r.insertAfter(l),r.replace(t)}}}function sJe(){const t=pt();if(!nt(t)||!t.isCollapsed())return!1;const e=t.anchor.getNode();if(!yn(e)||e.getChildrenSize()!==0)return!1;const r=p7(e),n=e.getParent();$r(n)||Eh(40);const i=n.getParent();let s;if(Ea(i))s=qr(),r.insertAfter(s);else{if(!yn(i))return!1;s=ec(),i.insertAfter(s)}s.setTextStyle(t.style).setTextFormat(t.format).select();const o=e.getNextSiblings();if(o.length>0){const a=fl(n.getListType());if(yn(s)){const l=ec();l.append(a),s.insertAfter(l)}else s.insertAfter(a);a.append(...o)}return function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const u=l.getParent();if(u==null||!yn(u)&&!$r(u))break;l=u}l.remove()}(e),!0}function z2(...t){const e=[];for(const r of t)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))e.push(n);return e}let wm=class extends $o{constructor(r=1,n=void 0,i){super(i);ve(this,"__value");ve(this,"__checked");this.__value=r===void 0?1:r,this.__checked=n}$config(){return this.config("listitem",{$transform:r=>{if(r.__checked==null)return;const n=r.getParent();$r(n)&&n.getListType()!=="check"&&r.getChecked()!=null&&r.setChecked(void 0)},extends:$o,importDOM:{li:()=>({conversion:oJe,priority:0})}})}afterCloneFrom(r){super.afterCloneFrom(r),this.__value=r.__value,this.__checked=r.__checked}createDOM(r){const n=document.createElement("li");return this.updateListItemDOM(null,n,r),n}updateListItemDOM(r,n,i){(function(a,l,u){const g=l.getParent();!$r(g)||g.getListType()!=="check"||$r(l.getFirstChild())?(a.removeAttribute("role"),a.removeAttribute("tabIndex"),a.removeAttribute("aria-checked")):(a.setAttribute("role","checkbox"),a.setAttribute("tabIndex","-1"),u&&l.__checked===u.__checked||a.setAttribute("aria-checked",l.getChecked()?"true":"false"))})(n,this,r),n.value=this.__value,function(a,l,u){const g=[],d=[],f=l.list,h=f?f.listitem:void 0;let A;if(f&&f.nested&&(A=f.nested.listitem),h!==void 0&&g.push(...z2(h)),f){const C=u.getParent(),I=$r(C)&&C.getListType()==="check",p=u.getChecked();I&&!p||d.push(f.listitemUnchecked),I&&p||d.push(f.listitemChecked),I&&g.push(p?f.listitemChecked:f.listitemUnchecked)}if(A!==void 0){const C=z2(A);u.getChildren().some(I=>$r(I))?g.push(...C):d.push(...C)}d.length>0&&Jg(a,...d),g.length>0&&Ts(a,...g)}(n,i.theme,this);const s=r?r.__style:"",o=this.__style;s!==o&&(o===""?n.removeAttribute("style"):n.style.cssText=o),function(a,l,u){const g=lX(l.__textStyle);for(const d in g)a.style.setProperty(`--listitem-marker-${d}`,g[d]);if(u)for(const d in lX(u.__textStyle))d in g||a.style.removeProperty(`--listitem-marker-${d}`)}(n,this,r)}updateDOM(r,n,i){const s=n;return this.updateListItemDOM(r,s,i),!1}updateFromJSON(r){return super.updateFromJSON(r).setValue(r.value).setChecked(r.checked)}exportDOM(r){const n=this.createDOM(r._config),i=this.getFormatType();i&&(n.style.textAlign=i);const s=this.getDirection();return s&&(n.dir=s),{element:n}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...r){for(let n=0;n<r.length;n++){const i=r[n];if(We(i)&&this.canMergeWith(i)){const s=i.getChildren();this.append(...s),i.remove()}else super.append(i)}return this}replace(r,n){if(yn(r))return super.replace(r);this.setIndent(0);const i=this.getParentOrThrow();if(!$r(i))return r;if(i.__first===this.getKey())i.insertBefore(r);else if(i.__last===this.getKey())i.insertAfter(r);else{const s=fl(i.getListType());let o=this.getNextSibling();for(;o;){const a=o;o=o.getNextSibling(),s.append(a)}i.insertAfter(r),r.insertAfter(s)}return n&&(We(r)||Eh(139),this.getChildren().forEach(s=>{r.append(s)})),this.remove(),i.getChildrenSize()===0&&i.remove(),r}insertAfter(r,n=!0){const i=this.getParentOrThrow();if($r(i)||Eh(39),yn(r))return super.insertAfter(r,n);const s=this.getNextSiblings();if(i.insertAfter(r,n),s.length!==0){const o=fl(i.getListType());s.forEach(a=>o.append(a)),r.insertAfter(o,n)}return r}remove(r){const n=this.getPreviousSibling(),i=this.getNextSibling();super.remove(r),n&&i&&Nu(n)&&Nu(i)&&(H9(n.getFirstChild(),i.getFirstChild()),i.remove())}insertNewAfter(r,n=!0){const i=ec().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(i,n),i}collapseAtStart(r){const n=qr();this.getChildren().forEach(a=>n.append(a));const i=this.getParentOrThrow(),s=i.getParentOrThrow(),o=yn(s);if(i.getChildrenSize()===1)if(o)i.remove(),s.select();else{i.insertBefore(n),i.remove();const a=r.anchor,l=r.focus,u=n.getKey();a.type==="element"&&a.getNode().is(this)&&a.set(u,a.offset,"element"),l.type==="element"&&l.getNode().is(this)&&l.set(u,l.offset,"element")}else i.insertBefore(n),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(r){const n=this.getWritable();return n.__value=r,n}getChecked(){const r=this.getLatest();let n;const i=this.getParent();return $r(i)&&(n=i.getListType()),n==="check"?!!r.__checked:void 0}setChecked(r){const n=this.getWritable();return n.__checked=r,n}toggleChecked(){const r=this.getWritable();return r.setChecked(!r.__checked)}getIndent(){const r=this.getParent();if(r===null||!this.isAttached())return this.getLatest().__indent;let n=r.getParentOrThrow(),i=0;for(;yn(n);)n=n.getParentOrThrow().getParentOrThrow(),i++;return i}setIndent(r){typeof r!="number"&&Eh(117),(r=Math.floor(r))>=0||Eh(199);let n=this.getIndent();for(;n!==r;)n<r?(nJe(this),n++):(iJe(this),n--);return this}canInsertAfter(r){return yn(r)}canReplaceWith(r){return yn(r)}canMergeWith(r){return yn(r)||xm(r)}extractWithChild(r,n){if(!nt(n))return!1;const i=n.anchor.getNode(),s=n.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return fl("bullet")}canMergeWhenEmpty(){return!0}};function oJe(t){if(t.classList.contains("task-list-item")){for(const r of t.children)if(r.tagName==="INPUT")return aJe(r)}const e=t.getAttribute("aria-checked");return{node:ec(e==="true"||e!=="false"&&void 0)}}function aJe(t){return t.getAttribute("type")!=="checkbox"?{node:null}:{node:ec(t.hasAttribute("checked"))}}function ec(t){return Fa(new wm(void 0,t))}function yn(t){return t instanceof wm}class Sm extends $o{constructor(r="number",n=1,i){super(i);ve(this,"__tag");ve(this,"__start");ve(this,"__listType");const s=cJe[r]||r;this.__listType=s,this.__tag=s==="number"?"ol":"ul",this.__start=n}$config(){return this.config("list",{$transform:r=>{(function(n){const i=n.getNextSibling();$r(i)&&n.getListType()===i.getListType()&&H9(n,i)})(r),b_e(r)},extends:$o,importDOM:{ol:()=>({conversion:DX,priority:0}),ul:()=>({conversion:DX,priority:0})}})}afterCloneFrom(r){super.afterCloneFrom(r),this.__listType=r.__listType,this.__tag=r.__tag,this.__start=r.__start}getTag(){return this.getLatest().__tag}setListType(r){const n=this.getWritable();return n.__listType=r,n.__tag=r==="number"?"ol":"ul",n}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(r){const n=this.getWritable();return n.__start=r,n}createDOM(r,n){const i=this.__tag,s=document.createElement(i);return this.__start!==1&&s.setAttribute("start",String(this.__start)),s.__lexicalListType=this.__listType,kX(s,r.theme,this),s}updateDOM(r,n,i){return r.__tag!==this.__tag||r.__listType!==this.__listType||(kX(n,i.theme,this),!1)}updateFromJSON(r){return super.updateFromJSON(r).setListType(r.listType).setStart(r.start)}exportDOM(r){const n=this.createDOM(r._config,r);return ui(n)&&(this.__start!==1&&n.setAttribute("start",String(this.__start)),this.__listType==="check"&&n.setAttribute("__lexicalListType","check")),{element:n}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(r,n,i){let s=i;for(let o=0;o<i.length;o++){const a=i[o];yn(a)||(s===i&&(s=[...i]),s[o]=ec().append(!We(a)||$r(a)||a.isInline()?a:Vi(a.getTextContent())))}return super.splice(r,n,s)}extractWithChild(r){return yn(r)}}function kX(t,e,r){const n=[],i=[],s=e.list;if(s!==void 0){const o=s[`${r.__tag}Depth`]||[],a=I7(r)-1,l=a%o.length,u=o[l],g=s[r.__tag];let d;const f=s.nested,h=s.checklist;if(f!==void 0&&f.list&&(d=f.list),g!==void 0&&n.push(g),h!==void 0&&r.__listType==="check"&&n.push(h),u!==void 0){n.push(...z2(u));for(let A=0;A<o.length;A++)A!==l&&i.push(r.__tag+A)}if(d!==void 0){const A=z2(d);a>1?n.push(...A):i.push(...A)}}i.length>0&&Jg(t,...i),n.length>0&&Ts(t,...n)}function lJe(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];if(yn(n)){e.push(n);const i=n.getChildren();i.length>1&&i.forEach(s=>{$r(s)&&e.push(OX(s))})}else e.push(OX(n))}return e}function DX(t){const e=t.nodeName.toLowerCase();let r=null;return e==="ol"?r=fl("number",t.start):e==="ul"&&(r=function(n){if(n.getAttribute("__lexicallisttype")==="check"||n.classList.contains("contains-task-list"))return!0;for(const i of n.childNodes)if(ui(i)&&i.hasAttribute("aria-checked"))return!0;return!1}(t)?fl("check"):fl("bullet")),{after:lJe,node:r}}const cJe={ol:"number",ul:"bullet"};function fl(t="number",e=1){return Fa(new Sm(t,e))}function $r(t){return t instanceof Sm}const uJe=dr("UPDATE_LIST_START_COMMAND"),w_e=dr("INSERT_UNORDERED_LIST_COMMAND"),S_e=dr("INSERT_ORDERED_LIST_COMMAND"),gJe=dr("REMOVE_LIST_COMMAND");function dJe(t){return Hc(t.registerCommand(S_e,()=>(jX("number"),!0),tA),t.registerCommand(uJe,e=>{const{listNodeKey:r,newStart:n}=e,i=Jn(r);return!!$r(i)&&(i.getListType()==="number"&&(i.setStart(n),b_e(i)),!0)},tA),t.registerCommand(w_e,()=>(jX("bullet"),!0),tA),t.registerCommand(gJe,()=>(rJe(),!0),tA),t.registerCommand(JA,()=>sJe(),tA),t.registerNodeTransform(wm,e=>{const r=e.getFirstChild();if(r){if(Rt(r)){const n=r.getStyle(),i=r.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==i&&e.setTextFormat(i)}}else{const n=pt();nt(n)&&(n.style!==e.getTextStyle()||n.format!==e.getTextFormat())&&n.isCollapsed()&&e.is(n.anchor.getNode())&&e.setTextStyle(n.style).setTextFormat(n.format)}}),t.registerNodeTransform(xd,e=>{const r=e.getParent();if(yn(r)&&e.is(r.getFirstChild())){const n=e.getStyle(),i=e.getFormat();n===r.getTextStyle()&&i===r.getTextFormat()||r.setTextStyle(n).setTextFormat(i)}}))}function hJe(t){const e=r=>{const n=r.getParent();if($r(r.getFirstChild())||!$r(n))return;const i=Nr(r,s=>yn(s)&&$r(s.getParent())&&yn(s.getPreviousSibling()));if(i===null&&r.getIndent()>0)r.setIndent(0);else if(yn(i)){const s=i.getPreviousSibling();if(yn(s)){const o=function(l){let u=l,g=u.getFirstChild();for(;$r(g);){const d=g.getLastChild();if(!yn(d))break;u=d,g=u.getFirstChild()}return u}(s),a=o.getParent();if($r(a)){const l=I7(a);l+1<I7(n)&&r.setIndent(l)}}}};return t.registerNodeTransform(Sm,r=>{const n=[r];for(;n.length>0;){const i=n.shift();if($r(i)){for(const s of i.getChildren())if(yn(s)){e(s);const o=s.getFirstChild();$r(o)&&n.push(o)}}}})}function fJe({hasStrictIndent:t=!1}){const[e]=vl();return D.useEffect(()=>{if(!e.hasNodes([Sm,wm]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),D.useEffect(()=>{if(t)return hJe(e)},[e,t]),function(r){D.useEffect(()=>dJe(r),[r])}(e),null}const AJe=new Set(["http:","https:","mailto:","sms:","tel:"]);let O1=class E_e extends $o{constructor(r="",n={},i){super(i);ve(this,"__url");ve(this,"__target");ve(this,"__rel");ve(this,"__title");const{target:s=null,rel:o=null,title:a=null}=n;this.__url=r,this.__target=s,this.__rel=o,this.__title=a}static getType(){return"link"}static clone(r){return new E_e(r.__url,{rel:r.__rel,target:r.__target,title:r.__title},r.__key)}createDOM(r){const n=document.createElement("a");return this.updateLinkDOM(null,n,r),Ts(n,r.theme.link),n}updateLinkDOM(r,n,i){if(NEe(n)){r&&r.__url===this.__url||(n.href=this.sanitizeUrl(this.__url));for(const s of["target","rel","title"]){const o=`__${s}`,a=this[o];r&&r[o]===a||(a?n[s]=a:n.removeAttribute(s))}}}updateDOM(r,n,i){return this.updateLinkDOM(r,n,i),!1}static importDOM(){return{a:r=>({conversion:CJe,priority:1})}}static importJSON(r){return ky().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setURL(r.url).setRel(r.rel||null).setTarget(r.target||null).setTitle(r.title||null)}sanitizeUrl(r){r=MX(r);try{const n=new URL(MX(r));if(!AJe.has(n.protocol))return"about:blank"}catch{return r}return r}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(r){const n=this.getWritable();return n.__url=r,n}getTarget(){return this.getLatest().__target}setTarget(r){const n=this.getWritable();return n.__target=r,n}getRel(){return this.getLatest().__rel}setRel(r){const n=this.getWritable();return n.__rel=r,n}getTitle(){return this.getLatest().__title}setTitle(r){const n=this.getWritable();return n.__title=r,n}insertNewAfter(r,n=!0){const i=ky(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(i,n),i}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(r,n,i){if(!nt(n))return!1;const s=n.anchor.getNode(),o=n.focus.getNode();return this.isParentOf(s)&&this.isParentOf(o)&&n.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function CJe(t){let e=null;if(NEe(t)){const r=t.textContent;(r!==null&&r!==""||t.children.length>0)&&(e=ky(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function ky(t="",e){return Fa(new O1(t,e))}function Tg(t){return t instanceof O1}class hE extends O1{constructor(r="",n={},i){super(r,n,i);ve(this,"__isUnlinked");this.__isUnlinked=n.isUnlinked!==void 0&&n.isUnlinked!==null&&n.isUnlinked}static getType(){return"autolink"}static clone(r){return new hE(r.__url,{isUnlinked:r.__isUnlinked,rel:r.__rel,target:r.__target,title:r.__title},r.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(r){const n=this.getWritable();return n.__isUnlinked=r,n}createDOM(r){return this.__isUnlinked?document.createElement("span"):super.createDOM(r)}updateDOM(r,n,i){return super.updateDOM(r,n,i)||r.__isUnlinked!==this.__isUnlinked}static importJSON(r){return FX().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setIsUnlinked(r.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(r,n=!0){const i=this.getParentOrThrow().insertNewAfter(r,n);if(We(i)){const s=FX(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return i.append(s),s}return null}}function FX(t="",e){return Fa(new hE(t,e))}function Bb(t){return t instanceof hE}const U2=dr("TOGGLE_LINK_COMMAND");function LX(t,e){if(t.type==="element"){const r=t.getNode();return We(r)||function(n,...i){const s=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",n);for(const a of i)o.append("v",a);throw s.search=o.toString(),Error(`Minified Lexical error #${n}; visit ${s.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),r.getChildren()[t.offset+e]||null}return null}function w5(t,e={}){let r;if(t&&typeof t=="object"){const{url:g,...d}=t;r=g,e={...d,...e}}else r=t;const{target:n,title:i}=e,s=e.rel===void 0?"noreferrer":e.rel,o=pt();if(o===null||!nt(o)&&!Zo(o))return;if(Zo(o)){const g=o.getNodes();return g.length===0?void 0:void g.forEach(d=>{if(r===null){const f=Nr(d,h=>!Bb(h)&&Tg(h));f&&(f.insertBefore(d),f.getChildren().length===0&&f.remove())}else{const f=Nr(d,h=>!Bb(h)&&Tg(h));if(f)f.setURL(r),n!==void 0&&f.setTarget(n),s!==void 0&&f.setRel(s);else{const h=ky(r,{rel:s,target:n});d.insertBefore(h),h.append(d)}}})}const a=o.extract();if(r===null)return void a.forEach(g=>{const d=Nr(g,f=>!Bb(f)&&Tg(f));if(d){const f=d.getChildren();for(let h=0;h<f.length;h++)d.insertBefore(f[h]);d.remove()}});const l=new Set,u=g=>{l.has(g.getKey())||(l.add(g.getKey()),g.setURL(r),n!==void 0&&g.setTarget(n),s!==void 0&&g.setRel(s),i!==void 0&&g.setTitle(i))};if(a.length===1){const g=a[0],d=Nr(g,Tg);if(d!==null)return u(d)}(function(g){const d=pt();if(!nt(d))return g();const f=ZA(d),h=f.isBackward(),A=LX(f.anchor,h?-1:0),C=LX(f.focus,h?0:-1);if(g(),A||C){const I=pt();if(nt(I)){const p=I.clone();if(A){const m=A.getParent();m&&p.anchor.set(m.getKey(),A.getIndexWithinParent()+(h?1:0),"element")}if(C){const m=C.getParent();m&&p.focus.set(m.getKey(),C.getIndexWithinParent()+(h?0:1),"element")}fi(ZA(p))}}})(()=>{let g=null;for(const d of a){if(!d.isAttached())continue;const f=Nr(d,Tg);if(f){u(f);continue}if(We(d)){if(!d.isInline())continue;if(Tg(d)){if(!(Bb(d)||g!==null&&g.getParentOrThrow().isParentOf(d))){u(d),g=d;continue}for(const A of d.getChildren())d.insertBefore(A);d.remove();continue}}const h=d.getPreviousSibling();Tg(h)&&h.is(g)?h.append(d):(g=ky(r,{rel:s,target:n,title:i}),d.insertAfter(g),g.append(d))}})}const IJe=/^\+?[0-9\s()-]{5,}$/;function MX(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?`mailto:${t}`:IJe.test(t)?`tel:${t}`:`https://${t}`}function pJe(t,e){return Hc(Py(()=>t.registerCommand(U2,r=>{const n=e.validateUrl.peek(),i=e.attributes.peek();if(r===null)return w5(null),!0;if(typeof r=="string")return!(n!==void 0&&!n(r))&&(w5(r,i),!0);{const{url:s,target:o,rel:a,title:l}=r;return w5(s,{...i,rel:a,target:o,title:l}),!0}},tA)),Py(()=>{const r=e.validateUrl.value;if(!r)return;const n=e.attributes.value;return t.registerCommand(QS,i=>{const s=pt();if(!nt(s)||s.isCollapsed()||!Gg(i,ClipboardEvent)||i.clipboardData===null)return!1;const o=i.clipboardData.getData("text");return!!r(o)&&!s.getNodes().some(a=>We(a))&&(t.dispatchCommand(U2,{...n,url:o}),i.preventDefault(),!0)},tA)}))}function mJe({validateUrl:t,attributes:e}){const[r]=vl();return D.useEffect(()=>{if(!r.hasNodes([O1]))throw new Error("LinkPlugin: LinkNode not registered on editor")}),D.useEffect(()=>pJe(r,r_e({attributes:e,validateUrl:t})),[r,t,e]),null}const K9=/^(\d+(?:\.\d+)?)px$/,Rs={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class wd extends $o{constructor(r=Rs.NO_STATUS,n=1,i,s){super(s);ve(this,"__colSpan");ve(this,"__rowSpan");ve(this,"__headerState");ve(this,"__width");ve(this,"__backgroundColor");ve(this,"__verticalAlign");this.__colSpan=n,this.__rowSpan=1,this.__headerState=r,this.__width=i,this.__backgroundColor=null,this.__verticalAlign=void 0}static getType(){return"tablecell"}static clone(r){return new wd(r.__headerState,r.__colSpan,r.__width,r.__key)}afterCloneFrom(r){super.afterCloneFrom(r),this.__rowSpan=r.__rowSpan,this.__backgroundColor=r.__backgroundColor,this.__verticalAlign=r.__verticalAlign}static importDOM(){return{td:r=>({conversion:BX,priority:0}),th:r=>({conversion:BX,priority:0})}}static importJSON(r){return qc().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setHeaderStyles(r.headerState).setColSpan(r.colSpan||1).setRowSpan(r.rowSpan||1).setWidth(r.width||void 0).setBackgroundColor(r.backgroundColor||null).setVerticalAlign(r.verticalAlign||void 0)}createDOM(r){const n=document.createElement(this.getTag());return this.__width&&(n.style.width=`${this.__width}px`),this.__colSpan>1&&(n.colSpan=this.__colSpan),this.__rowSpan>1&&(n.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(n.style.backgroundColor=this.__backgroundColor),m7(this.__verticalAlign)&&(n.style.verticalAlign=this.__verticalAlign),Ts(n,r.theme.tableCell,this.hasHeader()&&r.theme.tableCellHeader),n}exportDOM(r){const n=super.exportDOM(r);if(ui(n.element)){const i=n.element;i.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),i.style.border="1px solid black",this.__colSpan>1&&(i.colSpan=this.__colSpan),this.__rowSpan>1&&(i.rowSpan=this.__rowSpan),i.style.width=`${this.getWidth()||75}px`,i.style.verticalAlign=this.getVerticalAlign()||"top",i.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(i.style.backgroundColor="#f2f3f5")}return n}exportJSON(){return{...super.exportJSON(),...m7(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(r){const n=this.getWritable();return n.__colSpan=r,n}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(r){const n=this.getWritable();return n.__rowSpan=r,n}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(r,n=Rs.BOTH){const i=this.getWritable();return i.__headerState=r&n|i.__headerState&~n,i}getHeaderStyles(){return this.getLatest().__headerState}setWidth(r){const n=this.getWritable();return n.__width=r,n}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(r){const n=this.getWritable();return n.__backgroundColor=r,n}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(r){const n=this.getWritable();return n.__verticalAlign=r||void 0,n}toggleHeaderStyle(r){const n=this.getWritable();return(n.__headerState&r)===r?n.__headerState-=r:n.__headerState+=r,n}hasHeaderState(r){return(this.getHeaderStyles()&r)===r}hasHeader(){return this.getLatest().__headerState!==Rs.NO_STATUS}updateDOM(r){return r.__headerState!==this.__headerState||r.__width!==this.__width||r.__colSpan!==this.__colSpan||r.__rowSpan!==this.__rowSpan||r.__backgroundColor!==this.__backgroundColor||r.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function m7(t){return t==="middle"||t==="bottom"}function BX(t){const e=t,r=t.nodeName.toLowerCase();let n;K9.test(e.style.width)&&(n=parseFloat(e.style.width));const i=qc(r==="th"?Rs.ROW:Rs.NO_STATUS,e.colSpan,n);i.__rowSpan=e.rowSpan;const s=e.style.backgroundColor;s!==""&&(i.__backgroundColor=s);const o=e.style.verticalAlign;m7(o)&&(i.__verticalAlign=o);const a=e.style,l=(a&&a.textDecoration||"").split(" "),u=a.fontWeight==="700"||a.fontWeight==="bold",g=l.includes("line-through"),d=a.fontStyle==="italic",f=l.includes("underline");return{after:h=>{const A=[];let C=null;const I=()=>{if(C){const p=C.getFirstChild();Dh(p)&&C.getChildrenSize()===1&&p.remove()}};for(const p of h)wXe(p)||Rt(p)||Dh(p)?(Rt(p)&&(u&&p.toggleFormat("bold"),g&&p.toggleFormat("strikethrough"),d&&p.toggleFormat("italic"),f&&p.toggleFormat("underline")),C?C.append(p):(C=qr().append(p),A.push(C))):(A.push(p),I(),C=null);return I(),A.length===0&&A.push(qr()),A},node:i}}function qc(t=Rs.NO_STATUS,e=1,r){return Fa(new wd(t,e,r))}function xr(t){return t instanceof wd}const vJe=dr("INSERT_TABLE_COMMAND");function mr(t,...e){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",t);for(const i of e)n.append("v",i);throw r.search=n.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class Em extends $o{constructor(r,n){super(n);ve(this,"__height");this.__height=r}static getType(){return"tablerow"}static clone(r){return new Em(r.__height,r.__key)}static importDOM(){return{tr:r=>({conversion:yJe,priority:0})}}static importJSON(r){return Dy().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setHeight(r.height)}exportJSON(){const r=this.getHeight();return{...super.exportJSON(),...r===void 0?void 0:{height:r}}}createDOM(r){const n=document.createElement("tr");return this.__height&&(n.style.height=`${this.__height}px`),Ts(n,r.theme.tableRow),n}extractWithChild(r,n,i){return i==="html"}isShadowRoot(){return!0}setHeight(r){const n=this.getWritable();return n.__height=r,n}getHeight(){return this.getLatest().__height}updateDOM(r){return r.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function yJe(t){const e=t;let r;return K9.test(e.style.height)&&(r=parseFloat(e.style.height)),{after:n=>XEe(n,xr),node:Dy(r)}}function Dy(t){return Fa(new Em(t))}function ki(t){return t instanceof Em}const Y9=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,xJe=Y9&&"documentMode"in document?document.documentMode:null,$X=Y9&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function bJe(t,e,r=!0){const n=Q9();for(let i=0;i<t;i++){const s=Dy();for(let o=0;o<e;o++){let a=Rs.NO_STATUS;typeof r=="object"?(i===0&&r.rows&&(a|=Rs.ROW),o===0&&r.columns&&(a|=Rs.COLUMN)):r&&(i===0&&(a|=Rs.ROW),o===0&&(a|=Rs.COLUMN));const l=qc(a),u=qr();u.append(Vi()),l.append(u),s.append(l)}n.append(s)}return n}function wJe(t){const e=Nr(t,r=>mi(r));if(mi(e))return e;throw new Error("Expected table cell to be inside of table.")}Y9&&"InputEvent"in window&&!xJe&&new window.InputEvent("input");const v7=(t,e)=>t===Rs.BOTH||t===e?e:Rs.NO_STATUS;function SJe(t,e=!0){const[,,r]=ku(t),[n,i]=zl(r,t,t),s=n[0].length,{startRow:o}=i;let a=null;if(e){const l=o+t.__rowSpan-1,u=n[l],g=Dy();for(let f=0;f<s;f++){const{cell:h,startRow:A}=u[f];if(A+h.__rowSpan-1<=l){const C=u[f].cell.__headerState,I=v7(C,Rs.COLUMN);g.append(qc(I).append(qr()))}else h.setRowSpan(h.__rowSpan+1)}const d=r.getChildAtIndex(l);ki(d)||mr(256),d.insertAfter(g),a=g}else{const l=o,u=n[l],g=Dy();for(let f=0;f<s;f++){const{cell:h,startRow:A}=u[f];if(A===l){const C=u[f].cell.__headerState,I=v7(C,Rs.COLUMN);g.append(qc(I).append(qr()))}else h.setRowSpan(h.__rowSpan+1)}const d=r.getChildAtIndex(l);ki(d)||mr(257),d.insertBefore(g),a=g}return a}function EJe(t,e=!0,r=!0){const[,,n]=ku(t),[i,s]=zl(n,t,t),o=i.length,{startColumn:a}=s,l=e?a+t.__colSpan-1:a-1,u=n.getFirstChild();ki(u)||mr(120);let g=null;function d(A=Rs.NO_STATUS){const C=qc(A).append(qr());return g===null&&(g=C),C}let f=u;e:for(let A=0;A<o;A++){if(A!==0){const x=f.getNextSibling();ki(x)||mr(121),f=x}const C=i[A],I=C[l<0?0:l].cell.__headerState,p=v7(I,Rs.ROW);if(l<0){__e(f,d(p));continue}const{cell:m,startColumn:v,startRow:y}=C[l];if(v+m.__colSpan-1<=l){let x=m,T=y,E=l;for(;T!==A&&x.__rowSpan>1;){if(E-=m.__colSpan,!(E>=0)){f.append(d(p));continue e}{const{cell:_,startRow:S}=C[E];x=_,T=S}}x.insertAfter(d(p))}else m.setColSpan(m.__colSpan+1)}g!==null&&r&&_Je(g);const h=n.getColWidths();if(h){const A=[...h],C=l<0?0:l,I=A[C];A.splice(C,0,I),n.setColWidths(A)}return g}function _Je(t){const e=t.getFirstDescendant();e==null?t.selectStart():e.getParentOrThrow().selectStart()}function __e(t,e){const r=t.getFirstChild();r!==null?r.insertBefore(e):t.append(e)}function TJe(t){if(t.length===0)return null;const e=wJe(t[0]),[r]=_h(e,null,null);let n=1/0,i=-1/0,s=1/0,o=-1/0;const a=new Set;for(const h of r)for(const A of h){if(!A||!A.cell)continue;const C=A.cell.getKey();if(!a.has(C)&&t.some(I=>I.is(A.cell))){a.add(C);const I=A.startRow,p=A.startColumn,m=A.cell.__rowSpan||1,v=A.cell.__colSpan||1;n=Math.min(n,I),i=Math.max(i,I+m-1),s=Math.min(s,p),o=Math.max(o,p+v-1)}}if(n===1/0||s===1/0)return null;const l=i-n+1,u=o-s+1,g=r[n][s];if(!g.cell)return null;const d=g.cell;d.setColSpan(u),d.setRowSpan(l);const f=new Set([d.getKey()]);for(let h=n;h<=i;h++)for(let A=s;A<=o;A++){const C=r[h][A];if(!C.cell)continue;const I=C.cell,p=I.getKey();f.has(p)||(f.add(p),RJe(I)||d.append(...I.getChildren()),I.remove())}return d.getChildrenSize()===0&&d.append(qr()),d}function RJe(t){if(t.getChildrenSize()!==1)return!1;const e=t.getFirstChildOrThrow();return!(!xm(e)||!e.isEmpty())}function NJe(t){const[e,r,n]=ku(t),i=e.__colSpan,s=e.__rowSpan;if(i===1&&s===1)return;const[o,a]=zl(n,e,e),{startColumn:l,startRow:u}=a,g=e.__headerState&Rs.COLUMN,d=Array.from({length:i},(A,C)=>{let I=g;for(let p=0;I!==0&&p<o.length;p++)I&=o[p][C+l].cell.__headerState;return I}),f=e.__headerState&Rs.ROW,h=Array.from({length:s},(A,C)=>{let I=f;for(let p=0;I!==0&&p<o[0].length;p++)I&=o[C+u][p].cell.__headerState;return I});if(i>1){for(let A=1;A<i;A++)e.insertAfter(qc(d[A]|h[0]).append(qr()));e.setColSpan(1)}if(s>1){let A;for(let C=1;C<s;C++){const I=u+C,p=o[I];A=(A||r).getNextSibling(),ki(A)||mr(125);let m=null;for(let v=0;v<l;v++){const y=p[v],x=y.cell;y.startRow===I&&(m=x),x.__colSpan>1&&(v+=x.__colSpan-1)}if(m===null)for(let v=i-1;v>=0;v--)__e(A,qc(d[v]|h[C]).append(qr()));else for(let v=i-1;v>=0;v--)m.insertAfter(qc(d[v]|h[C]).append(qr()))}e.setRowSpan(1)}}function zl(t,e,r){const[n,i,s]=_h(t,e,r);return i===null&&mr(207),s===null&&mr(208),[n,i,s]}function _h(t,e,r){const n=[];let i=null,s=null;function o(l){let u=n[l];return u===void 0&&(n[l]=u=[]),u}const a=t.getChildren();for(let l=0;l<a.length;l++){const u=a[l];ki(u)||mr(209);const g=o(l);for(let d=u.getFirstChild(),f=0;d!=null;d=d.getNextSibling()){for(xr(d)||mr(147);g[f]!==void 0;)f++;const h={cell:d,startColumn:f,startRow:l},{__rowSpan:A,__colSpan:C}=d;for(let I=0;I<A&&!(l+I>=a.length);I++){const p=o(l+I);for(let m=0;m<C;m++)p[f+m]=h}e!==null&&i===null&&e.is(d)&&(i=h),r!==null&&s===null&&r.is(d)&&(s=h)}}return[n,i,s]}function ku(t){let e;if(t instanceof wd)e=t;else if("__type"in t){const i=Nr(t,xr);xr(i)||mr(148),e=i}else{const i=Nr(t.getNode(),xr);xr(i)||mr(148),e=i}const r=e.getParent();ki(r)||mr(149);const n=r.getParent();return mi(n)||mr(210),[e,r,n]}function W2(t,e,r){let n,i=Math.min(e.startColumn,r.startColumn),s=Math.min(e.startRow,r.startRow),o=Math.max(e.startColumn+e.cell.__colSpan-1,r.startColumn+r.cell.__colSpan-1),a=Math.max(e.startRow+e.cell.__rowSpan-1,r.startRow+r.cell.__rowSpan-1);do{n=!1;for(let l=0;l<t.length;l++)for(let u=0;u<t[0].length;u++){const g=t[l][u];if(!g)continue;const d=g.startColumn+g.cell.__colSpan-1,f=g.startRow+g.cell.__rowSpan-1,h=g.startColumn<=o&&d>=i,A=g.startRow<=a&&f>=s;if(h&&A){const C=Math.min(i,g.startColumn),I=Math.max(o,d),p=Math.min(s,g.startRow),m=Math.max(a,f);C===i&&I===o&&p===s&&m===a||(i=C,o=I,s=p,a=m,n=!0)}}}while(n);return{maxColumn:o,maxRow:a,minColumn:i,minRow:s}}function qX(t){const[e,,r]=ku(t),n=r.getChildren(),i=n.length,s=n[0].getChildren().length,o=new Array(i);for(let a=0;a<i;a++)o[a]=new Array(s);for(let a=0;a<i;a++){const l=n[a].getChildren();let u=0;for(let g=0;g<l.length;g++){for(;o[a][u];)u++;const d=l[g],f=d.__rowSpan||1,h=d.__colSpan||1;for(let A=0;A<f;A++)for(let C=0;C<h;C++)o[a+A][u+C]=d;if(e===d)return{colSpan:h,columnIndex:u,rowIndex:a,rowSpan:f};u+=h}}return null}function zX(t){const[[e,r,n,i],[s,o,a,l]]=["anchor","focus"].map(u=>{const g=t[u].getNode(),d=Nr(g,xr);xr(d)||mr(238,u,g.getKey(),g.getType());const f=d.getParent();ki(f)||mr(239,u);const h=f.getParent();return mi(h)||mr(240,u),[g,d,f,h]});return i.is(l)||mr(241),{anchorCell:r,anchorNode:e,anchorRow:n,anchorTable:i,focusCell:o,focusNode:s,focusRow:a,focusTable:l}}class fE{constructor(e,r,n){ve(this,"tableKey");ve(this,"anchor");ve(this,"focus");ve(this,"_cachedNodes");ve(this,"dirty");this.anchor=r,this.focus=n,r._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){if(this.tableKey==="root"||this.anchor.key==="root"||this.anchor.type!=="element"||this.focus.key==="root"||this.focus.type!=="element")return!1;const e=Jn(this.tableKey),r=Jn(this.anchor.key),n=Jn(this.focus.key);return e!==null&&r!==null&&n!==null}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return ii(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,r,n){this.dirty=this.dirty||e!==this.tableKey||r!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=r,this.focus.key=n,this._cachedNodes=null}clone(){return new fE(this.tableKey,Na(this.anchor.key,this.anchor.offset,this.anchor.type),Na(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let r=0;this.getNodes().filter(xr).forEach(i=>{const s=i.getFirstChild();xm(s)&&(r|=s.getTextFormat())});const n=tf[e];return(r&n)!==0}insertNodes(e){const r=this.focus.getNode();We(r)||mr(151),ZA(r.select(0,r.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:r}=zX(this),n=qX(e);n===null&&mr(153);const i=qX(r);i===null&&mr(155);const s=Math.min(n.columnIndex,i.columnIndex),o=Math.max(n.columnIndex+n.colSpan-1,i.columnIndex+i.colSpan-1),a=Math.min(n.rowIndex,i.rowIndex),l=Math.max(n.rowIndex+n.rowSpan-1,i.rowIndex+i.rowSpan-1);return{fromX:Math.min(s,o),fromY:Math.min(a,l),toX:Math.max(s,o),toY:Math.max(a,l)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(e!==null)return e;const{anchorTable:r,anchorCell:n,focusCell:i}=zX(this),s=i.getParents()[1];if(s!==r){if(r.isParentOf(i)){const I=s.getParent();I==null&&mr(159),this.set(this.tableKey,i.getKey(),I.getKey())}else{const I=r.getParent();I==null&&mr(158),this.set(this.tableKey,I.getKey(),i.getKey())}return this.getNodes()}const[o,a,l]=zl(r,n,i),{minColumn:u,maxColumn:g,minRow:d,maxRow:f}=W2(o,a,l),h=new Map([[r.getKey(),r]]);let A=null;for(let I=d;I<=f;I++)for(let p=u;p<=g;p++){const{cell:m}=o[I][p],v=m.getParent();ki(v)||mr(160),v!==A&&(h.set(v.getKey(),v),A=v),h.has(m.getKey())||jJe(m,y=>{h.set(y.getKey(),y)})}const C=Array.from(h.values());return mm()||(this._cachedNodes=C),C}getTextContent(){const e=this.getNodes().filter(n=>xr(n));let r="";for(let n=0;n<e.length;n++){const i=e[n],s=i.__parent,o=(e[n+1]||{}).__parent;r+=i.getTextContent()+(o!==s?`
`:"	")}return r}}function ii(t){return t instanceof fE}function T_e(){const t=Na("root",0,"element"),e=Na("root",0,"element");return new fE("root",t,e)}function OJe(t,e,r){t.getKey(),e.getKey(),r.getKey();const n=pt(),i=ii(n)?n.clone():T_e();return i.set(t.getKey(),e.getKey(),r.getKey()),i}function jJe(t,e){const r=[[t]];for(let n=r.at(-1);n!==void 0&&r.length>0;n=r.at(-1)){const i=n.pop();i===void 0?r.pop():e(i)!==!1&&We(i)&&r.push(i.getChildren())}}function R_e(t,e=bm()){const r=Jn(t);mi(r)||mr(231,t);const n=aC(r,e.getElementByKey(t));return n===null&&mr(232,t),{tableElement:n,tableNode:r}}class PJe{constructor(e,r){ve(this,"focusX");ve(this,"focusY");ve(this,"listenersToRemove");ve(this,"table");ve(this,"isHighlightingCells");ve(this,"anchorX");ve(this,"anchorY");ve(this,"tableNodeKey");ve(this,"anchorCell");ve(this,"focusCell");ve(this,"anchorCellNodeKey");ve(this,"focusCellNodeKey");ve(this,"editor");ve(this,"tableSelection");ve(this,"hasHijackedSelectionStyles");ve(this,"isSelecting");ve(this,"pointerType");ve(this,"shouldCheckSelection");ve(this,"abortController");ve(this,"listenerOptions");ve(this,"nextFocus");this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=r,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(e=>e()),this.listenersToRemove.clear()}$lookup(){return R_e(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver(r=>{this.editor.getEditorState().read(()=>{let n=!1;for(let o=0;o<r.length;o++){const a=r[o].target.nodeName;if(a==="TABLE"||a==="TBODY"||a==="THEAD"||a==="TR"){n=!0;break}}if(!n)return;const{tableNode:i,tableElement:s}=this.$lookup();this.table=Cp(i,s)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:r,tableElement:n}=this.$lookup();this.table=Cp(r,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:r,tableElement:n}=this.$lookup();$b(e,Cp(r,n),null),pt()!==null&&(fi(null),e.dispatchCommand(Wg,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:r}=this.$lookup();Jg(r,e._config.theme.tableSelection),r.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();Ts(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(e!==null){e.tableKey!==this.tableNodeKey&&mr(233,e.tableKey,this.tableNodeKey);const r=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),$b(r,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return e!==null&&(this.nextFocus=null),e}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){const e=aa(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,r=!1){const n=this.editor,{tableNode:i}=this.$lookup(),s=e.x,o=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===s&&this.anchorY===o&&!r){if(s===this.focusX&&o===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=s,this.focusY=o,this.isHighlightingCells){const a=x7(i,e.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&a!==null)return this.focusCellNodeKey=a.getKey(),this.tableSelection=OJe(i,this.$getAnchorTableCellOrThrow(),a),fi(this.tableSelection),n.dispatchCommand(Wg,void 0),$b(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?Jn(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return e===null&&mr(234),e}$getFocusTableCell(){return this.focusCellNodeKey?Jn(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return e===null&&mr(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:r}=this.$lookup(),n=x7(r,e.elem);if(n!==null){const i=n.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():T_e(),this.anchorCellNodeKey=i}}$formatCells(e){const r=pt();ii(r)||mr(236);const n=sE(),i=n.anchor,s=n.focus,o=r.getNodes().filter(xr);o.length>0||mr(237);const a=o[0].getFirstChild(),l=xm(a)?a.getFormatFlags(e,null):null;o.forEach(u=>{i.set(u.getKey(),0,"element"),s.set(u.getKey(),u.getChildrenSize(),"element"),n.formatText(e,l)}),fi(r),this.editor.dispatchCommand(Wg,void 0)}$clearText(){const{editor:e}=this,r=Jn(this.tableNodeKey);if(!mi(r))throw new Error("Expected TableNode.");const n=pt();ii(n)||mr(253);const i=n.getNodes().filter(xr),s=r.getFirstChild(),o=r.getLastChild();if(i.length>0&&s!==null&&o!==null&&ki(s)&&ki(o)&&i[0]===s.getFirstChild()&&i[i.length-1]===o.getLastChild()){r.selectPrevious();const a=r.getParent();return r.remove(),void(Xi(a)&&a.isEmpty()&&e.dispatchCommand(JA,void 0))}i.forEach(a=>{if(We(a)){const l=qr(),u=Vi();l.append(u),a.append(l),a.getChildren().forEach(g=>{g!==l&&g.remove()})}}),$b(e,this.table,null),fi(null),e.dispatchCommand(Wg,void 0)}}const y7="__lexicalTableSelection";function qI(t){return ui(t)&&t.nodeName==="TABLE"}function aC(t,e){if(!e)return e;const r=qI(e)?e:t.getDOMSlot(e).element;return r.nodeName!=="TABLE"&&mr(245,e.nodeName),r}function Z9(t){return t._window}function Xv(t,e){for(let r=e,n=null;r!==null;r=r.getParent()){if(t.is(r))return n;xr(r)&&(n=r)}return null}const kJe=[[p9,"down"],[I9,"up"],[C9,"backward"],[A9,"forward"]],DJe=[Up,eC,Ph],FJe=[m9,y9];function LJe(t,e,r,n){const i=r.getRootElement(),s=Z9(r);i!==null&&s!==null||mr(246);const o=new PJe(r,t.getKey()),a=aC(t,e);(function(h,A){UX(h)!==null&&mr(205),h[y7]=A})(a,o),o.listenersToRemove.add(()=>function(h,A){UX(h)===A&&delete h[y7]}(a,o));const l=h=>{if(o.pointerType=h.pointerType,h.button!==0||!Pc(h.target)||!s)return;const A=G2(h.target);A!==null&&r.update(()=>{const C=Hu();if($X&&h.shiftKey&&yu(C,t)&&(nt(C)||ii(C))){const I=C.anchor.getNode(),p=Xv(t,C.anchor.getNode());p?(o.$setAnchorCellForSelection(rA(o,p)),o.$setFocusCellForSelection(A),Bg(h)):(t.isBefore(I)?t.selectStart():t.selectEnd()).anchor.set(C.anchor.key,C.anchor.offset,C.anchor.type)}else h.pointerType!=="touch"&&o.$setAnchorCellForSelection(A)}),(()=>{if(o.isSelecting)return;const C=()=>{o.isSelecting=!1,s.removeEventListener("pointerup",C),s.removeEventListener("pointermove",I)},I=p=>{if(1&~p.buttons&&o.isSelecting)return o.isSelecting=!1,s.removeEventListener("pointerup",C),void s.removeEventListener("pointermove",I);if(!Pc(p.target))return;let m=null;const v=!($X||a.contains(p.target));if(v)m=WX(a,p.target);else for(const y of document.elementsFromPoint(p.clientX,p.clientY))if(m=WX(a,y),m)break;!m||o.focusCell!==null&&m.elem===o.focusCell.elem||(o.setNextFocus({focusCell:m,override:v}),r.dispatchCommand(Wg,void 0))};o.isSelecting=!0,s.addEventListener("pointerup",C,o.listenerOptions),s.addEventListener("pointermove",I,o.listenerOptions)})()};a.addEventListener("pointerdown",l,o.listenerOptions),o.listenersToRemove.add(()=>{a.removeEventListener("pointerdown",l)});const u=h=>{h.detail>=3&&Pc(h.target)&&G2(h.target)!==null&&h.preventDefault()};a.addEventListener("mousedown",u,o.listenerOptions),o.listenersToRemove.add(()=>{a.removeEventListener("mousedown",u)});const g=h=>{const A=h.target;h.button===0&&Pc(A)&&r.update(()=>{const C=pt();ii(C)&&C.tableKey===o.tableNodeKey&&i.contains(A)&&o.$clearHighlight()})};s.addEventListener("pointerdown",g,o.listenerOptions),o.listenersToRemove.add(()=>{s.removeEventListener("pointerdown",g)});for(const[h,A]of kJe)o.listenersToRemove.add(r.registerCommand(h,C=>j_e(r,C,A,t,o),f5));o.listenersToRemove.add(r.registerCommand(v9,h=>{const A=pt();if(ii(A)){const C=Xv(t,A.focus.getNode());if(C!==null)return Bg(h),C.selectEnd(),!0}return!1},f5));const d=h=>()=>{const A=pt();if(!yu(A,t))return!1;if(ii(A))return o.$clearText(),!0;if(nt(A)){if(!xr(Xv(t,A.anchor.getNode())))return!1;const C=A.anchor.getNode(),I=A.focus.getNode(),p=t.isParentOf(C),m=t.isParentOf(I);if(p&&!m||m&&!p)return o.$clearText(),!0;const v=Nr(A.anchor.getNode(),x=>We(x)),y=v&&Nr(v,x=>We(x)&&xr(x.getParent()));if(!We(y)||!We(v))return!1;if(h===eC&&y.getPreviousSibling()===null)return!0}return!1};for(const h of DJe)o.listenersToRemove.add(r.registerCommand(h,d(h),xc));const f=h=>{const A=pt();if(!ii(A)&&!nt(A))return!1;const C=t.isParentOf(A.anchor.getNode());if(C!==t.isParentOf(A.focus.getNode())){const I=C?"anchor":"focus",p=C?"focus":"anchor",{key:m,offset:v,type:y}=A[p];return t[A[I].isBefore(A[p])?"selectPrevious":"selectNext"]()[p].set(m,v,y),!1}return!!yu(A,t)&&!!ii(A)&&(h&&(h.preventDefault(),h.stopPropagation()),o.$clearText(),!0)};for(const h of FJe)o.listenersToRemove.add(r.registerCommand(h,f,xc));return o.listenersToRemove.add(r.registerCommand(rE,h=>{const A=pt();if(A){if(!ii(A)&&!nt(A))return!1;C7(r,Gg(h,ClipboardEvent)?h:null,h_e(A));const C=f(h);return nt(A)?(A.removeText(),!0):C}return!1},xc)),o.listenersToRemove.add(r.registerCommand(Pu,h=>{const A=pt();if(!yu(A,t))return!1;if(ii(A))return o.$formatCells(h),!0;if(nt(A)){const C=Nr(A.anchor.getNode(),I=>xr(I));if(!xr(C))return!1}return!1},xc)),o.listenersToRemove.add(r.registerCommand(WSe,h=>{const A=pt();if(!ii(A)||!yu(A,t))return!1;const C=A.anchor.getNode(),I=A.focus.getNode();if(!xr(C)||!xr(I))return!1;if(function(S,j){if(ii(S)){const w=S.anchor.getNode(),R=S.focus.getNode();if(j&&w&&R){const[N]=zl(j,w,R);return w.getKey()===N[0][0].cell.getKey()&&R.getKey()===N[N.length-1].at(-1).cell.getKey()}}return!1}(A,t))return t.setFormat(h),!0;const[p,m,v]=zl(t,C,I),y=Math.max(m.startRow+m.cell.__rowSpan-1,v.startRow+v.cell.__rowSpan-1),x=Math.max(m.startColumn+m.cell.__colSpan-1,v.startColumn+v.cell.__colSpan-1),T=Math.min(m.startRow,v.startRow),E=Math.min(m.startColumn,v.startColumn),_=new Set;for(let S=T;S<=y;S++)for(let j=E;j<=x;j++){const w=p[S][j].cell;if(_.has(w))continue;_.add(w),w.setFormat(h);const R=w.getChildren();for(let N=0;N<R.length;N++){const P=R[N];We(P)&&!P.isInline()&&P.setFormat(h)}}return!0},xc)),o.listenersToRemove.add(r.registerCommand(_A,h=>{const A=pt();if(!yu(A,t))return!1;if(ii(A))return o.$clearHighlight(),!1;if(nt(A)){const C=Nr(A.anchor.getNode(),I=>xr(I));if(!xr(C))return!1;if(typeof h=="string"){const I=HX(r,A,t);if(I)return VX(I,t,[Vi(h)]),!0}}return!1},xc)),n&&o.listenersToRemove.add(r.registerCommand(x9,h=>{const A=pt();if(!nt(A)||!A.isCollapsed()||!yu(A,t))return!1;const C=G0(A.anchor.getNode());return!(C===null||!t.is(Ip(C)))&&(Bg(h),function(I,p){const m=p==="next"?"getNextSibling":"getPreviousSibling",v=p==="next"?"getFirstChild":"getLastChild",y=I[m]();if(We(y))return y.selectEnd();const x=Nr(I,ki);x===null&&mr(247);for(let E=x[m]();ki(E);E=E[m]()){const _=E[v]();if(We(_))return _.selectEnd()}const T=Nr(x,mi);T===null&&mr(248),p==="next"?T.selectNext():T.selectPrevious()}(C,h.shiftKey?"previous":"next"),!0)},xc)),o.listenersToRemove.add(r.registerCommand(HSe,h=>t.isSelected(),f5)),o.listenersToRemove.add(r.registerCommand(h9,(h,A)=>{if(r!==A)return!1;const{nodes:C,selection:I}=h,p=I.getStartEndPoints(),m=ii(I),v=nt(I)&&Nr(I.anchor.getNode(),re=>xr(re))!==null&&Nr(I.focus.getNode(),re=>xr(re))!==null||m;if(C.length!==1||!mi(C[0])||!v||p===null)return!1;const[y,x]=p,[T,E,_]=ku(y),S=Nr(x.getNode(),re=>xr(re));if(!(xr(T)&&xr(S)&&ki(E)&&mi(_)))return!1;const j=C[0],[w,R,N]=zl(_,T,S),[P]=_h(j,null,null),M=w.length,B=M>0?w[0].length:0;let W=R.startRow,H=R.startColumn,V=P.length,K=V>0?P[0].length:0;if(m){const re=W2(w,R,N),ie=re.maxRow-re.minRow+1,Ce=re.maxColumn-re.minColumn+1;W=re.minRow,H=re.minColumn,V=Math.min(V,ie),K=Math.min(K,Ce)}let Y=!1;const k=Math.min(M,W+V)-1,q=Math.min(B,H+K)-1,z=new Set;for(let re=W;re<=k;re++)for(let ie=H;ie<=q;ie++){const Ce=w[re][ie];z.has(Ce.cell.getKey())||Ce.cell.__rowSpan===1&&Ce.cell.__colSpan===1||(NJe(Ce.cell),z.add(Ce.cell.getKey()),Y=!0)}let[G]=_h(_.getWritable(),null,null);const Z=V-M+W;for(let re=0;re<Z;re++)SJe(G[M-1][0].cell);const ue=K-B+H;for(let re=0;re<ue;re++)EJe(G[0][B-1].cell,!0,!1);[G]=_h(_.getWritable(),null,null);for(let re=W;re<W+V;re++)for(let ie=H;ie<H+K;ie++){const Ce=re-W,Pe=ie-H,Fe=P[Ce][Pe];if(Fe.startRow!==Ce||Fe.startColumn!==Pe)continue;const He=Fe.cell;if(He.__rowSpan!==1||He.__colSpan!==1){const Ct=[],Re=Math.min(re+He.__rowSpan,W+V)-1,ke=Math.min(ie+He.__colSpan,H+K)-1;for(let Ye=re;Ye<=Re;Ye++)for(let xt=ie;xt<=ke;xt++){const ft=G[Ye][xt];Ct.push(ft.cell)}TJe(Ct),Y=!0}const{cell:Te}=G[re][ie],se=Te.getChildren();He.getChildren().forEach(Ct=>{Rt(Ct)&&qr().append(Ct),Te.append(Ct)}),se.forEach(Ct=>Ct.remove())}if(m&&Y){const[re]=_h(_.getWritable(),null,null);re[R.startRow][R.startColumn].cell.selectEnd()}return!0},xc)),o.listenersToRemove.add(r.registerCommand(Wg,()=>{const h=pt(),A=Hu(),C=o.getAndClearNextFocus();if(C!==null){const{focusCell:I}=C;if(ii(h)&&h.tableKey===o.tableNodeKey)return(I.x!==o.focusX||I.y!==o.focusY)&&(o.$setFocusCellForSelection(I),!0);if(I!==o.anchorCell&&yu(h,t))return o.$setFocusCellForSelection(I),!0}if(o.getAndClearShouldCheckSelection()&&nt(A)&&nt(h)&&h.isCollapsed()){const I=h.anchor.getNode(),p=t.getFirstChild(),m=G0(I);if(m!==null&&ki(p)){const v=p.getFirstChild();if(xr(v)&&t.is(Nr(m,y=>y.is(t)||y.is(v))))return v.selectStart(),!0}}if(nt(h)){const{anchor:I,focus:p}=h,m=I.getNode(),v=p.getNode(),y=G0(m),x=G0(v),T=!(!y||!t.is(Ip(y))),E=!(!x||!t.is(Ip(x))),_=T!==E,S=T&&E,j=h.isBackward();if(_){const w=h.clone();if(E){const[R]=zl(t,x,x),N=R[0][0].cell,P=R[R.length-1].at(-1).cell;w.focus.set(j?N.getKey():P.getKey(),j?N.getChildrenSize():P.getChildrenSize(),"element")}else if(T){const[R]=zl(t,y,y),N=R[0][0].cell,P=R[R.length-1].at(-1).cell;w.anchor.set(j?P.getKey():N.getKey(),j?P.getChildrenSize():0,"element")}fi(w),GX(r,o)}else if(S&&(y.is(x)||(o.$setAnchorCellForSelection(rA(o,y)),o.$setFocusCellForSelection(rA(o,x),!0)),o.pointerType==="touch"&&o.isSelecting&&h.isCollapsed()&&nt(A)&&A.isCollapsed())){const w=G0(A.anchor.getNode());w&&!w.is(x)&&(o.$setAnchorCellForSelection(rA(o,w)),o.$setFocusCellForSelection(rA(o,x),!0),o.pointerType=null)}}else if(h&&ii(h)&&h.is(A)&&h.tableKey===t.getKey()){const I=aa(s);if(I&&I.anchorNode&&I.focusNode){const p=Oa(I.focusNode),m=p&&!t.isParentOf(p),v=Oa(I.anchorNode),y=v&&t.isParentOf(v);if(m&&y&&I.rangeCount>0){const x=uXe(I,r);x&&(x.anchor.set(t.getKey(),h.isBackward()?t.getChildrenSize():0,"element"),I.removeAllRanges(),fi(x))}}}return h&&!h.is(A)&&(ii(h)||ii(A))&&o.tableSelection&&!o.tableSelection.is(A)?(ii(h)&&h.tableKey===o.tableNodeKey?o.$updateTableTableSelection(h):!ii(h)&&ii(A)&&A.tableKey===o.tableNodeKey&&o.$updateTableTableSelection(null),!1):(o.hasHijackedSelectionStyles&&!t.isSelected()?function(I,p){p.$enableHighlightStyle(),X9(p.table,m=>{const v=m.elem;m.highlighted=!1,O_e(I,m),v.getAttribute("style")||v.removeAttribute("style")})}(r,o):!o.hasHijackedSelectionStyles&&t.isSelected()&&GX(r,o),!1)},xc)),o.listenersToRemove.add(r.registerCommand(JA,()=>{const h=pt();if(!nt(h)||!h.isCollapsed()||!yu(h,t))return!1;const A=HX(r,h,t);return!!A&&(VX(A,t),!0)},xc)),o}function UX(t){return t[y7]||null}function G2(t){let e=t;for(;e!=null;){const r=e.nodeName;if(r==="TD"||r==="TH"){const n=e._cell;return n===void 0?null:n}e=e.parentNode}return null}function WX(t,e){if(!t.contains(e))return null;let r=null;for(let n=e;n!=null;n=n.parentNode){if(n===t)return r;const i=n.nodeName;i!=="TD"&&i!=="TH"||(r=n._cell||null)}return null}function Cp(t,e){const r=[],n={columns:0,domRows:r,rows:0};let i=aC(t,e).querySelector("tr"),s=0,o=0;for(r.length=0;i!=null;){const a=i.nodeName;if(a==="TD"||a==="TH"){const g={elem:i,hasBackgroundColor:i.style.backgroundColor!=="",highlighted:!1,x:s,y:o};i._cell=g;let d=r[o];d===void 0&&(d=r[o]=[]),d[s]=g}else{const g=i.firstChild;if(g!=null){i=g;continue}}const l=i.nextSibling;if(l!=null){s++,i=l;continue}const u=i.parentNode;if(u!=null){const g=u.nextSibling;if(g==null)break;o++,s=0,i=g}}return n.columns=s+1,n.rows=o+1,n}function $b(t,e,r){const n=new Set(r?r.getNodes():[]);X9(e,(i,s)=>{const o=i.elem;n.has(s)?(i.highlighted=!0,N_e(t,i)):(i.highlighted=!1,O_e(t,i),o.getAttribute("style")||o.removeAttribute("style"))})}function X9(t,e){const{domRows:r}=t;for(let n=0;n<r.length;n++){const i=r[n];if(i)for(let s=0;s<i.length;s++){const o=i[s];if(!o)continue;const a=Oa(o.elem);a!==null&&e(o,a,{x:s,y:n})}}}function GX(t,e){e.$disableHighlightStyle(),X9(e.table,r=>{r.highlighted=!0,N_e(t,r)})}const MJe=(t,e,r,n,i)=>{const s=i==="forward";switch(i){case"backward":case"forward":return r!==(s?t.table.columns-1:0)?zb(e.getCellNodeFromCordsOrThrow(r+(s?1:-1),n,t.table),s):n!==(s?t.table.rows-1:0)?zb(e.getCellNodeFromCordsOrThrow(s?0:t.table.columns-1,n+(s?1:-1),t.table),s):s?e.selectNext():e.selectPrevious(),!0;case"up":return n!==0?zb(e.getCellNodeFromCordsOrThrow(r,n-1,t.table),!1):e.selectPrevious(),!0;case"down":return n!==t.table.rows-1?zb(e.getCellNodeFromCordsOrThrow(r,n+1,t.table),!0):e.selectNext(),!0;default:return!1}};function S5(t,e){let r,n;if(e.startColumn===t.minColumn)r="minColumn";else{if(e.startColumn+e.cell.__colSpan-1!==t.maxColumn)return null;r="maxColumn"}if(e.startRow===t.minRow)n="minRow";else{if(e.startRow+e.cell.__rowSpan-1!==t.maxRow)return null;n="maxRow"}return[r,n]}function qb([t,e]){return[t==="minColumn"?"maxColumn":"minColumn",e==="minRow"?"maxRow":"minRow"]}function xI(t,e,[r,n]){const i=e[n],s=t[i];s===void 0&&mr(250,n,String(i));const o=e[r],a=s[o];return a===void 0&&mr(250,r,String(o)),a}function BJe(t,e,r,n,i){const s=W2(e,r,n),o=function(T,E){const{minColumn:_,maxColumn:S,minRow:j,maxRow:w}=E;let R=1,N=1,P=1,M=1;const B=T[j],W=T[w];for(let H=_;H<=S;H++)R=Math.max(R,B[H].cell.__rowSpan),M=Math.max(M,W[H].cell.__rowSpan);for(let H=j;H<=w;H++)N=Math.max(N,T[H][_].cell.__colSpan),P=Math.max(P,T[H][S].cell.__colSpan);return{bottomSpan:M,leftSpan:N,rightSpan:P,topSpan:R}}(e,s),{topSpan:a,leftSpan:l,bottomSpan:u,rightSpan:g}=o,d=function(T,E){const _=S5(T,E);return _===null&&mr(249,E.cell.getKey()),_}(s,r),[f,h]=qb(d);let A=s[f],C=s[h];i==="forward"?A+=f==="maxColumn"?1:l:i==="backward"?A-=f==="minColumn"?1:g:i==="down"?C+=h==="maxRow"?1:a:i==="up"&&(C-=h==="minRow"?1:u);const I=e[C];if(I===void 0)return!1;const p=I[A];if(p===void 0)return!1;const[m,v]=function(T,E,_){const S=W2(T,E,_),j=S5(S,E);if(j)return[xI(T,S,j),xI(T,S,qb(j))];const w=S5(S,_);if(w)return[xI(T,S,qb(w)),xI(T,S,w)];const R=["minColumn","minRow"];return[xI(T,S,R),xI(T,S,qb(R))]}(e,r,p),y=rA(t,m.cell),x=rA(t,v.cell);return t.$setAnchorCellForSelection(y),t.$setFocusCellForSelection(x,!0),!0}function yu(t,e){if(nt(t)||ii(t)){const r=e.isParentOf(t.anchor.getNode()),n=e.isParentOf(t.focus.getNode());return r&&n}return!1}function zb(t,e){e?t.selectStart():t.selectEnd()}function N_e(t,e){const r=e.elem,n=t._config.theme;xr(Oa(r))||mr(131),Ts(r,n.tableCellSelected)}function O_e(t,e){const r=e.elem;xr(Oa(r))||mr(131);const n=t._config.theme;Jg(r,n.tableCellSelected)}function G0(t){const e=Nr(t,xr);return xr(e)?e:null}function Ip(t){const e=Nr(t,mi);return mi(e)?e:null}function $Je(t,e,r,n,i,s,o){const a=Vc(r.focus,i?"previous":"next");if(z9(a))return!1;let l=a;for(const I of jy(a).iterNodeCarets("shadowRoot")){if(!rf(I)||!We(I.origin))return!1;l=I}const u=l.getParentAtCaret();if(!xr(u))return!1;const g=u,d=function(I){for(const p of jy(I).iterNodeCarets("root")){const{origin:m}=p;if(xr(m)){if(_a(p))return la(m,I.direction)}else if(!ki(m))break}return null}(Mi(g,l.direction)),f=Nr(g,mi);if(!f||!f.is(s))return!1;const h=t.getElementByKey(g.getKey()),A=G2(h);if(!h||!A)return!1;const C=zJe(t,f);if(o.table=C,d)if(n==="extend"){const I=G2(t.getElementByKey(d.origin.getKey()));if(!I)return!1;o.$setAnchorCellForSelection(A),o.$setFocusCellForSelection(I,!0)}else{const I=na(d);kc(r.anchor,I),kc(r.focus,I)}else if(n==="extend")o.$setAnchorCellForSelection(A),o.$setFocusCellForSelection(A,!0);else{const I=function(p){const m=R1(p);return _a(m)?na(m):p}(Mi(f,a.direction));kc(r.anchor,I),kc(r.focus,I)}return Bg(e),!0}function j_e(t,e,r,n,i){if((r==="up"||r==="down")&&function(o){const a=o.getRootElement();return a?a.hasAttribute("aria-controls")&&a.getAttribute("aria-controls")==="typeahead-menu":!1}(t))return!1;const s=pt();if(!yu(s,n)){if(nt(s)){if(r==="backward"){if(s.focus.offset>0)return!1;const o=function(l){for(let u=l,g=l;g!==null;u=g,g=g.getParent())if(We(g)){if(g!==u&&g.getFirstChild()!==u)return null;if(!g.isInline())return g}return null}(s.focus.getNode());if(!o)return!1;const a=o.getPreviousSibling();return!!mi(a)&&(Bg(e),e.shiftKey?s.focus.set(a.getParentOrThrow().getKey(),a.getIndexWithinParent(),"element"):a.selectEnd(),!0)}if(e.shiftKey&&(r==="up"||r==="down")){const o=s.focus.getNode();if(!s.isCollapsed()&&(r==="up"&&!s.isBackward()||r==="down"&&s.isBackward())){let a=Nr(o,f=>mi(f));if(xr(a)&&(a=Nr(a,mi)),a!==n||!a)return!1;const l=r==="down"?a.getNextSibling():a.getPreviousSibling();if(!l)return!1;let u=0;r==="up"&&We(l)&&(u=l.getChildrenSize());let g=l;r==="up"&&We(l)&&(g=l.getLastChild()||l,u=Rt(g)?g.getTextContentSize():0);const d=s.clone();return d.focus.set(g.getKey(),u,Rt(g)?"text":"element"),fi(d),Bg(e),!0}if(Ea(o)){const a=r==="up"?s.getNodes()[s.getNodes().length-1]:s.getNodes()[0];if(a&&Xv(n,a)!==null){const l=n.getFirstDescendant(),u=n.getLastDescendant();if(!l||!u)return!1;const[g]=ku(l),[d]=ku(u),f=n.getCordsFromCellNode(g,i.table),h=n.getCordsFromCellNode(d,i.table),A=n.getDOMCellFromCordsOrThrow(f.x,f.y,i.table),C=n.getDOMCellFromCordsOrThrow(h.x,h.y,i.table);return i.$setAnchorCellForSelection(A),i.$setFocusCellForSelection(C,!0),!0}return!1}{let a=Nr(o,u=>We(u)&&!u.isInline());if(xr(a)&&(a=Nr(a,mi)),!a)return!1;const l=r==="down"?a.getNextSibling():a.getPreviousSibling();if(mi(l)&&i.tableNodeKey===l.getKey()){const u=l.getFirstDescendant(),g=l.getLastDescendant();if(!u||!g)return!1;const[d]=ku(u),[f]=ku(g),h=s.clone();return h.focus.set((r==="up"?d:f).getKey(),r==="up"?0:f.getChildrenSize(),"element"),Bg(e),fi(h),!0}}}}return r==="down"&&V2(t)&&i.setShouldCheckSelection(),!1}if(nt(s)){if(r==="backward"||r==="forward")return $Je(t,e,s,e.shiftKey?"extend":"move",r==="backward",n,i);if(s.isCollapsed()){const{anchor:o,focus:a}=s,l=Nr(o.getNode(),xr),u=Nr(a.getNode(),xr);if(!xr(l)||!l.is(u))return!1;const g=Ip(l);if(g!==n&&g!=null){const p=aC(g,t.getElementByKey(g.getKey()));if(p!=null)return i.table=Cp(g,p),j_e(t,e,r,g,i)}const d=t.getElementByKey(l.__key),f=t.getElementByKey(o.key);if(f==null||d==null)return!1;let h;if(o.type==="element")h=f.getBoundingClientRect();else{const p=aa(Z9(t));if(p===null||p.rangeCount===0)return!1;h=p.getRangeAt(0).getBoundingClientRect()}const A=r==="up"?l.getFirstChild():l.getLastChild();if(A==null)return!1;const C=t.getElementByKey(A.__key);if(C==null)return!1;const I=C.getBoundingClientRect();if(r==="up"?I.top>h.top-h.height:h.bottom+h.height>I.bottom){Bg(e);const p=n.getCordsFromCellNode(l,i.table);if(!e.shiftKey)return MJe(i,n,p.x,p.y,r);{const m=n.getDOMCellFromCordsOrThrow(p.x,p.y,i.table);i.$setAnchorCellForSelection(m),i.$setFocusCellForSelection(m,!0)}return!0}}}else if(ii(s)){const{anchor:o,focus:a}=s,l=Nr(o.getNode(),xr),u=Nr(a.getNode(),xr),[g]=s.getNodes();mi(g)||mr(251);const d=aC(g,t.getElementByKey(g.getKey()));if(!xr(l)||!xr(u)||!mi(g)||d==null)return!1;i.$updateTableTableSelection(s);const f=Cp(g,d),h=n.getCordsFromCellNode(l,f),A=n.getDOMCellFromCordsOrThrow(h.x,h.y,f);if(i.$setAnchorCellForSelection(A),Bg(e),e.shiftKey){const[C,I,p]=zl(n,l,u);return BJe(i,C,I,p,r)}return u.selectEnd(),!0}return!1}function Bg(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation()}function VX(t,e,r){const n=qr();t==="first"?e.insertBefore(n):e.insertAfter(n),n.append(...r||[]),n.selectEnd()}function HX(t,e,r){const n=r.getParent();if(!n)return;const i=aa(Z9(t));if(!i)return;const s=i.anchorNode,o=t.getElementByKey(n.getKey()),a=aC(r,t.getElementByKey(r.getKey()));if(!s||!o||!a||!o.contains(s)||a.contains(s))return;const l=Nr(e.anchor.getNode(),m=>xr(m));if(!l)return;const u=Nr(l,m=>mi(m));if(!mi(u)||!u.is(r))return;const[g,d]=zl(r,l,l),f=g[0][0],h=g[g.length-1][g[0].length-1],{startRow:A,startColumn:C}=d,I=A===f.startRow&&C===f.startColumn,p=A===h.startRow&&C===h.startColumn;return I?"first":p?"last":void 0}function rA(t,e){const{tableNode:r}=t.$lookup(),n=r.getCordsFromCellNode(e,t.table);return r.getDOMCellFromCordsOrThrow(n.x,n.y,t.table)}function x7(t,e,r){return Xv(t,Oa(e,r))}function KX(t,e,r){if(!e.theme.tableAlignment)return;const n=[],i=[];for(const s of["center","right"]){const o=e.theme.tableAlignment[s];o&&(s===r?i:n).push(o)}Jg(t,...n),Ts(t,...i)}const b7=new WeakSet;function V2(t=bm()){return b7.has(t)}function qJe(t,e){e?b7.add(t):b7.delete(t)}class Cd extends $o{constructor(r){super(r);ve(this,"__rowStriping");ve(this,"__frozenColumnCount");ve(this,"__frozenRowCount");ve(this,"__colWidths");this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0,this.__colWidths=void 0}static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(r){const n=this.getWritable();return n.__colWidths=r,n}static clone(r){return new Cd(r.__key)}afterCloneFrom(r){super.afterCloneFrom(r),this.__colWidths=r.__colWidths,this.__rowStriping=r.__rowStriping,this.__frozenColumnCount=r.__frozenColumnCount,this.__frozenRowCount=r.__frozenRowCount}static importDOM(){return{table:r=>({conversion:UJe,priority:1})}}static importJSON(r){return Q9().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setRowStriping(r.rowStriping||!1).setFrozenColumns(r.frozenColumnCount||0).setFrozenRows(r.frozenRowCount||0).setColWidths(r.colWidths)}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(r,n,i){return i==="html"}getDOMSlot(r){const n=qI(r)?r:r.querySelector("table");return qI(n)||mr(229),super.getDOMSlot(r).withElement(n).withAfter(n.querySelector("colgroup"))}createDOM(r,n){const i=document.createElement("table");this.__style&&(i.style.cssText=this.__style);const s=document.createElement("colgroup");if(i.appendChild(s),OXe(s),Ts(i,r.theme.table),this.updateTableElement(null,i,r),V2(n)){const o=document.createElement("div"),a=r.theme.tableScrollableWrapper;return a?Ts(o,a):o.style.cssText="overflow-x: auto;",o.appendChild(i),this.updateTableWrapper(null,o,i,r),o}return i}updateTableWrapper(r,n,i,s){this.__frozenColumnCount!==(r?r.__frozenColumnCount:0)&&function(o,a,l,u){u>0?(Ts(o,l.theme.tableFrozenColumn),a.setAttribute("data-lexical-frozen-column","true")):(Jg(o,l.theme.tableFrozenColumn),a.removeAttribute("data-lexical-frozen-column"))}(n,i,s,this.__frozenColumnCount),this.__frozenRowCount!==(r?r.__frozenRowCount:0)&&function(o,a,l,u){u>0?(Ts(o,l.theme.tableFrozenRow),a.setAttribute("data-lexical-frozen-row","true")):(Jg(o,l.theme.tableFrozenRow),a.removeAttribute("data-lexical-frozen-row"))}(n,i,s,this.__frozenRowCount)}updateTableElement(r,n,i){this.__style!==(r?r.__style:"")&&(n.style.cssText=this.__style),this.__rowStriping!==(!!r&&r.__rowStriping)&&function(s,o,a){a?(Ts(s,o.theme.tableRowStriping),s.setAttribute("data-lexical-row-striping","true")):(Jg(s,o.theme.tableRowStriping),s.removeAttribute("data-lexical-row-striping"))}(n,i,this.__rowStriping),function(s,o,a,l){const u=s.querySelector("colgroup");if(!u)return;const g=[];for(let d=0;d<a;d++){const f=document.createElement("col"),h=l&&l[d];h&&(f.style.width=`${h}px`),g.push(f)}u.replaceChildren(...g)}(n,0,this.getColumnCount(),this.getColWidths()),KX(n,i,this.getFormatType())}updateDOM(r,n,i){const s=this.getDOMSlot(n).element;return n===s===V2()||(ui(o=n)&&o.nodeName==="DIV"&&this.updateTableWrapper(r,n,s,i),this.updateTableElement(r,s,i),!1);var o}exportDOM(r){const n=super.exportDOM(r),{element:i}=n;return{after:s=>{if(n.after&&(s=n.after(s)),!qI(s)&&ui(s)&&(s=s.querySelector("table")),!qI(s))return null;KX(s,r._config,this.getFormatType());const[o]=_h(this,null,null),a=new Map;for(const d of o)for(const f of d){const h=f.cell.getKey();a.has(h)||a.set(h,{colSpan:f.cell.getColSpan(),startColumn:f.startColumn})}const l=new Set;for(const d of s.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const f=d.getAttribute("data-temporary-table-cell-lexical-key");if(f){const h=a.get(f);if(d.removeAttribute("data-temporary-table-cell-lexical-key"),h){a.delete(f);for(let A=0;A<h.colSpan;A++)l.add(A+h.startColumn)}}}const u=s.querySelector(":scope > colgroup");if(u){const d=Array.from(s.querySelectorAll(":scope > colgroup > col")).filter((f,h)=>l.has(h));u.replaceChildren(...d)}const g=s.querySelectorAll(":scope > tr");if(g.length>0){const d=document.createElement("tbody");for(const f of g)d.appendChild(f);s.append(d)}return s},element:!qI(i)&&ui(i)?i.querySelector("table"):i}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(r,n){const{rows:i,domRows:s}=n;for(let o=0;o<i;o++){const a=s[o];if(a!=null)for(let l=0;l<a.length;l++){const u=a[l];if(u==null)continue;const{elem:g}=u,d=x7(this,g);if(d!==null&&r.is(d))return{x:l,y:o}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(r,n,i){const{domRows:s}=i,o=s[n];if(o==null)return null;const a=o[r<o.length?r:o.length-1];return a??null}getDOMCellFromCordsOrThrow(r,n,i){const s=this.getDOMCellFromCords(r,n,i);if(!s)throw new Error("Cell not found at cords.");return s}getCellNodeFromCords(r,n,i){const s=this.getDOMCellFromCords(r,n,i);if(s==null)return null;const o=Oa(s.elem);return xr(o)?o:null}getCellNodeFromCordsOrThrow(r,n,i){const s=this.getCellNodeFromCords(r,n,i);if(!s)throw new Error("Node at cords not TableCellNode.");return s}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(r){const n=this.getWritable();return n.__rowStriping=r,n}setFrozenColumns(r){const n=this.getWritable();return n.__frozenColumnCount=r,n}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(r){const n=this.getWritable();return n.__frozenRowCount=r,n}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const r=this.getFirstChild();if(!r)return 0;let n=0;return r.getChildren().forEach(i=>{xr(i)&&(n+=i.getColSpan())}),n}}function zJe(t,e){const r=t.getElementByKey(e.getKey());return r===null&&mr(230),Cp(e,r)}function UJe(t){const e=Q9();t.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),t.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),t.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const r=t.querySelector(":scope > colgroup");if(r){let n=[];for(const i of r.querySelectorAll(":scope > col")){let s=i.style.width||"";if(!K9.test(s)&&(s=i.getAttribute("width")||"",!/^\d+$/.test(s))){n=void 0;break}n.push(parseFloat(s))}n&&e.setColWidths(n)}return{after:n=>XEe(n,ki),node:e}}function Q9(){return Fa(new Cd)}function mi(t){return t instanceof Cd}function WJe({rows:t,columns:e,includeHeaders:r}){const n=pt()||Hu();if(!n||!nt(n)||Ip(n.anchor.getNode()))return!1;const i=bJe(Number(t),Number(e),r);sQe(i);const s=i.getFirstDescendant();return Rt(s)&&s.select(),!0}function GJe(t){ki(t.getParent())?t.isEmpty()&&t.append(qr()):t.remove()}function VJe(t){mi(t.getParent())?YEe(t,xr):t.remove()}function HJe(t){YEe(t,ki);const[e]=_h(t,null,null),r=e.reduce((i,s)=>Math.max(i,s.length),0),n=t.getChildren();for(let i=0;i<e.length;++i){const s=n[i];if(!s)continue;ki(s)||mr(254,s.constructor.name,s.getType());const o=e[i].reduce((a,l)=>l?1+a:a,0);if(o!==r)for(let a=o;a<r;++a){const l=qc();l.append(qr()),s.append(l)}}}function KJe(t){if(t.detail<3||!Pc(t.target))return!1;const e=Oa(t.target);if(e===null)return!1;const r=Nr(e,n=>We(n)&&!n.isInline());return r===null?!1:!!xr(r.getParent())&&(r.select(0),!0)}function YJe(t){return t.registerNodeTransform(wd,e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,r]=ku(e),[n]=zl(r,e,e),i=n.length,s=n[0].length;let o=r.getFirstChild();ki(o)||mr(175);const a=[];for(let l=0;l<i;l++){l!==0&&(o=o.getNextSibling(),ki(o)||mr(175));let u=null;for(let g=0;g<s;g++){const d=n[l][g],f=d.cell;if(d.startRow===l&&d.startColumn===g)u=f,a.push(f);else if(f.getColSpan()>1||f.getRowSpan()>1){xr(f)||mr(176);const h=qc(f.__headerState);u!==null?u.insertAfter(h):aQe(o,h)}}}for(const l of a)l.setColSpan(1),l.setRowSpan(1)}})}function ZJe(t,e=!0){const r=new Map,n=(s,o,a)=>{const l=aC(s,a),u=LJe(s,l,t,e);r.set(o,[u,l])},i=t.registerMutationListener(Cd,s=>{t.getEditorState().read(()=>{for(const[o,a]of s){const l=r.get(o);if(a==="created"||a==="updated"){const{tableNode:u,tableElement:g}=R_e(o);l===void 0?n(u,o,g):g!==l[1]&&(l[0].removeListeners(),r.delete(o),n(u,o,g))}else a==="destroyed"&&l!==void 0&&(l[0].removeListeners(),r.delete(o))}},{editor:t})},{skipInitialization:!1});return()=>{i();for(const[,[s]]of r)s.removeListeners()}}function XJe(t){return t.hasNodes([Cd])||mr(255),Hc(t.registerCommand(vJe,WJe,Ur),t.registerCommand(h9,({nodes:e,selection:r},n)=>t!==n||!nt(r)?!1:Ip(r.anchor.getNode())!==null&&e.some(mi),Ur),t.registerCommand(f9,KJe,Ur),t.registerNodeTransform(Cd,HJe),t.registerNodeTransform(Em,VJe),t.registerNodeTransform(wd,GJe))}function QJe({hasCellMerge:t=!0,hasCellBackgroundColor:e=!0,hasTabHandler:r=!0,hasHorizontalScroll:n=!1}){const[i]=vl();return D.useEffect(()=>{V2(i)!==n&&(qJe(i,n),i.registerNodeTransform(Cd,()=>{})())},[i,n]),D.useEffect(()=>XJe(i),[i]),D.useEffect(()=>ZJe(i,r),[i,r]),D.useEffect(()=>{if(!t)return YJe(i)},[i,t]),D.useEffect(()=>{if(!e)return i.registerNodeTransform(wd,s=>{s.getBackgroundColor()!==null&&s.setBackgroundColor(null)})},[i,e,t]),null}const JJe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function eet({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:r}){const[n]=vl();return JJe(()=>{if(r)return n.registerUpdateListener(({editorState:i,dirtyElements:s,dirtyLeaves:o,prevEditorState:a,tags:l})=>{e&&s.size===0&&o.size===0||t&&l.has(TA)||a.isEmpty()||r(i,n,l)})},[n,t,e,r]),null}const tet=D.createContext(null),E5={didCatch:!1,error:null};let ret=class extends D.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=E5}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:s,reason:"imperative-api"}),this.setState(E5)}}componentDidCatch(e,r){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,e,r)}componentDidUpdate(e,r){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&r.error!==null&&net(e.resetKeys,i)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(E5)}}render(){const{children:e,fallbackRender:r,FallbackComponent:n,fallback:i}=this.props,{didCatch:s,error:o}=this.state;let a=e;if(s){const l={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")a=r(l);else if(n)a=D.createElement(n,l);else if(i!==void 0)a=i;else throw o}return D.createElement(tet.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}};function net(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((r,n)=>!Object.is(r,e[n]))}function iet({children:t,onError:e}){return c.jsx(ret,{fallback:c.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}var set={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function m(v){return v instanceof l?new l(v.type,m(v.content),v.alias):Array.isArray(v)?v.map(m):v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++s}),m.__id},clone:function m(v,y){y=y||{};var x,T;switch(a.util.type(v)){case"Object":if(T=a.util.objId(v),y[T])return y[T];x={},y[T]=x;for(var E in v)v.hasOwnProperty(E)&&(x[E]=m(v[E],y));return x;case"Array":return T=a.util.objId(v),y[T]?y[T]:(x=[],y[T]=x,v.forEach(function(_,S){x[S]=m(_,y)}),x);default:return v}},getLanguage:function(m){for(;m;){var v=i.exec(m.className);if(v)return v[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,v){m.className=m.className.replace(RegExp(i,"gi"),""),m.classList.add("language-"+v)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(x){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(x.stack)||[])[1];if(m){var v=document.getElementsByTagName("script");for(var y in v)if(v[y].src==m)return v[y]}return null}},isActive:function(m,v,y){for(var x="no-"+v;m;){var T=m.classList;if(T.contains(v))return!0;if(T.contains(x))return!1;m=m.parentElement}return!!y}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(m,v){var y=a.util.clone(a.languages[m]);for(var x in v)y[x]=v[x];return y},insertBefore:function(m,v,y,x){x=x||a.languages;var T=x[m],E={};for(var _ in T)if(T.hasOwnProperty(_)){if(_==v)for(var S in y)y.hasOwnProperty(S)&&(E[S]=y[S]);y.hasOwnProperty(_)||(E[_]=T[_])}var j=x[m];return x[m]=E,a.languages.DFS(a.languages,function(w,R){R===j&&w!=m&&(this[w]=E)}),E},DFS:function m(v,y,x,T){T=T||{};var E=a.util.objId;for(var _ in v)if(v.hasOwnProperty(_)){y.call(v,_,v[_],x||_);var S=v[_],j=a.util.type(S);j==="Object"&&!T[E(S)]?(T[E(S)]=!0,m(S,y,null,T)):j==="Array"&&!T[E(S)]&&(T[E(S)]=!0,m(S,y,_,T))}}},plugins:{},highlightAll:function(m,v){a.highlightAllUnder(document,m,v)},highlightAllUnder:function(m,v,y){var x={callback:y,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",x),x.elements=Array.prototype.slice.apply(x.container.querySelectorAll(x.selector)),a.hooks.run("before-all-elements-highlight",x);for(var T=0,E;E=x.elements[T++];)a.highlightElement(E,v===!0,x.callback)},highlightElement:function(m,v,y){var x=a.util.getLanguage(m),T=a.languages[x];a.util.setLanguage(m,x);var E=m.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,x);var _=m.textContent,S={element:m,language:x,grammar:T,code:_};function j(R){S.highlightedCode=R,a.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,a.hooks.run("after-highlight",S),a.hooks.run("complete",S),y&&y.call(S.element)}if(a.hooks.run("before-sanity-check",S),E=S.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!S.code){a.hooks.run("complete",S),y&&y.call(S.element);return}if(a.hooks.run("before-highlight",S),!S.grammar){j(a.util.encode(S.code));return}if(v&&n.Worker){var w=new Worker(a.filename);w.onmessage=function(R){j(R.data)},w.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else j(a.highlight(S.code,S.grammar,S.language))},highlight:function(m,v,y){var x={code:m,grammar:v,language:y};if(a.hooks.run("before-tokenize",x),!x.grammar)throw new Error('The language "'+x.language+'" has no grammar.');return x.tokens=a.tokenize(x.code,x.grammar),a.hooks.run("after-tokenize",x),l.stringify(a.util.encode(x.tokens),x.language)},tokenize:function(m,v){var y=v.rest;if(y){for(var x in y)v[x]=y[x];delete v.rest}var T=new d;return f(T,T.head,m),g(m,T,v,T.head,0),A(T)},hooks:{all:{},add:function(m,v){var y=a.hooks.all;y[m]=y[m]||[],y[m].push(v)},run:function(m,v){var y=a.hooks.all[m];if(!(!y||!y.length))for(var x=0,T;T=y[x++];)T(v)}},Token:l};n.Prism=a;function l(m,v,y,x){this.type=m,this.content=v,this.alias=y,this.length=(x||"").length|0}l.stringify=function m(v,y){if(typeof v=="string")return v;if(Array.isArray(v)){var x="";return v.forEach(function(j){x+=m(j,y)}),x}var T={type:v.type,content:m(v.content,y),tag:"span",classes:["token",v.type],attributes:{},language:y},E=v.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(T.classes,E):T.classes.push(E)),a.hooks.run("wrap",T);var _="";for(var S in T.attributes)_+=" "+S+'="'+(T.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+T.tag+' class="'+T.classes.join(" ")+'"'+_+">"+T.content+"</"+T.tag+">"};function u(m,v,y,x){m.lastIndex=v;var T=m.exec(y);if(T&&x&&T[1]){var E=T[1].length;T.index+=E,T[0]=T[0].slice(E)}return T}function g(m,v,y,x,T,E){for(var _ in y)if(!(!y.hasOwnProperty(_)||!y[_])){var S=y[_];S=Array.isArray(S)?S:[S];for(var j=0;j<S.length;++j){if(E&&E.cause==_+","+j)return;var w=S[j],R=w.inside,N=!!w.lookbehind,P=!!w.greedy,M=w.alias;if(P&&!w.pattern.global){var B=w.pattern.toString().match(/[imsuy]*$/)[0];w.pattern=RegExp(w.pattern.source,B+"g")}for(var W=w.pattern||w,H=x.next,V=T;H!==v.tail&&!(E&&V>=E.reach);V+=H.value.length,H=H.next){var K=H.value;if(v.length>m.length)return;if(!(K instanceof l)){var Y=1,k;if(P){if(k=u(W,V,m,N),!k||k.index>=m.length)break;var Z=k.index,q=k.index+k[0].length,z=V;for(z+=H.value.length;Z>=z;)H=H.next,z+=H.value.length;if(z-=H.value.length,V=z,H.value instanceof l)continue;for(var G=H;G!==v.tail&&(z<q||typeof G.value=="string");G=G.next)Y++,z+=G.value.length;Y--,K=m.slice(V,z),k.index-=V}else if(k=u(W,0,K,N),!k)continue;var Z=k.index,ue=k[0],re=K.slice(0,Z),ie=K.slice(Z+ue.length),Ce=V+K.length;E&&Ce>E.reach&&(E.reach=Ce);var Pe=H.prev;re&&(Pe=f(v,Pe,re),V+=re.length),h(v,Pe,Y);var Fe=new l(_,R?a.tokenize(ue,R):ue,M,ue);if(H=f(v,Pe,Fe),ie&&f(v,H,ie),Y>1){var He={cause:_+","+j,reach:Ce};g(m,v,y,H.prev,V,He),E&&He.reach>E.reach&&(E.reach=He.reach)}}}}}}function d(){var m={value:null,prev:null,next:null},v={value:null,prev:m,next:null};m.next=v,this.head=m,this.tail=v,this.length=0}function f(m,v,y){var x=v.next,T={value:y,prev:v,next:x};return v.next=T,x.prev=T,m.length++,T}function h(m,v,y){for(var x=v.next,T=0;T<y&&x!==m.tail;T++)x=x.next;v.next=x,x.prev=v,m.length-=T}function A(m){for(var v=[],y=m.head.next;y!==m.tail;)v.push(y.value),y=y.next;return v}if(!n.document)return n.addEventListener&&(a.disableWorkerMessageHandler||n.addEventListener("message",function(m){var v=JSON.parse(m.data),y=v.language,x=v.code,T=v.immediateClose;n.postMessage(a.highlight(x,a.languages[y],y)),T&&n.close()},!1)),a;var C=a.util.currentScript();C&&(a.filename=C.src,C.hasAttribute("data-manual")&&(a.manual=!0));function I(){a.manual||a.highlightAll()}if(!a.manual){var p=document.readyState;p==="loading"||p==="interactive"&&C&&C.defer?document.addEventListener("DOMContentLoaded",I):window.requestAnimationFrame?window.requestAnimationFrame(I):window.setTimeout(I,16)}return a}(e);t.exports&&(t.exports=r),typeof qg<"u"&&(qg.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(i,s){var o={};o["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[s]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+s]={pattern:/[\s\S]+/,inside:r.languages[s]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},r.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,i){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:r.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var s=n.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading",i=function(C,I){return" Error "+C+" while fetching file: "+I},s=" Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",u="loaded",g="failed",d="pre[data-src]:not(["+a+'="'+u+'"]):not(['+a+'="'+l+'"])';function f(C,I,p){var m=new XMLHttpRequest;m.open("GET",C,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?I(m.responseText):m.status>=400?p(i(m.status,m.statusText)):p(s))},m.send(null)}function h(C){var I=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(C||"");if(I){var p=Number(I[1]),m=I[2],v=I[3];return m?v?[p,Number(v)]:[p,void 0]:[p,p]}}r.hooks.add("before-highlightall",function(C){C.selector+=", "+d}),r.hooks.add("before-sanity-check",function(C){var I=C.element;if(I.matches(d)){C.code="",I.setAttribute(a,l);var p=I.appendChild(document.createElement("CODE"));p.textContent=n;var m=I.getAttribute("data-src"),v=C.language;if(v==="none"){var y=(/\.(\w+)$/.exec(m)||[,"none"])[1];v=o[y]||y}r.util.setLanguage(p,v),r.util.setLanguage(I,v);var x=r.plugins.autoloader;x&&x.loadLanguages(v),f(m,function(T){I.setAttribute(a,u);var E=h(I.getAttribute("data-range"));if(E){var _=T.split(/\r\n?|\n/g),S=E[0],j=E[1]==null?_.length:E[1];S<0&&(S+=_.length),S=Math.max(0,Math.min(S-1,_.length)),j<0&&(j+=_.length),j=Math.max(0,Math.min(j,_.length)),T=_.slice(S,j).join(`
`),I.hasAttribute("data-start")||I.setAttribute("data-start",String(S+1))}p.textContent=T,r.highlightElement(p)},function(T){I.setAttribute(a,g),p.textContent=T})}}),r.plugins.fileHighlight={highlight:function(I){for(var p=(I||document).querySelectorAll(d),m=0,v;v=p[m++];)r.highlightElement(v)}};var A=!1;r.fileHighlight=function(){A||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),A=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(set);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,r){var n={};n["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var s={};s[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(g){return g=g.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+g+")")}var n=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return n}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+s+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+s+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(g){["url","bold","italic","strike","code-snippet"].forEach(function(d){g!==d&&(t.languages.markdown[g].inside.content.inside[d]=t.languages.markdown[d])})}),t.hooks.add("after-tokenize",function(g){if(g.language!=="markdown"&&g.language!=="md")return;function d(f){if(!(!f||typeof f=="string"))for(var h=0,A=f.length;h<A;h++){var C=f[h];if(C.type!=="code"){d(C.content);continue}var I=C.content[1],p=C.content[3];if(I&&p&&I.type==="code-language"&&p.type==="code-block"&&typeof I.content=="string"){var m=I.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");m=(/[a-z][\w-]*/i.exec(m)||[""])[0].toLowerCase();var v="language-"+m;p.alias?typeof p.alias=="string"?p.alias=[p.alias,v]:p.alias.push(v):p.alias=[v]}}}d(g.tokens)}),t.hooks.add("wrap",function(g){if(g.type==="code-block"){for(var d="",f=0,h=g.classes.length;f<h;f++){var A=g.classes[f],C=/language-(.+)/.exec(A);if(C){d=C[1];break}}var I=t.languages[d];if(I)g.content=t.highlight(u(g.content),I,d);else if(d&&d!=="none"&&t.plugins.autoloader){var p="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);g.attributes.id=p,t.plugins.autoloader.loadLanguages(d,function(){var m=document.getElementById(p);m&&(m.innerHTML=t.highlight(m.textContent,t.languages[d],d))})}}});var o=RegExp(t.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function u(g){var d=g.replace(o,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(f,h){if(h=h.toLowerCase(),h[0]==="#"){var A;return h[1]==="x"?A=parseInt(h.slice(2),16):A=Number(h.slice(1)),l(A)}else{var C=a[h];return C||f}}),d}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(t){var e=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism);(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,n={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[n,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:n.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:n.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":n,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:n.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:n.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);function P_e(t,e){for(const r of t.childNodes){if(ui(r)&&r.tagName===e)return!0;P_e(r,e)}return!1}const pv="data-language",V0="data-highlight-language",Ub="data-theme";let J9=class k_e extends $o{constructor(r,n){super(n);ve(this,"__language");ve(this,"__theme");ve(this,"__isSyntaxHighlightSupported");this.__language=r||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}static getType(){return"code"}static clone(r){return new k_e(r.__language,r.__key)}afterCloneFrom(r){super.afterCloneFrom(r),this.__language=r.__language,this.__theme=r.__theme,this.__isSyntaxHighlightSupported=r.__isSyntaxHighlightSupported}createDOM(r){const n=document.createElement("code");Ts(n,r.theme.code),n.setAttribute("spellcheck","false");const i=this.getLanguage();i&&(n.setAttribute(pv,i),this.getIsSyntaxHighlightSupported()&&n.setAttribute(V0,i));const s=this.getTheme();s&&n.setAttribute(Ub,s);const o=this.getStyle();return o&&n.setAttribute("style",o),n}updateDOM(r,n,i){const s=this.__language,o=r.__language;s?s!==o&&n.setAttribute(pv,s):o&&n.removeAttribute(pv);const a=this.__isSyntaxHighlightSupported;r.__isSyntaxHighlightSupported&&o?a&&s?s!==o&&n.setAttribute(V0,s):n.removeAttribute(V0):a&&s&&n.setAttribute(V0,s);const l=this.__theme,u=r.__theme;l?l!==u&&n.setAttribute(Ub,l):u&&n.removeAttribute(Ub);const g=this.__style,d=r.__style;return g?g!==d&&n.setAttribute("style",g):d&&n.removeAttribute("style"),!1}exportDOM(r){const n=document.createElement("pre");Ts(n,r._config.theme.code),n.setAttribute("spellcheck","false");const i=this.getLanguage();i&&(n.setAttribute(pv,i),this.getIsSyntaxHighlightSupported()&&n.setAttribute(V0,i));const s=this.getTheme();s&&n.setAttribute(Ub,s);const o=this.getStyle();return o&&n.setAttribute("style",o),{element:n}}static importDOM(){return{code:r=>r.textContent!=null&&(/\r?\n/.test(r.textContent)||P_e(r,"BR"))?{conversion:YX,priority:1}:null,div:()=>({conversion:aet,priority:1}),pre:()=>({conversion:YX,priority:0}),table:r=>_5(r)?{conversion:cet,priority:3}:null,td:r=>{const n=r,i=n.closest("table");return n.classList.contains("js-file-line")||i&&_5(i)?{conversion:ZX,priority:3}:null},tr:r=>{const n=r.closest("table");return n&&_5(n)?{conversion:ZX,priority:3}:null}}}static importJSON(r){return j1().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setLanguage(r.language).setTheme(r.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(r,n=!0){const i=this.getChildren(),s=i.length;if(s>=2&&i[s-1].getTextContent()===`
`&&i[s-2].getTextContent()===`
`&&r.isCollapsed()&&r.anchor.key===this.__key&&r.anchor.offset===s){i[s-1].remove(),i[s-2].remove();const u=qr();return this.insertAfter(u,n),u}const{anchor:o,focus:a}=r,l=(o.isBefore(a)?o:a).getNode();if(Rt(l)){let u=get(l);const g=[];for(;;)if(nE(u))g.push(pm()),u=u.getNextSibling();else{if(!F_e(u))break;{let p=0;const m=u.getTextContent(),v=u.getTextContentSize();for(;p<v&&m[p]===" ";)p++;if(p!==0&&g.push(D_e(" ".repeat(p))),p!==v)break;u=u.getNextSibling()}}const d=l.splitText(o.offset)[0],f=o.offset===0?0:1,h=d.getIndexWithinParent()+f,A=l.getParentOrThrow(),C=[fd(),...g];A.splice(h,0,C);const I=g[g.length-1];I?I.select():o.offset===0?d.selectPrevious():d.getNextSibling().selectNext(0,0)}if(oet(l)){const{offset:u}=r.anchor;l.splice(u,0,[fd()]),l.select(u+1,u+1)}return null}canIndent(){return!1}collapseAtStart(){const r=qr();return this.getChildren().forEach(n=>r.append(n)),this.replace(r),!0}setLanguage(r){const n=this.getWritable();return n.__language=r||void 0,n}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(r){const n=this.getWritable();return n.__isSyntaxHighlightSupported=r,n}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(r){const n=this.getWritable();return n.__theme=r||void 0,n}getTheme(){return this.getLatest().__theme}};function j1(t,e){return PXe(J9).setLanguage(t).setTheme(e)}function oet(t){return t instanceof J9}function YX(t){return{node:j1(t.getAttribute(pv))}}function aet(t){const e=t,r=XX(e);return r||function(n){let i=n.parentElement;for(;i!==null;){if(XX(i))return!0;i=i.parentElement}return!1}(e)?{node:r?j1():null}:{node:null}}function cet(){return{node:j1()}}function ZX(){return{node:null}}function XX(t){return t.style.fontFamily.match("monospace")!==null}function _5(t){return t.classList.contains("js-file-line-container")}class AE extends xd{constructor(r="",n,i){super(r,i);ve(this,"__highlightType");this.__highlightType=n}static getType(){return"code-highlight"}static clone(r){return new AE(r.__text,r.__highlightType||void 0,r.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(r){const n=this.getWritable();return n.__highlightType=r||void 0,n}canHaveFormat(){return!1}createDOM(r){const n=super.createDOM(r),i=T5(r.theme,this.__highlightType);return Ts(n,i),n}updateDOM(r,n,i){const s=super.updateDOM(r,n,i),o=T5(i.theme,r.__highlightType),a=T5(i.theme,this.__highlightType);return o!==a&&(o&&Jg(n,o),a&&Ts(n,a)),s}static importJSON(r){return D_e().updateFromJSON(r)}updateFromJSON(r){return super.updateFromJSON(r).setHighlightType(r.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(r){return this}isParentRequired(){return!0}createParentElementNode(){return j1()}}function T5(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function D_e(t="",e){return Fa(new AE(t,e))}function F_e(t){return t instanceof AE}function uet(t,e){let r=t;for(let n=Mi(t,e);n&&(F_e(n.origin)||nE(n.origin));n=nQe(n))r=n.origin;return r}function get(t){return uet(t,"previous")}(function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach(function(r){var n=e[r],i=[];/^\w+$/.test(r)||i.push(/\w+/.exec(r)[0]),r==="diff"&&i.push("bold"),t.languages.diff[r]={pattern:RegExp("^(?:["+n+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(r)[0]}}}}),Object.defineProperty(t.languages.diff,"PREFIXES",{value:e})})(Prism);const{Dragger:det}=J1e,L_e=dr("INSERT_IMAGE_COMMAND");class P1 extends lE{constructor(r,n,i,s,o,a,l){super(l);ve(this,"__src");ve(this,"__altText");ve(this,"__width");ve(this,"__height");ve(this,"__caption");ve(this,"__alignment");this.__src=r,this.__altText=n,this.__width=i,this.__height=s,this.__caption=o,this.__alignment=a||"left"}static getType(){return"image"}static clone(r){return new P1(r.__src,r.__altText,r.__width,r.__height,r.__caption,r.__alignment,r.__key)}exportJSON(){return{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,caption:this.__caption,alignment:this.__alignment,type:"image",version:1}}static importJSON(r){const{src:n,altText:i,width:s,height:o,caption:a,alignment:l}=r;return w7({src:n,altText:i,width:s,height:o,caption:a,alignment:l})}exportDOM(){const r=document.createElement("img");return r.setAttribute("src",this.__src),r.setAttribute("alt",this.__altText),this.__width&&r.setAttribute("width",this.__width.toString()),this.__height&&r.setAttribute("height",this.__height.toString()),{element:r}}static importDOM(){return{img:()=>({conversion:r=>{const n=r;return{node:w7({src:n.src,altText:n.alt,width:n.width||void 0,height:n.height||void 0})}},priority:0})}}createDOM(){const r=document.createElement("div");return r.className=`image-node image-align-${this.__alignment}`,r}updateDOM(){return!1}decorate(){return c.jsx(het,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,caption:this.__caption,alignment:this.__alignment,nodeKey:this.__key})}}function w7(t){return new P1(t.src,t.altText,t.width,t.height,t.caption,t.alignment)}const het=({src:t,altText:e,width:r,height:n,caption:i,alignment:s="left"})=>c.jsxs("div",{className:`editor-image-container align-${s}`,children:[c.jsx("img",{src:t,alt:e,width:r,height:n,className:"editor-image",draggable:!1}),i&&c.jsx("div",{className:"editor-image-caption",children:i})]}),fet=()=>{const[t]=vl();return D.useEffect(()=>{if(!t.hasNodes([P1]))throw new Error("ImagePlugin: ImageNode not registered on editor");return t.registerCommand(L_e,e=>{const r=pt();if(nt(r)){const n=w7(e);r.insertNodes([n])}return!0},Ur)},[t]),null},Aet=({onImageUpload:t})=>{const[e,r]=D.useState(!1),i={name:"image",multiple:!1,accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",customRequest:async s=>{const{file:o,onSuccess:a,onError:l}=s;r(!0);try{const u=new FileReader;u.onload=()=>{const g=u.result,d=o.name;t(g,d),Ee.success(`${d} uploaded successfully`),a&&a("ok")},u.onerror=()=>{Ee.error("Failed to read image file"),l&&l(new Error("Failed to read image"))},u.readAsDataURL(o)}catch(u){Ee.error("Image upload failed"),l&&l(u)}finally{r(!1)}},showUploadList:!1};return c.jsxs(det,{...i,disabled:e,children:[c.jsx("p",{className:"ant-upload-drag-icon",children:c.jsx(exe,{})}),c.jsx("p",{className:"ant-upload-text",children:"Click or drag image to upload"}),c.jsx("p",{className:"ant-upload-hint",children:"Supports: PNG, JPG, GIF, WebP (max 10MB)"})]})},{TabPane:QX}=Zc,M_e=dr("INSERT_VIDEO_COMMAND");class k1 extends lE{constructor(r,n,i,s,o,a,l){super(l);ve(this,"__src");ve(this,"__type");ve(this,"__width");ve(this,"__height");ve(this,"__caption");ve(this,"__thumbnail");this.__src=r,this.__type=n,this.__width=i||640,this.__height=s||360,this.__caption=o,this.__thumbnail=a}static getType(){return"video"}static clone(r){return new k1(r.__src,r.__type,r.__width,r.__height,r.__caption,r.__thumbnail,r.__key)}exportJSON(){return{src:this.__src,type:this.__type,width:this.__width,height:this.__height,caption:this.__caption,thumbnail:this.__thumbnail,version:1}}static importJSON(r){const{src:n,type:i,width:s,height:o,caption:a,thumbnail:l}=r;return B_e({src:n,type:i,width:s,height:o,caption:a,thumbnail:l})}exportDOM(){const r=document.createElement("div");if(r.className="video-embed",this.__type==="youtube"||this.__type==="vimeo"){const n=document.createElement("iframe");n.setAttribute("src",this.__src),n.setAttribute("width",(this.__width||640).toString()),n.setAttribute("height",(this.__height||360).toString()),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),r.appendChild(n)}else{const n=document.createElement("video");n.setAttribute("src",this.__src),n.setAttribute("controls","true"),n.setAttribute("width",(this.__width||640).toString()),n.setAttribute("height",(this.__height||360).toString()),r.appendChild(n)}return{element:r}}createDOM(){const r=document.createElement("div");return r.className="video-node",r}updateDOM(){return!1}decorate(){return c.jsx(Cet,{src:this.__src,type:this.__type,width:this.__width,height:this.__height,caption:this.__caption,thumbnail:this.__thumbnail,nodeKey:this.__key})}}function B_e(t){return new k1(t.src,t.type,t.width,t.height,t.caption,t.thumbnail)}const Cet=({src:t,type:e,width:r=640,height:n=360,caption:i})=>{const s=()=>e==="youtube"?c.jsx("iframe",{width:r,height:n,src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube video",className:"editor-video-iframe"}):e==="vimeo"?c.jsx("iframe",{width:r,height:n,src:t,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:"Vimeo video",className:"editor-video-iframe"}):c.jsxs("video",{width:r,height:n,controls:!0,className:"editor-video-player",children:[c.jsx("source",{src:t,type:"video/mp4"}),c.jsx("source",{src:t,type:"video/webm"}),"Your browser does not support the video tag."]});return c.jsxs("div",{className:"editor-video-container",children:[c.jsx("div",{className:"editor-video-wrapper",children:s()}),i&&c.jsx("div",{className:"editor-video-caption",children:i})]})},Iet=()=>{const[t]=vl();return D.useEffect(()=>{if(!t.hasNodes([k1]))throw new Error("VideoPlugin: VideoNode not registered on editor");return t.registerCommand(M_e,e=>{const r=pt();if(nt(r)){const n=B_e(e);r.insertNodes([n])}return!0},Ur)},[t]),null},pet=({visible:t,onClose:e,onInsert:r})=>{const[n,i]=D.useState(""),[s,o]=D.useState(""),[a,l]=D.useState(""),u=A=>{const C=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const I of C){const p=A.match(I);if(p&&p[1])return p[1]}return null},g=A=>{const C=/vimeo\.com\/(?:video\/)?(\d+)/,I=A.match(C);return I?I[1]:null},d=()=>{const A=u(n);if(!A){Ee.error("Invalid YouTube URL");return}const C=`https://www.youtube.com/embed/${A}`;r({src:C,type:"youtube",caption:a||void 0,thumbnail:`https://img.youtube.com/vi/${A}/hqdefault.jpg`}),Ee.success("YouTube video inserted"),h()},f=()=>{const A=g(s);if(!A){Ee.error("Invalid Vimeo URL");return}const C=`https://player.vimeo.com/video/${A}`;r({src:C,type:"vimeo",caption:a||void 0}),Ee.success("Vimeo video inserted"),h()},h=()=>{i(""),o(""),l(""),e()};return c.jsx(en,{title:"Insert Video",open:t,onCancel:h,footer:null,width:600,children:c.jsxs(Zc,{defaultActiveKey:"youtube",children:[c.jsx(QX,{tab:c.jsxs("span",{children:[c.jsx(xke,{})," YouTube"]}),children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsx(at,{placeholder:"Paste YouTube URL (e.g., https://www.youtube.com/watch?v=...)",value:n,onChange:A=>i(A.target.value),prefix:c.jsx(Hw,{}),size:"large"}),c.jsx(at,{placeholder:"Caption (optional)",value:a,onChange:A=>l(A.target.value)}),c.jsx(le,{type:"primary",onClick:d,disabled:!n,block:!0,size:"large",children:"Insert YouTube Video"})]})},"youtube"),c.jsx(QX,{tab:c.jsxs("span",{children:[c.jsx(CU,{})," Vimeo"]}),children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsx(at,{placeholder:"Paste Vimeo URL (e.g., https://vimeo.com/...)",value:s,onChange:A=>o(A.target.value),prefix:c.jsx(Hw,{}),size:"large"}),c.jsx(at,{placeholder:"Caption (optional)",value:a,onChange:A=>l(A.target.value)}),c.jsx(le,{type:"primary",onClick:f,disabled:!s,block:!0,size:"large",children:"Insert Vimeo Video"})]})},"vimeo")]})})},{Option:met}=we,vet={paragraph:"Normal",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},yet=()=>{const[t]=vl(),[e,r]=D.useState(!1),[n,i]=D.useState(!1),[s,o]=D.useState(!1),[a,l]=D.useState(!1),[u,g]=D.useState(!1),[d,f]=D.useState(!1),[h,A]=D.useState(!1),[C,I]=D.useState("paragraph"),[p,m]=D.useState(!1),[v,y]=D.useState(""),[x,T]=D.useState(!1),[E,_]=D.useState(!1),S=D.useCallback(()=>{const H=pt();if(nt(H)){o(H.hasFormat("bold")),l(H.hasFormat("italic")),g(H.hasFormat("underline")),f(H.hasFormat("strikethrough"));const V=H.anchor.getNode(),K=V.getParent();A(Tg(K)||Tg(V));const Y=H.anchor.getNode(),k=Y.getKey()==="root"?Y:Y.getTopLevelElementOrThrow(),q=k.getKey();if(t.getElementByKey(q)!==null)if($r(k)){const G=KEe(Y,Sm),Z=G?G.getTag():k.getTag();I("paragraph")}else{const G=$Qe(k)?k.getTag():k.getType();I(G)}}},[t]);D.useEffect(()=>Hc(t.registerUpdateListener(({editorState:H})=>{H.read(()=>{S()})}),t.registerCommand(Wg,()=>(S(),!1),1),t.registerCommand(Iv,H=>(r(H),!1),1),t.registerCommand(Cv,H=>(i(H),!1),1)),[t,S]);const j=H=>{t.dispatchCommand(Pu,H)},w=H=>{H==="paragraph"?t.update(()=>{const V=pt();nt(V)&&uX(V,()=>qr())}):H.startsWith("h")&&t.update(()=>{const V=pt();nt(V)&&uX(V,()=>HI(H))})},R=()=>{t.dispatchCommand(w_e,void 0)},N=()=>{t.dispatchCommand(S_e,void 0)},P=()=>{h?t.dispatchCommand(U2,null):m(!0)},M=()=>{v&&(t.dispatchCommand(U2,v),y(""),m(!1))},B=(H,V)=>{t.dispatchCommand(L_e,{src:H,altText:V}),T(!1)},W=H=>{t.dispatchCommand(M_e,H),_(!1)};return c.jsxs("div",{className:"toolbar",children:[c.jsxs(pe,{wrap:!0,size:"small",children:[c.jsx(lt,{title:"Undo",children:c.jsx(le,{icon:c.jsx(bke,{}),disabled:!e,onClick:()=>t.dispatchCommand(JS,void 0),"aria-label":"Undo"})}),c.jsx(lt,{title:"Redo",children:c.jsx(le,{icon:c.jsx(wke,{}),disabled:!n,onClick:()=>t.dispatchCommand(eE,void 0),"aria-label":"Redo"})}),c.jsx(Er,{type:"vertical"}),c.jsx(we,{value:C,onChange:w,style:{width:140},"aria-label":"Block type",children:Object.entries(vet).map(([H,V])=>c.jsx(met,{value:H,children:V},H))}),c.jsx(Er,{type:"vertical"}),c.jsx(lt,{title:"Bold",children:c.jsx(le,{icon:c.jsx(Ske,{}),type:s?"primary":"default",onClick:()=>j("bold"),"aria-label":"Bold","aria-pressed":s})}),c.jsx(lt,{title:"Italic",children:c.jsx(le,{icon:c.jsx(Eke,{}),type:a?"primary":"default",onClick:()=>j("italic"),"aria-label":"Italic","aria-pressed":a})}),c.jsx(lt,{title:"Underline",children:c.jsx(le,{icon:c.jsx(_ke,{}),type:u?"primary":"default",onClick:()=>j("underline"),"aria-label":"Underline","aria-pressed":u})}),c.jsx(lt,{title:"Strikethrough",children:c.jsx(le,{icon:c.jsx(Tke,{}),type:d?"primary":"default",onClick:()=>j("strikethrough"),"aria-label":"Strikethrough","aria-pressed":d})}),c.jsx(Er,{type:"vertical"}),c.jsx(lt,{title:"Unordered List",children:c.jsx(le,{icon:c.jsx(txe,{}),onClick:R,"aria-label":"Unordered list"})}),c.jsx(lt,{title:"Ordered List",children:c.jsx(le,{icon:c.jsx(Rke,{}),onClick:N,"aria-label":"Ordered list"})}),c.jsx(Er,{type:"vertical"}),c.jsx(lt,{title:h?"Remove Link":"Insert Link",children:c.jsx(le,{icon:c.jsx(Hw,{}),type:h?"primary":"default",onClick:P,"aria-label":"Insert link","aria-pressed":h})}),c.jsx(Er,{type:"vertical"}),c.jsx(lt,{title:"Insert Image",children:c.jsx(le,{icon:c.jsx(exe,{}),onClick:()=>T(!0),"aria-label":"Insert image"})}),c.jsx(lt,{title:"Insert Video",children:c.jsx(le,{icon:c.jsx(CU,{}),onClick:()=>_(!0),"aria-label":"Insert video"})})]}),c.jsx(en,{title:"Insert Link",open:p,onOk:M,onCancel:()=>m(!1),okText:"Insert",children:c.jsx(at,{placeholder:"https://example.com",value:v,onChange:H=>y(H.target.value),onPressEnter:M,autoFocus:!0})}),c.jsx(en,{title:"Insert Image",open:x,onCancel:()=>T(!1),footer:null,width:500,children:c.jsx(Aet,{onImageUpload:B})}),c.jsx(pet,{visible:E,onClose:()=>_(!1),onInsert:W})]})},xet={ltr:"ltr",rtl:"rtl",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5",h6:"editor-heading-h6"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",code:"editor-text-code"},code:"editor-code",table:"editor-table",tableCell:"editor-table-cell",tableCellHeader:"editor-table-cell-header"};function bet(t){console.error("Lexical Editor Error:",t)}const wet=({initialValue:t,onChange:e,placeholder:r="Enter work instruction content...",readOnly:n=!1,minHeight:i=200,maxHeight:s=600,showCharCount:o=!0,maxCharCount:a,ariaLabel:l="Rich text editor for work instruction content"})=>{const[u,g]=D.useState(0),[d,f]=D.useState(!1),h={namespace:"WorkInstructionEditor",theme:xet,onError:bet,editable:!n,nodes:[G9,Sm,wm,f_e,J9,Cd,wd,Em,O1,P1,k1],editorState:t||void 0},A=D.useCallback(C=>{C.read(()=>{const I=JSON.stringify(C.toJSON()),p=C.read(()=>{const v=C._nodeMap.get("root");return v?v.getTextContent():""}),m=p.length;g(m),a&&f(m>a),e(I,p)})},[e,a]);return c.jsx("div",{className:"rich-text-editor-container",children:c.jsx(YXe,{initialConfig:h,children:c.jsxs("div",{className:"editor-wrapper",children:[!n&&c.jsx(yet,{}),c.jsxs("div",{className:"editor-inner",style:{minHeight:`${i}px`,maxHeight:`${s}px`},children:[c.jsx(GQe,{contentEditable:c.jsx(YQe,{className:"editor-input","aria-label":l,"aria-multiline":"true",role:"textbox"}),placeholder:c.jsx("div",{className:"editor-placeholder","aria-hidden":"true",children:r}),ErrorBoundary:iet}),c.jsx(eJe,{}),c.jsx(tJe,{}),c.jsx(fJe,{}),c.jsx(mJe,{}),c.jsx(QJe,{}),c.jsx(eet,{onChange:A}),c.jsx(fet,{}),c.jsx(Iet,{})]}),o&&c.jsx("div",{className:"editor-footer",children:c.jsxs("span",{className:`char-count ${d?"over-limit":""}`,"aria-live":"polite",children:[u,a&&` / ${a}`,d&&" (Over limit)"]})})]})})})},{Search:Eet}=at,JX=[{id:"tpl-001",name:"Mechanical Assembly",description:"10-step procedure for mechanical component assembly with fastener installation and torque verification",category:"Assembly",steps:[{stepNumber:1,title:"Verify Parts and Tools",content:"Check all parts against BOM. Ensure torque wrench is calibrated within last 30 days.",estimatedDuration:120},{stepNumber:2,title:"Clean Mating Surfaces",content:"Use lint-free cloth and isopropyl alcohol to clean all mating surfaces. Allow to dry completely.",estimatedDuration:180},{stepNumber:3,title:"Apply Thread Locker",content:"Apply Loctite 243 (blue) to fastener threads as specified in drawing notes.",estimatedDuration:60},{stepNumber:4,title:"Position Components",content:"Align components using alignment pins. Ensure proper orientation per assembly drawing.",estimatedDuration:240},{stepNumber:5,title:"Install Fasteners Hand-Tight",content:"Install all fasteners hand-tight in star pattern. Do not fully tighten yet.",estimatedDuration:300},{stepNumber:6,title:"Torque to Specification",content:"Torque fasteners to specification in star pattern. Record torque values on traveler.",estimatedDuration:420,isCritical:!0,requiresSignature:!0},{stepNumber:7,title:"Verify Assembly",content:"Check for gaps, alignment, and proper seating of all components.",estimatedDuration:180},{stepNumber:8,title:"Mark Fasteners",content:"Apply torque witness marks to all fasteners using paint pen.",estimatedDuration:120},{stepNumber:9,title:"Perform Functional Test",content:"Test assembly for proper operation per test procedure TP-12345.",estimatedDuration:300,isCritical:!0},{stepNumber:10,title:"Final Inspection and Documentation",content:"Perform final visual inspection. Complete traveler and apply inspection stamp.",estimatedDuration:180,requiresSignature:!0}],estimatedDuration:2100,icon:c.jsx(Uc,{})},{id:"tpl-002",name:"Dimensional Inspection",description:"5-step template for first article and in-process dimensional inspection procedures",category:"Quality",steps:[{stepNumber:1,title:"Review Inspection Requirements",content:"Review drawing and inspection plan. Identify all critical dimensions and tolerances.",estimatedDuration:300},{stepNumber:2,title:"Calibrate Measurement Equipment",content:"Verify calibration status of all measurement tools. Equipment must be within calibration period.",estimatedDuration:180,isCritical:!0},{stepNumber:3,title:"Set Up Inspection Fixtures",content:"Set up CMM program or manual inspection fixtures per inspection plan.",estimatedDuration:420},{stepNumber:4,title:"Perform Measurements",content:"Measure all dimensions per inspection plan. Record actual values on inspection report.",estimatedDuration:900,isCritical:!0,requiresSignature:!0},{stepNumber:5,title:"Analyze Results and Disposition",content:"Compare actuals to tolerances. Determine accept/reject disposition. Complete inspection report.",estimatedDuration:300,isCritical:!0,requiresSignature:!0}],estimatedDuration:2100,icon:c.jsx(im,{})},{id:"tpl-003",name:"TIG Welding Process",description:"8-step template for TIG welding operations with pre/post-weld procedures and safety checks",category:"Fabrication",steps:[{stepNumber:1,title:"Pre-Weld Safety Check",content:"Verify welding area is clean and ventilated. Check PPE (welding helmet, gloves, jacket). Test equipment.",estimatedDuration:180,isCritical:!0},{stepNumber:2,title:"Prepare Joint",content:"Clean weld area with wire brush and solvent. Remove oxide, oil, and contaminants within 2 inches of joint.",estimatedDuration:240},{stepNumber:3,title:"Set Welding Parameters",content:"Set amperage, voltage, and gas flow per WPS-456. Argon flow rate: 15-20 CFH.",estimatedDuration:120},{stepNumber:4,title:"Tack Weld",content:"Create tack welds at fixture points. Verify fit-up and alignment before full weld.",estimatedDuration:300},{stepNumber:5,title:"Perform Root Pass",content:"Execute root pass per WPS. Maintain consistent travel speed and arc length.",estimatedDuration:600,isCritical:!0},{stepNumber:6,title:"Perform Fill and Cap Passes",content:"Complete fill and cap passes. Allow cooling between passes as specified.",estimatedDuration:900,isCritical:!0},{stepNumber:7,title:"Visual Inspection",content:"Inspect weld for cracks, porosity, undercut, and incomplete fusion. Use 10x magnifier.",estimatedDuration:240,requiresSignature:!0},{stepNumber:8,title:"Post-Weld Documentation",content:"Record weld parameters, filler material lot, and inspector stamp on traveler.",estimatedDuration:180,requiresSignature:!0}],estimatedDuration:2760,icon:c.jsx(Gu,{})},{id:"tpl-004",name:"CNC Machine Setup",description:"12-step template for CNC machining center setup and first piece verification",category:"Machining",steps:[{stepNumber:1,title:"Review Work Order and Prints",content:"Review work order, part drawing, and NC program. Verify part number and revision.",estimatedDuration:180},{stepNumber:2,title:"Verify Raw Material",content:"Check material certification. Verify material type, size, and heat lot against requirements.",estimatedDuration:120,isCritical:!0},{stepNumber:3,title:"Install Workholding",content:'Install vise or fixture. Indicate to within 0.001" TIR. Record indicator readings.',estimatedDuration:600},{stepNumber:4,title:"Load NC Program",content:"Load NC program file. Verify program number matches work order.",estimatedDuration:120},{stepNumber:5,title:"Install Tooling",content:"Install tools per tool list. Verify tool numbers, offsets, and lengths in tool table.",estimatedDuration:900},{stepNumber:6,title:"Set Work Offsets",content:"Probe or indicate workpiece. Set G54 work offset. Record X, Y, Z values.",estimatedDuration:420},{stepNumber:7,title:"Dry Run Program",content:"Run program in single block mode with Z-axis raised. Verify tool paths.",estimatedDuration:600},{stepNumber:8,title:"Machine First Piece",content:"Machine first piece at reduced feed rate (75%). Monitor for tool breakage or chatter.",estimatedDuration:1800,isCritical:!0},{stepNumber:9,title:"Inspect First Piece",content:"Measure critical dimensions on first piece. Verify all features are within tolerance.",estimatedDuration:900,isCritical:!0,requiresSignature:!0},{stepNumber:10,title:"Adjust Offsets if Needed",content:"Adjust tool offsets based on first piece inspection results. Document changes.",estimatedDuration:300},{stepNumber:11,title:"Run Second Piece for Verification",content:"Machine second piece at full speed. Re-inspect to confirm offset adjustments.",estimatedDuration:1200},{stepNumber:12,title:"Approve Setup and Begin Production",content:"Stamp first article report. Update setup sheet with actual cycle time. Begin production run.",estimatedDuration:180,requiresSignature:!0}],estimatedDuration:7320,icon:c.jsx(ld,{})},{id:"tpl-005",name:"Paint and Coating Application",description:"6-step template for surface preparation, painting, and curing procedures",category:"Finishing",steps:[{stepNumber:1,title:"Surface Preparation",content:"Clean surface with solvent. Remove grease, oil, and contaminants. Sand with 320 grit paper.",estimatedDuration:900},{stepNumber:2,title:"Mask Areas",content:"Mask threads, datums, and areas not to be painted using tape and paper.",estimatedDuration:480},{stepNumber:3,title:"Apply Primer",content:"Apply primer per spec. Maintain 8-12 inch spray distance. Apply 2-3 mils wet film thickness.",estimatedDuration:600,isCritical:!0},{stepNumber:4,title:"Cure Primer",content:"Allow primer to flash dry for 15 minutes. Bake at 180F for 30 minutes if specified.",estimatedDuration:1800},{stepNumber:5,title:"Apply Topcoat",content:"Apply topcoat in 2-3 coats. Allow 10 minutes flash time between coats. Final thickness: 2-3 mils DFT.",estimatedDuration:900,isCritical:!0},{stepNumber:6,title:"Final Cure and Inspection",content:"Cure per paint spec (usually 24 hours air dry or bake cycle). Inspect for runs, sags, orange peel.",estimatedDuration:300,requiresSignature:!0}],estimatedDuration:4980,icon:c.jsx(Nke,{})},{id:"tpl-006",name:"Preventive Maintenance",description:"7-step template for equipment preventive maintenance and lubrication",category:"Maintenance",steps:[{stepNumber:1,title:"Lockout/Tagout Equipment",content:"Follow LOTO procedure. Verify zero energy state before beginning work.",estimatedDuration:180,isCritical:!0},{stepNumber:2,title:"Visual Inspection",content:"Inspect equipment for leaks, loose fasteners, wear, and damage. Document findings.",estimatedDuration:300},{stepNumber:3,title:"Clean Equipment",content:"Remove chips, coolant residue, and debris. Clean guards and covers.",estimatedDuration:600},{stepNumber:4,title:"Lubricate Per Schedule",content:"Lubricate all points per lubrication chart. Use specified lubricants and quantities.",estimatedDuration:480},{stepNumber:5,title:"Check Fluid Levels",content:"Check hydraulic oil, coolant, and way oil levels. Top off as needed with correct fluids.",estimatedDuration:240},{stepNumber:6,title:"Test Operation",content:"Remove LOTO. Run equipment through test cycle. Listen for unusual noises or vibration.",estimatedDuration:420},{stepNumber:7,title:"Complete PM Documentation",content:"Record all activities on PM checklist. Note any items requiring follow-up. Update CMMS.",estimatedDuration:180,requiresSignature:!0}],estimatedDuration:2400,icon:c.jsx(Uc,{})},{id:"tpl-007",name:"First Article Inspection (FAI)",description:"8-step AS9102 compliant first article inspection procedure",category:"Inspection",steps:[{stepNumber:1,title:"Review FAI Requirements",content:"Review customer PO, part drawing, and AS9102 forms. Verify FAI is required.",estimatedDuration:300},{stepNumber:2,title:"Select First Article Sample",content:"Select first production piece from approved setup. Verify lot traceability.",estimatedDuration:120},{stepNumber:3,title:"Complete Form 1 (Part Accountability)",content:"Fill out Form 1 with part info, PO number, lot number, and organization details.",estimatedDuration:180},{stepNumber:4,title:"Perform 100% Dimensional Inspection",content:"Measure all dimensions per Form 2. Use calibrated tools. Record actual values and tolerances.",estimatedDuration:1800,isCritical:!0},{stepNumber:5,title:"Complete Form 2 (Product Accountability)",content:"Transfer measurements to Form 2. Calculate deviations. Mark conformance status.",estimatedDuration:600,isCritical:!0},{stepNumber:6,title:"Complete Form 3 (Conformance Verification)",content:"Document functional tests, material certs, and special processes. Attach supporting data.",estimatedDuration:420},{stepNumber:7,title:"Engineering Review and Approval",content:"Submit FAI package to engineering for review. Address any findings or NCRs.",estimatedDuration:300,requiresSignature:!0},{stepNumber:8,title:"Submit to Customer",content:"Compile complete FAI package with all forms and data. Submit to customer per contract requirements.",estimatedDuration:240,requiresSignature:!0}],estimatedDuration:3960,icon:c.jsx(Zl,{})},{id:"tpl-008",name:"Non-Conformance Investigation",description:"6-step template for investigating and documenting non-conformances",category:"Quality",steps:[{stepNumber:1,title:"Identify and Quarantine",content:"Identify non-conforming material. Tag and move to quarantine area. Document quantity and defect.",estimatedDuration:180,isCritical:!0},{stepNumber:2,title:"Open NCR",content:"Create NCR in quality system. Assign NCR number. Document defect description with photos.",estimatedDuration:300},{stepNumber:3,title:"Determine Root Cause",content:"Investigate root cause using 5-Why or fishbone analysis. Document findings.",estimatedDuration:900},{stepNumber:4,title:"Identify Corrective Action",content:"Define corrective action to prevent recurrence. Assign responsible party and due date.",estimatedDuration:420},{stepNumber:5,title:"Disposition Material",content:"Determine disposition: Use-As-Is, Rework, Repair, Scrap. Obtain MRB approval if required.",estimatedDuration:300,isCritical:!0,requiresSignature:!0},{stepNumber:6,title:"Close NCR",content:"Verify corrective action completed. Update quality metrics. Close NCR in system.",estimatedDuration:240,requiresSignature:!0}],estimatedDuration:2340,icon:c.jsx(Oke,{})},{id:"tpl-009",name:"Sheet Metal Bending",description:"7-step template for press brake operations with bend angle verification",category:"Fabrication",steps:[{stepNumber:1,title:"Review Bend Sequence",content:"Study part drawing and flat pattern. Plan bend sequence to avoid interference with tooling.",estimatedDuration:240},{stepNumber:2,title:"Select and Install Tooling",content:"Select punch and die based on material thickness and bend radius. Install and align tooling.",estimatedDuration:600},{stepNumber:3,title:"Calculate Bend Allowance",content:"Calculate bend allowance and setback. Adjust back gauge position for first bend.",estimatedDuration:180},{stepNumber:4,title:"Set Press Parameters",content:"Set tonnage, depth, and dwell time. Input material k-factor and thickness.",estimatedDuration:120},{stepNumber:5,title:"Bend Test Piece",content:"Bend test piece. Measure angle with protractor or CMM. Adjust tonnage/depth as needed.",estimatedDuration:420},{stepNumber:6,title:"Perform Production Bends",content:"Complete all bends in sequence. Check angle and dimensions every 5 pieces.",estimatedDuration:1200,isCritical:!0},{stepNumber:7,title:"Final Inspection",content:"Measure all bend angles and dimensions. Verify part is within tolerance. Document results.",estimatedDuration:360,requiresSignature:!0}],estimatedDuration:3120,icon:c.jsx(jke,{})},{id:"tpl-010",name:"Safety Inspection Procedure",description:"5-step template for workplace safety inspections and hazard identification",category:"Inspection",steps:[{stepNumber:1,title:"Review Inspection Checklist",content:"Review safety inspection checklist for area. Gather clipboard, camera, and tagging supplies.",estimatedDuration:120},{stepNumber:2,title:"Walk Through Work Area",content:"Systematically inspect work area. Look for slip/trip hazards, blocked exits, chemical storage issues.",estimatedDuration:900},{stepNumber:3,title:"Inspect Equipment and Guards",content:"Check machine guards in place. Verify emergency stops functional. Check electrical cords for damage.",estimatedDuration:600,isCritical:!0},{stepNumber:4,title:"Document Findings",content:"Photograph and document all safety hazards. Rate severity (High/Medium/Low). Tag immediate hazards.",estimatedDuration:420},{stepNumber:5,title:"Create Corrective Actions",content:"Create work orders for repairs. Assign responsible parties. Set due dates based on severity.",estimatedDuration:360,requiresSignature:!0}],estimatedDuration:2400,icon:c.jsx(cs,{})}],_et=({visible:t,onClose:e,onSelect:r})=>{const[n,i]=D.useState(""),[s,o]=D.useState(""),a=Array.from(new Set(JX.map(d=>d.category))),l=JX.filter(d=>{const f=d.name.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()),h=!s||d.category===s;return f&&h}),u=d=>{r(d),e()},g=()=>{i(""),o(""),e()};return c.jsx(en,{title:"Work Instruction Templates",open:t,onCancel:g,footer:null,width:900,style:{top:20},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsx(Eet,{placeholder:"Search templates by name or description...",prefix:c.jsx(Gn,{}),value:n,onChange:d=>i(d.target.value),allowClear:!0,size:"large"}),c.jsxs(pe,{wrap:!0,children:[c.jsx(le,{type:s?"default":"primary",size:"middle",onClick:()=>o(""),children:"All Categories"}),a.map(d=>c.jsx(le,{type:s===d?"primary":"default",size:"middle",onClick:()=>o(d),children:d},d))]}),c.jsxs("div",{style:{color:"#666",fontSize:13},children:[l.length," template",l.length!==1?"s":""," found"]}),l.length===0?c.jsx(Fc,{description:"No templates match your search",image:Fc.PRESENTED_IMAGE_SIMPLE}):c.jsx(ho,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:2},dataSource:l,renderItem:d=>c.jsx(ho.Item,{children:c.jsx(xe,{hoverable:!0,onClick:()=>u(d),bodyStyle:{padding:16},style:{height:"100%",cursor:"pointer"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"small",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs(pe,{children:[c.jsx("div",{style:{fontSize:24,color:"#1890ff"},children:d.icon}),c.jsx("div",{style:{fontWeight:500,fontSize:15},children:d.name})]}),c.jsx(Be,{color:"blue",children:d.category})]}),c.jsx("div",{style:{fontSize:13,color:"#666",lineHeight:1.5},children:d.description}),c.jsxs(pe,{split:c.jsx("span",{style:{color:"#d9d9d9"},children:""}),style:{fontSize:12,color:"#999"},children:[c.jsxs("span",{children:[d.steps.length," steps"]}),d.estimatedDuration&&c.jsxs("span",{children:["~",Math.round(d.estimatedDuration/60)," min"]}),c.jsx("span",{children:d.steps.filter(f=>f.isCritical).length>0&&`${d.steps.filter(f=>f.isCritical).length} critical`})]})]})})})})]})})};Vs.extend(Oxe);const Tet=({status:t,approvalHistory:e})=>{const r=o=>{switch(o){case"finish":return c.jsx(vr,{style:{color:"#52c41a"}});case"process":return c.jsx(Zi,{style:{color:"#1890ff"}});case"error":return c.jsx(ts,{style:{color:"#ff4d4f"}});default:return c.jsx(Zi,{style:{color:"#d9d9d9"}})}},n=()=>{const o=e.findIndex(a=>a.status==="process");return o!==-1?o:e.length},i=()=>t==="REJECTED"?"error":t==="APPROVED"?"finish":"process",s=e.filter(o=>o.approvedAt||o.rejectedAt);return c.jsxs(xe,{title:c.jsxs(pe,{children:[c.jsx("span",{children:"Approval Workflow"}),c.jsx(Be,{color:t==="APPROVED"?"green":t==="REJECTED"?"red":"blue",children:t})]}),style:{marginBottom:24},children:[c.jsx("div",{style:{marginBottom:32},children:c.jsx(iA,{current:n(),status:i(),items:e.map(o=>({title:o.title,description:o.description,icon:r(o.status)}))})}),s.length>0&&c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500,marginBottom:16,fontSize:15,color:"rgba(0, 0, 0, 0.85)"},children:"Approval History"}),c.jsx(ya,{items:s.map(o=>{var u,g,d,f;const a=!!o.rejectedAt,l=o.approvedAt||o.rejectedAt;return{color:a?"red":"green",dot:(u=o.approver)!=null&&u.avatar?c.jsx(lt,{title:o.approver.name,children:c.jsx(ia,{src:o.approver.avatar,size:"small"})}):c.jsx(lt,{title:((g=o.approver)==null?void 0:g.name)||"Unknown",children:c.jsx(ia,{icon:c.jsx(Fi,{}),size:"small"})}),children:c.jsxs("div",{children:[c.jsx("div",{style:{marginBottom:4},children:c.jsxs(pe,{size:"small",children:[c.jsx("span",{style:{fontWeight:500},children:o.title}),a?c.jsx(Be,{color:"red",icon:c.jsx(ts,{}),children:"Rejected"}):c.jsx(Be,{color:"green",icon:c.jsx(vr,{}),children:"Approved"})]})}),c.jsxs("div",{style:{color:"#666",fontSize:13,marginBottom:4},children:["By: ",c.jsx("strong",{children:((d=o.approver)==null?void 0:d.name)||"Unknown"}),((f=o.approver)==null?void 0:f.email)&&c.jsxs("span",{style:{color:"#999"},children:[" (",o.approver.email,")"]})]}),c.jsx("div",{style:{color:"#999",fontSize:12,marginBottom:8},children:l&&c.jsx(lt,{title:Vs(l).format("MMMM D, YYYY h:mm A"),children:c.jsx("span",{children:Vs(l).fromNow()})})}),o.rejectionReason&&c.jsxs("div",{style:{marginTop:8,padding:12,background:"#fff2e8",border:"1px solid #ffbb96",borderRadius:4,fontSize:13},children:[c.jsxs("div",{style:{marginBottom:4},children:[c.jsx(rp,{style:{color:"#ff4d4f",marginRight:4}}),c.jsx("strong",{children:"Rejection Reason:"})]}),c.jsx("div",{children:o.rejectionReason})]}),o.comments&&c.jsxs("div",{style:{marginTop:8,padding:12,background:"#f5f5f5",borderRadius:4,fontSize:13,color:"#666",fontStyle:"italic"},children:[c.jsx("div",{style:{marginBottom:4,fontStyle:"normal",fontWeight:500},children:"Comments:"}),c.jsxs("div",{children:['"',o.comments,'"']})]})]})}})})]}),s.length===0&&c.jsxs("div",{style:{textAlign:"center",padding:"24px 0",color:"#999"},children:[c.jsx(Zi,{style:{fontSize:24,marginBottom:8}}),c.jsx("div",{children:"No approval actions taken yet"}),c.jsx("div",{style:{fontSize:12},children:"The approval history will appear here once reviewers take action"})]})]})},{TextArea:Ret}=at,{Option:Net}=we,Oet=["Incomplete information","Does not meet requirements","Requires additional review","Technical inaccuracy","Safety concerns","Quality standards not met","Missing documentation","Incorrect revision level","Process not followed","Equipment not calibrated","Insufficient testing","Other (specify in comments)"],jet=({visible:t,onClose:e,onReject:r,title:n,itemIdentifier:i})=>{const[s]=me.useForm(),[o,a]=D.useState(!1),l=async()=>{try{const g=await s.validateFields();a(!0),await r(g.reason,g.comments),Ee.success(`${n} rejected successfully`),s.resetFields(),e()}catch(g){g.errorFields||Ee.error(g.message||`Failed to reject ${n.toLowerCase()}`)}finally{a(!1)}},u=()=>{s.resetFields(),e()};return c.jsx(en,{title:c.jsxs("span",{children:[c.jsx(ts,{style:{color:"#ff4d4f",marginRight:8}}),"Reject ",n]}),open:t,onCancel:u,onOk:l,confirmLoading:o,okText:"Reject",okButtonProps:{danger:!0,size:"large"},cancelButtonProps:{size:"large"},width:600,destroyOnClose:!0,children:c.jsxs("div",{style:{marginBottom:24},children:[i&&c.jsxs("div",{style:{fontSize:13,color:"#666",marginBottom:16},children:["You are rejecting: ",c.jsx("strong",{children:i})]}),c.jsxs(me,{form:s,layout:"vertical",children:[c.jsx(me.Item,{label:"Rejection Reason",name:"reason",rules:[{required:!0,message:"Please select a rejection reason"}],tooltip:"Select the primary reason for rejecting this item",children:c.jsx(we,{placeholder:"Select a reason for rejection",size:"large",showSearch:!0,filterOption:(g,d)=>String((d==null?void 0:d.children)||"").toLowerCase().includes(g.toLowerCase()),children:Oet.map(g=>c.jsx(Net,{value:g,children:g},g))})}),c.jsx(me.Item,{label:"Comments",name:"comments",rules:[{required:!0,message:"Please provide comments explaining the rejection"},{min:20,message:"Comments must be at least 20 characters"},{max:1e3,message:"Comments must not exceed 1000 characters"}],tooltip:"Provide detailed feedback to help the author understand what needs to be corrected",children:c.jsx(Ret,{placeholder:"Explain what needs to be corrected and provide guidance for resubmission...",rows:6,showCount:!0,maxLength:1e3,autoSize:{minRows:6,maxRows:12}})})]}),c.jsx(Pt,{message:"Important Notice",description:c.jsxs("div",{children:[c.jsx("div",{style:{marginBottom:8},children:"The author will be notified of this rejection via email. Your comments will be visible in the approval history."}),c.jsx("div",{style:{fontSize:12},children:"Please provide constructive feedback to help the author address the issues."})]}),type:"warning",icon:c.jsx(Ns,{}),showIcon:!0})]})})},{Option:jl}=we,Pet=({mode:t})=>{const e=Kr(),{id:r}=ml(),[n]=me.useForm(),[i,s]=D.useState(!1),[o,a]=D.useState(""),[l,u]=D.useState(!1),[g,d]=D.useState(!1),{currentWorkInstruction:f,isLoadingDetail:h,detailError:A,fetchWorkInstructionById:C,createWorkInstruction:I,updateWorkInstruction:p}=qp();D.useEffect(()=>{t==="edit"&&r&&C(r)},[t,r,C]),D.useEffect(()=>{t==="edit"&&f&&(n.setFieldsValue({title:f.title,version:f.version,partId:f.partId,operationId:f.operationId,ecoNumber:f.ecoNumber,status:f.status}),f.description&&a(f.description))},[t,f,n]);const m=async(j,w)=>{try{s(!0);let R="DRAFT";w==="review"?R="REVIEW":w==="approve"&&(R="APPROVED");const N={...j,description:o,status:R};if(t==="create"){const P=await I(N);Ee.success("Work instruction created successfully"),e(`/work-instructions/${P.id}`)}else t==="edit"&&r&&(await p(r,N),Ee.success("Work instruction updated successfully"),e(`/work-instructions/${r}`))}catch(R){Ee.error(R.message||"Failed to save work instruction")}finally{s(!1)}},v=()=>{n.validateFields().then(j=>{m(j,"draft")})},y=()=>{n.validateFields().then(j=>{m(j,"review")})},x=()=>{n.validateFields().then(j=>{m(j,"approve")})},T=t==="edit"&&(f==null?void 0:f.status)==="REVIEW",E=(f==null?void 0:f.status)==="APPROVED",_=j=>{n.setFieldsValue({title:j.name,version:"1.0.0"}),a(j.description),Ee.success(`Template "${j.name}" loaded successfully`)},S=async(j,w)=>{if(r)try{await yc.reject(r,j,w),Ee.success("Work instruction rejected successfully"),await C(r),d(!1)}catch(R){throw new Error(R.message||"Failed to reject work instruction")}};return t==="edit"&&h?c.jsx("div",{style:{textAlign:"center",padding:"100px 0"},children:c.jsx(ei,{size:"large",tip:"Loading work instruction...",children:c.jsx("div",{})})}):t==="edit"&&A?c.jsx("div",{style:{padding:"24px"},children:c.jsxs(xe,{children:[c.jsx("p",{style:{color:"#cf1322",marginBottom:"16px"},children:A}),c.jsxs(le,{onClick:()=>e("/work-instructions"),children:[c.jsx(js,{})," Back to List"]})]})}):c.jsxs("div",{style:{padding:"24px",maxWidth:"1000px",margin:"0 auto"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx(le,{type:"text",icon:c.jsx(js,{}),onClick:()=>e("/work-instructions"),children:"Back to List"}),t==="create"&&!E&&c.jsx(le,{type:"primary",icon:c.jsx(Zl,{}),onClick:()=>u(!0),size:"large",children:"Start from Template"})]}),c.jsx("h1",{children:t==="create"?"Create Work Instruction":"Edit Work Instruction"}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:t==="create"?"Create a new work instruction with detailed steps for manufacturing operations":"Update the work instruction details and manage its lifecycle"})]}),c.jsx(xe,{children:c.jsxs(me,{form:n,layout:"vertical",initialValues:{version:"1.0.0",status:"DRAFT"},disabled:E,children:[c.jsx(me.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please enter a title"},{min:5,message:"Title must be at least 5 characters"},{max:200,message:"Title must not exceed 200 characters"}],children:c.jsx(at,{placeholder:"Enter work instruction title (e.g., 'Assembly Procedure for Wing Panel A')",size:"large"})}),c.jsx(me.Item,{label:"Description",tooltip:"Use the rich text editor to create formatted descriptions with images, videos, and structured content",children:c.jsx(wet,{initialValue:o,onChange:j=>{a(j),n.setFieldsValue({description:j})},placeholder:"Enter a detailed description of this work instruction...",readOnly:E,minHeight:250,maxHeight:500,showCharCount:!0,maxCharCount:5e3,ariaLabel:"Work instruction description editor"})}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsx(me.Item,{label:"Version",name:"version",rules:[{required:!0,message:"Please enter a version"},{pattern:/^\d+\.\d+\.\d+$/,message:"Version must be in format X.Y.Z (e.g., 1.0.0)"}],children:c.jsx(at,{placeholder:"1.0.0"})}),c.jsx(me.Item,{label:"ECO Number",name:"ecoNumber",tooltip:"Engineering Change Order number (optional)",children:c.jsx(at,{placeholder:"ECO-12345"})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsx(me.Item,{label:"Part ID",name:"partId",tooltip:"Link this work instruction to a specific part (optional)",children:c.jsxs(we,{placeholder:"Select a part",showSearch:!0,allowClear:!0,optionFilterProp:"children",children:[c.jsx(jl,{value:"part-001",children:"Part-001 - Wing Panel A"}),c.jsx(jl,{value:"part-002",children:"Part-002 - Fuselage Section"}),c.jsx(jl,{value:"part-003",children:"Part-003 - Landing Gear Assembly"})]})}),c.jsx(me.Item,{label:"Operation ID",name:"operationId",tooltip:"Link this work instruction to a routing operation (optional)",children:c.jsxs(we,{placeholder:"Select an operation",showSearch:!0,allowClear:!0,optionFilterProp:"children",children:[c.jsx(jl,{value:"op-001",children:"OP-001 - Assembly"}),c.jsx(jl,{value:"op-002",children:"OP-002 - Welding"}),c.jsx(jl,{value:"op-003",children:"OP-003 - Inspection"})]})})]}),t==="edit"&&c.jsx(me.Item,{label:"Status",name:"status",children:c.jsxs(we,{disabled:!0,children:[c.jsx(jl,{value:"DRAFT",children:"Draft"}),c.jsx(jl,{value:"REVIEW",children:"Review"}),c.jsx(jl,{value:"APPROVED",children:"Approved"}),c.jsx(jl,{value:"REJECTED",children:"Rejected"}),c.jsx(jl,{value:"SUPERSEDED",children:"Superseded"}),c.jsx(jl,{value:"ARCHIVED",children:"Archived"})]})}),c.jsx(Er,{}),c.jsx(me.Item,{style:{marginBottom:0},children:c.jsxs(pe,{size:"middle",children:[!E&&c.jsxs(c.Fragment,{children:[c.jsx(le,{size:"large",icon:c.jsx(BA,{}),onClick:v,loading:i,children:"Save as Draft"}),c.jsx(le,{type:"primary",size:"large",icon:c.jsx(Wq,{}),onClick:y,loading:i,children:"Submit for Review"}),T&&c.jsxs(c.Fragment,{children:[c.jsx(le,{type:"primary",size:"large",icon:c.jsx(vr,{}),onClick:x,loading:i,style:{background:"#52c41a",borderColor:"#52c41a"},children:"Approve"}),c.jsx(le,{danger:!0,size:"large",icon:c.jsx(ts,{}),onClick:()=>d(!0),children:"Reject"})]})]}),E&&c.jsxs("div",{style:{color:"#52c41a",fontSize:"16px"},children:[c.jsx(vr,{style:{marginRight:"8px"}}),"This work instruction is approved and cannot be edited."]}),c.jsx(le,{size:"large",onClick:()=>e("/work-instructions"),children:"Cancel"})]})})]})}),t==="edit"&&f&&f.approvalHistory&&f.approvalHistory.length>0&&c.jsx(Tet,{workflowType:"work_instruction",status:f.status,approvalHistory:f.approvalHistory}),t==="create"&&c.jsx(xe,{style:{marginTop:"24px",background:"#f0f5ff",borderColor:"#adc6ff"},children:c.jsxs("p",{style:{margin:0,color:"#1890ff"},children:[c.jsx("strong",{children:"Next Step:"})," After creating the work instruction, you'll be able to add detailed steps with images, videos, and data entry fields."]})}),c.jsx(jet,{visible:g,onClose:()=>d(!1),onReject:S,title:"Work Instruction",itemIdentifier:f==null?void 0:f.title}),c.jsx(_et,{visible:l,onClose:()=>u(!1),onSelect:_})]})},ket=()=>c.jsx(Pet,{mode:"create"}),{Text:R5}=yr,Det=({currentStep:t,totalSteps:e,completedSteps:r,showPercentage:n=!0,size:i="default"})=>{const s=r.size,o=e>0?Math.round(s/e*100):0,a=()=>o===100?"#52c41a":o>=50?"#1890ff":"#faad14",u=(()=>{switch(i){case"small":return{stepText:14,percentText:12};case"large":return{stepText:24,percentText:18};default:return{stepText:18,percentText:14}}})();return c.jsx("div",{style:{width:"100%"},children:c.jsxs(pe,{direction:"vertical",size:"small",style:{width:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(R5,{strong:!0,style:{fontSize:u.stepText,color:o===100?"#52c41a":"#262626"},children:o===100?c.jsxs(pe,{children:[c.jsx(Pke,{style:{color:"#52c41a"}}),c.jsx("span",{children:"Complete!"})]}):`Step ${t+1} of ${e}`}),n&&c.jsxs(R5,{style:{fontSize:u.percentText,color:"#8c8c8c"},children:[s,"/",e," completed"]})]}),c.jsx(Wn,{percent:o,strokeColor:a(),strokeWidth:i==="large"?12:i==="small"?6:8,showInfo:!1}),n&&i==="large"&&c.jsxs(R5,{style:{fontSize:u.percentText,color:"#8c8c8c",textAlign:"center",display:"block"},children:[o,"% Complete"]})]})})},{Option:Fet}=we,Let=({currentStepIndex:t,totalSteps:e,onPrevious:r,onNext:n,onJumpToStep:i,completedSteps:s=new Set,size:o="large",showJumpMenu:a=!0})=>{const l=t===0,u=t===e-1,d=(()=>{switch(o){case"small":return"40px";case"large":return"64px";default:return"48px"}})(),h=(()=>{switch(o){case"small":return"16px";case"large":return"28px";default:return"20px"}})();return c.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[c.jsx(lt,{title:l?"Already at first step":"Go to previous step",children:c.jsx(le,{type:"default",size:o,disabled:l,onClick:r,icon:c.jsx(kke,{style:{fontSize:h}}),style:{height:d,minWidth:o==="large"?"120px":"80px",fontSize:o==="large"?"18px":"14px"},children:o!=="small"&&"Previous"})}),a&&e>2&&c.jsx(we,{value:t,onChange:i,style:{flex:1,minWidth:"150px"},size:o,suffixIcon:c.jsx(txe,{style:{fontSize:h}}),children:Array.from({length:e}).map((A,C)=>c.jsx(Fet,{value:C,children:c.jsxs(pe,{children:[c.jsxs("span",{children:["Step ",C+1]}),s.has(C)&&c.jsx("span",{style:{color:"#52c41a"},children:""})]})},C))}),c.jsx(lt,{title:u?"Already at last step":"Go to next step",children:c.jsx(le,{type:"primary",size:o,disabled:u,onClick:n,icon:c.jsx(Dke,{style:{fontSize:h}}),iconPosition:"end",style:{height:d,minWidth:o==="large"?"120px":"80px",fontSize:o==="large"?"18px":"14px"},children:o!=="small"&&"Next"})})]})},{Title:N5,Text:bI,Paragraph:Met}=yr,Bet=()=>{var w,R,N;const t=Kr(),{id:e}=ml(),[r,n]=D.useState(!1),[i,s]=D.useState(!1),{fetchWorkInstructionById:o,startExecution:a,stopExecution:l,goToNextStep:u,goToPreviousStep:g,goToStep:d,markStepComplete:f,markStepIncomplete:h,isLoadingDetail:A,currentWorkInstruction:C}=qp(),{executionMode:I,currentStepIndex:p,completedSteps:m,currentStep:v,totalSteps:y}=eZe();D.useEffect(()=>(e&&o(e).then(()=>{const P=qp.getState().currentWorkInstruction;P&&a(P)}),()=>{l()}),[e]),D.useEffect(()=>{s(m.has(p))},[p,m]);const x=()=>{en.confirm({title:"Exit Execution?",content:"Your progress will be saved. Are you sure you want to exit?",onOk:()=>{l(),t("/work-instructions")}})},T=P=>{s(P),P?(f(p),Ee.success("Step marked as complete")):(h(p),Ee.info("Step marked as incomplete"))},E=()=>{i?u():en.confirm({title:"Step Not Completed",content:"This step has not been marked as complete. Continue anyway?",onOk:()=>{u()}})},_=()=>{var P,M,B;r?((B=document.exitFullscreen)==null||B.call(document),n(!1)):((M=(P=document.documentElement).requestFullscreen)==null||M.call(P),n(!0))},S=()=>{en.success({title:"Work Instruction Complete!",content:"All steps have been completed successfully.",onOk:()=>{l(),t("/work-instructions")}})},j=m.size===y;return A?c.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(ei,{size:"large",tip:"Loading work instruction...",children:c.jsx("div",{})})}):!I||!C||!v?c.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"24px"},children:c.jsxs(xe,{children:[c.jsx("p",{children:"Work instruction not found or execution mode not started."}),c.jsx(le,{type:"primary",onClick:()=>t("/work-instructions"),children:"Back to List"})]})}):c.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",background:"#f0f2f5",overflow:"hidden"},children:[c.jsxs("div",{style:{background:"#fff",padding:"16px 24px",borderBottom:"2px solid #e8e8e8",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx(N5,{level:3,style:{margin:0},children:C.title}),c.jsxs(bI,{type:"secondary",children:["Version ",C.version]})]}),c.jsxs(pe,{size:"middle",children:[c.jsx(le,{size:"large",icon:r?c.jsx(Fke,{}):c.jsx(AU,{}),onClick:_,children:r?"Exit Fullscreen":"Fullscreen"}),c.jsx(le,{size:"large",danger:!0,icon:c.jsx(wS,{}),onClick:x,children:"Exit"})]})]}),c.jsx("div",{style:{padding:"16px 24px",background:"#fff",borderBottom:"1px solid #e8e8e8"},children:c.jsx(Det,{currentStep:p,totalSteps:y,completedSteps:m,size:"large"})}),c.jsx("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:c.jsxs(xe,{style:{maxWidth:"1200px",margin:"0 auto",minHeight:"100%"},children:[c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs(pe,{size:"middle",align:"center",children:[c.jsx(N5,{level:2,style:{margin:0},children:v.title}),v.isCritical&&c.jsx(Be,{color:"red",icon:c.jsx(rp,{}),style:{fontSize:"16px",padding:"8px 16px"},children:"CRITICAL STEP"})]})}),c.jsx(xe,{type:"inner",style:{marginBottom:"24px",background:"#fafafa"},children:c.jsx(Met,{style:{fontSize:"18px",lineHeight:"1.8",whiteSpace:"pre-wrap",marginBottom:0},children:v.content})}),(((w=v.imageUrls)==null?void 0:w.length)>0||((R=v.videoUrls)==null?void 0:R.length)>0||((N=v.attachmentUrls)==null?void 0:N.length)>0)&&c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx(N5,{level:4,children:"Reference Materials"}),v.imageUrls&&v.imageUrls.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsxs(bI,{strong:!0,style:{display:"block",marginBottom:"12px"},children:[c.jsx(Lke,{})," Images"]}),c.jsx(HV.PreviewGroup,{children:c.jsx(pe,{size:"middle",wrap:!0,children:v.imageUrls.map((P,M)=>c.jsx(HV,{src:P,alt:`Step ${v.stepNumber} - Image ${M+1}`,width:200,height:150,style:{objectFit:"cover",borderRadius:"8px"}},M))})})]}),v.videoUrls&&v.videoUrls.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsxs(bI,{strong:!0,style:{display:"block",marginBottom:"12px"},children:[c.jsx(CU,{})," Videos"]}),c.jsx(pe,{direction:"vertical",size:"middle",children:v.videoUrls.map((P,M)=>c.jsxs("video",{controls:!0,style:{maxWidth:"100%",borderRadius:"8px"},children:[c.jsx("source",{src:P}),"Your browser does not support the video tag."]},M))})]}),v.attachmentUrls&&v.attachmentUrls.length>0&&c.jsxs("div",{children:[c.jsxs(bI,{strong:!0,style:{display:"block",marginBottom:"12px"},children:[c.jsx(Zl,{})," Documents"]}),c.jsx(pe,{direction:"vertical",size:"small",children:v.attachmentUrls.map((P,M)=>c.jsxs(le,{type:"link",href:P,target:"_blank",icon:c.jsx(Zl,{}),children:["Attachment ",M+1]},M))})]})]}),v.estimatedDuration&&c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs(bI,{type:"secondary",children:["Estimated Duration: ",Math.floor(v.estimatedDuration/60)," min"," ",v.estimatedDuration%60," sec"]})}),c.jsx("div",{style:{marginTop:"32px",padding:"24px",background:i?"#f6ffed":"#fff",border:`2px solid ${i?"#52c41a":"#d9d9d9"}`,borderRadius:"8px"},children:c.jsx(X1e,{checked:i,onChange:P=>T(P.target.checked),style:{fontSize:"20px"},children:c.jsx(bI,{strong:!0,style:{fontSize:"18px",marginLeft:"8px"},children:i?c.jsxs("span",{style:{color:"#52c41a"},children:[c.jsx(vr,{})," Step Completed"]}):"Mark this step as complete"})})})]})}),c.jsx("div",{style:{background:"#fff",padding:"24px",borderTop:"2px solid #e8e8e8"},children:c.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:j?c.jsx(le,{type:"primary",size:"large",block:!0,icon:c.jsx(vr,{}),onClick:S,style:{height:"64px",fontSize:"20px"},children:"Complete Work Instruction"}):c.jsx(Let,{currentStepIndex:p,totalSteps:y,onPrevious:g,onNext:E,onJumpToStep:d,completedSteps:m,size:"large",showJumpMenu:!0})})})]})},$et=()=>c.jsx(Bet,{}),{Title:qet,Text:Pl}=yr,{RangePicker:zet}=Vl,{Option:zf}=we,Uet=()=>{var w;const[t,e]=D.useState(""),[r,n]=D.useState(),[i,s]=D.useState(),[o,a]=D.useState(null),[l,u]=D.useState(null),[g,d]=D.useState(!1),{signatures:f,isLoading:h,error:A,pagination:C,listSignatures:I,setPage:p,setPageSize:m,clearError:v}=c9();D.useEffect(()=>{y()},[]);const y=()=>{const R={};t&&(R.search=t),r&&(R.signedEntityType=r),i&&(R.isValid=i==="valid"),o&&o[0]&&o[1]&&(R.startDate=o[0].toISOString(),R.endDate=o[1].toISOString()),I(R)},x=()=>{y()},T=()=>{e(""),n(void 0),s(void 0),a(null),I({})},E=R=>{u(R),d(!0)},_=R=>{switch(R){case"BASIC":return"blue";case"ADVANCED":return"orange";case"QUALIFIED":return"gold";default:return"default"}},S=R=>{switch(R){case"OPERATOR":return"blue";case"SUPERVISOR":return"cyan";case"QUALITY":return"purple";case"ENGINEER":return"orange";case"MANAGER":return"red";default:return"default"}},j=[{title:"Status",dataIndex:"isValid",key:"isValid",width:"80px",align:"center",render:R=>c.jsx(lt,{title:R?"Valid":"Invalid",children:R?c.jsx(vr,{style:{color:"#52c41a",fontSize:"18px"}}):c.jsx(ts,{style:{color:"#ff4d4f",fontSize:"18px"}})})},{title:"Signer",dataIndex:"username",key:"username",width:"150px",render:(R,N)=>c.jsxs("div",{children:[c.jsx(Pl,{strong:!0,children:R}),c.jsx("br",{}),c.jsx(Pl,{type:"secondary",style:{fontSize:"12px"},children:N.userId})]})},{title:"Type",dataIndex:"signatureType",key:"signatureType",width:"120px",render:R=>c.jsx(Be,{color:_(R),children:R})},{title:"Level",dataIndex:"signatureLevel",key:"signatureLevel",width:"130px",render:R=>c.jsx(Be,{color:S(R),children:R})},{title:"Entity",key:"entity",width:"200px",render:(R,N)=>{var P;return c.jsxs("div",{children:[c.jsx(Pl,{strong:!0,children:(P=N.signedEntityType)==null?void 0:P.replace("_"," ").toUpperCase()}),c.jsx("br",{}),c.jsxs(Pl,{type:"secondary",style:{fontSize:"12px"},children:["ID: ",N.signedEntityId]})]})}},{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",width:"180px",sorter:!0,render:R=>c.jsxs("div",{children:[c.jsx("div",{children:new Date(R).toLocaleDateString()}),c.jsx(Pl,{type:"secondary",style:{fontSize:"12px"},children:new Date(R).toLocaleTimeString()})]})},{title:"IP Address",dataIndex:"ipAddress",key:"ipAddress",width:"140px",render:R=>c.jsx(Pl,{code:!0,style:{fontSize:"11px"},children:R})},{title:"Actions",key:"actions",width:"100px",fixed:"right",render:(R,N)=>c.jsx(le,{type:"link",icon:c.jsx(Os,{}),onClick:()=>E(N),children:"Details"})}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs(pe,{align:"center",style:{marginBottom:"12px"},children:[c.jsx(cs,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(qet,{level:2,style:{margin:0},children:"Electronic Signatures Audit Trail"})]}),c.jsx(Pl,{type:"secondary",children:"Complete audit trail of all electronic signatures in the system for compliance and quality review."})]}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(d1,{}),c.jsx("span",{children:"Filters"})]}),style:{marginBottom:"24px"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[c.jsx(at,{placeholder:"Search by entity name or signature ID",value:t,onChange:R=>e(R.target.value),onPressEnter:x,prefix:c.jsx(Gn,{})}),c.jsxs(we,{placeholder:"Filter by entity type",allowClear:!0,value:r,onChange:n,style:{width:"100%"},children:[c.jsx(zf,{value:"work_instruction",children:"Work Instructions"}),c.jsx(zf,{value:"work_order",children:"Work Orders"}),c.jsx(zf,{value:"ncr",children:"Non-Conformance Reports"}),c.jsx(zf,{value:"inspection",children:"Inspections"}),c.jsx(zf,{value:"fai_report",children:"FAI Reports"})]}),c.jsxs(we,{placeholder:"Filter by status",allowClear:!0,value:i,onChange:s,style:{width:"100%"},children:[c.jsx(zf,{value:"valid",children:"Valid"}),c.jsx(zf,{value:"invalid",children:"Invalid"})]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(zet,{value:o,onChange:a,placeholder:["Start Date","End Date"],style:{width:"400px"}}),c.jsxs(pe,{children:[c.jsx(le,{onClick:T,children:"Reset"}),c.jsx(le,{type:"primary",icon:c.jsx(Gn,{}),onClick:x,children:"Search"}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>I({}),children:"Refresh"})]})]})]})}),A&&c.jsx(xe,{style:{marginBottom:"16px",borderColor:"#ff4d4f"},children:c.jsxs(pe,{children:[c.jsx(ts,{style:{color:"#ff4d4f"}}),c.jsx(Pl,{type:"danger",children:A}),c.jsx(le,{type:"link",onClick:v,children:"Dismiss"})]})}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(ji,{count:C.total,showZero:!0,style:{backgroundColor:"#1890ff"},children:c.jsx(cs,{style:{fontSize:"20px",color:"#1890ff"}})}),c.jsxs("span",{children:["Signatures (",C.total,")"]})]}),children:c.jsx(Jr,{columns:j,dataSource:f,rowKey:"signatureId",loading:h,pagination:{current:C.page,pageSize:C.limit,total:C.total,showSizeChanger:!0,showTotal:R=>`Total ${R} signatures`,pageSizeOptions:["10","20","50","100"],onChange:(R,N)=>{p(R),N!==C.limit&&m(N)}},scroll:{x:1400},bordered:!0})}),c.jsx(en,{title:"Signature Details",open:g,onCancel:()=>d(!1),footer:[c.jsx(le,{onClick:()=>d(!1),children:"Close"},"close")],width:800,children:l&&c.jsxs(Ge,{bordered:!0,column:1,children:[c.jsx(Ge.Item,{label:"Status",children:l.isValid?c.jsx(ji,{status:"success",text:"Valid"}):c.jsx(ji,{status:"error",text:"Invalid"})}),c.jsx(Ge.Item,{label:"Signature ID",children:c.jsx(Pl,{code:!0,children:l.signatureId})}),c.jsxs(Ge.Item,{label:"Signer",children:[l.username," (",l.userId,")"]}),c.jsx(Ge.Item,{label:"Signature Type",children:c.jsx(Be,{color:_(l.signatureType),children:l.signatureType})}),c.jsx(Ge.Item,{label:"Signature Level",children:c.jsx(Be,{color:S(l.signatureLevel),children:l.signatureLevel})}),c.jsx(Ge.Item,{label:"Signed Entity",children:(w=l.signedEntityType)==null?void 0:w.replace("_"," ").toUpperCase()}),c.jsx(Ge.Item,{label:"Entity ID",children:c.jsx(Pl,{code:!0,children:l.signedEntityId})}),c.jsx(Ge.Item,{label:"Timestamp",children:new Date(l.timestamp).toLocaleString()}),c.jsx(Ge.Item,{label:"IP Address",children:c.jsx(Pl,{code:!0,children:l.ipAddress})}),l.invalidatedAt&&c.jsx(Ge.Item,{label:"Invalidated At",children:new Date(l.invalidatedAt).toLocaleString()}),l.invalidationReason&&c.jsx(Ge.Item,{label:"Invalidation Reason",children:c.jsx(Pl,{type:"danger",children:l.invalidationReason})})]})})]})},Wet="http://localhost:3001/api/v1";class Get{constructor(e){ve(this,"baseURL");this.baseURL=e}async createFAIReport(e){return(await Vt.post(`${this.baseURL}/fai`,e)).data}async getFAIReport(e){return(await Vt.get(`${this.baseURL}/fai/${e}`)).data}async getFAIReportByNumber(e){return(await Vt.get(`${this.baseURL}/fai/number/${e}`)).data}async listFAIReports(e){return(await Vt.get(`${this.baseURL}/fai`,{params:e})).data}async updateFAIReport(e,r){return(await Vt.put(`${this.baseURL}/fai/${e}`,r)).data}async deleteFAIReport(e){await Vt.delete(`${this.baseURL}/fai/${e}`)}async addCharacteristic(e,r){return(await Vt.post(`${this.baseURL}/fai/${e}/characteristics`,r)).data}async getCharacteristics(e){return(await Vt.get(`${this.baseURL}/fai/${e}/characteristics`)).data}async updateCharacteristic(e,r,n){return(await Vt.put(`${this.baseURL}/fai/${e}/characteristics/${r}`,n)).data}async deleteCharacteristic(e,r){await Vt.delete(`${this.baseURL}/fai/${e}/characteristics/${r}`)}async approveFAIReport(e){return(await Vt.post(`${this.baseURL}/fai/${e}/approve`)).data}}const mc=new Get(Wet),eQ={reports:[],currentReport:null,characteristics:[],isLoading:!1,isLoadingDetail:!1,error:null,detailError:null,pagination:{page:1,limit:20,total:0,totalPages:0}},eW=vd()(cf((t,e)=>({...eQ,createFAIReport:async r=>{var n,i;t({isLoading:!0,error:null});try{const s=await mc.createFAIReport(r);return t({isLoading:!1,currentReport:s}),s}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to create FAI report";throw t({error:o,isLoading:!1}),new Error(o)}},getFAIReport:async r=>{var n,i;t({isLoadingDetail:!0,detailError:null});try{const s=await mc.getFAIReport(r);return t({currentReport:s,isLoadingDetail:!1}),s}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to get FAI report";throw t({detailError:o,isLoadingDetail:!1}),new Error(o)}},getFAIReportByNumber:async r=>{var n,i;t({isLoadingDetail:!0,detailError:null});try{const s=await mc.getFAIReportByNumber(r);return t({currentReport:s,isLoadingDetail:!1}),s}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to get FAI report";throw t({detailError:o,isLoadingDetail:!1}),new Error(o)}},listFAIReports:async r=>{var n,i;t({isLoading:!0,error:null});try{const{page:s,limit:o}=e().pagination,a={page:s,limit:o,...r},l=await mc.listFAIReports(a);t({reports:l.reports,pagination:l.pagination,isLoading:!1})}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to list FAI reports";throw t({error:o,isLoading:!1}),new Error(o)}},updateFAIReport:async(r,n)=>{var i,s;t({isLoading:!0,error:null});try{const o=await mc.updateFAIReport(r,n);t({currentReport:o,isLoading:!1});const l=e().reports.map(u=>u.id===r?o:u);return t({reports:l}),o}catch(o){const a=((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.error)||o.message||"Failed to update FAI report";throw t({error:a,isLoading:!1}),new Error(a)}},deleteFAIReport:async r=>{var n,i,s;t({isLoading:!0,error:null});try{await mc.deleteFAIReport(r);const o=e().reports.filter(a=>a.id!==r);t({reports:o,isLoading:!1}),((n=e().currentReport)==null?void 0:n.id)===r&&t({currentReport:null})}catch(o){const a=((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.error)||o.message||"Failed to delete FAI report";throw t({error:a,isLoading:!1}),new Error(a)}},addCharacteristic:async(r,n)=>{var i,s;t({isLoading:!0,error:null});try{const o=await mc.addCharacteristic(r,n),a=[...e().characteristics,o];return t({characteristics:a,isLoading:!1}),o}catch(o){const a=((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.error)||o.message||"Failed to add characteristic";throw t({error:a,isLoading:!1}),new Error(a)}},getCharacteristics:async r=>{var n,i;t({isLoading:!0,error:null});try{const s=await mc.getCharacteristics(r);t({characteristics:s,isLoading:!1})}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to get characteristics";throw t({error:o,isLoading:!1}),new Error(o)}},updateCharacteristic:async(r,n,i)=>{var s,o;t({isLoading:!0,error:null});try{const a=await mc.updateCharacteristic(r,n,i),l=e().characteristics.map(u=>u.id===n?a:u);return t({characteristics:l,isLoading:!1}),a}catch(a){const l=((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.error)||a.message||"Failed to update characteristic";throw t({error:l,isLoading:!1}),new Error(l)}},deleteCharacteristic:async(r,n)=>{var i,s;t({isLoading:!0,error:null});try{await mc.deleteCharacteristic(r,n);const o=e().characteristics.filter(a=>a.id!==n);t({characteristics:o,isLoading:!1})}catch(o){const a=((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.error)||o.message||"Failed to delete characteristic";throw t({error:a,isLoading:!1}),new Error(a)}},approveFAIReport:async r=>{var n,i;t({isLoading:!0,error:null});try{const s=await mc.approveFAIReport(r);t({currentReport:s,isLoading:!1});const a=e().reports.map(l=>l.id===r?s:l);return t({reports:a}),s}catch(s){const o=((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to approve FAI report";throw t({error:o,isLoading:!1}),new Error(o)}},setPage:r=>{t(n=>({pagination:{...n.pagination,page:r}})),e().listFAIReports()},setPageSize:r=>{t(n=>({pagination:{...n.pagination,limit:r,page:1}})),e().listFAIReports()},setFilters:r=>{e().listFAIReports(r)},clearError:()=>{t({error:null})},clearDetailError:()=>{t({detailError:null})},reset:()=>{t(eQ)}}),{name:"FAIStore"})),{Title:Vet,Text:tQ}=yr,{Search:Het}=at,{Option:H0}=we,Ket={IN_PROGRESS:"processing",REVIEW:"warning",APPROVED:"success",REJECTED:"error",SUPERSEDED:"default"},Yet=()=>{const t=Kr(),[e,r]=D.useState(""),[n,i]=D.useState(),{reports:s,isLoading:o,error:a,pagination:l,listFAIReports:u,setFilters:g,setPage:d,clearError:f}=eW();D.useEffect(()=>{u()},[]);const h=p=>{r(p),g({search:p||void 0})},A=p=>{i(p),g({status:p})},C=p=>{p.current&&d(p.current)},I=[{title:"FAI Number",dataIndex:"faiNumber",key:"faiNumber",width:"15%",render:(p,m)=>c.jsxs(pe,{children:[c.jsx(cl,{style:{color:"#1890ff"}}),c.jsx("a",{onClick:()=>t(`/fai/${m.id}`),children:p})]})},{title:"Status",dataIndex:"status",key:"status",width:"12%",render:p=>c.jsx(Be,{color:Ket[p],children:p})},{title:"Part ID",dataIndex:"partId",key:"partId",width:"15%"},{title:"Work Order",dataIndex:"workOrderId",key:"workOrderId",width:"12%",render:p=>p||"N/A"},{title:"Revision",dataIndex:"revisionLevel",key:"revisionLevel",width:"10%",render:p=>p||"N/A"},{title:"Characteristics",key:"characteristics",width:"12%",align:"center",render:(p,m)=>{var v;return c.jsx("span",{children:((v=m.characteristics)==null?void 0:v.length)||0})}},{title:"Created",dataIndex:"createdAt",key:"createdAt",width:"12%",sorter:!0,render:p=>new Date(p).toLocaleDateString()},{title:"Actions",key:"actions",width:"12%",fixed:"right",render:(p,m)=>c.jsxs(pe,{size:"small",children:[c.jsx(lt,{title:"View Details",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Os,{}),onClick:()=>t(`/fai/${m.id}`)})}),m.status==="REVIEW"&&c.jsx(lt,{title:"Approve",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(vr,{}),style:{color:"#52c41a"},onClick:()=>t(`/fai/${m.id}`)})})]})}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs(pe,{align:"center",style:{marginBottom:"12px"},children:[c.jsx(cl,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(Vet,{level:2,style:{margin:0},children:"AS9102 First Article Inspection"})]}),c.jsx(tQ,{type:"secondary",children:"Manage First Article Inspection Reports (FAIR) for aerospace quality compliance."})]}),c.jsx(xe,{style:{marginBottom:"16px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[c.jsxs(pe,{size:"middle",style:{flex:1},children:[c.jsx(Het,{placeholder:"Search by FAI number or part ID",allowClear:!0,enterButton:c.jsx(Gn,{}),value:e,onChange:p=>r(p.target.value),onSearch:h,style:{width:"300px"}}),c.jsxs(we,{placeholder:"Filter by status",allowClear:!0,value:n,onChange:A,style:{width:"150px"},children:[c.jsx(H0,{value:"IN_PROGRESS",children:"In Progress"}),c.jsx(H0,{value:"REVIEW",children:"Review"}),c.jsx(H0,{value:"APPROVED",children:"Approved"}),c.jsx(H0,{value:"REJECTED",children:"Rejected"}),c.jsx(H0,{value:"SUPERSEDED",children:"Superseded"})]})]}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>t("/fai/create"),size:"large","data-testid":"create-fai-button",children:"Create FAI Report"})]})}),a&&c.jsx(xe,{style:{marginBottom:"16px",borderColor:"#ff4d4f"},children:c.jsxs(pe,{children:[c.jsx(tQ,{type:"danger",children:a}),c.jsx(le,{type:"link",onClick:f,children:"Dismiss"})]})}),c.jsx(xe,{children:c.jsx(Jr,{columns:I,dataSource:s,rowKey:"id",loading:o,pagination:{current:l.page,pageSize:l.limit,total:l.total,showSizeChanger:!0,showTotal:p=>`Total ${p} FAI reports`,pageSizeOptions:["10","20","50","100"]},onChange:C,scroll:{x:1200},bordered:!0})})]})},{Dragger:Zet}=J1e,Xet=({visible:t,faiReportId:e,onCancel:r,onSuccess:n})=>{const[i,s]=D.useState(0),[o,a]=D.useState([]),[l,u]=D.useState(""),[g,d]=D.useState(!1),[f,h]=D.useState(!1),[A,C]=D.useState(null),[I,p]=D.useState(null),[m,v]=D.useState(null),y=()=>{s(0),a([]),u(""),C(null),p(null),v(null),r()},x=async w=>{const{file:R}=w;if(R.status==="removed"){a([]),u(""),v(null);return}const N=new FileReader;return N.onload=async P=>{var B;const M=(B=P.target)==null?void 0:B.result;u(M),a([R]),await T(M)},N.readAsText(R.originFileObj),!1},T=async w=>{var R,N;d(!0),v(null);try{const P=await Vt.post(`/api/v1/fai/${e}/import-cmm/validate`,{xmlContent:w});P.data.isValid?(Ee.success("XML file validated successfully"),P.data.warnings.length>0&&Ee.warning(`Warnings: ${P.data.warnings.join(", ")}`)):(v(P.data.errors.join(", ")),Ee.error("Invalid XML file"))}catch(P){v(((N=(R=P.response)==null?void 0:R.data)==null?void 0:N.error)||"Validation failed"),Ee.error("Failed to validate XML file")}finally{d(!1)}},E=async()=>{var w,R;if(!l){Ee.error("Please upload a file first");return}d(!0);try{const N=await Vt.post(`/api/v1/fai/${e}/import-cmm/preview`,{xmlContent:l});C(N.data),s(1),Ee.success("Preview generated successfully")}catch(N){Ee.error(((R=(w=N.response)==null?void 0:w.data)==null?void 0:R.error)||"Failed to generate preview")}finally{d(!1)}},_=async()=>{var w,R;if(l){h(!0);try{const N=await Vt.post(`/api/v1/fai/${e}/import-cmm`,{xmlContent:l,autoMatch:!0});p(N.data),s(2),N.data.success?Ee.success(`Successfully imported ${N.data.importedCount} characteristics`):Ee.error("Import completed with errors")}catch(N){Ee.error(((R=(w=N.response)==null?void 0:w.data)==null?void 0:R.error)||"Failed to import CMM data")}finally{h(!1)}}},S=()=>{n(),y()},j=[{title:"#",dataIndex:"characteristicNumber",key:"characteristicNumber",width:50},{title:"Characteristic",dataIndex:"characteristic",key:"characteristic",width:200},{title:"Actual",dataIndex:"actualValue",key:"actualValue",width:100,render:w=>w.toFixed(3)},{title:"Result",dataIndex:"result",key:"result",width:80,render:w=>c.jsx(Be,{color:w==="PASS"?"success":"error",children:w})}];return c.jsxs(en,{title:c.jsxs(pe,{children:[c.jsx(cl,{}),c.jsx("span",{children:"Import CMM Data (PC-DMIS XML)"})]}),open:t,onCancel:y,width:900,footer:null,destroyOnClose:!0,children:[c.jsxs(iA,{current:i,style:{marginBottom:24},children:[c.jsx(iA.Step,{title:"Upload",icon:c.jsx(Mke,{})}),c.jsx(iA.Step,{title:"Preview",icon:c.jsx(cl,{})}),c.jsx(iA.Step,{title:"Import",icon:c.jsx(vr,{})})]}),i===0&&c.jsxs("div",{children:[c.jsxs(Zet,{fileList:o,beforeUpload:()=>!1,onChange:x,accept:".xml,.dmi",maxCount:1,children:[c.jsx("p",{className:"ant-upload-drag-icon",children:c.jsx(fU,{})}),c.jsx("p",{className:"ant-upload-text",children:"Click or drag PC-DMIS XML file to this area to upload"}),c.jsx("p",{className:"ant-upload-hint",children:"Supports .xml and .dmi files. Maximum size: 10MB"})]}),m&&c.jsx(Pt,{message:"Validation Error",description:m,type:"error",showIcon:!0,style:{marginTop:16}}),o.length>0&&!m&&c.jsx(Pt,{message:"File Uploaded Successfully",description:"Click 'Preview Import' to see what will be imported",type:"success",showIcon:!0,style:{marginTop:16}}),c.jsx("div",{style:{marginTop:24,textAlign:"right"},children:c.jsxs(pe,{children:[c.jsx(le,{onClick:y,children:"Cancel"}),c.jsx(le,{type:"primary",onClick:E,loading:g,disabled:!l||!!m,children:"Preview Import"})]})})]}),i===1&&A&&c.jsxs("div",{children:[c.jsxs(Dt,{gutter:16,style:{marginBottom:24},children:[c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Total Dimensions",value:A.totalDimensions,prefix:c.jsx(cl,{})})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Matched",value:A.matchedCharacteristics,valueStyle:{color:"#3f8600"},prefix:c.jsx(vr,{})})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Unmatched",value:A.unmatchedDimensions.length,valueStyle:{color:"#cf1322"},prefix:c.jsx(Ns,{})})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Out of Tolerance",value:A.outOfToleranceCount,valueStyle:{color:"#cf1322"}})})]}),A.unmatchedDimensions.length>0&&c.jsxs("div",{style:{marginBottom:16},children:[c.jsx(Pt,{message:"Unmatched Dimensions",description:`${A.unmatchedDimensions.length} dimensions could not be automatically matched to existing characteristics. These will be skipped.`,type:"warning",showIcon:!0}),c.jsx(Jr,{columns:j,dataSource:A.unmatchedDimensions,rowKey:"characteristicNumber",size:"small",pagination:{pageSize:5},style:{marginTop:16}})]}),c.jsx(Pt,{message:"Import Ready",description:`Estimated import time: ${(A.estimatedImportTime/1e3).toFixed(1)} seconds`,type:"info",showIcon:!0}),c.jsx("div",{style:{marginTop:24,textAlign:"right"},children:c.jsxs(pe,{children:[c.jsx(le,{onClick:()=>s(0),children:"Back"}),c.jsx(le,{onClick:y,children:"Cancel"}),c.jsxs(le,{type:"primary",onClick:_,loading:f,disabled:A.matchedCharacteristics===0,children:["Import ",A.matchedCharacteristics," Characteristics"]})]})})]}),i===2&&I&&c.jsxs("div",{children:[I.success?c.jsx(Pt,{message:"Import Successful",description:`Successfully imported ${I.importedCount} characteristics`,type:"success",showIcon:!0,icon:c.jsx(vr,{}),style:{marginBottom:24}}):c.jsx(Pt,{message:"Import Completed with Errors",description:`${I.errorCount} errors occurred during import`,type:"error",showIcon:!0,style:{marginBottom:24}}),c.jsxs(Dt,{gutter:16,style:{marginBottom:24},children:[c.jsx(Se,{span:8,children:c.jsx(Mt,{title:"Imported",value:I.importedCount,valueStyle:{color:"#3f8600"}})}),c.jsx(Se,{span:8,children:c.jsx(Mt,{title:"Pass",value:I.summary.passCount,valueStyle:{color:"#3f8600"}})}),c.jsx(Se,{span:8,children:c.jsx(Mt,{title:"Fail",value:I.summary.failCount,valueStyle:{color:"#cf1322"}})})]}),I.warnings.length>0&&c.jsx(Pt,{message:"Warnings",description:c.jsx("ul",{children:I.warnings.map((w,R)=>c.jsx("li",{children:w},R))}),type:"warning",showIcon:!0,style:{marginBottom:16}}),I.errors.length>0&&c.jsx(Pt,{message:"Errors",description:c.jsx("ul",{children:I.errors.map((w,R)=>c.jsx("li",{children:w},R))}),type:"error",showIcon:!0,style:{marginBottom:16}}),c.jsx("div",{style:{marginTop:24,textAlign:"right"},children:c.jsx(le,{type:"primary",onClick:S,children:"Complete"})})]})]})},{Title:Qet}=yr,rQ={IN_PROGRESS:"processing",REVIEW:"warning",APPROVED:"success",REJECTED:"error",SUPERSEDED:"default"},Jet=()=>{const t=Kr(),{id:e}=ml(),[r,n]=D.useState(!1),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,u]=D.useState(!1),[g,d]=D.useState(!1),{user:f}=qo(),{currentReport:h,characteristics:A,isLoadingDetail:C,detailError:I,getFAIReport:p,getCharacteristics:m,approveFAIReport:v}=eW(),{signatures:y,getSignaturesForEntity:x,createSignature:T}=c9();D.useEffect(()=>{e&&E()},[e]);const E=async()=>{if(e)try{await p(e),await m(e),await _()}catch(Y){console.error("Failed to load FAI data:",Y)}},_=async()=>{if(e)try{n(!0),await x("fai_report",e)}catch(Y){console.error("Failed to load signatures:",Y)}finally{n(!1)}},S=Y=>Y.map(k=>({id:k.signatureId||k.id,userId:k.userId,username:k.username,firstName:k.firstName,lastName:k.lastName,signatureType:k.signatureType,signatureLevel:k.signatureLevel,timestamp:k.timestamp,isValid:k.isValid,biometricType:k.biometricType,biometricScore:k.biometricScore,invalidationReason:k.invalidationReason,invalidatedAt:k.invalidatedAt,signatureReason:k.signatureReason})),j=()=>{const Y=A.filter(k=>!k.measuredValues||k.measuredValues.length===0);if(Y.length>0){en.warning({title:"Cannot Approve",content:`There are ${Y.length} characteristics without measurements. All characteristics must be measured before approval.`});return}s(!0)},w=async Y=>{if(!(!e||!f))try{a(!0),await T({signedEntityType:"fai_report",signedEntityId:e,signedEntityName:(h==null?void 0:h.faiNumber)||"FAI Report",signatureLevel:"QUALITY",signatureType:"QUALIFIED",userId:f.id,password:Y.password,biometricTemplate:Y.biometricTemplate,biometricScore:Y.biometricScore,signatureReason:Y.signatureReason||"FAI Report Approval"}),await v(e),Ee.success("FAI report approved and signed successfully"),s(!1),await E()}catch(k){Ee.error(k.message||"Failed to approve FAI report")}finally{a(!1)}},R=async()=>{Ee.success("CMM data imported successfully"),u(!1),await E()},N=async()=>{if(e){d(!0);try{window.open(`/api/v1/fai/${e}/download-pdf`,"_blank"),Ee.success("FAIR PDF generated successfully")}catch{Ee.error("Failed to generate PDF")}finally{d(!1)}}},P=[{title:"#",dataIndex:"characteristicNumber",key:"characteristicNumber",width:"60px",sorter:(Y,k)=>Y.characteristicNumber-k.characteristicNumber},{title:"Characteristic",dataIndex:"characteristic",key:"characteristic",width:"20%"},{title:"Specification",dataIndex:"specification",key:"specification",width:"15%"},{title:"Nominal",dataIndex:"nominalValue",key:"nominalValue",width:"10%",align:"right",render:Y=>Y!==null?Y.toFixed(3):"N/A"},{title:"Upper Limit",dataIndex:"upperLimit",key:"upperLimit",width:"10%",align:"right",render:Y=>Y!==null?Y.toFixed(3):"N/A"},{title:"Lower Limit",dataIndex:"lowerLimit",key:"lowerLimit",width:"10%",align:"right",render:Y=>Y!==null?Y.toFixed(3):"N/A"},{title:"Actual",dataIndex:"actualValue",key:"actualValue",width:"10%",align:"right",render:Y=>Y!==null?Y.toFixed(3):"N/A"},{title:"Deviation",dataIndex:"deviation",key:"deviation",width:"10%",align:"right",render:Y=>Y!==null?Y.toFixed(3):"N/A"},{title:"Result",dataIndex:"result",key:"result",width:"10%",align:"center",render:Y=>{if(!Y)return c.jsx(Be,{children:"N/A"});const k=Y==="PASS"?"success":Y==="FAIL"?"error":"default";return c.jsx(Be,{color:k,children:Y})}}];if(C)return c.jsx("div",{style:{textAlign:"center",padding:"100px 0"},children:c.jsx(ei,{size:"large",tip:"Loading FAI report...",children:c.jsx("div",{})})});if(I||!h)return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(xe,{children:[c.jsx(Pt,{message:"Error",description:I||"FAI report not found",type:"error",showIcon:!0,style:{marginBottom:"16px"}}),c.jsx(le,{type:"primary",icon:c.jsx(js,{}),onClick:()=>t("/fai"),children:"Back to List"})]})});const M=h,B=M.status==="REVIEW",W=A.length,H=A.filter(Y=>Y.result==="PASS").length,V=A.filter(Y=>Y.result==="FAIL").length,K=A.filter(Y=>!Y.result||Y.result==="N/A").length;return c.jsxs("div",{style:{padding:"24px",maxWidth:"1600px",margin:"0 auto"},children:[c.jsx(le,{type:"text",icon:c.jsx(js,{}),onClick:()=>t("/fai"),style:{marginBottom:"16px"},children:"Back to List"}),c.jsx(xe,{style:{marginBottom:"24px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsx("div",{style:{flex:1},children:c.jsxs(pe,{align:"center",style:{marginBottom:"16px"},children:[c.jsx(cl,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(Qet,{level:2,style:{margin:0},children:M.faiNumber}),c.jsx(Be,{color:rQ[M.status],style:{fontSize:"14px"},children:M.status})]})}),c.jsxs(pe,{size:"middle",children:[c.jsx(le,{size:"large",icon:c.jsx(cl,{}),onClick:()=>u(!0),disabled:M.status==="APPROVED",children:"Import CMM Data"}),c.jsx(le,{size:"large",icon:c.jsx(cl,{}),onClick:N,loading:g,children:"Generate FAIR PDF"}),B&&c.jsx(le,{type:"primary",size:"large",icon:c.jsx(vr,{}),onClick:j,style:{background:"#52c41a",borderColor:"#52c41a"},children:"Approve with Signature"})]})]})}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Characteristics",value:W,prefix:c.jsx(cl,{})})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Pass",value:H,prefix:c.jsx(vr,{style:{color:"#52c41a"}}),valueStyle:{color:"#52c41a"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Fail",value:V,prefix:c.jsx(ts,{style:{color:"#ff4d4f"}}),valueStyle:{color:"#ff4d4f"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Not Measured",value:K,valueStyle:{color:"#999"}})})})]}),c.jsx(xe,{title:"Report Details",style:{marginBottom:"24px"},children:c.jsxs(Ge,{bordered:!0,column:2,children:[c.jsx(Ge.Item,{label:"FAI Number",children:M.faiNumber}),c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:rQ[M.status],children:M.status})}),c.jsx(Ge.Item,{label:"Part ID",children:M.partId}),c.jsx(Ge.Item,{label:"Work Order",children:M.workOrderId||"N/A"}),c.jsx(Ge.Item,{label:"Inspection ID",children:M.inspectionId||"N/A"}),c.jsx(Ge.Item,{label:"Revision",children:M.revisionLevel||"N/A"}),c.jsx(Ge.Item,{label:"Created",children:new Date(M.createdAt).toLocaleString()}),c.jsx(Ge.Item,{label:"Last Updated",children:new Date(M.updatedAt).toLocaleString()})]})}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(cl,{}),c.jsxs("span",{children:["Form 3 - Characteristic Accountability (",W,")"]})]}),style:{marginBottom:"24px"},children:c.jsx(Jr,{columns:P,dataSource:A,rowKey:"id",pagination:!1,scroll:{x:1400},bordered:!0})}),c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(cs,{}),c.jsx("span",{children:"Electronic Signatures"})]}),style:{marginBottom:"24px"},children:r?c.jsx("div",{style:{textAlign:"center",padding:"24px"},children:c.jsx(ei,{tip:"Loading signatures...",children:c.jsx("div",{})})}):y&&y.length>0?c.jsx(u9,{signatures:S(y),showDetails:!0}):c.jsx(Pt,{message:"No Signatures",description:"This FAI report has not been electronically signed yet. QUALIFIED signature required for approval.",type:"info",showIcon:!0})}),c.jsx(g9,{visible:i,onCancel:()=>s(!1),onSign:w,entityType:"fai_report",entityId:e||"",entityName:M.faiNumber,signatureLevel:"QUALITY",signatureType:"QUALIFIED",requireBiometric:!0,title:"Sign and Approve FAI Report",description:"Approving this FAI report requires a QUALIFIED electronic signature (username + password + 2FA + biometric). This ensures aerospace quality compliance (AS9102 Rev C)."}),c.jsx(Xet,{visible:l,faiReportId:e||"",onCancel:()=>u(!1),onSuccess:R})]})},{Title:ett,Paragraph:nQ}=yr,{Option:O5}=we,ttt=()=>{const t=Kr(),[e]=me.useForm(),[r,n]=D.useState(!1),{createFAIReport:i}=eW(),s=async o=>{try{n(!0);const a={faiNumber:o.faiNumber,partId:o.partId,workOrderId:o.workOrderId||void 0,inspectionId:o.inspectionId||void 0,revisionLevel:o.revisionLevel||void 0},l=await i(a);Ee.success("FAI report created successfully"),t(`/fai/${l.id}`)}catch(a){Ee.error(a.message||"Failed to create FAI report")}finally{n(!1)}};return c.jsxs("div",{style:{padding:"24px",maxWidth:"1000px",margin:"0 auto"},children:[c.jsx(le,{type:"text",icon:c.jsx(js,{}),onClick:()=>t("/fai"),style:{marginBottom:"16px"},children:"Back to List"}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs(pe,{align:"center",style:{marginBottom:"12px"},children:[c.jsx(cl,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(ett,{level:2,style:{margin:0},children:"Create FAI Report"})]}),c.jsx(nQ,{type:"secondary",children:"Create a new AS9102 First Article Inspection Report. After creation, you can add characteristics and measurements on the detail page."})]}),c.jsx(xe,{children:c.jsxs(me,{form:e,layout:"vertical",onFinish:s,initialValues:{revisionLevel:"A"},children:[c.jsx(me.Item,{label:"FAI Number",name:"faiNumber",rules:[{required:!0,message:"Please enter FAI number"},{min:3,message:"FAI number must be at least 3 characters"}],tooltip:"Unique identifier for this FAI report (e.g., FAI-2024-001)",children:c.jsx(at,{placeholder:"FAI-2024-001",size:"large"})}),c.jsx(me.Item,{label:"Part ID",name:"partId",rules:[{required:!0,message:"Please select or enter part ID"}],tooltip:"The part number being inspected",children:c.jsxs(we,{mode:"tags",placeholder:"Select or enter part ID",showSearch:!0,allowClear:!0,size:"large",optionFilterProp:"children","data-testid":"part-id-input",maxCount:1,children:[c.jsx(O5,{value:"PART-001",children:"PART-001 - Wing Panel A"}),c.jsx(O5,{value:"PART-002",children:"PART-002 - Fuselage Section"}),c.jsx(O5,{value:"PART-003",children:"PART-003 - Landing Gear Assembly"})]})}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[c.jsx(me.Item,{label:"Work Order ID",name:"workOrderId",tooltip:"Optional: Link to related work order",children:c.jsx(at,{placeholder:"WO-2024-001","data-testid":"work-order-input"})}),c.jsx(me.Item,{label:"Inspection ID",name:"inspectionId",tooltip:"Optional: Link to related inspection",children:c.jsx(at,{placeholder:"INS-2024-001"})})]}),c.jsx(me.Item,{label:"Revision Level",name:"revisionLevel",tooltip:"Drawing or part revision level (e.g., A, B, C, 1, 2)",children:c.jsx(at,{placeholder:"A",maxLength:10,"data-testid":"revision-input"})}),c.jsx(me.Item,{style:{marginBottom:0,marginTop:"32px"},children:c.jsxs(pe,{size:"middle",children:[c.jsx(le,{type:"primary",htmlType:"submit",size:"large",icon:c.jsx(BA,{}),loading:r,children:"Create FAI Report"}),c.jsx(le,{size:"large",onClick:()=>t("/fai"),children:"Cancel"})]})})]})}),c.jsx(xe,{style:{marginTop:"24px",background:"#f0f5ff",borderColor:"#adc6ff"},children:c.jsxs(pe,{direction:"vertical",children:[c.jsx(nQ,{strong:!0,style:{color:"#1890ff",margin:0},children:"Next Steps After Creation:"}),c.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[c.jsx("li",{children:"Add characteristics with nominal values and tolerances (Form 3)"}),c.jsx("li",{children:"Record measurements for each characteristic"}),c.jsx("li",{children:"Review automatic pass/fail calculations"}),c.jsx("li",{children:"Submit for review when all measurements are complete"}),c.jsx("li",{children:"Approve with QUALIFIED signature (Quality Engineer/Inspector)"})]})]})})]})},{Title:rtt,Text:iQ}=yr,{Search:ntt}=at,{TabPane:j5}=Zc,sQ=()=>{const t=Kr(),{serialNumber:e}=ml(),[r,n]=D.useState(e||""),[i,s]=D.useState(e||""),o=a=>{a.trim()&&(s(a.trim()),t(`/traceability/${a.trim()}`))};return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs(vh,{style:{marginBottom:"16px"},children:[c.jsx(vh.Item,{onClick:()=>t("/dashboard"),children:c.jsx(Kh,{})}),c.jsx(vh.Item,{onClick:()=>t("/traceability"),children:"Traceability"}),c.jsx(vh.Item,{children:i||"Search Serial Number"})]}),c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs(pe,{align:"center",style:{marginBottom:"12px"},children:[c.jsx(dl,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(rtt,{level:2,style:{margin:0},children:"Product Genealogy & Traceability"})]}),c.jsx(iQ,{type:"secondary",children:"Complete traceability visualization showing component relationships and material genealogy."})]}),c.jsx(xe,{style:{marginBottom:"24px"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsx(iQ,{strong:!0,children:"Search by Serial Number"}),c.jsx(ntt,{placeholder:"Enter serial number (e.g., SN-20251015-000001-7)",allowClear:!0,enterButton:c.jsx(le,{type:"primary",icon:c.jsx(Gn,{}),children:"Search"}),size:"large",value:r,onChange:a=>n(a.target.value),onSearch:o,prefix:c.jsx(MA,{}),style:{maxWidth:600}})]})}),i?c.jsxs(Zc,{defaultActiveKey:"genealogy",type:"card",children:[c.jsx(j5,{tab:c.jsxs("span",{children:[c.jsx(dl,{}),"Genealogy Tree"]}),children:c.jsx(ESe,{serialNumber:i,maxDepth:5,width:1200,height:700})},"genealogy"),c.jsx(j5,{tab:c.jsxs("span",{children:[c.jsx(Gn,{}),"Forward Traceability"]}),children:c.jsx(xe,{children:c.jsx(Pt,{message:"Forward Traceability",description:"Shows where this material/lot was used in finished products. (To be implemented)",type:"info",showIcon:!0})})},"forward"),c.jsx(j5,{tab:c.jsxs("span",{children:[c.jsx(Gn,{}),"Backward Traceability"]}),children:c.jsx(xe,{children:c.jsx(Pt,{message:"Backward Traceability",description:"Shows all materials and components used to make this product. (To be implemented)",type:"info",showIcon:!0})})},"backward")]}):c.jsx(xe,{children:c.jsx(Pt,{message:"No Serial Number Entered",description:"Please enter a serial number in the search box above to view traceability information.",type:"info",showIcon:!0})})]})},{Title:oQ,Text:aQ}=yr,{Search:itt}=at,lQ=()=>{const t=Kr(),[e,r]=D.useState(!1),[n,i]=D.useState([]),[s,o]=D.useState(0),[a,l]=D.useState(1),[u,g]=D.useState(20),[d,f]=D.useState(""),[h,A]=D.useState(!1),[C,I]=D.useState(!1),[p,m]=D.useState(!1),[v,y]=D.useState(!1),[x,T]=D.useState(null),[E]=me.useForm(),[_]=me.useForm(),[S]=me.useForm();D.useEffect(()=>{h&&!x&&E.setFieldsValue({sequencePadding:6,includeCheckDigit:!0})},[h,x,E]),D.useEffect(()=>{C&&_.setFieldsValue({sequencePadding:6,includeCheckDigit:!0})},[C,_]);const j=D.useCallback(async()=>{r(!0);try{const B=await Lr.get("/serialization/parts",{params:{page:a,limit:u,search:d||void 0}});i(B.parts||[]),o(B.total||0)}catch(B){console.error("Failed to load parts:",B),Ee.error("Failed to load serialized parts")}finally{r(!1)}},[a,u,d]);D.useEffect(()=>{j()},[j]);const w=D.useCallback(async B=>{var W,H,V,K,Y,k,q,z,G;console.log("[TEST DEBUG] handleGenerateSingle called with:",B),y(!0);try{console.log("[TEST DEBUG] Starting API call...");const Z=await Lr.post("/serialization/generate",B);console.log("[TEST DEBUG] API call completed:",Z),console.log("[TEST DEBUG] Setting generated serial:",Z.serialNumber),T(Z.serialNumber),console.log("[TEST DEBUG] Showing success message"),Ee.success("Serial number generated successfully"),console.log("[TEST DEBUG] Resetting form"),E.resetFields(),console.log("[TEST DEBUG] handleGenerateSingle completed successfully")}catch(Z){console.error("[TEST DEBUG] Generate single serial error:",Z),console.error("[TEST DEBUG] Error details:",{message:Z.message,response:(W=Z.response)==null?void 0:W.data,status:(H=Z.response)==null?void 0:H.status,requestUrl:(V=Z.config)==null?void 0:V.url,fullUrl:(K=Z.config)!=null&&K.baseURL?Z.config.baseURL+Z.config.url:(Y=Z.config)==null?void 0:Y.url,method:(k=Z.config)==null?void 0:k.method,headers:(q=Z.config)==null?void 0:q.headers});const ue=((G=(z=Z.response)==null?void 0:z.data)==null?void 0:G.error)||Z.message||"Failed to generate serial number";Ee.error(ue)}finally{console.log("[TEST DEBUG] Setting generating to false"),y(!1)}},[E]),R=D.useCallback(async B=>{var W,H;console.log("[TEST DEBUG] handleGenerateBatch called with:",B),y(!0);try{console.log("[TEST DEBUG] Starting batch API call...");const V=await Lr.post("/serialization/generate-batch",{...B,count:B.quantity});console.log("[TEST DEBUG] Batch API call completed:",V),console.log("[TEST DEBUG] Showing success message for",V.count,"serials"),Ee.success(`Generated ${V.count} serial numbers`,4),console.log("[TEST DEBUG] Opening info modal"),en.info({title:"Batch Generated",content:c.jsxs("div",{children:[c.jsxs("p",{children:["Successfully generated ",V.count," serial numbers:"]}),c.jsxs("ul",{style:{maxHeight:300,overflow:"auto"},children:[V.serialNumbers.slice(0,20).map(K=>c.jsx("li",{children:K.serialNumber},K.serialNumber)),V.count>20&&c.jsxs("li",{children:["... and ",V.count-20," more"]})]})]}),width:600}),console.log("[TEST DEBUG] Resetting batch form"),_.resetFields(),setTimeout(()=>{console.log("[TEST DEBUG] Closing batch modal"),I(!1)},500),console.log("[TEST DEBUG] handleGenerateBatch completed successfully")}catch(V){console.error("[TEST DEBUG] Generate batch error:",V);const K=((H=(W=V.response)==null?void 0:W.data)==null?void 0:H.error)||V.message||"Failed to generate batch";Ee.error(K)}finally{console.log("[TEST DEBUG] Setting batch generating to false"),y(!1)}},[_]),N=D.useCallback(async B=>{var W,H;y(!0);try{await Lr.post("/serialization/parts",{serialNumber:B.serialNumber,partNumber:B.partNumber,lotNumber:B.lotNumber,status:"IN_PRODUCTION",manufactureDate:new Date().toISOString()}),Ee.success("Serialized part created successfully",4),S.resetFields(),j(),setTimeout(()=>{m(!1)},500)}catch(V){console.error("Create part error:",V);const K=((H=(W=V.response)==null?void 0:W.data)==null?void 0:H.error)||V.message||"Failed to create serialized part";Ee.error(K)}finally{y(!1)}},[S,j]);D.useEffect(()=>()=>{window.__TEST_FORMS__&&delete window.__TEST_FORMS__},[E,_,S,w,R,N]);const P=B=>{navigator.clipboard.writeText(B),Ee.success("Copied to clipboard")},M=[{title:"Serial Number",dataIndex:"serialNumber",key:"serialNumber",width:220,render:B=>c.jsxs(pe,{children:[c.jsx(MA,{}),c.jsx(le,{type:"link",style:{padding:0,fontWeight:500},onClick:()=>t(`/traceability/${B}`),children:B}),c.jsx(lt,{title:"Copy",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Kw,{}),onClick:()=>P(B)})})]})},{title:"Part Number",dataIndex:"partNumber",key:"partNumber",width:150},{title:"Part Name",dataIndex:"partName",key:"partName",width:200},{title:"Type",dataIndex:"partType",key:"partType",width:120,render:B=>{const W={FINISHED:"blue",WIP:"orange",RAW_MATERIAL:"green",PURCHASED:"purple"};return c.jsx(Be,{color:W[B]||"default",children:B})}},{title:"Lot Number",dataIndex:"lotNumber",key:"lotNumber",width:150,render:B=>B||"N/A"},{title:"Status",dataIndex:"status",key:"status",width:100,render:B=>{const W={IN_PRODUCTION:"processing",COMPLETED:"success",ACTIVE:"success",USED:"default",SCRAPPED:"error"};return c.jsx(Be,{color:W[B]||"default",children:B})}},{title:"Manufacture Date",dataIndex:"manufactureDate",key:"manufactureDate",width:150,render:B=>new Date(B).toLocaleDateString()},{title:"Created",dataIndex:"createdAt",key:"createdAt",width:150,render:B=>new Date(B).toLocaleDateString()},{title:"Actions",key:"actions",width:150,fixed:"right",render:(B,W)=>c.jsx(pe,{children:c.jsx(lt,{title:"View Traceability",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(dl,{}),onClick:()=>t(`/traceability/${W.serialNumber}`),children:"Trace"})})})}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{children:[c.jsxs(pe,{align:"center",style:{marginBottom:"12px"},children:[c.jsx(MA,{style:{fontSize:"32px",color:"#1890ff"}}),c.jsx(oQ,{level:2,style:{margin:0},children:"Serial Number Management"})]}),c.jsx(aQ,{type:"secondary",children:"Generate and manage serial numbers with advanced traceability features"})]}),c.jsx(le,{icon:c.jsx(dl,{}),onClick:()=>t("/traceability"),children:"View Traceability"})]})}),c.jsx(xe,{style:{marginBottom:"24px"},children:c.jsx(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:c.jsxs(pe,{size:"middle",style:{width:"100%",justifyContent:"space-between"},children:[c.jsxs(pe,{children:[c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>m(!0),"data-testid":"create-part-button",children:"Create Serialized Part"}),c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>A(!0),"data-testid":"generate-serial-button",children:"Generate Serial Number"}),c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>I(!0),"data-testid":"generate-batch-button",children:"Generate Batch"})]}),c.jsx(itt,{placeholder:"Search serial numbers...",allowClear:!0,style:{width:300},onSearch:f,prefix:c.jsx(Gn,{})})]})})}),c.jsx(xe,{children:c.jsx(Jr,{columns:M,dataSource:n,rowKey:"id",loading:e,pagination:{current:a,pageSize:u,total:s,showSizeChanger:!0,showTotal:B=>`Total ${B} parts`,onChange:(B,W)=>{l(B),g(W||20)}},scroll:{x:1400}})}),c.jsx(en,{title:"Generate Serial Number",open:h,onCancel:()=>{A(!1),T(null),E.resetFields()},footer:null,children:x?c.jsxs("div",{style:{textAlign:"center",padding:"24px"},children:[c.jsx(vr,{style:{fontSize:64,color:"#52c41a",marginBottom:16}}),c.jsx(oQ,{level:4,children:"Serial Number Generated"}),c.jsx(xe,{style:{marginTop:16,background:"#f0f2f5"},children:c.jsxs(pe,{children:[c.jsx(aQ,{code:!0,style:{fontSize:18},children:x}),c.jsx(le,{icon:c.jsx(Kw,{}),onClick:()=>P(x),children:"Copy"})]})}),c.jsx(le,{type:"primary",style:{marginTop:16},onClick:()=>{A(!1),T(null)},children:"Close"})]}):c.jsxs(me,{form:E,layout:"vertical",onFinish:w,initialValues:{sequencePadding:6,includeCheckDigit:!0},children:[c.jsx(me.Item,{label:"Prefix",name:"prefix",rules:[{required:!0,message:"Please enter prefix"}],children:c.jsx(at,{placeholder:"e.g., SN","data-testid":"serial-prefix-input"})}),c.jsx(me.Item,{label:"Sequence Padding",name:"sequencePadding",children:c.jsx(po,{min:4,max:12,style:{width:"100%"}})}),c.jsx(me.Item,{label:"Include Check Digit",name:"includeCheckDigit",children:c.jsxs(we,{children:[c.jsx(we.Option,{value:!0,children:"Yes (Luhn Algorithm)"}),c.jsx(we.Option,{value:!1,children:"No"})]})}),c.jsx(me.Item,{children:c.jsxs(pe,{style:{width:"100%",justifyContent:"flex-end"},children:[c.jsx(le,{onClick:()=>A(!1),children:"Cancel"}),c.jsx(le,{type:"primary",onClick:()=>E.submit(),loading:v,"data-testid":"generate-submit-button",children:"Generate"})]})})]})}),c.jsx(en,{title:"Generate Batch Serial Numbers",open:C,onCancel:()=>{I(!1),_.resetFields()},footer:null,children:c.jsxs(me,{form:_,layout:"vertical",onFinish:R,initialValues:{sequencePadding:6,includeCheckDigit:!0},children:[c.jsx(me.Item,{label:"Prefix",name:"prefix",rules:[{required:!0,message:"Please enter prefix"}],children:c.jsx(at,{placeholder:"e.g., BATCH","data-testid":"batch-prefix-input"})}),c.jsx(me.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please enter quantity"}],children:c.jsx(po,{min:1,max:1e3,style:{width:"100%"},placeholder:"Number of serials to generate","data-testid":"batch-quantity-input"})}),c.jsx(me.Item,{label:"Sequence Padding",name:"sequencePadding",children:c.jsx(po,{min:4,max:12,style:{width:"100%"}})}),c.jsx(me.Item,{label:"Include Check Digit",name:"includeCheckDigit",children:c.jsxs(we,{children:[c.jsx(we.Option,{value:!0,children:"Yes (Luhn Algorithm)"}),c.jsx(we.Option,{value:!1,children:"No"})]})}),c.jsx(me.Item,{children:c.jsxs(pe,{style:{width:"100%",justifyContent:"flex-end"},children:[c.jsx(le,{onClick:()=>I(!1),children:"Cancel"}),c.jsx(le,{type:"primary",onClick:()=>_.submit(),loading:v,"data-testid":"generate-batch-submit-button",children:"Generate Batch"})]})})]})}),c.jsx(en,{title:"Create Serialized Part",open:p,onCancel:()=>m(!1),footer:null,destroyOnClose:!0,children:c.jsxs(me,{form:S,layout:"vertical",onFinish:N,children:[c.jsx(me.Item,{label:"Serial Number",name:"serialNumber",rules:[{required:!0,message:"Please enter serial number"}],children:c.jsx(at,{placeholder:"e.g., SN-20251015-000001-7","data-testid":"serial-number-input"})}),c.jsx(me.Item,{label:"Part Number",name:"partNumber",rules:[{required:!0,message:"Please enter part number"}],children:c.jsx(at,{placeholder:"e.g., PN-001","data-testid":"part-number-input"})}),c.jsx(me.Item,{label:"Lot Number",name:"lotNumber",children:c.jsx(at,{placeholder:"e.g., LOT-20251015-001","data-testid":"lot-number-input"})}),c.jsx(me.Item,{label:"Part Type",name:"partType",children:c.jsxs(we,{placeholder:"Select part type","data-testid":"part-type-select",children:[c.jsx(we.Option,{value:"FINISHED",children:"Finished"}),c.jsx(we.Option,{value:"WIP",children:"Work in Progress"}),c.jsx(we.Option,{value:"RAW_MATERIAL",children:"Raw Material"}),c.jsx(we.Option,{value:"PURCHASED",children:"Purchased"})]})}),c.jsx(me.Item,{children:c.jsxs(pe,{style:{width:"100%",justifyContent:"flex-end"},children:[c.jsx(le,{onClick:()=>m(!1),children:"Cancel"}),c.jsx(le,{type:"primary",htmlType:"submit",loading:v,children:"Create Part"})]})})]})})]})},{Title:stt,Text:K0}=yr,ott=()=>{const t=Kr(),[e,r]=D.useState(!0),[n,i]=D.useState([]),[s,o]=D.useState(!1);D.useEffect(()=>{document.title="Integration Dashboard - MES",a()},[]);const a=async()=>{try{r(!0);const m=await Vt.get("/api/v1/integrations/health/all");i(m.data)}catch(m){console.error("Error fetching integration health:",m),Ee.error("Failed to load integration health data")}finally{r(!1)}},l=async()=>{o(!0),await a(),o(!1),Ee.success("Integration health refreshed")},u=async(m,v)=>{try{await Vt.post(`/api/v1/integrations/${m}/sync`,{jobType:v}),Ee.success(`${v.replace("_"," ")} synchronization started`),setTimeout(a,2e3)}catch(y){console.error("Error triggering sync:",y),Ee.error("Failed to start synchronization")}},g=m=>m.enabled?m.connected?m.errorCount>0?c.jsx(Ns,{style:{color:"#faad14"}}):c.jsx(vr,{style:{color:"#52c41a"}}):c.jsx(ts,{style:{color:"#ff4d4f"}}):c.jsx(ts,{style:{color:"#999"}}),d=m=>m.enabled?m.connected?m.errorCount>0?"warning":"success":"error":"default",f=m=>m.enabled?m.connected?m.errorCount>0?"Warning":"Healthy":"Disconnected":"Disabled",h=n.length,A=n.filter(m=>m.enabled).length,C=n.filter(m=>m.connected&&m.enabled).length,I=n.length>0?n.reduce((m,v)=>m+v.statistics.successRate,0)/n.length:0,p=[{title:"Integration",dataIndex:"name",key:"name",render:(m,v)=>c.jsxs(pe,{children:[g(v),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:m}),c.jsx(K0,{type:"secondary",style:{fontSize:12},children:v.type})]})]})},{title:"Status",dataIndex:"status",key:"status",render:(m,v)=>c.jsx(Be,{color:d(v),children:f(v)})},{title:"Last Sync",dataIndex:"lastSync",key:"lastSync",render:(m,v)=>c.jsx("div",{children:m?c.jsxs(c.Fragment,{children:[c.jsx("div",{children:new Date(m).toLocaleString()}),(v==null?void 0:v.lastSyncStatus)&&c.jsx(Be,{color:v.lastSyncStatus==="SUCCESS"?"success":v.lastSyncStatus==="PARTIAL"?"warning":"error",style:{marginTop:4},children:v.lastSyncStatus})]}):c.jsx(K0,{type:"secondary",children:"Never"})})},{title:"Success Rate",dataIndex:"statistics",key:"successRate",render:m=>c.jsxs("div",{children:[c.jsx(Wn,{percent:m.successRate,size:"small",strokeColor:m.successRate>=95?"#52c41a":m.successRate>=80?"#faad14":"#ff4d4f"}),c.jsxs(K0,{type:"secondary",style:{fontSize:12},children:[m.successCount,"/",m.totalSyncs," syncs"]})]})},{title:"Response Time",dataIndex:"responseTime",key:"responseTime",render:m=>m!==void 0?c.jsxs(K0,{children:[m,"ms"]}):c.jsx(K0,{type:"secondary",children:"-"})},{title:"Actions",key:"actions",render:(m,v)=>c.jsxs(pe,{children:[v.enabled&&c.jsxs(c.Fragment,{children:[c.jsx(lt,{title:"Sync Items",children:c.jsx(le,{size:"small",icon:c.jsx(nT,{}),onClick:()=>u(v.configId,"sync_items"),children:"Items"})}),c.jsx(lt,{title:"Sync BOMs",children:c.jsx(le,{size:"small",icon:c.jsx(nT,{}),onClick:()=>u(v.configId,"sync_boms"),children:"BOMs"})})]}),c.jsx(lt,{title:"View Logs",children:c.jsx(le,{size:"small",icon:c.jsx(uy,{}),onClick:()=>t(`/integrations/logs?config=${v.configId}`)})}),c.jsx(lt,{title:"Settings",children:c.jsx(le,{size:"small",icon:c.jsx(ld,{}),onClick:()=>t(`/integrations/config/${v.configId}`)})})]})}];return e?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:c.jsx(ei,{size:"large",tip:"Loading integrations...",children:c.jsx("div",{})})}):c.jsxs("div",{style:{padding:0},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsx(stt,{level:2,style:{margin:0},children:"Integration Dashboard"}),c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Ps,{spin:s}),onClick:l,loading:s,children:"Refresh"}),c.jsx(le,{icon:c.jsx(uy,{}),onClick:()=>t("/integrations/logs"),children:"View All Logs"}),c.jsx(le,{type:"primary",icon:c.jsx(ld,{}),onClick:()=>t("/integrations/config"),children:"Manage Integrations"})]})]}),c.jsxs(Dt,{gutter:[16,16],style:{marginBottom:24},children:[c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Integrations",value:h,prefix:c.jsx(Z1e,{}),valueStyle:{color:"#1890ff"}})})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active Integrations",value:A,prefix:c.jsx(vr,{}),valueStyle:{color:"#52c41a"}})})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Connected",value:C,suffix:`/ ${A}`,prefix:c.jsx(nT,{}),valueStyle:{color:C===A?"#52c41a":"#faad14"}})})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Avg Success Rate",value:I,precision:1,suffix:"%",prefix:c.jsx(vr,{}),valueStyle:{color:I>=95?"#52c41a":I>=80?"#faad14":"#ff4d4f"}})})})]}),n.some(m=>!m.connected&&m.enabled)&&c.jsx(Pt,{message:"Connection Issues Detected",description:c.jsxs("div",{children:["The following integrations are disconnected:",c.jsx("ul",{style:{marginTop:8,marginBottom:0},children:n.filter(m=>!m.connected&&m.enabled).map(m=>c.jsxs("li",{children:[c.jsx("strong",{children:m.name}),": ",m.lastError||"Connection failed"]},m.configId))})]}),type:"error",showIcon:!0,icon:c.jsx(Ns,{}),style:{marginBottom:24}}),n.some(m=>m.errorCount>0&&m.connected)&&c.jsx(Pt,{message:"Recent Sync Errors",description:c.jsxs("div",{children:["Some integrations have experienced errors:",c.jsx("ul",{style:{marginTop:8,marginBottom:0},children:n.filter(m=>m.errorCount>0&&m.connected).map(m=>c.jsxs("li",{children:[c.jsx("strong",{children:m.name}),": ",m.errorCount," error(s) - ",m.lastError]},m.configId))})]}),type:"warning",showIcon:!0,icon:c.jsx(Ns,{}),style:{marginBottom:24},closable:!0}),c.jsx(xe,{title:"Integration Status",children:c.jsx(Jr,{dataSource:n.map(m=>({...m,key:m.configId})),columns:p,pagination:!1,size:"middle"})})]})},{Title:att,Text:P5}=yr,{TextArea:bRt}=at,cQ=()=>{const[t,e]=D.useState([]),[r,n]=D.useState(!0),[i,s]=D.useState(!1),[o,a]=D.useState(null),[l,u]=D.useState(!1),[g]=me.useForm();D.useEffect(()=>{document.title="Integration Configuration - MES",d()},[]);const d=async()=>{try{n(!0);const x=await Vt.get("/api/v1/integrations");e(x.data)}catch(x){console.error("Error fetching integrations:",x),Ee.error("Failed to load integrations")}finally{n(!1)}},f=()=>{a(null),g.resetFields(),g.setFieldsValue({enabled:!0,type:"ERP",integrationType:"oracle_fusion"}),s(!0)},h=x=>{a(x),g.setFieldsValue({name:x.name,displayName:x.displayName,type:x.type,enabled:x.enabled}),s(!0)},A=async x=>{try{await Vt.delete(`/api/v1/integrations/${x}`),Ee.success("Integration deleted successfully"),d()}catch(T){console.error("Error deleting integration:",T),Ee.error("Failed to delete integration")}},C=async()=>{var x,T;try{u(!0);const E=await g.validateFields(),_=I(E),S=await Vt.post("/api/v1/integrations",{name:`test_${Date.now()}`,displayName:"Test Connection",type:E.type,config:_,enabled:!1}),j=await Vt.post(`/api/v1/integrations/${S.data.id}/test`);await Vt.delete(`/api/v1/integrations/${S.data.id}`),j.data.success?Ee.success(`Connection successful! Response time: ${j.data.responseTime}ms`):Ee.error(`Connection failed: ${j.data.error}`)}catch(E){console.error("Error testing connection:",E),Ee.error("Connection test failed: "+(((T=(x=E.response)==null?void 0:x.data)==null?void 0:T.error)||E.message))}finally{u(!1)}},I=x=>{var T;switch(x.integrationType){case"oracle_fusion":return{oicBaseUrl:x.oicBaseUrl,fusionBaseUrl:x.fusionBaseUrl,clientId:x.clientId,clientSecret:x.clientSecret,tokenUrl:x.tokenUrl,scopes:((T=x.scopes)==null?void 0:T.split(",").map(E=>E.trim()))||[],webhookSecret:x.webhookSecret||"",syncInterval:parseInt(x.syncInterval)||60,batchSize:parseInt(x.batchSize)||100,timeout:3e4,retryAttempts:3,retryDelay:1e3};case"oracle_ebs":return{ebsBaseUrl:x.ebsBaseUrl,isgRestPath:x.isgRestPath||"/webservices/rest",ebsVersion:x.ebsVersion,authType:x.authType||"BASIC",username:x.username,password:x.password,responsibility:x.responsibility,respApplication:x.respApplication,securityGroup:x.securityGroup,orgId:x.orgId?parseInt(x.orgId):void 0,modules:{wip:x.module_wip!==!1,inv:x.module_inv!==!1,bom:x.module_bom!==!1,po:x.module_po!==!1},syncInterval:parseInt(x.syncInterval)||60,batchSize:parseInt(x.batchSize)||100,timeout:3e4,retryAttempts:3,retryDelay:1e3};case"teamcenter":return{tcBaseUrl:x.tcBaseUrl,soaRestPath:x.soaRestPath||"/tc/soa/rest",tcVersion:x.tcVersion,username:x.username,password:x.password,discriminator:x.discriminator||"",locale:x.locale||"en_US",groupName:x.groupName,roleName:x.roleName,modules:{itemManagement:x.module_itemManagement!==!1,bom:x.module_bom!==!1,changeManagement:x.module_changeManagement||!1,mpp:x.module_mpp||!1,documents:x.module_documents||!1},bomViewType:x.bomViewType||"Manufacturing",bomRevisionRule:x.bomRevisionRule||"Working",syncInterval:parseInt(x.syncInterval)||60,batchSize:parseInt(x.batchSize)||100,includeCADData:x.includeCADData||!1,timeout:3e4,retryAttempts:3,retryDelay:1e3};default:return{}}},p=async()=>{try{const x=await g.validateFields(),T=I(x),E={name:x.name,displayName:x.displayName,type:x.type,enabled:x.enabled,config:T};o?(await Vt.put(`/api/v1/integrations/${o.id}`,E),Ee.success("Integration updated successfully")):(await Vt.post("/api/v1/integrations",E),Ee.success("Integration created successfully")),s(!1),d()}catch(x){console.error("Error saving integration:",x),Ee.error("Failed to save integration")}},m=async(x,T)=>{try{await Vt.put(`/api/v1/integrations/${x}`,{enabled:T}),Ee.success(`Integration ${T?"enabled":"disabled"}`),d()}catch(E){console.error("Error toggling integration:",E),Ee.error("Failed to update integration")}},v=()=>{const x=me.useWatch("integrationType",g);return c.jsxs(c.Fragment,{children:[c.jsx(me.Item,{name:"integrationType",label:"Integration System",rules:[{required:!0}],children:c.jsxs(we,{disabled:!!o,children:[c.jsx(we.Option,{value:"oracle_fusion",children:"Oracle Fusion Cloud ERP"}),c.jsx(we.Option,{value:"oracle_ebs",children:"Oracle E-Business Suite (EBS)"}),c.jsx(we.Option,{value:"teamcenter",children:"Siemens Teamcenter PLM"})]})}),x==="oracle_fusion"&&c.jsxs(c.Fragment,{children:[c.jsx(Er,{children:"Oracle Fusion Configuration"}),c.jsx(me.Item,{name:"oicBaseUrl",label:"OIC Base URL",rules:[{required:!0}],children:c.jsx(at,{placeholder:"https://your-instance.oic.oraclecloud.com"})}),c.jsx(me.Item,{name:"fusionBaseUrl",label:"Fusion Base URL",rules:[{required:!0}],children:c.jsx(at,{placeholder:"https://your-instance.fa.us2.oraclecloud.com"})}),c.jsx(me.Item,{name:"clientId",label:"Client ID",rules:[{required:!0}],children:c.jsx(at,{})}),c.jsx(me.Item,{name:"clientSecret",label:"Client Secret",rules:[{required:!0}],children:c.jsx(at.Password,{})}),c.jsx(me.Item,{name:"tokenUrl",label:"Token URL",rules:[{required:!0}],children:c.jsx(at,{placeholder:"https://idcs-xxxxx.identity.oraclecloud.com/oauth2/v1/token"})}),c.jsx(me.Item,{name:"scopes",label:"OAuth Scopes",help:"Comma-separated",children:c.jsx(at,{placeholder:"urn:opc:resource:fa:instanceid=xxxx"})}),c.jsx(me.Item,{name:"webhookSecret",label:"Webhook Secret",children:c.jsx(at.Password,{})})]}),x==="oracle_ebs"&&c.jsxs(c.Fragment,{children:[c.jsx(Er,{children:"Oracle EBS Configuration"}),c.jsx(me.Item,{name:"ebsBaseUrl",label:"EBS Base URL",rules:[{required:!0}],children:c.jsx(at,{placeholder:"https://ebs.company.com"})}),c.jsx(me.Item,{name:"isgRestPath",label:"ISG REST Path",initialValue:"/webservices/rest",children:c.jsx(at,{})}),c.jsx(me.Item,{name:"ebsVersion",label:"EBS Version",rules:[{required:!0}],children:c.jsx(at,{placeholder:"12.2.10"})}),c.jsx(me.Item,{name:"authType",label:"Auth Type",initialValue:"BASIC",children:c.jsxs(we,{children:[c.jsx(we.Option,{value:"BASIC",children:"Basic Authentication"}),c.jsx(we.Option,{value:"SESSION",children:"Session-based"})]})}),c.jsx(me.Item,{name:"username",label:"Username",rules:[{required:!0}],children:c.jsx(at,{})}),c.jsx(me.Item,{name:"password",label:"Password",rules:[{required:!0}],children:c.jsx(at.Password,{})}),c.jsx(me.Item,{name:"responsibility",label:"Responsibility",rules:[{required:!0}],children:c.jsx(at,{})}),c.jsx(me.Item,{name:"respApplication",label:"Resp Application",rules:[{required:!0}],children:c.jsx(at,{})}),c.jsx(me.Item,{name:"securityGroup",label:"Security Group",rules:[{required:!0}],children:c.jsx(at,{})}),c.jsx(me.Item,{name:"orgId",label:"Operating Unit ID",children:c.jsx(at,{type:"number"})}),c.jsx(Er,{children:"EBS Modules"}),c.jsx(me.Item,{name:"module_wip",label:"Work In Process (WIP)",valuePropName:"checked",initialValue:!0,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_inv",label:"Inventory (INV)",valuePropName:"checked",initialValue:!0,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_bom",label:"Bill of Materials (BOM)",valuePropName:"checked",initialValue:!0,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_po",label:"Purchase Orders (PO)",valuePropName:"checked",initialValue:!1,children:c.jsx(zn,{})})]}),x==="teamcenter"&&c.jsxs(c.Fragment,{children:[c.jsx(Er,{children:"Teamcenter Configuration"}),c.jsx(me.Item,{name:"tcBaseUrl",label:"Teamcenter Base URL",rules:[{required:!0}],children:c.jsx(at,{placeholder:"https://tc.company.com"})}),c.jsx(me.Item,{name:"soaRestPath",label:"SOA REST Path",initialValue:"/tc/soa/rest",children:c.jsx(at,{})}),c.jsx(me.Item,{name:"tcVersion",label:"Teamcenter Version",rules:[{required:!0}],children:c.jsx(at,{placeholder:"13.3.0"})}),c.jsx(me.Item,{name:"username",label:"Username",rules:[{required:!0}],children:c.jsx(at,{})}),c.jsx(me.Item,{name:"password",label:"Password",rules:[{required:!0}],children:c.jsx(at.Password,{})}),c.jsx(me.Item,{name:"discriminator",label:"Discriminator (LDAP/SSO)",children:c.jsx(at,{})}),c.jsx(me.Item,{name:"locale",label:"Locale",initialValue:"en_US",children:c.jsx(at,{})}),c.jsx(me.Item,{name:"groupName",label:"Group Name",children:c.jsx(at,{})}),c.jsx(me.Item,{name:"roleName",label:"Role Name",children:c.jsx(at,{})}),c.jsx(Er,{children:"BOM Configuration"}),c.jsx(me.Item,{name:"bomViewType",label:"BOM View Type",initialValue:"Manufacturing",children:c.jsxs(we,{children:[c.jsx(we.Option,{value:"Manufacturing",children:"Manufacturing"}),c.jsx(we.Option,{value:"Engineering",children:"Engineering"})]})}),c.jsx(me.Item,{name:"bomRevisionRule",label:"BOM Revision Rule",initialValue:"Working",children:c.jsxs(we,{children:[c.jsx(we.Option,{value:"Working",children:"Working"}),c.jsx(we.Option,{value:"Latest Released",children:"Latest Released"})]})}),c.jsx(Er,{children:"Teamcenter Modules"}),c.jsx(me.Item,{name:"module_itemManagement",label:"Item Management",valuePropName:"checked",initialValue:!0,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_bom",label:"BOM Management",valuePropName:"checked",initialValue:!0,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_changeManagement",label:"Change Management (ECO/ECN)",valuePropName:"checked",initialValue:!1,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_mpp",label:"Manufacturing Process Plans",valuePropName:"checked",initialValue:!1,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"module_documents",label:"Document Management",valuePropName:"checked",initialValue:!1,children:c.jsx(zn,{})}),c.jsx(me.Item,{name:"includeCADData",label:"Include CAD Metadata",valuePropName:"checked",initialValue:!1,children:c.jsx(zn,{})})]}),c.jsx(Er,{children:"Sync Settings"}),c.jsx(me.Item,{name:"syncInterval",label:"Sync Interval (minutes)",initialValue:60,children:c.jsx(at,{type:"number",min:5})}),c.jsx(me.Item,{name:"batchSize",label:"Batch Size",initialValue:100,children:c.jsx(at,{type:"number",min:10,max:1e3})})]})},y=[{title:"Integration",dataIndex:"displayName",key:"displayName",render:(x,T)=>c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:x}),c.jsxs(P5,{type:"secondary",style:{fontSize:12},children:[T.name," (",T.type,")"]})]})},{title:"Status",key:"status",render:(x,T)=>c.jsxs(pe,{children:[T.enabled?c.jsx(Be,{color:"success",icon:c.jsx(vr,{}),children:"Enabled"}):c.jsx(Be,{color:"default",icon:c.jsx(ts,{}),children:"Disabled"}),T.errorCount>0&&c.jsx(lt,{title:`${T.errorCount} error(s)`,children:c.jsx(Be,{color:"warning",icon:c.jsx(Ns,{}),children:"Errors"})})]})},{title:"Last Sync",dataIndex:"lastSync",key:"lastSync",render:(x,T)=>x?c.jsxs("div",{children:[c.jsx("div",{children:new Date(x).toLocaleString()}),(T==null?void 0:T.lastSyncStatus)&&c.jsx(Be,{color:T.lastSyncStatus==="SUCCESS"?"success":T.lastSyncStatus==="PARTIAL"?"warning":"error",style:{marginTop:4},children:T.lastSyncStatus})]}):c.jsx(P5,{type:"secondary",children:"Never"})},{title:"Syncs",dataIndex:"totalSyncs",key:"totalSyncs",render:(x,T)=>c.jsxs("div",{children:[c.jsxs("div",{children:[x," total"]}),c.jsxs(P5,{type:"secondary",style:{fontSize:12},children:[T.successCount," success / ",T.failureCount," failed"]})]})},{title:"Actions",key:"actions",render:(x,T)=>c.jsxs(pe,{children:[c.jsx(lt,{title:T.enabled?"Disable":"Enable",children:c.jsx(zn,{checked:T.enabled,onChange:E=>m(T.id,E)})}),c.jsx(lt,{title:"Edit",children:c.jsx(le,{icon:c.jsx(Pi,{}),onClick:()=>h(T),size:"small"})}),c.jsx(sa,{title:"Delete integration?",description:"This will delete all associated logs. This action cannot be undone.",onConfirm:()=>A(T.id),okText:"Delete",okType:"danger",children:c.jsx(lt,{title:"Delete",children:c.jsx(le,{icon:c.jsx(Xl,{}),danger:!0,size:"small"})})})]})}];return c.jsxs("div",{style:{padding:0},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsx(att,{level:2,style:{margin:0},children:"Integration Configuration"}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:f,children:"New Integration"})]}),c.jsx(Pt,{message:"Integration Management",description:"Configure connections to external ERP and PLM systems. Integrations sync data automatically based on the configured schedule.",type:"info",showIcon:!0,icon:c.jsx(Gq,{}),style:{marginBottom:24},closable:!0}),c.jsx(xe,{children:c.jsx(Jr,{dataSource:t.map(x=>({...x,key:x.id})),columns:y,loading:r,pagination:{pageSize:10,showSizeChanger:!0,showTotal:x=>`Total ${x} integrations`}})}),c.jsx(en,{title:o?"Edit Integration":"Create Integration",open:i,onCancel:()=>s(!1),onOk:p,width:800,footer:[c.jsx(le,{onClick:()=>s(!1),children:"Cancel"},"cancel"),c.jsx(le,{icon:c.jsx(Gq,{}),onClick:C,loading:l,disabled:!!o,children:"Test Connection"},"test"),c.jsx(le,{type:"primary",onClick:p,children:o?"Update":"Create"},"submit")],children:c.jsxs(me,{form:g,layout:"vertical",children:[c.jsx(me.Item,{name:"name",label:"Internal Name",rules:[{required:!0},{pattern:/^[a-z0-9_]+$/,message:"Use lowercase, numbers, and underscores only"}],help:"Unique identifier (e.g., oracle_fusion_prod)",children:c.jsx(at,{disabled:!!o})}),c.jsx(me.Item,{name:"displayName",label:"Display Name",rules:[{required:!0}],children:c.jsx(at,{placeholder:"Oracle Fusion Production"})}),c.jsx(me.Item,{name:"type",label:"Integration Type",rules:[{required:!0}],children:c.jsxs(we,{disabled:!!o,children:[c.jsx(we.Option,{value:"ERP",children:"ERP (Enterprise Resource Planning)"}),c.jsx(we.Option,{value:"PLM",children:"PLM (Product Lifecycle Management)"}),c.jsx(we.Option,{value:"CMMS",children:"CMMS (Maintenance Management)"})]})}),c.jsx(me.Item,{name:"enabled",label:"Enabled",valuePropName:"checked",children:c.jsx(zn,{})}),c.jsx(Er,{}),v()]})})]})},{Title:Wb,Text:Gb}=yr,ltt=()=>{var j;const t=Xc(),[e,r]=D.useState([]),[n,i]=D.useState([]),[s,o]=D.useState(!0),[a,l]=D.useState(null),[u,g]=D.useState(!1),[d,f]=D.useState({}),[h,A]=D.useState({current:1,pageSize:50,total:0});D.useEffect(()=>{document.title="Integration Logs - MES",C();const R=new URLSearchParams(t.search).get("config");R&&f(N=>({...N,configId:R}))},[t]),D.useEffect(()=>{I()},[d,h.current,h.pageSize]);const C=async()=>{try{const w=await Vt.get("/api/v1/integrations");i(w.data)}catch(w){console.error("Error fetching integrations:",w)}},I=async()=>{try{o(!0);const w={page:h.current,limit:h.pageSize};if(d.configId){const R=await Vt.get(`/api/v1/integrations/${d.configId}/logs`,{params:{...w,operation:d.operation,status:d.status}});r(R.data.logs),A(N=>({...N,total:R.data.pagination.total}))}else r([]),A(R=>({...R,total:0}))}catch(w){console.error("Error fetching logs:",w),Ee.error("Failed to load logs")}finally{o(!1)}},p=(w,R)=>{f(N=>({...N,[w]:R})),A(N=>({...N,current:1}))},m=()=>{I(),Ee.success("Logs refreshed")},v=w=>{l(w),g(!0)},y=()=>{if(e.length===0){Ee.warning("No logs to export");return}const w=["Date","Integration","Operation","Direction","Status","Records","Success","Errors","Duration (ms)"],R=e.map(W=>{const H=n.find(V=>V.id===W.configId);return[new Date(W.createdAt).toLocaleString(),(H==null?void 0:H.displayName)||W.configId,W.operation,W.direction,W.status,W.recordCount,W.successCount,W.errorCount,W.duration]}),N=[w,...R].map(W=>W.map(H=>`"${H}"`).join(",")).join(`
`),P=new Blob([N],{type:"text/csv"}),M=URL.createObjectURL(P),B=document.createElement("a");B.href=M,B.download=`integration-logs-${new Date().toISOString()}.csv`,B.click(),Ee.success("Logs exported to CSV")},x=w=>{switch(w){case"SUCCESS":return c.jsx(vr,{style:{color:"#52c41a"}});case"PARTIAL":return c.jsx(Ns,{style:{color:"#faad14"}});case"FAILURE":return c.jsx(ts,{style:{color:"#ff4d4f"}});default:return c.jsx(Wc,{})}},T=w=>{switch(w){case"SUCCESS":return"success";case"PARTIAL":return"warning";case"FAILURE":return"error";default:return"default"}},E=w=>w==="INBOUND"?c.jsx(lt,{title:"Inbound (External  MES)",children:c.jsx(Iw,{style:{color:"#1890ff"}})}):c.jsx(lt,{title:"Outbound (MES  External)",children:c.jsx(Cw,{style:{color:"#722ed1"}})}),_=[{title:"Timestamp",dataIndex:"createdAt",key:"createdAt",width:180,render:w=>c.jsxs("div",{children:[c.jsx("div",{children:new Date(w).toLocaleDateString()}),c.jsx(Gb,{type:"secondary",style:{fontSize:12},children:new Date(w).toLocaleTimeString()})]}),sorter:(w,R)=>new Date(w.createdAt).getTime()-new Date(R.createdAt).getTime(),defaultSortOrder:"descend"},{title:"Operation",dataIndex:"operation",key:"operation",render:(w,R)=>c.jsxs(pe,{children:[E(R.direction),c.jsx("span",{children:w.replace(/_/g," ").toUpperCase()})]})},{title:"Status",dataIndex:"status",key:"status",width:120,render:w=>c.jsx(Be,{color:T(w),icon:x(w),children:w}),filters:[{text:"Success",value:"SUCCESS"},{text:"Partial",value:"PARTIAL"},{text:"Failure",value:"FAILURE"}],onFilter:(w,R)=>R.status===w},{title:"Records",key:"records",width:180,render:(w,R)=>c.jsxs("div",{children:[c.jsxs(pe,{size:4,children:[c.jsx(ji,{status:"processing"}),c.jsxs(Gb,{children:[R.recordCount," total"]})]}),c.jsx("div",{style:{marginTop:4},children:c.jsxs(pe,{size:16,children:[c.jsxs(pe,{size:4,children:[c.jsx(ji,{status:"success"}),c.jsxs(Gb,{type:"secondary",style:{fontSize:12},children:[R.successCount," OK"]})]}),R.errorCount>0&&c.jsxs(pe,{size:4,children:[c.jsx(ji,{status:"error"}),c.jsxs(Gb,{type:"secondary",style:{fontSize:12},children:[R.errorCount," errors"]})]})]})})]})},{title:"Duration",dataIndex:"duration",key:"duration",width:100,render:w=>c.jsxs(pe,{children:[c.jsx(Zi,{}),c.jsxs("span",{children:[w,"ms"]})]}),sorter:(w,R)=>w.duration-R.duration},{title:"Actions",key:"actions",width:100,render:(w,R)=>c.jsx(le,{size:"small",icon:c.jsx(Wc,{}),onClick:()=>v(R),children:"Details"})}],S=n.find(w=>w.id===d.configId);return c.jsxs("div",{style:{padding:0},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[c.jsx(Wb,{level:2,style:{margin:0},children:"Integration Logs"}),c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Ps,{}),onClick:m,children:"Refresh"}),c.jsx(le,{icon:c.jsx(kv,{}),onClick:y,disabled:e.length===0,children:"Export CSV"})]})]}),c.jsx(xe,{style:{marginBottom:16},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[c.jsxs(pe,{wrap:!0,children:[c.jsx(we,{style:{width:300},placeholder:"Select integration",value:d.configId,onChange:w=>p("configId",w),allowClear:!0,showSearch:!0,optionFilterProp:"children",children:n.map(w=>c.jsxs(we.Option,{value:w.id,children:[w.displayName," (",w.name,")"]},w.id))}),c.jsxs(we,{style:{width:200},placeholder:"Operation",value:d.operation,onChange:w=>p("operation",w),allowClear:!0,children:[c.jsx(we.Option,{value:"sync_items",children:"Sync Items"}),c.jsx(we.Option,{value:"sync_boms",children:"Sync BOMs"}),c.jsx(we.Option,{value:"sync_workorders",children:"Sync Work Orders"}),c.jsx(we.Option,{value:"health_check",children:"Health Check"})]}),c.jsxs(we,{style:{width:150},placeholder:"Status",value:d.status,onChange:w=>p("status",w),allowClear:!0,children:[c.jsx(we.Option,{value:"SUCCESS",children:"Success"}),c.jsx(we.Option,{value:"PARTIAL",children:"Partial"}),c.jsx(we.Option,{value:"FAILURE",children:"Failure"})]})]}),d.configId&&S&&c.jsx(Pt,{message:`Viewing logs for: ${S.displayName}`,type:"info",closable:!0,onClose:()=>p("configId",void 0)}),!d.configId&&c.jsx(Pt,{message:"Please select an integration to view logs",type:"warning",showIcon:!0})]})}),c.jsx(xe,{children:c.jsx(Jr,{dataSource:e.map(w=>({...w,key:w.id})),columns:_,loading:s,pagination:{...h,showSizeChanger:!0,showTotal:w=>`Total ${w} log entries`,pageSizeOptions:["25","50","100","200"]},onChange:w=>{A({current:w.current||1,pageSize:w.pageSize||50,total:h.total})}})}),c.jsx(Bke,{title:"Log Details",placement:"right",width:720,onClose:()=>g(!1),open:u,children:a&&c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs(Ge,{column:1,bordered:!0,children:[c.jsx(Ge.Item,{label:"Timestamp",children:new Date(a.createdAt).toLocaleString()}),c.jsx(Ge.Item,{label:"Integration",children:((j=n.find(w=>w.id===a.configId))==null?void 0:j.displayName)||a.configId}),c.jsx(Ge.Item,{label:"Operation",children:a.operation.replace(/_/g," ").toUpperCase()}),c.jsx(Ge.Item,{label:"Direction",children:c.jsxs(pe,{children:[E(a.direction),c.jsx("span",{children:a.direction})]})}),c.jsx(Ge.Item,{label:"Status",children:c.jsx(Be,{color:T(a.status),icon:x(a.status),children:a.status})}),c.jsx(Ge.Item,{label:"Records Processed",children:a.recordCount}),c.jsx(Ge.Item,{label:"Successful",children:a.successCount}),c.jsx(Ge.Item,{label:"Errors",children:a.errorCount}),c.jsxs(Ge.Item,{label:"Duration",children:[a.duration,"ms (",(a.duration/1e3).toFixed(2),"s)"]})]}),a.errors&&a.errors.length>0&&c.jsxs("div",{children:[c.jsx(Wb,{level:5,children:"Errors"}),c.jsx(Pt,{message:`${a.errors.length} error(s) occurred during this operation`,type:"error",showIcon:!0}),c.jsx("div",{style:{marginTop:16},children:a.errors.map((w,R)=>c.jsx(Pt,{message:w.record||`Error ${R+1}`,description:w.error,type:"error",style:{marginBottom:8}},R))})]}),a.requestData&&c.jsxs("div",{children:[c.jsx(Wb,{level:5,children:"Request Data"}),c.jsx("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,overflow:"auto",maxHeight:300},children:JSON.stringify(a.requestData,null,2)})]}),a.responseData&&c.jsxs("div",{children:[c.jsx(Wb,{level:5,children:"Response Data"}),c.jsx("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,overflow:"auto",maxHeight:300},children:JSON.stringify(a.responseData,null,2)})]})]})})]})},{Title:ctt,Paragraph:yg,Text:Y0}=yr,utt=()=>{const[t,e]=D.useState(!1),[r,n]=D.useState("BASIC"),[i,s]=D.useState([]),o=async a=>{const l={id:`sig-${Date.now()}`,userId:"demo-user-123",username:a.username,firstName:"Demo",lastName:"User",signatureType:r,signatureLevel:"OPERATOR",timestamp:new Date,isValid:!0,biometricType:a.biometricTemplate?"FINGERPRINT":void 0,biometricScore:a.biometricScore,signatureReason:a.signatureReason};s([...i,l]),e(!1),alert(` Signature created successfully!

Type: ${r}
Username: ${a.username}
Biometric: ${a.biometricTemplate?"Yes":"No"}`)};return c.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[c.jsxs("div",{style:{marginBottom:"32px"},children:[c.jsxs(ctt,{level:2,children:[c.jsx(cs,{})," Sprint 3 Feature Showcase"]}),c.jsx(yg,{children:"This page demonstrates the Sprint 3 deliverables: Electronic Signatures (Part 2) and AS9102 FAI (Part 1)."}),c.jsx(Pt,{message:"Sprint 3 Complete",description:"All 48 story points delivered. Backend + Frontend + Compliance Documentation complete.",type:"success",showIcon:!0,closable:!0})]}),c.jsxs(xe,{title:c.jsxs(pe,{children:[c.jsx(KV,{}),c.jsx(Y0,{children:"Electronic Signatures (21 CFR Part 11 Compliant)"})]}),style:{marginBottom:"24px"},children:[c.jsx(yg,{children:"Test the three signature types with different security levels:"}),c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"large",children:[c.jsxs(xe,{type:"inner",title:"BASIC Signature",children:[c.jsx(yg,{children:c.jsx(Be,{color:"blue",children:"USERNAME + PASSWORD"})}),c.jsx(yg,{children:"Standard electronic signature requiring username and password authentication only."}),c.jsx(le,{type:"primary",onClick:()=>{n("BASIC"),e(!0)},children:"Test BASIC Signature"})]}),c.jsxs(xe,{type:"inner",title:"ADVANCED Signature",children:[c.jsx(yg,{children:c.jsx(Be,{color:"orange",children:"USERNAME + PASSWORD + 2FA"})}),c.jsx(yg,{children:"Enhanced security with two-factor authentication (TOTP). Requires 6-digit code."}),c.jsx(le,{type:"primary",onClick:()=>{n("ADVANCED"),e(!0)},children:"Test ADVANCED Signature"})]}),c.jsxs(xe,{type:"inner",title:"QUALIFIED Signature",children:[c.jsx(yg,{children:c.jsx(Be,{color:"gold",children:"USERNAME + PASSWORD + 2FA + BIOMETRIC"})}),c.jsx(yg,{children:"Highest security level with biometric verification (fingerprint). Includes quality score validation."}),c.jsx(le,{type:"primary",onClick:()=>{n("QUALIFIED"),e(!0)},children:"Test QUALIFIED Signature"})]})]}),c.jsx(Er,{}),c.jsx(Pt,{message:"Demo Credentials",description:c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Username:"})," demo (or any username)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Password:"})," demo123 (or any password)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"2FA Code:"})," 123456 (for ADVANCED/QUALIFIED)"]}),c.jsx("p",{children:c.jsx(Y0,{type:"secondary",children:"Note: This is a demo. In production, real authentication would be required."})})]}),type:"info",showIcon:!0})]}),i.length>0&&c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(vr,{}),c.jsxs(Y0,{children:["Applied Signatures (",i.length,")"]})]}),style:{marginBottom:"24px"},children:c.jsx(u9,{signatures:i,showDetails:!0})}),c.jsxs(xe,{title:c.jsxs(pe,{children:[c.jsx(KV,{}),c.jsx(Y0,{children:"AS9102 First Article Inspection (Backend)"})]}),children:[c.jsx(yg,{children:"The FAI backend is complete with the following capabilities:"}),c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsx(xe,{type:"inner",title:" Database Models",children:c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"FAIReport"})," - AS9102 report container (Form 1, 2, 3)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"FAICharacteristic"})," - Inspection characteristics with measurements"]})]})}),c.jsx(xe,{type:"inner",title:" API Endpoints",children:c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("code",{children:"POST /api/v1/fai"})," - Create FAI report"]}),c.jsxs("li",{children:[c.jsx("code",{children:"GET /api/v1/fai"})," - List FAI reports (paginated)"]}),c.jsxs("li",{children:[c.jsx("code",{children:"GET /api/v1/fai/:id"})," - Get FAI report details"]}),c.jsxs("li",{children:[c.jsx("code",{children:"POST /api/v1/fai/:id/characteristics"})," - Add characteristic"]}),c.jsxs("li",{children:[c.jsx("code",{children:"POST /api/v1/fai/:id/approve"})," - Approve FAI"]}),c.jsx("li",{children:"+ 6 more endpoints for full CRUD operations"})]})}),c.jsx(xe,{type:"inner",title:" Features",children:c.jsxs("ul",{children:[c.jsx("li",{children:"Form 1 (Part Number Accountability) - JSON storage"}),c.jsx("li",{children:"Form 2 (Product Accountability) - JSON storage"}),c.jsx("li",{children:"Form 3 (Characteristic Accountability) - Full management"}),c.jsx("li",{children:"Tolerance validation (BILATERAL, UNILATERAL, NOMINAL)"}),c.jsx("li",{children:"Automatic pass/fail calculations"}),c.jsx("li",{children:"Approval workflow with quality gates"}),c.jsx("li",{children:"20 unit tests (100% passing)"})]})}),c.jsx(Pt,{message:"Frontend UI Coming in Sprint 4",description:"The FAI data entry forms, characteristic tables, and PDF generation will be implemented in Sprint 4.",type:"info",showIcon:!0,style:{marginTop:"16px"}})]})]}),c.jsx(g9,{visible:t,onCancel:()=>e(!1),onSign:o,entityType:"demo_document",entityId:"demo-123",entityName:"Sprint 3 Demo Document",signatureLevel:"OPERATOR",signatureType:r,requireBiometric:r==="QUALIFIED",title:`Apply ${r} Signature`,description:`Testing ${r} signature with ${r==="BASIC"?"password only":r==="ADVANCED"?"password + 2FA":"password + 2FA + biometric"}`}),c.jsx(Er,{}),c.jsx("div",{style:{textAlign:"center",color:"#666"},children:c.jsx(Y0,{type:"secondary",children:"Sprint 3 Deliverables:  Electronic Signatures Frontend |  AS9102 FAI Backend |  Compliance Documentation"})})]})},ai="/api/v1/production-schedules",Uf={async getAllSchedules(t){var e,r;try{return{success:!0,data:(await Nt.get(ai,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to fetch schedules"}}},async getScheduleById(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${ai}/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to fetch schedule"}}},async getScheduleByNumber(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${ai}/number/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to fetch schedule"}}},async createSchedule(t){var e,r;try{return{success:!0,data:(await Nt.post(ai,t)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to create schedule"}}},async updateSchedule(t,e){var r,n;try{return{success:!0,data:(await Nt.put(`${ai}/${t}`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to update schedule"}}},async deleteSchedule(t,e=!1){var r,n;try{return await Nt.delete(`${ai}/${t}`,{params:{hardDelete:e}}),{success:!0,data:void 0}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to delete schedule"}}},async getSchedulesByState(t){var e,r;try{return{success:!0,data:(await Nt.get(`${ai}/state/${t}`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to fetch schedules by state"}}}},Z0={async getScheduleEntries(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${ai}/${t}/entries`,{params:{includeConstraints:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to fetch schedule entries"}}},async createScheduleEntry(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${ai}/${t}/entries`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to create schedule entry"}}},async updateScheduleEntry(t,e){var r,n;try{return{success:!0,data:(await Nt.put(`${ai}/entries/${t}`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to update schedule entry"}}},async cancelScheduleEntry(t,e,r){var n,i;try{return{success:!0,data:(await Nt.post(`${ai}/entries/${t}/cancel`,{reason:e,cancelledBy:r})).data}}catch(s){return{success:!1,error:((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to cancel schedule entry"}}},async getEntriesReadyForDispatch(t){var e,r;try{return{success:!0,data:(await Nt.get(`${ai}/dispatch/ready`,{params:{siteId:t}})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to fetch dispatch-ready entries"}}}},X0={async getEntryConstraints(t){var e,r;try{return{success:!0,data:(await Nt.get(`${ai}/entries/${t}/constraints`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to fetch constraints"}}},async createConstraint(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${ai}/entries/${t}/constraints`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to create constraint"}}},async updateConstraint(t,e){var r,n;try{return{success:!0,data:(await Nt.put(`${ai}/constraints/${t}`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to update constraint"}}},async resolveConstraint(t,e,r){var n,i;try{return{success:!0,data:(await Nt.post(`${ai}/constraints/${t}/resolve`,{resolvedBy:e,resolutionNotes:r})).data}}catch(s){return{success:!1,error:((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.error)||s.message||"Failed to resolve constraint"}}},async checkConstraintViolation(t){var e,r;try{return{success:!0,data:(await Nt.post(`${ai}/constraints/${t}/check`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to check constraint violation"}}}},uQ={async transitionScheduleState(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${ai}/${t}/state/transition`,e)).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to transition schedule state"}}},async getScheduleStateHistory(t){var e,r;try{return{success:!0,data:(await Nt.get(`${ai}/${t}/state/history`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to fetch state history"}}}},k5={async applyPrioritySequencing(t){var e,r;try{return{success:!0,data:(await Nt.post(`${ai}/${t}/sequencing/priority`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to apply priority sequencing"}}},async applyEDDSequencing(t){var e,r;try{return{success:!0,data:(await Nt.post(`${ai}/${t}/sequencing/edd`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to apply EDD sequencing"}}},async checkScheduleFeasibility(t){var e,r;try{return{success:!0,data:(await Nt.post(`${ai}/${t}/feasibility/check`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.error)||n.message||"Failed to check schedule feasibility"}}}},gQ={async dispatchScheduleEntry(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${ai}/entries/${t}/dispatch`,{dispatchedBy:e})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to dispatch schedule entry"}}},async dispatchAllEntries(t,e){var r,n;try{return{success:!0,data:(await Nt.post(`${ai}/${t}/dispatch/all`,{dispatchedBy:e})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.error)||i.message||"Failed to dispatch all entries"}}}},gtt={async getStatistics(){var t,e;try{return{success:!0,data:(await Nt.get(`${ai}/statistics/overview`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||r.message||"Failed to fetch statistics"}}}},dQ={search:"",state:null,priority:null,siteId:null,isLocked:null,isFeasible:null},dtt={page:1,limit:20,total:0,totalPages:0},$_e=vd()(cf((t,e)=>({schedules:[],isLoading:!1,error:null,filters:dQ,pagination:dtt,currentSchedule:null,isLoadingDetail:!1,detailError:null,currentEntries:[],isLoadingEntries:!1,entriesError:null,currentConstraints:[],isLoadingConstraints:!1,constraintsError:null,stateHistory:[],isLoadingHistory:!1,statistics:null,isLoadingStatistics:!1,feasibilityResult:null,isLoadingFeasibility:!1,dispatchReadyEntries:[],isLoadingDispatchReady:!1,fetchSchedules:async r=>{try{t({isLoading:!0,error:null});const n={...r,includeRelations:(r==null?void 0:r.includeRelations)??!0},i=await Uf.getAllSchedules(n);if(i.success&&i.data)t({schedules:i.data,isLoading:!1});else throw new Error(i.error||"Failed to fetch schedules")}catch(n){throw t({isLoading:!1,error:n.message||"Failed to fetch schedules"}),n}},setFilters:r=>{const i={...e().filters,...r};t({filters:i,pagination:{...e().pagination,page:1}});const s={state:i.state||void 0,priority:i.priority||void 0,siteId:i.siteId||void 0,isLocked:i.isLocked===null?void 0:i.isLocked,isFeasible:i.isFeasible===null?void 0:i.isFeasible};e().fetchSchedules(s)},clearFilters:()=>{t({filters:dQ,pagination:{...e().pagination,page:1}}),e().fetchSchedules()},setPage:r=>{const n=e().filters,i={state:n.state||void 0,priority:n.priority||void 0,siteId:n.siteId||void 0,isLocked:n.isLocked===null?void 0:n.isLocked,isFeasible:n.isFeasible===null?void 0:n.isFeasible,page:r};t({pagination:{...e().pagination,page:r}}),e().fetchSchedules(i)},refreshSchedules:async()=>{const r=e().filters,n={state:r.state||void 0,priority:r.priority||void 0,siteId:r.siteId||void 0,isLocked:r.isLocked===null?void 0:r.isLocked,isFeasible:r.isFeasible===null?void 0:r.isFeasible,page:e().pagination.page};await e().fetchSchedules(n)},fetchScheduleById:async r=>{try{if(!r||typeof r!="string"||r.trim()==="")throw new Error("Schedule ID is required and must be a valid string");t({isLoadingDetail:!0,detailError:null});const n=await Uf.getScheduleById(r.trim(),!0);if(n.success&&n.data)t({currentSchedule:n.data,currentEntries:n.data.entries||[],isLoadingDetail:!1});else throw new Error(n.error||"Failed to fetch schedule")}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to fetch schedule"}),n}},fetchScheduleByNumber:async r=>{try{if(!r||typeof r!="string"||r.trim()==="")throw new Error("Schedule number is required and must be a valid string");t({isLoadingDetail:!0,detailError:null});const n=await Uf.getScheduleByNumber(r.trim(),!0);if(n.success&&n.data)t({currentSchedule:n.data,currentEntries:n.data.entries||[],isLoadingDetail:!1});else throw new Error(n.error||"Failed to fetch schedule")}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to fetch schedule"}),n}},createSchedule:async r=>{try{t({isLoading:!0,error:null});const n=await Uf.createSchedule(r);if(n.success&&n.data)return t({isLoading:!1}),await e().refreshSchedules(),n.data;throw new Error(n.error||"Failed to create schedule")}catch(n){throw t({isLoading:!1,error:n.message||"Failed to create schedule"}),n}},updateSchedule:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null});const i=await Uf.updateSchedule(r,n);if(i.success&&i.data)t({currentSchedule:i.data,isLoadingDetail:!1}),await e().refreshSchedules();else throw new Error(i.error||"Failed to update schedule")}catch(i){throw t({isLoadingDetail:!1,detailError:i.message||"Failed to update schedule"}),i}},deleteSchedule:async(r,n=!1)=>{try{t({isLoading:!0,error:null}),await Uf.deleteSchedule(r,n),t({isLoading:!1}),await e().refreshSchedules()}catch(i){throw t({isLoading:!1,error:i.message||"Failed to delete schedule"}),i}},fetchSchedulesByState:async r=>{try{t({isLoading:!0,error:null});const n=await Uf.getSchedulesByState(r);if(n.success&&n.data)t({schedules:n.data,isLoading:!1});else throw new Error(n.error||"Failed to fetch schedules by state")}catch(n){throw t({isLoading:!1,error:n.message||"Failed to fetch schedules by state"}),n}},fetchScheduleEntries:async r=>{try{t({isLoadingEntries:!0,entriesError:null});const n=await Z0.getScheduleEntries(r,!0);if(n.success&&n.data)t({currentEntries:n.data,isLoadingEntries:!1});else throw new Error(n.error||"Failed to fetch schedule entries")}catch(n){throw t({isLoadingEntries:!1,entriesError:n.message||"Failed to fetch schedule entries"}),n}},createScheduleEntry:async(r,n)=>{try{t({isLoadingEntries:!0,entriesError:null}),await Z0.createScheduleEntry(r,n),t({isLoadingEntries:!1}),await e().fetchScheduleEntries(r),await e().fetchScheduleById(r)}catch(i){throw t({isLoadingEntries:!1,entriesError:i.message||"Failed to create schedule entry"}),i}},updateScheduleEntry:async(r,n)=>{try{t({isLoadingEntries:!0,entriesError:null}),await Z0.updateScheduleEntry(r,n),t({isLoadingEntries:!1});const i=e().currentSchedule;i&&await e().fetchScheduleEntries(i.id)}catch(i){throw t({isLoadingEntries:!1,entriesError:i.message||"Failed to update schedule entry"}),i}},cancelScheduleEntry:async(r,n,i)=>{try{t({isLoadingEntries:!0,entriesError:null}),await Z0.cancelScheduleEntry(r,n,i),t({isLoadingEntries:!1});const s=e().currentSchedule;s&&await e().fetchScheduleEntries(s.id)}catch(s){throw t({isLoadingEntries:!1,entriesError:s.message||"Failed to cancel schedule entry"}),s}},fetchDispatchReadyEntries:async r=>{try{t({isLoadingDispatchReady:!0});const n=await Z0.getEntriesReadyForDispatch(r);if(n.success&&n.data)t({dispatchReadyEntries:n.data,isLoadingDispatchReady:!1});else throw new Error(n.error||"Failed to fetch dispatch-ready entries")}catch(n){throw t({isLoadingDispatchReady:!1}),n}},fetchEntryConstraints:async r=>{try{t({isLoadingConstraints:!0,constraintsError:null});const n=await X0.getEntryConstraints(r);if(n.success&&n.data)t({currentConstraints:n.data,isLoadingConstraints:!1});else throw new Error(n.error||"Failed to fetch constraints")}catch(n){throw t({isLoadingConstraints:!1,constraintsError:n.message||"Failed to fetch constraints"}),n}},createConstraint:async(r,n)=>{try{t({isLoadingConstraints:!0,constraintsError:null}),await X0.createConstraint(r,n),t({isLoadingConstraints:!1}),await e().fetchEntryConstraints(r)}catch(i){throw t({isLoadingConstraints:!1,constraintsError:i.message||"Failed to create constraint"}),i}},updateConstraint:async(r,n)=>{try{t({isLoadingConstraints:!0,constraintsError:null}),await X0.updateConstraint(r,n),t({isLoadingConstraints:!1})}catch(i){throw t({isLoadingConstraints:!1,constraintsError:i.message||"Failed to update constraint"}),i}},resolveConstraint:async(r,n,i)=>{try{t({isLoadingConstraints:!0,constraintsError:null}),await X0.resolveConstraint(r,n,i),t({isLoadingConstraints:!1})}catch(s){throw t({isLoadingConstraints:!1,constraintsError:s.message||"Failed to resolve constraint"}),s}},checkConstraintViolation:async r=>{try{await X0.checkConstraintViolation(r)}catch(n){console.error("Failed to check constraint violation:",n)}},transitionScheduleState:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null});const i=await uQ.transitionScheduleState(r,n);if(i.success)t({isLoadingDetail:!1}),await e().fetchScheduleById(r),await e().fetchStateHistory(r);else throw new Error(i.error||"Failed to transition schedule state")}catch(i){throw t({isLoadingDetail:!1,detailError:i.message||"Failed to transition schedule state"}),i}},fetchStateHistory:async r=>{try{t({isLoadingHistory:!0});const n=await uQ.getScheduleStateHistory(r);if(n.success&&n.data)t({stateHistory:n.data,isLoadingHistory:!1});else throw new Error(n.error||"Failed to fetch state history")}catch(n){throw t({isLoadingHistory:!1}),n}},applyPrioritySequencing:async r=>{try{const n=await k5.applyPrioritySequencing(r);if(n.success&&n.data)return await e().fetchScheduleEntries(r),{entriesAffected:n.data.entriesAffected};throw new Error(n.error||"Failed to apply priority sequencing")}catch(n){throw n}},applyEDDSequencing:async r=>{try{const n=await k5.applyEDDSequencing(r);if(n.success&&n.data)return await e().fetchScheduleEntries(r),{entriesAffected:n.data.entriesAffected};throw new Error(n.error||"Failed to apply EDD sequencing")}catch(n){throw n}},checkScheduleFeasibility:async r=>{try{t({isLoadingFeasibility:!0});const n=await k5.checkScheduleFeasibility(r);if(n.success&&n.data)t({feasibilityResult:n.data,isLoadingFeasibility:!1});else throw new Error(n.error||"Failed to check schedule feasibility")}catch(n){throw t({isLoadingFeasibility:!1}),n}},dispatchScheduleEntry:async(r,n)=>{try{const i=await gQ.dispatchScheduleEntry(r,n);if(i.success&&i.data){const s=e().currentSchedule;return s&&await e().fetchScheduleEntries(s.id),i.data}else throw new Error(i.error||"Failed to dispatch schedule entry")}catch(i){throw i}},dispatchAllEntries:async(r,n)=>{try{const i=await gQ.dispatchAllEntries(r,n);if(i.success&&i.data)return await e().fetchScheduleEntries(r),{dispatchedCount:i.data.dispatchedCount};throw new Error(i.error||"Failed to dispatch all entries")}catch(i){throw i}},fetchStatistics:async()=>{try{t({isLoadingStatistics:!0});const r=await gtt.getStatistics();if(r.success&&r.data)t({statistics:r.data,isLoadingStatistics:!1});else throw new Error(r.error||"Failed to fetch statistics")}catch(r){throw t({isLoadingStatistics:!1}),r}},setError:r=>t({error:r}),clearError:()=>t({error:null}),setDetailError:r=>t({detailError:r}),clearDetailError:()=>t({detailError:null}),clearCurrentSchedule:()=>{t({currentSchedule:null,currentEntries:[],currentConstraints:[],stateHistory:[],feasibilityResult:null})},clearCurrentEntries:()=>{t({currentEntries:[]})},clearCurrentConstraints:()=>{t({currentConstraints:[]})}}),{name:"SchedulingStore"})),mv={FORECAST:"default",RELEASED:"processing",DISPATCHED:"cyan",RUNNING:"blue",COMPLETED:"success",CLOSED:"default"},$w={FORECAST:"Forecast",RELEASED:"Released",DISPATCHED:"Dispatched",RUNNING:"Running",COMPLETED:"Completed",CLOSED:"Closed"},qw={LOW:"default",NORMAL:"blue",HIGH:"orange",URGENT:"red",HOT:"magenta"},S7={LOW:"Low",NORMAL:"Normal",HIGH:"High",URGENT:"Urgent",HOT:"Hot"},{Search:htt}=at,{Option:ko}=we,ftt=()=>{var N,P,M;const t=Kr(),[e,r]=D.useState(""),{currentSite:n,allSites:i}=IC(),{user:s}=qo(),{schedules:o,isLoading:a,error:l,filters:u,statistics:g,fetchSchedules:d,fetchStatistics:f,setFilters:h,deleteSchedule:A,clearFilters:C}=$_e();D.useEffect(()=>{d(),f()},[d,f]),D.useEffect(()=>{n&&h({siteId:n.id})},[n,h]);const I=B=>{r(B)},p=B=>{h({state:B||null})},m=B=>{h({priority:B||null})},v=B=>{h({isLocked:B===void 0?null:B})},y=B=>{h({isFeasible:B===void 0?null:B})},x=B=>{h({siteId:B||null})},T=async B=>{try{await A(B),Ee.success("Schedule deleted successfully")}catch(W){Ee.error(W.message||"Failed to delete schedule")}},E=()=>{d(),f(),Ee.success("Schedules refreshed")},_=((N=s==null?void 0:s.permissions)==null?void 0:N.includes("scheduling.write"))||!1,S=((P=s==null?void 0:s.permissions)==null?void 0:P.includes("scheduling.write"))||!1,j=((M=s==null?void 0:s.permissions)==null?void 0:M.includes("scheduling.write"))||!1,w=B=>B.totalEntries===0?0:Math.round(B.dispatchedCount/B.totalEntries*100),R=[{title:"Schedule Number",dataIndex:"scheduleNumber",key:"scheduleNumber",width:"15%",ellipsis:!0,render:(B,W)=>c.jsxs(pe,{children:[c.jsx(cd,{}),c.jsx("a",{onClick:()=>t(`/production/scheduling/${W.id}`),children:B})]})},{title:"Schedule Name",dataIndex:"scheduleName",key:"scheduleName",width:"18%",ellipsis:!0,render:(B,W)=>c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:B}),W.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:W.description})]})},{title:"Period",key:"period",width:"12%",render:(B,W)=>c.jsxs("div",{style:{fontSize:"12px"},children:[c.jsx("div",{children:new Date(W.periodStart).toLocaleDateString()}),c.jsxs("div",{style:{color:"#666"},children:["to ",new Date(W.periodEnd).toLocaleDateString()]})]})},{title:"Site",key:"site",width:"10%",render:(B,W)=>{var H;return c.jsx("span",{children:((H=W.site)==null?void 0:H.siteName)||"N/A"})}},{title:"State",dataIndex:"state",key:"state",width:"10%",render:B=>c.jsx(Be,{color:mv[B],children:$w[B]})},{title:"Priority",dataIndex:"priority",key:"priority",width:"10%",render:B=>c.jsx(Be,{color:qw[B],icon:B==="HOT"?c.jsx(Gu,{}):void 0,children:S7[B]})},{title:"Progress",key:"progress",width:"12%",render:(B,W)=>{const H=w(W);return c.jsxs("div",{children:[c.jsx(Wn,{percent:H,size:"small",status:H===100?"success":"active",showInfo:!1}),c.jsxs("div",{style:{fontSize:"12px",marginTop:"4px"},children:[W.dispatchedCount," / ",W.totalEntries," dispatched"]})]})}},{title:"Status",key:"status",width:"8%",align:"center",render:(B,W)=>c.jsxs(pe,{direction:"vertical",size:"small",children:[c.jsx(lt,{title:W.isLocked?"Locked":"Unlocked",children:W.isLocked?c.jsx(Be,{color:"red",icon:c.jsx(ts,{}),children:"Locked"}):c.jsx(Be,{color:"green",icon:c.jsx(vr,{}),children:"Active"})}),!W.isFeasible&&c.jsx(lt,{title:W.feasibilityNotes||"Constraints violated",children:c.jsx(Be,{color:"orange",children:"Constraints"})})]})},{title:"Actions",key:"actions",width:"10%",fixed:"right",render:(B,W)=>{const H=!W.isLocked&&W.state==="FORECAST";return c.jsxs(pe,{size:"small",children:[c.jsx(lt,{title:"View",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Os,{}),onClick:()=>t(`/production/scheduling/${W.id}`)})}),H&&S&&c.jsx(lt,{title:"Edit",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>t(`/production/scheduling/${W.id}/edit`)})}),H&&j&&c.jsx(lt,{title:"Delete",children:c.jsx(sa,{title:"Are you sure you want to delete this schedule?",description:"This action cannot be undone.",onConfirm:()=>T(W.id),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{})})})})]})}}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("h1",{children:"Production Scheduling"}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:"Plan and manage production schedules across sites and work centers"})]}),g&&c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Schedules",value:g.schedules.total,prefix:c.jsx(cd,{})})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Entries",value:g.entries.total,suffix:`(${g.entries.dispatched} dispatched)`})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Pending Entries",value:g.entries.pending,valueStyle:{color:"#1890ff"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Violated Constraints",value:g.constraints.violated,valueStyle:{color:g.constraints.violated>0?"#cf1322":"#3f8600"},prefix:g.constraints.violated>0?c.jsx(ts,{}):c.jsx(vr,{})})})})]}),c.jsxs("div",{style:{marginBottom:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[c.jsx(htt,{placeholder:"Search by schedule number or name",allowClear:!0,enterButton:c.jsx(Gn,{}),value:e,onChange:B=>r(B.target.value),onSearch:I,style:{width:"400px"}}),c.jsxs(pe,{children:[c.jsx(lt,{title:"Refresh",children:c.jsx(le,{icon:c.jsx(Ps,{}),onClick:E,children:"Refresh"})}),c.jsx(lt,{title:_?"":"You don't have permission to create schedules",children:c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>t("/production/scheduling/create"),size:"large",disabled:!_,children:"Create Schedule"})})]})]}),c.jsxs(pe,{size:"middle",wrap:!0,children:[c.jsx(we,{placeholder:"Filter by site",allowClear:!0,value:u.siteId||void 0,onChange:x,style:{width:"180px"},children:i.map(B=>c.jsx(ko,{value:B.id,children:B.siteName},B.id))}),c.jsxs(we,{placeholder:"Filter by state",allowClear:!0,value:u.state||void 0,onChange:p,style:{width:"150px"},children:[c.jsx(ko,{value:"FORECAST",children:"Forecast"}),c.jsx(ko,{value:"RELEASED",children:"Released"}),c.jsx(ko,{value:"DISPATCHED",children:"Dispatched"}),c.jsx(ko,{value:"RUNNING",children:"Running"}),c.jsx(ko,{value:"COMPLETED",children:"Completed"}),c.jsx(ko,{value:"CLOSED",children:"Closed"})]}),c.jsxs(we,{placeholder:"Filter by priority",allowClear:!0,value:u.priority||void 0,onChange:m,style:{width:"150px"},children:[c.jsx(ko,{value:"LOW",children:"Low"}),c.jsx(ko,{value:"NORMAL",children:"Normal"}),c.jsx(ko,{value:"HIGH",children:"High"}),c.jsx(ko,{value:"URGENT",children:"Urgent"}),c.jsx(ko,{value:"HOT",children:"Hot"})]}),c.jsxs(we,{placeholder:"Filter by locked status",allowClear:!0,value:u.isLocked===null?void 0:u.isLocked,onChange:v,style:{width:"150px"},children:[c.jsx(ko,{value:!1,children:"Unlocked"}),c.jsx(ko,{value:!0,children:"Locked"})]}),c.jsxs(we,{placeholder:"Filter by feasibility",allowClear:!0,value:u.isFeasible===null?void 0:u.isFeasible,onChange:y,style:{width:"150px"},children:[c.jsx(ko,{value:!0,children:"Feasible"}),c.jsx(ko,{value:!1,children:"Has Constraints"})]}),(u.state||u.priority||u.isLocked!==null||u.isFeasible!==null)&&c.jsx(le,{onClick:C,children:"Clear Filters"})]})]}),l&&c.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#fff2f0",border:"1px solid #ffccc7",borderRadius:"4px"},children:c.jsx("span",{style:{color:"#cf1322"},children:l})}),c.jsx(Jr,{columns:R,dataSource:o,rowKey:"id",loading:a,pagination:{showSizeChanger:!0,showTotal:B=>`Total ${B} schedules`,pageSizeOptions:["10","20","50","100"]},scroll:{x:1400},bordered:!0})]})},Att=()=>c.jsx(ftt,{}),{Title:Ctt}=yr,{TextArea:Itt}=at,{Option:Q0}=we,{TabPane:D5}=Zc,ptt=()=>{var G,Z,ue;const{id:t}=ml(),e=Kr(),[r]=me.useForm(),[n,i]=D.useState(!1),[s,o]=D.useState(null),{user:a}=qo(),{currentSchedule:l,currentEntries:u,stateHistory:g,feasibilityResult:d,isLoadingDetail:f,isLoadingEntries:h,detailError:A,fetchScheduleById:C,fetchScheduleEntries:I,fetchStateHistory:p,createScheduleEntry:m,updateScheduleEntry:v,cancelScheduleEntry:y,transitionScheduleState:x,applyPrioritySequencing:T,applyEDDSequencing:E,checkScheduleFeasibility:_,dispatchScheduleEntry:S,dispatchAllEntries:j}=$_e();D.useEffect(()=>{t&&(C(t),I(t),p(t),_(t))},[t]);const w=(((G=a==null?void 0:a.permissions)==null?void 0:G.includes("scheduling.write"))||!1)&&l&&!l.isLocked&&l.state==="FORECAST",R=(((Z=a==null?void 0:a.permissions)==null?void 0:Z.includes("scheduling.write"))||!1)&&l&&(l.state==="RELEASED"||l.state==="DISPATCHED"),N=async re=>{if(!(!t||!a))try{await x(t,{newState:re,changedBy:a.id,reason:`Transitioned to ${re}`}),Ee.success(`Schedule transitioned to ${re}`)}catch(ie){Ee.error(ie.message||"Failed to transition schedule")}},P=async()=>{if(t)try{const re=await T(t);Ee.success(`Priority sequencing applied to ${re.entriesAffected} entries`)}catch(re){Ee.error(re.message||"Failed to apply sequencing")}},M=async()=>{if(t)try{const re=await E(t);Ee.success(`EDD sequencing applied to ${re.entriesAffected} entries`)}catch(re){Ee.error(re.message||"Failed to apply sequencing")}},B=async re=>{if(a)try{await S(re,a.id),Ee.success("Entry dispatched successfully")}catch(ie){Ee.error(ie.message||"Failed to dispatch entry")}},W=async()=>{if(!(!t||!a))try{const re=await j(t,a.id);Ee.success(`Dispatched ${re.dispatchedCount} entries`)}catch(re){Ee.error(re.message||"Failed to dispatch all entries")}},H=()=>{o(null),r.resetFields(),i(!0)},V=re=>{o(re),r.setFieldsValue({...re,plannedStartDate:Vs(re.plannedStartDate),plannedEndDate:Vs(re.plannedEndDate),customerDueDate:re.customerDueDate?Vs(re.customerDueDate):void 0}),i(!0)},K=async()=>{var re;if(t)try{const ie=await r.validateFields(),Ce={...ie,plannedStartDate:ie.plannedStartDate.toISOString(),plannedEndDate:ie.plannedEndDate.toISOString(),customerDueDate:(re=ie.customerDueDate)==null?void 0:re.toISOString()};s?(await v(s.id,Ce),Ee.success("Entry updated successfully")):(await m(t,Ce),Ee.success("Entry created successfully")),i(!1),r.resetFields()}catch(ie){Ee.error(ie.message||"Failed to save entry")}},Y=async re=>{try{await y(re,"Cancelled by user",a==null?void 0:a.id),Ee.success("Entry cancelled successfully")}catch(ie){Ee.error(ie.message||"Failed to cancel entry")}},k=re=>{if(!l)return 0;const ie=new Date(l.periodStart).getTime(),Ce=new Date(l.periodEnd).getTime(),Pe=new Date(re.plannedStartDate).getTime(),Fe=new Date(re.plannedEndDate).getTime(),He=Ce-ie;return(Fe-Pe)/He*100},q=re=>{if(!l)return 0;const ie=new Date(l.periodStart).getTime(),Ce=new Date(l.periodEnd).getTime(),Pe=new Date(re.plannedStartDate).getTime(),Fe=Ce-ie;return(Pe-ie)/Fe*100},z=[{title:"Entry #",dataIndex:"entryNumber",key:"entryNumber",width:80,sorter:(re,ie)=>re.entryNumber-ie.entryNumber},{title:"Part",key:"part",width:180,render:(re,ie)=>{var Ce;return c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:ie.partNumber}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:((Ce=ie.part)==null?void 0:Ce.partName)||""})]})}},{title:"Quantity",key:"quantity",width:120,render:(re,ie)=>c.jsxs("span",{children:[ie.plannedQuantity," ",ie.unitOfMeasure]})},{title:"Timeline",key:"timeline",width:250,render:(re,ie)=>{const Ce=k(ie),Pe=q(ie),Fe=qw[ie.priority];return c.jsx("div",{style:{position:"relative",height:"24px",background:"#f0f0f0",borderRadius:"4px"},children:c.jsx("div",{style:{position:"absolute",left:`${Pe}%`,width:`${Ce}%`,height:"100%",background:Fe==="default"?"#1890ff":Fe,borderRadius:"4px",opacity:ie.isDispatched?.5:1},children:c.jsx(lt,{title:`${new Date(ie.plannedStartDate).toLocaleDateString()} - ${new Date(ie.plannedEndDate).toLocaleDateString()}`,children:c.jsx("div",{style:{width:"100%",height:"100%"}})})})})}},{title:"Priority",dataIndex:"priority",key:"priority",width:100,render:re=>c.jsx(Be,{color:qw[re],icon:re==="HOT"?c.jsx(Gu,{}):void 0,children:S7[re]})},{title:"Status",key:"status",width:120,render:(re,ie)=>c.jsxs(pe,{direction:"vertical",size:"small",children:[ie.isDispatched&&c.jsx(Be,{color:"green",children:"Dispatched"}),ie.isCancelled&&c.jsx(Be,{color:"red",children:"Cancelled"}),!ie.isDispatched&&!ie.isCancelled&&c.jsx(Be,{color:"blue",children:"Pending"}),ie.constraints&&ie.constraints.length>0&&c.jsxs(Be,{color:"orange",icon:c.jsx(rp,{}),children:[ie.constraints.filter(Ce=>Ce.isViolated).length," Constraints"]})]})},{title:"Actions",key:"actions",width:150,fixed:"right",render:(re,ie)=>c.jsxs(pe,{size:"small",children:[w&&!ie.isDispatched&&!ie.isCancelled&&c.jsxs(c.Fragment,{children:[c.jsx(lt,{title:"Edit",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>V(ie)})}),c.jsx(lt,{title:"Cancel",children:c.jsx(sa,{title:"Cancel this entry?",onConfirm:()=>Y(ie.id),children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(ts,{})})})})]}),R&&!ie.isDispatched&&!ie.isCancelled&&c.jsx(lt,{title:"Dispatch",children:c.jsx(sa,{title:"Dispatch this entry to create work order?",onConfirm:()=>B(ie.id),children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Wq,{})})})})]})}];return f||!l?c.jsx("div",{style:{padding:"24px"},children:"Loading..."}):c.jsxs("div",{style:{padding:"24px"},children:[c.jsx("div",{style:{marginBottom:"24px"},children:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(js,{}),onClick:()=>e("/production/scheduling"),children:"Back"}),c.jsx(Ctt,{level:2,style:{margin:0},children:l.scheduleName})]})}),A&&c.jsx(Pt,{message:"Error",description:A,type:"error",closable:!0,style:{marginBottom:"16px"}}),d&&!d.isFeasible&&c.jsx(Pt,{message:"Schedule Constraints Violated",description:c.jsx("ul",{style:{marginBottom:0},children:d.feasibilityIssues.map((re,ie)=>c.jsx("li",{children:re},ie))}),type:"warning",showIcon:!0,icon:c.jsx(rp,{}),style:{marginBottom:"16px"}}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Entries",value:l.totalEntries,prefix:c.jsx(cd,{})})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Dispatched",value:l.dispatchedCount,valueStyle:{color:"#3f8600"},prefix:c.jsx(vr,{})})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Pending",value:l.totalEntries-l.dispatchedCount,valueStyle:{color:"#1890ff"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Progress",value:l.totalEntries>0?Math.round(l.dispatchedCount/l.totalEntries*100):0,suffix:"%",prefix:c.jsx(Wn,{type:"circle",percent:l.totalEntries>0?Math.round(l.dispatchedCount/l.totalEntries*100):0,width:50})})})})]}),c.jsxs(Zc,{defaultActiveKey:"details",children:[c.jsxs(D5,{tab:"Details",children:[c.jsx(xe,{title:"Schedule Information",style:{marginBottom:"16px"},children:c.jsxs(Ge,{bordered:!0,column:2,children:[c.jsx(Ge.Item,{label:"Schedule Number",children:l.scheduleNumber}),c.jsx(Ge.Item,{label:"State",children:c.jsx(Be,{color:mv[l.state],children:$w[l.state]})}),c.jsx(Ge.Item,{label:"Priority",children:c.jsx(Be,{color:qw[l.priority],children:S7[l.priority]})}),c.jsx(Ge.Item,{label:"Site",children:((ue=l.site)==null?void 0:ue.siteName)||"N/A"}),c.jsx(Ge.Item,{label:"Period Start",children:new Date(l.periodStart).toLocaleDateString()}),c.jsx(Ge.Item,{label:"Period End",children:new Date(l.periodEnd).toLocaleDateString()}),c.jsx(Ge.Item,{label:"Period Type",children:l.periodType}),c.jsx(Ge.Item,{label:"Locked",children:l.isLocked?c.jsx(Be,{color:"red",icon:c.jsx(ts,{}),children:"Yes"}):c.jsx(Be,{color:"green",icon:c.jsx(vr,{}),children:"No"})}),c.jsx(Ge.Item,{label:"Feasible",children:l.isFeasible?c.jsx(Be,{color:"green",icon:c.jsx(vr,{}),children:"Yes"}):c.jsx(Be,{color:"orange",icon:c.jsx(rp,{}),children:"Has Constraints"})}),c.jsx(Ge.Item,{label:"Description",span:2,children:l.description||"N/A"}),l.notes&&c.jsx(Ge.Item,{label:"Notes",span:2,children:l.notes})]})}),w&&c.jsx(xe,{title:"State Transitions",style:{marginBottom:"16px"},children:c.jsxs(pe,{wrap:!0,children:[l.state==="FORECAST"&&c.jsx(le,{type:"primary",onClick:()=>N("RELEASED"),children:"Release Schedule"}),l.state==="RELEASED"&&c.jsxs(c.Fragment,{children:[c.jsx(le,{onClick:()=>N("FORECAST"),children:"Return to Forecast"}),c.jsx(le,{type:"primary",onClick:()=>N("DISPATCHED"),children:"Mark as Dispatched"})]}),l.state==="DISPATCHED"&&c.jsx(le,{type:"primary",onClick:()=>N("RUNNING"),children:"Start Running"}),l.state==="RUNNING"&&c.jsx(le,{type:"primary",onClick:()=>N("COMPLETED"),children:"Mark Completed"}),l.state==="COMPLETED"&&c.jsx(le,{onClick:()=>N("CLOSED"),children:"Close Schedule"})]})})]},"details"),c.jsx(D5,{tab:"Schedule Entries",children:c.jsx(xe,{title:`Schedule Entries (${u.length})`,extra:c.jsxs(pe,{children:[w&&c.jsxs(c.Fragment,{children:[c.jsx(le,{icon:c.jsx($ke,{}),onClick:P,children:"Priority Sequence"}),c.jsx(le,{icon:c.jsx(cd,{}),onClick:M,children:"EDD Sequence"}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:H,children:"Add Entry"})]}),R&&u.some(re=>!re.isDispatched&&!re.isCancelled)&&c.jsx(sa,{title:"Dispatch all pending entries?",onConfirm:W,children:c.jsx(le,{type:"primary",icon:c.jsx(Wq,{}),children:"Dispatch All"})})]}),children:c.jsx(Jr,{columns:z,dataSource:u,rowKey:"id",loading:h,pagination:!1,scroll:{x:1200},bordered:!0})})},"entries"),c.jsx(D5,{tab:"State History",children:c.jsx(xe,{title:"State Transition History",children:c.jsx(ya,{children:g.map(re=>c.jsx(ya.Item,{color:mv[re.newState],children:c.jsxs("div",{children:[c.jsx("strong",{children:new Date(re.transitionDate).toLocaleString()}),c.jsxs("div",{children:[re.previousState&&c.jsxs(c.Fragment,{children:[c.jsx(Be,{color:mv[re.previousState],children:$w[re.previousState]}),""]}),c.jsx(Be,{color:mv[re.newState],children:$w[re.newState]})]}),re.reason&&c.jsx("div",{style:{color:"#666"},children:re.reason}),re.changedBy&&c.jsxs("div",{style:{fontSize:"12px",color:"#999"},children:["By: ",re.changedBy]})]})},re.id))})})},"history")]}),c.jsx(en,{title:s?"Edit Schedule Entry":"Create Schedule Entry",open:n,onOk:K,onCancel:()=>{i(!1),r.resetFields()},width:700,children:c.jsxs(me,{form:r,layout:"vertical",children:[c.jsx(me.Item,{name:"partId",label:"Part ID",rules:[{required:!0}],children:c.jsx(at,{placeholder:"Enter part ID"})}),c.jsx(me.Item,{name:"partNumber",label:"Part Number",rules:[{required:!0}],children:c.jsx(at,{placeholder:"Enter part number"})}),c.jsx(me.Item,{name:"description",label:"Description",children:c.jsx(Itt,{rows:2,placeholder:"Enter description"})}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"plannedQuantity",label:"Quantity",rules:[{required:!0}],children:c.jsx(po,{min:1,style:{width:"100%"}})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"unitOfMeasure",label:"Unit",rules:[{required:!0}],children:c.jsx(at,{placeholder:"EA, LBS, etc."})})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"plannedStartDate",label:"Start Date",rules:[{required:!0}],children:c.jsx(Vl,{style:{width:"100%"}})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{name:"plannedEndDate",label:"End Date",rules:[{required:!0}],children:c.jsx(Vl,{style:{width:"100%"}})})})]}),c.jsx(me.Item,{name:"priority",label:"Priority",initialValue:"NORMAL",children:c.jsxs(we,{children:[c.jsx(Q0,{value:"LOW",children:"Low"}),c.jsx(Q0,{value:"NORMAL",children:"Normal"}),c.jsx(Q0,{value:"HIGH",children:"High"}),c.jsx(Q0,{value:"URGENT",children:"Urgent"}),c.jsx(Q0,{value:"HOT",children:"Hot"})]})}),c.jsx(me.Item,{name:"customerOrder",label:"Customer Order",children:c.jsx(at,{placeholder:"Enter customer order number"})}),c.jsx(me.Item,{name:"customerDueDate",label:"Customer Due Date",children:c.jsx(Vl,{style:{width:"100%"}})})]})})]})},mtt=()=>c.jsx(ptt,{}),{Title:vtt}=yr,ytt=()=>{const[t,e]=D.useState(!1),[r,n]=D.useState([]),[i,s]=D.useState({totalOperators:0,activeOperators:0,idleOperators:0,workOrdersInProgress:0});D.useEffect(()=>{o()},[]);const o=async()=>{e(!0);try{n([{operatorId:"1",operatorName:"John Doe",workOrderNumber:"WO-2024-001001",partNumber:"TURB-BLADE-001",operation:"Machining Op-10",status:"IN_PROGRESS",startTime:"08:00",estimatedCompletion:"12:00",priority:"HIGH"},{operatorId:"2",operatorName:"Production Operator",workOrderNumber:"WO-2024-001002",partNumber:"GUIDE-VANE-001",operation:"Assembly Op-20",status:"IN_PROGRESS",startTime:"09:00",estimatedCompletion:"14:00",priority:"NORMAL"}]),s({totalOperators:5,activeOperators:2,idleOperators:3,workOrdersInProgress:2})}catch(l){console.error("Failed to fetch team work queue",l)}finally{e(!1)}},a=[{title:"Operator",dataIndex:"operatorName",key:"operatorName",render:l=>c.jsxs(pe,{children:[c.jsx(Fi,{}),c.jsx("span",{children:l})]})},{title:"Work Order",dataIndex:"workOrderNumber",key:"workOrderNumber"},{title:"Part",dataIndex:"partNumber",key:"partNumber"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Status",dataIndex:"status",key:"status",render:l=>{const u=l==="IN_PROGRESS"?"processing":"default";return c.jsx(Be,{color:u,children:l})}},{title:"Priority",dataIndex:"priority",key:"priority",render:l=>{const u=l==="HIGH"?"red":l==="NORMAL"?"blue":"default";return c.jsx(Be,{color:u,children:l})}},{title:"Start Time",dataIndex:"startTime",key:"startTime"},{title:"Est. Completion",dataIndex:"estimatedCompletion",key:"estimatedCompletion"},{title:"Actions",key:"actions",render:l=>c.jsx(pe,{children:c.jsx(le,{size:"small","data-testid":"view-details-button",children:"Details"})})}];return c.jsxs("div",{style:{padding:24},children:[c.jsx(vtt,{level:2,children:"Team Work Queue"}),c.jsxs(Dt,{gutter:16,style:{marginBottom:24},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Operators",value:i.totalOperators,prefix:c.jsx(Fi,{}),"data-testid":"total-operators-stat"})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active Operators",value:i.activeOperators,prefix:c.jsx(vr,{}),valueStyle:{color:"#3f8600"},"data-testid":"active-operators-stat"})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Idle Operators",value:i.idleOperators,prefix:c.jsx(Zi,{}),valueStyle:{color:"#cf1322"},"data-testid":"idle-operators-stat"})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active Work Orders",value:i.workOrdersInProgress,prefix:c.jsx(Ns,{}),"data-testid":"active-workorders-stat"})})})]}),c.jsx(xe,{title:"Current Assignments",extra:c.jsx(le,{onClick:o,children:"Refresh"}),children:c.jsx(Jr,{columns:a,dataSource:r,loading:t,rowKey:"operatorId",pagination:{pageSize:10},"data-testid":"team-work-queue-table"})})]})},Co="/materials",Vb={async getAllClasses(t=!1){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/classes`,{params:{includeRelations:t}})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch material classes"}}},async getClassById(t,e=!1){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/classes/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch material class"}}},async getClassHierarchy(t){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/classes/${t}/hierarchy`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch class hierarchy"}}},async getChildClasses(t){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/classes/${t}/children`)).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch child classes"}}}},F5={async getAllDefinitions(t){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/definitions`,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch material definitions"}}},async getDefinitionById(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/definitions/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch material definition"}}},async getDefinitionByNumber(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/definitions/number/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch material by number"}}}},sh={async getAllLots(t){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/lots`,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch material lots"}}},async getLotById(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/lots/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch material lot"}}},async getLotByNumber(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/lots/number/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch lot by number"}}},async getExpiringSoon(t=30){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/lots/expiring/soon`,{params:{days:t}})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch expiring lots"}}},async getExpired(){var t,e;try{return{success:!0,data:(await Nt.get(`${Co}/lots/expired/all`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||r.message||"Failed to fetch expired lots"}}},async getLotStatistics(){var t,e;try{return{success:!0,data:(await Nt.get(`${Co}/lots/statistics/summary`)).data}}catch(r){return{success:!1,error:((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||r.message||"Failed to fetch lot statistics"}}}},Hb={async getAllTransactions(t){var e,r;try{return{success:!0,data:(await Nt.get(`${Co}/transactions`,{params:t})).data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch material transactions"}}},async getTransactionById(t,e=!0){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/transactions/${t}`,{params:{includeRelations:e}})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch transaction"}}},async getTransactionsByMaterial(t,e){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/transactions/material/${t}`,{params:e})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch material transactions"}}},async getTransactionsByLot(t,e){var r,n;try{return{success:!0,data:(await Nt.get(`${Co}/transactions/lot/${t}`,{params:e})).data}}catch(i){return{success:!1,error:((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||i.message||"Failed to fetch lot transactions"}}}};async function xtt(){try{const[t,e]=await Promise.all([sh.getLotStatistics(),sh.getExpiringSoon(30)]);return t.success?{success:!0,data:{statistics:t.data,recentTransactions:[],expiringSoon:e.success?e.data:[],lowStock:[]}}:{success:!1,error:t.error}}catch(t){return{success:!1,error:t.message||"Failed to fetch materials dashboard data"}}}const hQ={definitions:[],currentDefinition:null,definitionsLoading:!1,definitionsError:null,lots:[],currentLot:null,lotsLoading:!1,lotsError:null,classes:[],currentClass:null,classesLoading:!1,classesError:null,transactions:[],currentTransaction:null,transactionsLoading:!1,transactionsError:null,statistics:null,statisticsLoading:!1,statisticsError:null,expiringSoon:[],lowStock:[],recentTransactions:[],definitionFilters:{},lotFilters:{},transactionFilters:{},searchText:""},btt=vd()(cf((t,e)=>({...hQ,fetchDefinitions:async r=>{t({definitionsLoading:!0,definitionsError:null});try{const n=r||e().definitionFilters,i=await F5.getAllDefinitions(n);i.success&&i.data?t({definitions:i.data,definitionsLoading:!1}):t({definitionsError:i.error||"Failed to fetch definitions",definitionsLoading:!1})}catch(n){console.error("[MaterialsStore] fetchDefinitions error:",n),t({definitionsError:n instanceof Error?n.message:"Network error while fetching definitions",definitionsLoading:!1})}},fetchDefinitionById:async(r,n=!0)=>{t({definitionsLoading:!0,definitionsError:null});try{const i=await F5.getDefinitionById(r,n);i.success&&i.data?t({currentDefinition:i.data,definitionsLoading:!1}):t({definitionsError:i.error||"Failed to fetch definition",definitionsLoading:!1})}catch(i){console.error("[MaterialsStore] fetchDefinitionById error:",i),t({definitionsError:i instanceof Error?i.message:"Network error while fetching definition",definitionsLoading:!1})}},fetchDefinitionByNumber:async(r,n=!0)=>{t({definitionsLoading:!0,definitionsError:null});try{const i=await F5.getDefinitionByNumber(r,n);i.success&&i.data?t({currentDefinition:i.data,definitionsLoading:!1}):t({definitionsError:i.error||"Failed to fetch definition",definitionsLoading:!1})}catch(i){console.error("[MaterialsStore] fetchDefinitionByNumber error:",i),t({definitionsError:i instanceof Error?i.message:"Network error while fetching definition",definitionsLoading:!1})}},setDefinitionFilters:r=>{t({definitionFilters:{...e().definitionFilters,...r}})},clearDefinitionFilters:()=>{t({definitionFilters:{}})},fetchLots:async r=>{t({lotsLoading:!0,lotsError:null});try{const n=r||e().lotFilters,i=await sh.getAllLots(n);i.success&&i.data?t({lots:i.data,lotsLoading:!1}):t({lotsError:i.error||"Failed to fetch lots",lotsLoading:!1})}catch(n){console.error("[MaterialsStore] fetchLots error:",n),t({lotsError:n instanceof Error?n.message:"Network error while fetching lots",lotsLoading:!1})}},fetchLotById:async(r,n=!0)=>{t({lotsLoading:!0,lotsError:null});try{const i=await sh.getLotById(r,n);i.success&&i.data?t({currentLot:i.data,lotsLoading:!1}):t({lotsError:i.error||"Failed to fetch lot",lotsLoading:!1})}catch(i){console.error("[MaterialsStore] fetchLotById error:",i),t({lotsError:i instanceof Error?i.message:"Network error while fetching lot",lotsLoading:!1})}},fetchLotByNumber:async(r,n=!0)=>{t({lotsLoading:!0,lotsError:null});const i=await sh.getLotByNumber(r,n);i.success&&i.data?t({currentLot:i.data,lotsLoading:!1}):t({lotsError:i.error||"Failed to fetch lot",lotsLoading:!1})},fetchExpiringSoon:async(r=30)=>{t({lotsLoading:!0,lotsError:null});const n=await sh.getExpiringSoon(r);n.success&&n.data?t({expiringSoon:n.data,lotsLoading:!1}):t({lotsError:n.error||"Failed to fetch expiring lots",lotsLoading:!1})},fetchExpired:async()=>{t({lotsLoading:!0,lotsError:null});const r=await sh.getExpired();r.success&&r.data?t({lots:r.data,lotsLoading:!1}):t({lotsError:r.error||"Failed to fetch expired lots",lotsLoading:!1})},setLotFilters:r=>{t({lotFilters:{...e().lotFilters,...r}})},clearLotFilters:()=>{t({lotFilters:{}})},fetchClasses:async(r=!1)=>{t({classesLoading:!0,classesError:null});try{const n=await Vb.getAllClasses(r);n.success&&n.data?t({classes:n.data,classesLoading:!1}):t({classesError:n.error||"Failed to fetch classes",classesLoading:!1})}catch(n){console.error("[MaterialsStore] fetchClasses error:",n),t({classesError:n instanceof Error?n.message:"Network error while fetching classes",classesLoading:!1})}},fetchClassById:async(r,n=!1)=>{t({classesLoading:!0,classesError:null});const i=await Vb.getClassById(r,n);i.success&&i.data?t({currentClass:i.data,classesLoading:!1}):t({classesError:i.error||"Failed to fetch class",classesLoading:!1})},fetchClassHierarchy:async r=>{t({classesLoading:!0,classesError:null});const n=await Vb.getClassHierarchy(r);n.success&&n.data?t({classes:n.data,classesLoading:!1}):t({classesError:n.error||"Failed to fetch hierarchy",classesLoading:!1})},fetchChildClasses:async r=>{t({classesLoading:!0,classesError:null});const n=await Vb.getChildClasses(r);n.success&&n.data?t({classes:n.data,classesLoading:!1}):t({classesError:n.error||"Failed to fetch child classes",classesLoading:!1})},fetchTransactions:async r=>{t({transactionsLoading:!0,transactionsError:null});const n=r||e().transactionFilters,i=await Hb.getAllTransactions(n);i.success&&i.data?t({transactions:i.data,transactionsLoading:!1}):t({transactionsError:i.error||"Failed to fetch transactions",transactionsLoading:!1})},fetchTransactionById:async(r,n=!0)=>{t({transactionsLoading:!0,transactionsError:null});const i=await Hb.getTransactionById(r,n);i.success&&i.data?t({currentTransaction:i.data,transactionsLoading:!1}):t({transactionsError:i.error||"Failed to fetch transaction",transactionsLoading:!1})},fetchTransactionsByMaterial:async(r,n)=>{t({transactionsLoading:!0,transactionsError:null});const i=await Hb.getTransactionsByMaterial(r,n);i.success&&i.data?t({transactions:i.data,transactionsLoading:!1}):t({transactionsError:i.error||"Failed to fetch transactions",transactionsLoading:!1})},fetchTransactionsByLot:async(r,n)=>{t({transactionsLoading:!0,transactionsError:null});const i=await Hb.getTransactionsByLot(r,n);i.success&&i.data?t({transactions:i.data,transactionsLoading:!1}):t({transactionsError:i.error||"Failed to fetch transactions",transactionsLoading:!1})},setTransactionFilters:r=>{t({transactionFilters:{...e().transactionFilters,...r}})},clearTransactionFilters:()=>{t({transactionFilters:{}})},fetchStatistics:async()=>{t({statisticsLoading:!0,statisticsError:null});const r=await sh.getLotStatistics();r.success&&r.data?t({statistics:r.data,statisticsLoading:!1}):t({statisticsError:r.error||"Failed to fetch statistics",statisticsLoading:!1})},fetchDashboard:async()=>{t({definitionsLoading:!0,lotsLoading:!0,statisticsLoading:!0,definitionsError:null,lotsError:null,statisticsError:null});const r=await xtt();r.success&&r.data?t({statistics:r.data.statistics,expiringSoon:r.data.expiringSoon,lowStock:r.data.lowStock,recentTransactions:r.data.recentTransactions,definitionsLoading:!1,lotsLoading:!1,statisticsLoading:!1}):t({definitionsError:r.error||"Failed to fetch dashboard data",lotsError:r.error||"Failed to fetch dashboard data",statisticsError:r.error||"Failed to fetch dashboard data",definitionsLoading:!1,lotsLoading:!1,statisticsLoading:!1})},setSearchText:r=>{t({searchText:r})},clearErrors:()=>{t({definitionsError:null,lotsError:null,classesError:null,transactionsError:null,statisticsError:null})},reset:()=>{t(hQ)}}),{name:"MaterialsStore"})),fQ={RAW_MATERIAL:"Raw Material",COMPONENT:"Component",SUBASSEMBLY:"Subassembly",ASSEMBLY:"Assembly",FINISHED_GOODS:"Finished Goods",WIP:"Work In Progress",CONSUMABLE:"Consumable",PACKAGING:"Packaging",TOOLING:"Tooling",MAINTENANCE:"Maintenance"},wtt={RAW_MATERIAL:"blue",COMPONENT:"cyan",SUBASSEMBLY:"geekblue",ASSEMBLY:"purple",FINISHED_GOODS:"green",WIP:"orange",CONSUMABLE:"volcano",PACKAGING:"magenta",TOOLING:"gold",MAINTENANCE:"lime"},AQ={AVAILABLE:"Available",RESERVED:"Reserved",IN_USE:"In Use",DEPLETED:"Depleted",QUARANTINED:"Quarantined",EXPIRED:"Expired",REJECTED:"Rejected",RETURNED:"Returned",SCRAPPED:"Scrapped"},Stt={AVAILABLE:"success",RESERVED:"processing",IN_USE:"warning",DEPLETED:"default",QUARANTINED:"error",EXPIRED:"error",REJECTED:"error",RETURNED:"warning",SCRAPPED:"default"},{Search:Ett}=at,{Option:Kb}=we,_tt=()=>{const t=Kr(),[e,r]=D.useState(""),[n,i]=D.useState(),[s,o]=D.useState(),[a,l]=D.useState("lots"),{hasPermission:u}=NU(),{definitions:g,lots:d,statistics:f,expiringSoon:h,definitionsLoading:A,lotsLoading:C,statisticsLoading:I,definitionsError:p,lotsError:m,statisticsError:v,fetchDefinitions:y,fetchLots:x,fetchDashboard:T,setDefinitionFilters:E,setLotFilters:_,clearErrors:S}=btt();D.useEffect(()=>{T()},[]),D.useEffect(()=>{if(a==="definitions"){const M={};n&&(M.materialType=n),e&&(M.searchText=e),E(M),y(M)}else{const M={};s&&(M.status=s),e&&(M.searchText=e),_(M),x(M)}},[e,n,s,a]);const j=()=>{T(),Ee.success("Data refreshed")},w=M=>{r(M)};D.useEffect(()=>{p&&Ee.error(p),m&&Ee.error(m),v&&Ee.error(v),(p||m||v)&&setTimeout(()=>S(),3e3)},[p,m,v]);const R=[{title:"Material Number",dataIndex:"materialNumber",key:"materialNumber",width:150,fixed:"left",render:M=>c.jsx("strong",{children:M})},{title:"Material Name",dataIndex:"materialName",key:"materialName",width:250,ellipsis:!0},{title:"Type",dataIndex:"materialType",key:"materialType",width:150,render:M=>c.jsx(Be,{color:wtt[M],children:fQ[M]})},{title:"UOM",dataIndex:"baseUnitOfMeasure",key:"baseUnitOfMeasure",width:80},{title:"Grade/Spec",key:"grade",width:150,render:(M,B)=>c.jsx("span",{children:B.materialGrade||B.specification||"N/A"})},{title:"Stock Levels",key:"stock",width:150,render:(M,B)=>c.jsxs("div",{children:[B.minimumStock&&c.jsxs("div",{style:{fontSize:"12px"},children:["Min: ",B.minimumStock," ",B.baseUnitOfMeasure]}),B.reorderPoint&&c.jsxs("div",{style:{fontSize:"12px"},children:["Reorder: ",B.reorderPoint," ",B.baseUnitOfMeasure]})]})},{title:"Active Lots",key:"lots",width:100,align:"center",render:(M,B)=>{var W;return c.jsx(Be,{color:"blue",children:((W=B.lots)==null?void 0:W.length)||0})}},{title:"Status",dataIndex:"isActive",key:"isActive",width:100,render:M=>c.jsx(Be,{color:M?"success":"default",children:M?"Active":"Inactive"})},{title:"Actions",key:"actions",width:100,fixed:"right",render:(M,B)=>{const W=u(Ru.MATERIALS_READ);return c.jsx(lt,{title:W?"View Details":"No permission to view material details",children:c.jsx(le,{type:"link",size:"small",icon:c.jsx(Os,{}),disabled:!W,onClick:()=>t(`/materials/definitions/${B.id}`),children:"View"})})}}],N=[{title:"Lot Number",dataIndex:"lotNumber",key:"lotNumber",width:150,fixed:"left",render:M=>c.jsx("strong",{children:M})},{title:"Material",key:"material",width:200,ellipsis:!0,render:(M,B)=>{var W,H;return c.jsxs("div",{children:[c.jsx("div",{children:(W=B.material)==null?void 0:W.materialName}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:(H=B.material)==null?void 0:H.materialNumber})]})}},{title:"Quantity",key:"quantity",width:150,render:(M,B)=>c.jsxs("div",{children:[c.jsxs("div",{children:[c.jsx("strong",{children:B.currentQuantity})," / ",B.originalQuantity," ",B.unitOfMeasure]}),c.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[Math.round(B.currentQuantity/B.originalQuantity*100),"% remaining"]})]})},{title:"Location",dataIndex:"location",key:"location",width:150,render:M=>M||"N/A"},{title:"Status",dataIndex:"status",key:"status",width:120,render:M=>c.jsx(Be,{color:Stt[M],children:AQ[M]})},{title:"Received Date",dataIndex:"receivedDate",key:"receivedDate",width:120,render:M=>new Date(M).toLocaleDateString()},{title:"Expiration",dataIndex:"expirationDate",key:"expirationDate",width:120,render:M=>{if(!M)return"N/A";const B=new Date(M),W=new Date,H=Math.floor((B.getTime()-W.getTime())/(1e3*60*60*24)),V=H<0,K=H>=0&&H<=30;return c.jsxs("div",{children:[c.jsx("div",{children:B.toLocaleDateString()}),V&&c.jsx(Be,{color:"error",style:{fontSize:"10px",marginTop:"4px"},children:"EXPIRED"}),K&&c.jsxs(Be,{color:"warning",style:{fontSize:"10px",marginTop:"4px"},children:[H," days"]})]})}},{title:"Actions",key:"actions",width:100,fixed:"right",render:(M,B)=>{const W=u(Ru.MATERIALS_READ);return c.jsx(lt,{title:W?"View Details":"No permission to view lot details",children:c.jsx(le,{type:"link",size:"small",icon:c.jsx(Os,{}),disabled:!W,onClick:()=>t(`/materials/lots/${B.id}`),children:"View"})})}}],P=A||C||I;return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs("h1",{children:[c.jsx(fU,{style:{marginRight:8}}),"Material Movement Tracking"]}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:"Track material inventory, lot traceability, and transactions"})]}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Materials",value:(f==null?void 0:f.totalDefinitions)||0,prefix:c.jsx(qke,{}),valueStyle:{color:"#1890ff"},loading:I})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active Lots",value:(f==null?void 0:f.totalActiveLots)||0,prefix:c.jsx(MA,{}),valueStyle:{color:"#52c41a"},loading:I})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Low Stock Items",value:(f==null?void 0:f.lowStockCount)||0,prefix:c.jsx(Ns,{}),valueStyle:{color:"#faad14"},loading:I})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Expiring Soon",value:(f==null?void 0:f.expiringSoonCount)||0,prefix:c.jsx(Ns,{}),valueStyle:{color:"#ff4d4f"},loading:I})})})]}),h.length>0&&c.jsx(Pt,{message:`${h.length} lots expiring in the next 30 days`,description:"Review expiring lots and plan accordingly",type:"warning",showIcon:!0,closable:!0,style:{marginBottom:"16px"}}),c.jsx(xe,{style:{marginBottom:"16px"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",gap:"8px",flex:1},children:[c.jsxs(we,{value:a,onChange:l,style:{width:"180px"},children:[c.jsx(Kb,{value:"lots",children:"Material Lots"}),c.jsx(Kb,{value:"definitions",children:"Material Definitions"})]}),c.jsx(Ett,{placeholder:a==="lots"?"Search lots...":"Search materials...",allowClear:!0,enterButton:c.jsx(Gn,{}),value:e,onChange:M=>r(M.target.value),onSearch:w,style:{width:"300px"}}),a==="definitions"?c.jsx(we,{placeholder:"Filter by type",allowClear:!0,value:n,onChange:i,style:{width:"180px"},children:Object.entries(fQ).map(([M,B])=>c.jsx(Kb,{value:M,children:B},M))}):c.jsx(we,{placeholder:"Filter by status",allowClear:!0,value:s,onChange:o,style:{width:"180px"},children:Object.entries(AQ).map(([M,B])=>c.jsx(Kb,{value:M,children:B},M))})]}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:j,children:"Refresh"})]})}),c.jsx(xe,{title:a==="lots"?"Material Lots":"Material Definitions",children:c.jsx(ei,{spinning:P,children:a==="lots"?c.jsx(Jr,{columns:N,dataSource:d,rowKey:"id",loading:P,pagination:{showSizeChanger:!0,showTotal:M=>`Total ${M} lots`,pageSizeOptions:["10","20","50","100"]},scroll:{x:1200},bordered:!0,locale:{emptyText:P?"Loading...":"No lots found"}}):c.jsx(Jr,{columns:R,dataSource:g,rowKey:"id",loading:P,pagination:{showSizeChanger:!0,showTotal:M=>`Total ${M} materials`,pageSizeOptions:["10","20","50","100"]},scroll:{x:1200},bordered:!0,locale:{emptyText:P?"Loading...":"No materials found"}})})})]})},Ttt=()=>c.jsx(_tt,{}),Rtt={BEGINNER:"blue",INTERMEDIATE:"cyan",ADVANCED:"green",EXPERT:"gold"},Ntt={BEGINNER:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced",EXPERT:"Expert"},CQ="/api/v1/personnel",Ott={async getAllPersonnel(t){var e,r;try{return{success:!0,data:(await Nt.get(CQ,{params:t})).data.data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch personnel"}}},async getPersonnelById(t){var e,r;try{return{success:!0,data:(await Nt.get(`${CQ}/${t}`)).data.data}}catch(n){return{success:!1,error:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||n.message||"Failed to fetch personnel"}}}},{Search:jtt}=at,{Option:Yb}=we,Ptt=()=>{const t=Kr(),[e,r]=D.useState([]),[n,i]=D.useState([]),[s,o]=D.useState(!1),[a,l]=D.useState(""),[u,g]=D.useState(),[d,f]=D.useState(!0),h=async()=>{o(!0);try{const p=await Ott.getAllPersonnel({includeRelations:!0,isActive:d});p.success&&p.data&&(r(p.data),i(p.data))}catch(p){console.error("Failed to fetch personnel:",p)}finally{o(!1)}};D.useEffect(()=>{h()},[d]),D.useEffect(()=>{let p=e;a&&(p=p.filter(m=>m.firstName.toLowerCase().includes(a.toLowerCase())||m.lastName.toLowerCase().includes(a.toLowerCase())||m.employeeNumber.toLowerCase().includes(a.toLowerCase()))),u&&(p=p.filter(m=>m.department===u)),i(p)},[a,u,e]);const A=Array.from(new Set(e.map(p=>p.department).filter(Boolean))),C={total:e.length,active:e.filter(p=>p.isActive).length,activeCertifications:e.reduce((p,m)=>{var v;return p+(((v=m.certifications)==null?void 0:v.filter(y=>y.status==="ACTIVE").length)||0)},0),expiringSoon:e.reduce((p,m)=>{var y;const v=(y=m.certifications)==null?void 0:y.filter(x=>{if(!x.expirationDate)return!1;const T=Math.floor((new Date(x.expirationDate).getTime()-new Date().getTime())/(1e3*60*60*24));return T>0&&T<=30});return p+((v==null?void 0:v.length)||0)},0)},I=[{title:"Employee",key:"employee",width:200,render:(p,m)=>c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:500},children:[m.firstName," ",m.lastName]}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:m.employeeNumber})]})},{title:"Department",dataIndex:"department",key:"department",width:150,render:p=>p||"N/A"},{title:"Job Title",dataIndex:"jobTitle",key:"jobTitle",width:150,render:p=>p||"N/A"},{title:"Certifications",key:"certifications",width:200,render:(p,m)=>{const v=m.certifications||[],y=v.filter(T=>T.status==="ACTIVE").length,x=v.filter(T=>T.status==="EXPIRED").length;return c.jsxs(pe,{size:"small",children:[y>0&&c.jsx(lt,{title:`${y} active certifications`,children:c.jsx(Be,{color:"green",icon:c.jsx(YV,{}),children:y})}),x>0&&c.jsx(lt,{title:`${x} expired certifications`,children:c.jsxs(Be,{color:"red",children:[x," Expired"]})}),v.length===0&&c.jsx(Be,{children:"None"})]})}},{title:"Competencies",key:"competencies",width:200,render:(p,m)=>{const v=m.competencies||[];if(v.length===0)return c.jsx(Be,{children:"None"});const y=v[0];return c.jsxs(pe,{size:"small",children:[c.jsxs(Be,{color:Rtt[y.level],children:[y.skillName,": ",Ntt[y.level]]}),v.length>1&&c.jsxs(Be,{children:["+",v.length-1," more"]})]})}},{title:"Work Centers",key:"workCenters",width:150,render:(p,m)=>{var x;const v=m.workAssignments||[],y=v.find(T=>T.isPrimary);return v.length===0?c.jsx(Be,{children:"Unassigned"}):c.jsxs(pe,{size:"small",children:[y&&c.jsx(Be,{color:"blue",children:((x=y.workCenter)==null?void 0:x.workcenterName)||"Unknown"}),v.length>1&&c.jsxs(Be,{children:["+",v.length-1]})]})}},{title:"Status",key:"status",width:100,render:(p,m)=>c.jsx(ji,{status:m.isActive?"success":"error",text:m.isActive?"Active":"Inactive"})},{title:"Actions",key:"actions",width:100,fixed:"right",render:(p,m)=>c.jsx(le,{type:"link",size:"small",icon:c.jsx(Fi,{}),onClick:()=>t(`/personnel/${m.id}`),children:"View"})}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs("h1",{children:[c.jsx(Lc,{style:{marginRight:8}}),"Personnel Management"]}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:"Manage personnel skills, certifications, and work assignments"})]}),c.jsxs(Dt,{gutter:16,style:{marginBottom:"24px"},children:[c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active Personnel",value:C.active,suffix:`/ ${C.total}`,prefix:c.jsx(Lc,{}),valueStyle:{color:"#1890ff"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Active Certifications",value:C.activeCertifications,prefix:c.jsx(YV,{}),valueStyle:{color:"#52c41a"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Expiring in 30 Days",value:C.expiringSoon,prefix:c.jsx(Vq,{}),valueStyle:{color:C.expiringSoon>0?"#faad14":"#52c41a"}})})}),c.jsx(Se,{span:6,children:c.jsx(xe,{children:c.jsx(Mt,{title:"Total Competencies",value:e.reduce((p,m)=>{var v;return p+(((v=m.competencies)==null?void 0:v.length)||0)},0),prefix:c.jsx(Vq,{})})})})]}),c.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",gap:"16px"},children:[c.jsxs(pe,{children:[c.jsx(jtt,{placeholder:"Search by name or employee number",allowClear:!0,enterButton:c.jsx(Gn,{}),value:a,onChange:p=>l(p.target.value),style:{width:"300px"}}),c.jsx(we,{placeholder:"Filter by department",allowClear:!0,value:u,onChange:g,style:{width:"180px"},children:A.map(p=>c.jsx(Yb,{value:p,children:p},p))}),c.jsxs(we,{placeholder:"Filter by status",value:d,onChange:f,style:{width:"150px"},children:[c.jsx(Yb,{value:void 0,children:"All"}),c.jsx(Yb,{value:!0,children:"Active"}),c.jsx(Yb,{value:!1,children:"Inactive"})]})]}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:h,children:"Refresh"})]}),c.jsx(Jr,{columns:I,dataSource:n,rowKey:"id",loading:s,pagination:{showSizeChanger:!0,showTotal:p=>`Total ${p} personnel`,pageSizeOptions:["10","20","50","100"]},scroll:{x:1200},bordered:!0})]})},ktt=()=>c.jsx(Ptt,{}),Dtt="/api/v1",fn=Vt.create({baseURL:`${Dtt}/admin`,timeout:3e4,headers:{"Content-Type":"application/json"}});fn.interceptors.request.use(t=>{const e=yo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t});fn.interceptors.response.use(t=>t.data,t=>{var e,r,n,i;if(((e=t.response)==null?void 0:e.status)===401)return window.location.href="/login",Promise.reject(new Error("Authentication required"));throw((r=t.response)==null?void 0:r.status)===403?new Error("Insufficient permissions to perform this action"):(i=(n=t.response)==null?void 0:n.data)!=null&&i.message?new Error(t.response.data.message):new Error(t.message||"An unexpected error occurred")});const Zb=t=>{const e=new URLSearchParams;return Object.entries(t).forEach(([r,n])=>{n!=null&&n!==""&&e.append(r,String(n))}),e.toString()},Ln={getRoles:async(t={})=>{const e=Zb(t);return fn.get(`/roles?${e}`)},getRoleById:async t=>fn.get(`/roles/${t}`),createRole:async t=>fn.post("/roles",t),updateRole:async(t,e)=>fn.put(`/roles/${t}`,e),deleteRole:async t=>fn.delete(`/roles/${t}`),getPermissions:async(t={})=>{const e=Zb(t);return fn.get(`/permissions?${e}`)},getPermissionById:async t=>fn.get(`/permissions/${t}`),createPermission:async t=>fn.post("/permissions",t),updatePermission:async(t,e)=>fn.put(`/permissions/${t}`,e),deletePermission:async t=>fn.delete(`/permissions/${t}`),getRolePermissions:async t=>fn.get(`/role-permissions/${t}`),assignRolePermission:async t=>fn.post("/role-permissions/assign",t),revokeRolePermission:async t=>fn.delete("/role-permissions/revoke",{data:t}),replaceRolePermissions:async(t,e)=>fn.put(`/role-permissions/${t}`,{permissionIds:e}),getUserRoles:async(t={})=>{const e=Zb(t);return fn.get(`/user-roles?${e}`)},getUserSiteRoles:async(t={})=>{const e=Zb(t);return fn.get(`/user-roles/site?${e}`)},getUserRoleOverview:async t=>fn.get(`/user-roles/${t}`),assignGlobalUserRole:async t=>fn.post("/user-roles/assign/global",t),assignSiteUserRole:async t=>fn.post("/user-roles/assign/site",t),revokeGlobalUserRole:async t=>fn.delete("/user-roles/revoke/global",{data:t}),revokeSiteUserRole:async t=>fn.delete("/user-roles/revoke/site",{data:t}),getDashboardStats:async()=>fn.get("/dashboard/stats"),getSites:async()=>fn.get("/sites"),searchUsers:async(t,e=10)=>fn.get(`/users/search?q=${encodeURIComponent(t)}&limit=${e}`),getPermissionCategories:async()=>fn.get("/permissions/categories"),bulkAssignUserRoles:async t=>fn.post("/user-roles/bulk-assign",{assignments:t}),bulkRevokeUserRoles:async t=>fn.post("/user-roles/bulk-revoke",{revocations:t}),checkRoleCodeAvailability:async(t,e)=>{const r=new URLSearchParams({roleCode:t});return e&&r.append("excludeId",e),(await fn.get(`/roles/check-code?${r.toString()}`)).available},checkPermissionCodeAvailability:async(t,e)=>{const r=new URLSearchParams({permissionCode:t});return e&&r.append("excludeId",e),(await fn.get(`/permissions/check-code?${r.toString()}`)).available}},{Title:Ftt,Text:bs}=yr,Ltt=()=>{const{data:t,isLoading:e,error:r,refetch:n}=hl({queryKey:["rbac-dashboard-stats"],queryFn:()=>Ln.getDashboardStats(),refetchInterval:3e4}),i=o=>{switch(o){case"role_created":return c.jsx(cs,{style:{color:"#52c41a"}});case"role_updated":return c.jsx(cs,{style:{color:"#1890ff"}});case"permission_assigned":return c.jsx(Ou,{style:{color:"#722ed1"}});case"user_assigned":return c.jsx(Fi,{style:{color:"#fa8c16"}});default:return c.jsx(Zi,{style:{color:"#8c8c8c"}})}},s=o=>{switch(o){case"role_created":return"#52c41a";case"role_updated":return"#1890ff";case"permission_assigned":return"#722ed1";case"user_assigned":return"#fa8c16";default:return"#8c8c8c"}};return r?c.jsx("div",{style:{padding:"24px"},children:c.jsx(Pt,{message:"Failed to Load Dashboard",description:`Unable to load RBAC dashboard statistics: ${r.message}`,type:"error",showIcon:!0,action:c.jsx(le,{onClick:()=>n(),type:"primary",size:"small",children:"Retry"})})}):c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsxs(Ftt,{level:2,children:[c.jsx(Dv,{style:{marginRight:8}}),"RBAC Dashboard"]}),c.jsx(bs,{type:"secondary",children:"Overview of role-based access control system statistics and recent activity"})]}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>n(),loading:e,children:"Refresh"})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{loading:e,children:[c.jsx(Mt,{title:"Total Roles",value:(t==null?void 0:t.totalRoles)||0,prefix:c.jsx(cs,{}),valueStyle:{color:"#3f8600"}}),c.jsx("div",{style:{marginTop:8},children:c.jsxs(bs,{type:"secondary",children:[(t==null?void 0:t.activeRoles)||0," active"]})})]})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{loading:e,children:[c.jsx(Mt,{title:"Total Permissions",value:(t==null?void 0:t.totalPermissions)||0,prefix:c.jsx(Ou,{}),valueStyle:{color:"#1890ff"}}),c.jsx("div",{style:{marginTop:8},children:c.jsxs(bs,{type:"secondary",children:[(t==null?void 0:t.activePermissions)||0," active"]})})]})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{loading:e,children:[c.jsx(Mt,{title:"Global Assignments",value:(t==null?void 0:t.totalUserAssignments)||0,prefix:c.jsx(LA,{}),valueStyle:{color:"#722ed1"}}),c.jsx("div",{style:{marginTop:8},children:c.jsx(bs,{type:"secondary",children:"User role assignments"})})]})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{loading:e,children:[c.jsx(Mt,{title:"Site Assignments",value:(t==null?void 0:t.totalSiteAssignments)||0,prefix:c.jsx(Kh,{}),valueStyle:{color:"#fa8c16"}}),c.jsx("div",{style:{marginTop:8},children:c.jsx(bs,{type:"secondary",children:"Site-specific assignments"})})]})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,lg:12,children:c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(Vq,{}),c.jsx("span",{children:"Most Used Roles"})]}),loading:e,children:t!=null&&t.topRoles&&t.topRoles.length>0?c.jsx(ho,{itemLayout:"horizontal",dataSource:t.topRoles,renderItem:(o,a)=>{const l=Math.max(...t.topRoles.map(g=>g.userCount)),u=l>0?o.userCount/l*100:0;return c.jsx(ho.Item,{children:c.jsx(ho.Item.Meta,{avatar:c.jsx(ia,{style:{backgroundColor:a===0?"#faad14":a===1?"#d9d9d9":"#f56a00"},children:a+1}),title:c.jsxs(pe,{children:[c.jsx(bs,{strong:!0,children:o.roleName}),c.jsx(Be,{size:"small",children:o.roleCode})]}),description:c.jsxs("div",{children:[c.jsx("div",{style:{marginBottom:4},children:c.jsxs(bs,{children:[o.userCount," users assigned"]})}),c.jsx(Wn,{percent:u,size:"small",showInfo:!1,strokeColor:a===0?"#faad14":"#1890ff"})]})})})}}):c.jsx(Fc,{description:"No role data available"})})}),c.jsx(Se,{xs:24,lg:12,children:c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(Ou,{}),c.jsx("span",{children:"Most Used Permissions"})]}),loading:e,children:t!=null&&t.topPermissions&&t.topPermissions.length>0?c.jsx(ho,{itemLayout:"horizontal",dataSource:t.topPermissions,renderItem:(o,a)=>{const l=Math.max(...t.topPermissions.map(g=>g.usageCount)),u=l>0?o.usageCount/l*100:0;return c.jsx(ho.Item,{children:c.jsx(ho.Item.Meta,{avatar:c.jsx(ia,{style:{backgroundColor:a===0?"#faad14":a===1?"#d9d9d9":"#f56a00"},children:a+1}),title:c.jsx(pe,{children:c.jsx(bs,{strong:!0,children:o.permissionName})}),description:c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:4},children:[c.jsx(bs,{code:!0,children:o.permissionCode}),c.jsxs(bs,{style:{marginLeft:8},children:["Used in ",o.usageCount," roles"]})]}),c.jsx(Wn,{percent:u,size:"small",showInfo:!1,strokeColor:a===0?"#faad14":"#722ed1"})]})})})}}):c.jsx(Fc,{description:"No permission data available"})})})]}),c.jsx(Dt,{children:c.jsx(Se,{span:24,children:c.jsx(xe,{title:c.jsxs(pe,{children:[c.jsx(Zi,{}),c.jsx("span",{children:"Recent Activity"})]}),loading:e,children:t!=null&&t.recentChanges&&t.recentChanges.length>0?c.jsx(ya,{children:t.recentChanges.map((o,a)=>c.jsx(ya.Item,{dot:i(o.type),color:s(o.type),children:c.jsxs("div",{children:[c.jsx(bs,{strong:!0,children:o.description}),c.jsx("br",{}),c.jsxs(pe,{children:[c.jsxs(bs,{type:"secondary",children:["by ",o.performedBy]}),c.jsx(bs,{type:"secondary",children:new Date(o.timestamp).toLocaleString()})]})]})},o.id||a))}):c.jsx(Fc,{description:"No recent activity"})})})}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:12,children:c.jsxs(xe,{title:"Role Health",loading:e,children:[c.jsxs("div",{style:{marginBottom:16},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[c.jsx(bs,{children:"Active Roles"}),c.jsxs(bs,{strong:!0,children:[(t==null?void 0:t.activeRoles)||0," / ",(t==null?void 0:t.totalRoles)||0]})]}),c.jsx(Wn,{percent:t!=null&&t.totalRoles?Math.round((t.activeRoles||0)/t.totalRoles*100):0,status:t!=null&&t.totalRoles&&t.activeRoles===t.totalRoles?"success":"normal"})]}),c.jsx(bs,{type:"secondary",children:t!=null&&t.totalRoles?`${Math.round((t.activeRoles||0)/t.totalRoles*100)}% of roles are active`:"No role data available"})]})}),c.jsx(Se,{xs:24,sm:12,children:c.jsxs(xe,{title:"Permission Health",loading:e,children:[c.jsxs("div",{style:{marginBottom:16},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[c.jsx(bs,{children:"Active Permissions"}),c.jsxs(bs,{strong:!0,children:[(t==null?void 0:t.activePermissions)||0," / ",(t==null?void 0:t.totalPermissions)||0]})]}),c.jsx(Wn,{percent:t!=null&&t.totalPermissions?Math.round((t.activePermissions||0)/t.totalPermissions*100):0,status:t!=null&&t.totalPermissions&&t.activePermissions===t.totalPermissions?"success":"normal"})]}),c.jsx(bs,{type:"secondary",children:t!=null&&t.totalPermissions?`${Math.round((t.activePermissions||0)/t.totalPermissions*100)}% of permissions are active`:"No permission data available"})]})})]}),c.jsx(xe,{title:"Quick Actions",children:c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:8,children:c.jsx(xe,{size:"small",hoverable:!0,children:c.jsx(xe.Meta,{avatar:c.jsx(cs,{style:{fontSize:24,color:"#52c41a"}}),title:"Manage Roles",description:"Create, edit, and configure system roles"})})}),c.jsx(Se,{xs:24,sm:8,children:c.jsx(xe,{size:"small",hoverable:!0,children:c.jsx(xe.Meta,{avatar:c.jsx(Ou,{style:{fontSize:24,color:"#1890ff"}}),title:"Manage Permissions",description:"Configure and organize permissions"})})}),c.jsx(Se,{xs:24,sm:8,children:c.jsx(xe,{size:"small",hoverable:!0,children:c.jsx(xe.Meta,{avatar:c.jsx(Lc,{style:{fontSize:24,color:"#722ed1"}}),title:"Assign Roles",description:"Assign roles to users and manage access"})})})]})})]})})},{Title:Mtt,Text:_i}=yr,{Option:vv}=we,Btt=({role:t,visible:e,onCancel:r,onSubmit:n,loading:i})=>{const[s]=me.useForm(),[o,a]=D.useState([]),{data:l}=hl({queryKey:["permissions","all"],queryFn:()=>Ln.getPermissions({limit:1e3}),enabled:e}),u=(l==null?void 0:l.permissions)||[];D.useEffect(()=>{e&&t?(s.setFieldsValue({roleCode:t.roleCode,roleName:t.roleName,description:t.description||"",isGlobal:t.isGlobal}),t.id&&Ln.getRolePermissions(t.id).then(d=>{const f=d.map(h=>h.permissionId);a(f),s.setFieldValue("permissions",f)})):e&&(s.resetFields(),a([]))},[e,t,s]);const g=async()=>{try{const d=await s.validateFields();n({...d,selectedPermissions:o})}catch(d){console.error("Form validation failed:",d)}};return c.jsx(en,{title:t?"Edit Role":"Create New Role",open:e,onCancel:r,onOk:g,confirmLoading:i,width:800,destroyOnClose:!0,children:c.jsxs(me,{form:s,layout:"vertical",initialValues:{isGlobal:!0,permissions:[]},children:[c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{label:"Role Code",name:"roleCode",rules:[{required:!0,message:"Role code is required"},{pattern:/^[a-zA-Z0-9_-]+$/,message:"Role code can only contain letters, numbers, underscores, and hyphens"}],children:c.jsx(at,{placeholder:"e.g., production_supervisor",disabled:!!t})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{label:"Role Name",name:"roleName",rules:[{required:!0,message:"Role name is required"}],children:c.jsx(at,{placeholder:"e.g., Production Supervisor"})})})]}),c.jsx(me.Item,{label:"Description",name:"description",children:c.jsx(at.TextArea,{rows:3,placeholder:"Brief description of the role and its responsibilities"})}),c.jsx(me.Item,{label:"Global Role",name:"isGlobal",valuePropName:"checked",tooltip:"Global roles apply across all sites. Site-specific roles are assigned per site.",children:c.jsx(zn,{checkedChildren:"Global",unCheckedChildren:"Site-specific"})}),c.jsx(me.Item,{label:"Permissions",name:"permissions",tooltip:"Select the permissions that users with this role should have",children:c.jsx(we,{mode:"multiple",placeholder:"Select permissions",value:o,onChange:a,showSearch:!0,filterOption:(d,f)=>{var h;return(h=f==null?void 0:f.children)==null?void 0:h.toLowerCase().includes(d.toLowerCase())},maxTagCount:"responsive",children:u.map(d=>c.jsx(vv,{value:d.id,children:c.jsxs(pe,{children:[c.jsx(_i,{strong:!0,children:d.permissionName}),c.jsx(Be,{size:"small",color:d.isWildcard?"orange":"blue",children:d.permissionCode}),d.category&&c.jsx(Be,{size:"small",children:d.category})]})},d.id))})})]})})},$tt=()=>{const[t,e]=D.useState({}),[r,n]=D.useState({page:1,limit:10}),[i,s]=D.useState(),[o,a]=D.useState(!1),[l,u]=D.useState(!1),[g,d]=D.useState(),f=h1(),{data:h,isLoading:A,error:C,refetch:I}=hl({queryKey:["roles",t,r],queryFn:()=>Ln.getRoles({...t,...r}),keepPreviousData:!0}),{data:p}=hl({queryKey:["role-details",i==null?void 0:i.id],queryFn:()=>Ln.getRoleById(i.id),enabled:!!(i!=null&&i.id)&&l}),m=Oh({mutationFn:N=>{const{selectedPermissions:P,...M}=N;return Ln.createRole(M)},onSuccess:async(N,P)=>{if(Ee.success("Role created successfully"),P.selectedPermissions.length>0)try{await Ln.replaceRolePermissions(N.id,P.selectedPermissions),Ee.success("Permissions assigned successfully")}catch{Ee.warning("Role created but failed to assign some permissions")}f.invalidateQueries({queryKey:["roles"]}),a(!1)},onError:N=>{Ee.error(`Failed to create role: ${N.message}`)}}),v=Oh({mutationFn:N=>Ln.updateRole(N.roleId,N.roleData),onSuccess:async(N,P)=>{Ee.success("Role updated successfully");try{await Ln.replaceRolePermissions(P.roleId,P.selectedPermissions),Ee.success("Permissions updated successfully")}catch{Ee.warning("Role updated but failed to update some permissions")}f.invalidateQueries({queryKey:["roles"]}),f.invalidateQueries({queryKey:["role-details"]}),a(!1),s(void 0)},onError:N=>{Ee.error(`Failed to update role: ${N.message}`)}}),y=Oh({mutationFn:N=>Ln.deleteRole(N),onSuccess:()=>{Ee.success("Role deleted successfully"),f.invalidateQueries({queryKey:["roles"]})},onError:N=>{Ee.error(`Failed to delete role: ${N.message}`)}}),x=()=>{s(void 0),a(!0)},T=N=>{s(N),a(!0)},E=N=>{y.mutate(N)},_=N=>{const{selectedPermissions:P,...M}=N;i?v.mutate({roleId:i.id,roleData:M,selectedPermissions:P}):m.mutate({...M,selectedPermissions:P})},S=N=>{s(N),u(!0)},j=(N,P)=>{e(M=>({...M,[N]:P})),n(M=>({...M,page:1}))},w=N=>{n({page:N.current,limit:N.pageSize})},R=[{title:"Role Code",dataIndex:"roleCode",key:"roleCode",sorter:!0,render:(N,P)=>c.jsxs(pe,{children:[c.jsx(_i,{strong:!0,children:N}),!P.isActive&&c.jsx(Be,{color:"red",children:"Inactive"})]})},{title:"Role Name",dataIndex:"roleName",key:"roleName",sorter:!0},{title:"Description",dataIndex:"description",key:"description",ellipsis:!0,render:N=>N||c.jsx(_i,{type:"secondary",children:"No description"})},{title:"Scope",dataIndex:"isGlobal",key:"isGlobal",render:N=>c.jsx(Be,{color:N?"blue":"green",icon:N?c.jsx(LA,{}):c.jsx(Kh,{}),children:N?"Global":"Site-specific"})},{title:"Status",dataIndex:"isActive",key:"isActive",render:N=>c.jsx(ji,{status:N?"success":"error",text:N?"Active":"Inactive"})},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:N=>new Date(N).toLocaleDateString()},{title:"Actions",key:"actions",width:150,render:(N,P)=>c.jsxs(pe,{children:[c.jsx(lt,{title:"View Details",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(ld,{}),onClick:()=>S(P)})}),c.jsx(lt,{title:"Edit Role",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>T(P)})}),c.jsx(sa,{title:"Delete Role",description:"Are you sure you want to delete this role? This action cannot be undone.",onConfirm:()=>E(P.id),okText:"Yes",cancelText:"No",children:c.jsx(lt,{title:"Delete Role",children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),loading:y.isLoading})})})]})}];return C?c.jsx(xe,{children:c.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[c.jsxs(_i,{type:"danger",children:["Failed to load roles: ",C.message]}),c.jsx("br",{}),c.jsx(le,{onClick:()=>I(),style:{marginTop:"16px"},children:"Try Again"})]})}):c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs(Mtt,{level:2,children:[c.jsx(cs,{style:{marginRight:8}}),"Role Management"]}),c.jsx(_i,{type:"secondary",children:"Manage system roles and their permissions. Roles define what actions users can perform."})]}),c.jsx(xe,{children:c.jsxs(Dt,{gutter:16,align:"middle",children:[c.jsx(Se,{flex:"auto",children:c.jsxs(pe,{wrap:!0,children:[c.jsx(at,{placeholder:"Search roles...",prefix:c.jsx(Gn,{}),value:t.search,onChange:N=>j("search",N.target.value),style:{width:250},allowClear:!0}),c.jsxs(we,{placeholder:"Filter by status",value:t.isActive,onChange:N=>j("isActive",N),style:{width:150},allowClear:!0,children:[c.jsx(vv,{value:!0,children:"Active"}),c.jsx(vv,{value:!1,children:"Inactive"})]}),c.jsxs(we,{placeholder:"Filter by scope",value:t.isGlobal,onChange:N=>j("isGlobal",N),style:{width:150},allowClear:!0,children:[c.jsx(vv,{value:!0,children:"Global"}),c.jsx(vv,{value:!1,children:"Site-specific"})]})]})}),c.jsx(Se,{children:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>I(),loading:A,children:"Refresh"}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:x,children:"Create Role"})]})})]})}),c.jsx(xe,{children:c.jsx(Jr,{columns:R,dataSource:(h==null?void 0:h.roles)||[],rowKey:"id",loading:A,pagination:{current:r.page,pageSize:r.limit,total:(h==null?void 0:h.total)||0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(N,P)=>`${P[0]}-${P[1]} of ${N} roles`},onChange:w})}),c.jsx(Btt,{role:i,visible:o,onCancel:()=>{a(!1),s(void 0)},onSubmit:_,loading:m.isLoading||v.isLoading}),c.jsx(en,{title:`Role Details: ${i==null?void 0:i.roleName}`,open:l,onCancel:()=>{u(!1),s(void 0),d(void 0)},footer:null,width:800,children:p&&c.jsxs(pe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[c.jsxs(xe,{size:"small",title:"Role Information",children:[c.jsxs(Dt,{gutter:16,children:[c.jsxs(Se,{span:12,children:[c.jsx(_i,{strong:!0,children:"Role Code:"}),c.jsx("br",{}),c.jsx(_i,{children:p.roleCode})]}),c.jsxs(Se,{span:12,children:[c.jsx(_i,{strong:!0,children:"Role Name:"}),c.jsx("br",{}),c.jsx(_i,{children:p.roleName})]})]}),c.jsx(Er,{}),c.jsxs(Dt,{gutter:16,children:[c.jsxs(Se,{span:12,children:[c.jsx(_i,{strong:!0,children:"Scope:"}),c.jsx("br",{}),c.jsx(Be,{color:p.isGlobal?"blue":"green",children:p.isGlobal?"Global":"Site-specific"})]}),c.jsxs(Se,{span:12,children:[c.jsx(_i,{strong:!0,children:"Status:"}),c.jsx("br",{}),c.jsx(ji,{status:p.isActive?"success":"error",text:p.isActive?"Active":"Inactive"})]})]}),p.description&&c.jsxs(c.Fragment,{children:[c.jsx(Er,{}),c.jsx(_i,{strong:!0,children:"Description:"}),c.jsx("br",{}),c.jsx(_i,{children:p.description})]})]}),c.jsx(xe,{size:"small",title:"Statistics",children:c.jsxs(Dt,{gutter:16,children:[c.jsxs(Se,{span:8,children:[c.jsx(_i,{strong:!0,children:"Users Assigned:"}),c.jsx("br",{}),c.jsx(_i,{style:{fontSize:"24px"},children:p.userCount})]}),c.jsxs(Se,{span:8,children:[c.jsx(_i,{strong:!0,children:"Permissions:"}),c.jsx("br",{}),c.jsx(_i,{style:{fontSize:"24px"},children:p.permissions.length})]}),p.siteSpecificCount!==void 0&&c.jsxs(Se,{span:8,children:[c.jsx(_i,{strong:!0,children:"Site Assignments:"}),c.jsx("br",{}),c.jsx(_i,{style:{fontSize:"24px"},children:p.siteSpecificCount})]})]})}),c.jsx(xe,{size:"small",title:"Assigned Permissions",children:c.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[p.permissions.map(N=>c.jsx(xe,{size:"small",style:{marginBottom:8},children:c.jsxs(Dt,{justify:"space-between",align:"middle",children:[c.jsx(Se,{children:c.jsxs(pe,{children:[c.jsx(_i,{strong:!0,children:N.permissionName}),c.jsx(Be,{color:N.isWildcard?"orange":"blue",children:N.permissionCode}),N.category&&c.jsx(Be,{children:N.category})]})}),N.description&&c.jsx(Se,{children:c.jsx(_i,{type:"secondary",style:{fontSize:"12px"},children:N.description})})]})},N.id)),p.permissions.length===0&&c.jsx(_i,{type:"secondary",children:"No permissions assigned to this role."})]})})})]})})]})})},{Title:qtt,Text:eh}=yr,{Option:ih}=we,{Panel:ztt}=nm,Utt=({permission:t,visible:e,onCancel:r,onSubmit:n,loading:i})=>{const[s]=me.useForm(),{data:o}=hl({queryKey:["permission-categories"],queryFn:()=>Ln.getPermissionCategories(),enabled:e});D.useEffect(()=>{e&&t?s.setFieldsValue({permissionCode:t.permissionCode,permissionName:t.permissionName,description:t.description||"",category:t.category||"",isWildcard:t.isWildcard}):e&&s.resetFields()},[e,t,s]);const a=async()=>{try{const l=await s.validateFields();n(l)}catch(l){console.error("Form validation failed:",l)}};return c.jsx(en,{title:t?"Edit Permission":"Create New Permission",open:e,onCancel:r,onOk:a,confirmLoading:i,width:600,destroyOnClose:!0,children:c.jsxs(me,{form:s,layout:"vertical",initialValues:{isWildcard:!1},children:[c.jsx(me.Item,{label:"Permission Code",name:"permissionCode",rules:[{required:!0,message:"Permission code is required"},{pattern:/^[a-zA-Z0-9_.*-]+$/,message:"Permission code can only contain letters, numbers, underscores, dots, asterisks, and hyphens"}],tooltip:"Use dots to separate categories (e.g., workorders.read). Use * for wildcards (e.g., workorders.*)",children:c.jsx(at,{placeholder:"e.g., workorders.read or workorders.*",disabled:!!t})}),c.jsx(me.Item,{label:"Permission Name",name:"permissionName",rules:[{required:!0,message:"Permission name is required"}],children:c.jsx(at,{placeholder:"e.g., Read Work Orders"})}),c.jsx(me.Item,{label:"Description",name:"description",children:c.jsx(at.TextArea,{rows:3,placeholder:"Brief description of what this permission allows"})}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{label:"Category",name:"category",children:c.jsx(we,{placeholder:"Select or enter category",allowClear:!0,showSearch:!0,mode:"combobox",children:o==null?void 0:o.map(l=>c.jsx(ih,{value:l,children:l},l))})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{label:"Wildcard Permission",name:"isWildcard",valuePropName:"checked",tooltip:"Wildcard permissions grant access to multiple specific permissions (e.g., workorders.* grants workorders.read, workorders.write, etc.)",children:c.jsx(zn,{checkedChildren:"Wildcard",unCheckedChildren:"Specific"})})})]})]})})},Wtt=()=>{const[t,e]=D.useState({}),[r,n]=D.useState({page:1,limit:20}),[i,s]=D.useState(),[o,a]=D.useState(!1),[l,u]=D.useState("table"),g=h1(),{data:d,isLoading:f,error:h,refetch:A}=hl({queryKey:["permissions",t,r],queryFn:()=>Ln.getPermissions({...t,...r}),keepPreviousData:!0}),{data:C}=hl({queryKey:["permission-categories"],queryFn:()=>Ln.getPermissionCategories()}),I=Oh({mutationFn:w=>Ln.createPermission(w),onSuccess:()=>{Ee.success("Permission created successfully"),g.invalidateQueries({queryKey:["permissions"]}),g.invalidateQueries({queryKey:["permission-categories"]}),a(!1)},onError:w=>{Ee.error(`Failed to create permission: ${w.message}`)}}),p=Oh({mutationFn:w=>Ln.updatePermission(w.permissionId,w.permissionData),onSuccess:()=>{Ee.success("Permission updated successfully"),g.invalidateQueries({queryKey:["permissions"]}),a(!1),s(void 0)},onError:w=>{Ee.error(`Failed to update permission: ${w.message}`)}}),m=Oh({mutationFn:w=>Ln.deletePermission(w),onSuccess:()=>{Ee.success("Permission deleted successfully"),g.invalidateQueries({queryKey:["permissions"]})},onError:w=>{Ee.error(`Failed to delete permission: ${w.message}`)}}),v=()=>{s(void 0),a(!0)},y=w=>{s(w),a(!0)},x=w=>{m.mutate(w)},T=w=>{i?p.mutate({permissionId:i.id,permissionData:w}):I.mutate(w)},E=(w,R)=>{e(N=>({...N,[w]:R})),n(N=>({...N,page:1}))},_=w=>{n({page:w.current,limit:w.pageSize})},S=Ue.useMemo(()=>{const w=(d==null?void 0:d.permissions)||[],R={};return w.forEach(N=>{const P=N.category||"Uncategorized";R[P]||(R[P]=[]),R[P].push(N)}),R},[d]),j=[{title:"Permission Code",dataIndex:"permissionCode",key:"permissionCode",sorter:!0,render:(w,R)=>c.jsxs(pe,{children:[c.jsx(eh,{code:!0,style:{fontWeight:"bold"},children:w}),R.isWildcard&&c.jsx(Be,{color:"orange",children:"Wildcard"}),!R.isActive&&c.jsx(Be,{color:"red",children:"Inactive"})]})},{title:"Permission Name",dataIndex:"permissionName",key:"permissionName",sorter:!0},{title:"Category",dataIndex:"category",key:"category",render:w=>w?c.jsx(Be,{color:"blue",children:w}):c.jsx(eh,{type:"secondary",children:"Uncategorized"})},{title:"Description",dataIndex:"description",key:"description",ellipsis:!0,render:w=>w||c.jsx(eh,{type:"secondary",children:"No description"})},{title:"Type",dataIndex:"isWildcard",key:"isWildcard",render:w=>c.jsx(Be,{color:w?"orange":"green",icon:w?c.jsx(Yw,{}):c.jsx(Ou,{}),children:w?"Wildcard":"Specific"})},{title:"Status",dataIndex:"isActive",key:"isActive",render:w=>c.jsx(ji,{status:w?"success":"error",text:w?"Active":"Inactive"})},{title:"Actions",key:"actions",width:120,render:(w,R)=>c.jsxs(pe,{children:[c.jsx(lt,{title:"Edit Permission",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>y(R)})}),c.jsx(sa,{title:"Delete Permission",description:"Are you sure you want to delete this permission? This action cannot be undone.",onConfirm:()=>x(R.id),okText:"Yes",cancelText:"No",children:c.jsx(lt,{title:"Delete Permission",children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),loading:m.isLoading})})})]})}];return h?c.jsx(xe,{children:c.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[c.jsxs(eh,{type:"danger",children:["Failed to load permissions: ",h.message]}),c.jsx("br",{}),c.jsx(le,{onClick:()=>A(),style:{marginTop:"16px"},children:"Try Again"})]})}):c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs(qtt,{level:2,children:[c.jsx(Ou,{style:{marginRight:8}}),"Permission Catalog"]}),c.jsx(eh,{type:"secondary",children:"Manage system permissions. Permissions define specific actions that can be performed in the system."})]}),c.jsx(xe,{children:c.jsxs(Dt,{gutter:16,align:"middle",children:[c.jsx(Se,{flex:"auto",children:c.jsxs(pe,{wrap:!0,children:[c.jsx(at,{placeholder:"Search permissions...",prefix:c.jsx(Gn,{}),value:t.search,onChange:w=>E("search",w.target.value),style:{width:250},allowClear:!0}),c.jsx(we,{placeholder:"Filter by category",value:t.category,onChange:w=>E("category",w),style:{width:150},allowClear:!0,children:C==null?void 0:C.map(w=>c.jsx(ih,{value:w,children:w},w))}),c.jsxs(we,{placeholder:"Filter by type",value:t.isWildcard,onChange:w=>E("isWildcard",w),style:{width:150},allowClear:!0,children:[c.jsx(ih,{value:!0,children:"Wildcard"}),c.jsx(ih,{value:!1,children:"Specific"})]}),c.jsxs(we,{placeholder:"Filter by status",value:t.isActive,onChange:w=>E("isActive",w),style:{width:150},allowClear:!0,children:[c.jsx(ih,{value:!0,children:"Active"}),c.jsx(ih,{value:!1,children:"Inactive"})]})]})}),c.jsx(Se,{children:c.jsxs(pe,{children:[c.jsxs(we,{value:l,onChange:u,style:{width:120},children:[c.jsx(ih,{value:"table",children:"Table View"}),c.jsx(ih,{value:"category",children:"Category View"})]}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>A(),loading:f,children:"Refresh"}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:v,children:"Create Permission"})]})})]})}),l==="table"?c.jsx(xe,{children:c.jsx(Jr,{columns:j,dataSource:(d==null?void 0:d.permissions)||[],rowKey:"id",loading:f,pagination:{current:r.page,pageSize:r.limit,total:(d==null?void 0:d.total)||0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(w,R)=>`${R[0]}-${R[1]} of ${w} permissions`},onChange:_})}):c.jsx(xe,{children:Object.keys(S).length===0?c.jsx(Fc,{description:"No permissions found"}):c.jsx(nm,{defaultActiveKey:Object.keys(S),ghost:!0,children:Object.entries(S).map(([w,R])=>c.jsx(ztt,{header:c.jsxs(pe,{children:[c.jsx(zke,{}),c.jsx(eh,{strong:!0,children:w}),c.jsx(ji,{count:R.length,showZero:!0,color:"blue"})]}),children:c.jsx(ho,{dataSource:R,renderItem:N=>c.jsx(ho.Item,{actions:[c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>y(N)},"edit"),c.jsx(sa,{title:"Delete Permission",description:"Are you sure you want to delete this permission?",onConfirm:()=>x(N.id),okText:"Yes",cancelText:"No",children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),loading:m.isLoading})},"delete")],children:c.jsx(ho.Item.Meta,{avatar:c.jsx("div",{style:{marginTop:4},children:N.isWildcard?c.jsx(Yw,{style:{color:"#fa8c16"}}):c.jsx(Ou,{style:{color:"#52c41a"}})}),title:c.jsxs(pe,{children:[c.jsx(eh,{strong:!0,children:N.permissionName}),c.jsx(eh,{code:!0,children:N.permissionCode}),N.isWildcard&&c.jsx(Be,{color:"orange",children:"Wildcard"}),!N.isActive&&c.jsx(Be,{color:"red",children:"Inactive"})]}),description:N.description||"No description"})})})},w))})}),c.jsx(Utt,{permission:i,visible:o,onCancel:()=>{a(!1),s(void 0)},onSubmit:T,loading:I.isLoading||p.isLoading})]})})},{Title:Gtt,Text:cn}=yr,{Option:$g}=we,Vtt=({visible:t,onCancel:e,onSubmit:r,loading:n})=>{const[i]=me.useForm(),[s,o]=D.useState(null),[a,l]=D.useState([]),[u,g]=D.useState(!1),[d,f]=D.useState("global"),{data:h}=hl({queryKey:["roles","all"],queryFn:()=>Ln.getRoles({limit:1e3}),enabled:t}),{data:A}=hl({queryKey:["sites"],queryFn:()=>Ln.getSites(),enabled:t&&d==="site"}),C=(h==null?void 0:h.roles)||[],I=D.useCallback(iDe.debounce(async x=>{if(!x||x.length<2){l([]);return}g(!0);try{const T=await Ln.searchUsers(x);l(T)}catch{Ee.error("Failed to search users"),l([])}finally{g(!1)}},300),[]),p=x=>{I(x)},m=x=>{const T=a.find(E=>E.id===x);o(T||null),i.setFieldValue("userId",x)},v=async()=>{try{const x=await i.validateFields();r({...x,assignmentType:d})}catch(x){console.error("Form validation failed:",x)}},y=()=>{i.resetFields(),o(null),l([]),f("global"),e()};return c.jsx(en,{title:"Assign Roles to User",open:t,onCancel:y,onOk:v,confirmLoading:n,width:600,destroyOnClose:!0,children:c.jsxs(me,{form:i,layout:"vertical",children:[c.jsx(Pt,{message:"Role Assignment",description:"Assign roles to users either globally (across all sites) or for specific sites.",type:"info",showIcon:!0,style:{marginBottom:16}}),c.jsx(me.Item,{label:"Assignment Type",tooltip:"Global roles apply across all sites, while site roles apply only to specific sites",children:c.jsxs(we,{value:d,onChange:f,style:{width:"100%"},children:[c.jsx($g,{value:"global",children:c.jsxs(pe,{children:[c.jsx(LA,{}),"Global Assignment"]})}),c.jsx($g,{value:"site",children:c.jsxs(pe,{children:[c.jsx(Kh,{}),"Site-Specific Assignment"]})})]})}),c.jsx(me.Item,{label:"Select User",name:"userId",rules:[{required:!0,message:"Please select a user"}],children:c.jsx(we,{showSearch:!0,placeholder:"Search and select user...",onSearch:p,onSelect:m,loading:u,filterOption:!1,notFoundContent:u?"Searching...":"No users found",children:a.map(x=>c.jsx($g,{value:x.id,children:c.jsxs(pe,{children:[c.jsx(ia,{size:"small",icon:c.jsx(Fi,{})}),c.jsx("span",{children:x.firstName&&x.lastName?`${x.firstName} ${x.lastName}`:x.username}),c.jsxs(cn,{type:"secondary",children:["(",x.email,")"]})]})},x.id))})}),s&&c.jsx(xe,{size:"small",style:{marginBottom:16,backgroundColor:"#f6ffed"},children:c.jsxs(pe,{children:[c.jsx(ia,{icon:c.jsx(Fi,{})}),c.jsxs("div",{children:[c.jsx(cn,{strong:!0,children:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.username}),c.jsx("br",{}),c.jsx(cn,{type:"secondary",children:s.email})]})]})}),d==="site"&&c.jsx(me.Item,{label:"Select Site",name:"siteId",rules:[{required:!0,message:"Please select a site"}],children:c.jsx(we,{placeholder:"Select site...",showSearch:!0,children:A==null?void 0:A.map(x=>c.jsx($g,{value:x.id,children:c.jsxs(pe,{children:[c.jsx(cn,{strong:!0,children:x.siteName}),c.jsxs(cn,{type:"secondary",children:["(",x.siteCode,")"]})]})},x.id))})}),c.jsx(me.Item,{label:"Select Roles",name:"roleIds",rules:[{required:!0,message:"Please select at least one role"}],children:c.jsx(we,{mode:"multiple",placeholder:"Select roles to assign...",showSearch:!0,filterOption:(x,T)=>{var E;return(E=T==null?void 0:T.children)==null?void 0:E.toLowerCase().includes(x.toLowerCase())},children:C.filter(x=>d==="global"?x.isGlobal:!x.isGlobal).map(x=>c.jsx($g,{value:x.id,children:c.jsxs(pe,{children:[c.jsx(cn,{strong:!0,children:x.roleName}),c.jsx(Be,{size:"small",color:x.isGlobal?"blue":"green",children:x.roleCode})]})},x.id))})})]})})},Htt=({userId:t,visible:e,onCancel:r})=>{const{data:n,isLoading:i}=hl({queryKey:["user-role-overview",t],queryFn:()=>Ln.getUserRoleOverview(t),enabled:!!t&&e});return c.jsx(en,{title:`User Role Overview: ${(n==null?void 0:n.username)||"Loading..."}`,open:e,onCancel:r,footer:null,width:800,children:i?c.jsx("div",{style:{textAlign:"center",padding:"50px"},children:"Loading..."}):n?c.jsxs(pe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[c.jsxs(xe,{size:"small",title:"User Information",children:[c.jsxs(Dt,{gutter:16,children:[c.jsxs(Se,{span:12,children:[c.jsx(cn,{strong:!0,children:"Username:"}),c.jsx("br",{}),c.jsx(cn,{children:n.username})]}),c.jsxs(Se,{span:12,children:[c.jsx(cn,{strong:!0,children:"Email:"}),c.jsx("br",{}),c.jsx(cn,{children:n.email})]})]}),(n.firstName||n.lastName)&&c.jsxs(c.Fragment,{children:[c.jsx(Er,{}),c.jsxs(Dt,{gutter:16,children:[c.jsxs(Se,{span:12,children:[c.jsx(cn,{strong:!0,children:"First Name:"}),c.jsx("br",{}),c.jsx(cn,{children:n.firstName||"N/A"})]}),c.jsxs(Se,{span:12,children:[c.jsx(cn,{strong:!0,children:"Last Name:"}),c.jsx("br",{}),c.jsx(cn,{children:n.lastName||"N/A"})]})]})]})]}),c.jsx(xe,{size:"small",title:"Global Roles",children:n.globalRoles.length>0?c.jsx(pe,{wrap:!0,children:n.globalRoles.map(s=>c.jsx(Be,{color:"blue",icon:c.jsx(LA,{}),children:s.roleName},s.id))}):c.jsx(cn,{type:"secondary",children:"No global roles assigned"})}),c.jsx(xe,{size:"small",title:"Site-Specific Roles",children:n.siteRoles.length>0?c.jsx(pe,{direction:"vertical",style:{width:"100%"},children:n.siteRoles.map(s=>c.jsx(xe,{size:"small",children:c.jsxs(Dt,{justify:"space-between",align:"middle",children:[c.jsx(Se,{children:c.jsxs(pe,{children:[c.jsx(Kh,{}),c.jsx(cn,{strong:!0,children:s.siteName}),c.jsxs(cn,{type:"secondary",children:["(",s.siteCode,")"]})]})}),c.jsx(Se,{children:c.jsx(pe,{wrap:!0,children:s.roles.map(o=>c.jsx(Be,{color:"green",children:o.roleName},o.id))})})]})},s.siteId))}):c.jsx(cn,{type:"secondary",children:"No site-specific roles assigned"})}),c.jsxs(xe,{size:"small",title:"Effective Permissions",children:[c.jsxs(Dt,{gutter:16,children:[c.jsxs(Se,{span:12,children:[c.jsx(cn,{strong:!0,children:"Total Permissions:"}),c.jsx("br",{}),c.jsx(cn,{style:{fontSize:"18px"},children:n.allPermissions.length})]}),c.jsxs(Se,{span:12,children:[c.jsx(cn,{strong:!0,children:"Wildcard Permissions:"}),c.jsx("br",{}),c.jsx(cn,{style:{fontSize:"18px"},children:n.wildcardPermissions.length})]})]}),n.isSystemAdmin&&c.jsxs(c.Fragment,{children:[c.jsx(Er,{}),c.jsx(Pt,{message:"System Administrator",description:"This user has system administrator privileges with full access.",type:"warning",showIcon:!0})]})]})]}):c.jsx(Fc,{description:"Failed to load user information"})})},Ktt=()=>{const[t,e]=D.useState({}),[r,n]=D.useState({page:1,limit:10}),[i,s]=D.useState(!1),[o,a]=D.useState(!1),[l,u]=D.useState(null),[g,d]=D.useState("global"),f=h1(),{data:h,isLoading:A,error:C,refetch:I}=hl({queryKey:["user-roles",g,t,r],queryFn:()=>g==="global"?Ln.getUserRoles({...t,...r}):Ln.getUserSiteRoles({...t,...r}),keepPreviousData:!0}),{data:p}=hl({queryKey:["roles","all"],queryFn:()=>Ln.getRoles({limit:1e3})}),{data:m}=hl({queryKey:["sites"],queryFn:()=>Ln.getSites()}),v=(p==null?void 0:p.roles)||[],y=Oh({mutationFn:async N=>{const{userId:P,roleIds:M,assignmentType:B,siteId:W}=N;for(const H of M){const V={userId:P,roleId:H,...B==="site"&&{siteId:W}};B==="global"?await Ln.assignGlobalUserRole(V):await Ln.assignSiteUserRole(V)}},onSuccess:()=>{Ee.success("Roles assigned successfully"),f.invalidateQueries({queryKey:["user-roles"]}),s(!1)},onError:N=>{Ee.error(`Failed to assign roles: ${N.message}`)}}),x=Oh({mutationFn:N=>{const{userId:P,roleId:M,siteId:B}=N,W={userId:P,roleId:M,...B&&{siteId:B}};return B?Ln.revokeSiteUserRole(W):Ln.revokeGlobalUserRole(W)},onSuccess:()=>{Ee.success("Role revoked successfully"),f.invalidateQueries({queryKey:["user-roles"]})},onError:N=>{Ee.error(`Failed to revoke role: ${N.message}`)}}),T=N=>{y.mutate(N)},E=(N,P,M)=>{x.mutate({userId:N,roleId:P,siteId:M})},_=N=>{u(N),a(!0)},S=(N,P)=>{e(M=>({...M,[N]:P})),n(M=>({...M,page:1}))},j=N=>{n({page:N.current,limit:N.pageSize})},w=[{title:"User",key:"user",render:(N,P)=>{var M,B,W,H;return c.jsxs(pe,{children:[c.jsx(ia,{icon:c.jsx(Fi,{})}),c.jsxs("div",{children:[c.jsx(cn,{strong:!0,children:(M=P.user)!=null&&M.firstName&&((B=P.user)!=null&&B.lastName)?`${P.user.firstName} ${P.user.lastName}`:(W=P.user)==null?void 0:W.username}),c.jsx("br",{}),c.jsx(cn,{type:"secondary",children:(H=P.user)==null?void 0:H.email})]})]})}},{title:"Role",dataIndex:["role","roleName"],key:"roleName",render:(N,P)=>{var M;return c.jsxs(pe,{children:[c.jsx(Be,{color:"blue",icon:c.jsx(LA,{}),children:N}),c.jsxs(cn,{type:"secondary",children:["(",(M=P.role)==null?void 0:M.roleCode,")"]})]})}},{title:"Assigned By",dataIndex:"assignedBy",key:"assignedBy"},{title:"Assigned Date",dataIndex:"assignedAt",key:"assignedAt",render:N=>new Date(N).toLocaleDateString()},{title:"Actions",key:"actions",width:120,render:(N,P)=>c.jsxs(pe,{children:[c.jsx(lt,{title:"View User Details",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Os,{}),onClick:()=>_(P.userId)})}),c.jsx(sa,{title:"Revoke Role",description:"Are you sure you want to revoke this role from the user?",onConfirm:()=>E(P.userId,P.roleId),okText:"Yes",cancelText:"No",children:c.jsx(lt,{title:"Revoke Role",children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),loading:x.isLoading})})})]})}],R=[{title:"User",key:"user",render:(N,P)=>{var M,B,W,H;return c.jsxs(pe,{children:[c.jsx(ia,{icon:c.jsx(Fi,{})}),c.jsxs("div",{children:[c.jsx(cn,{strong:!0,children:(M=P.user)!=null&&M.firstName&&((B=P.user)!=null&&B.lastName)?`${P.user.firstName} ${P.user.lastName}`:(W=P.user)==null?void 0:W.username}),c.jsx("br",{}),c.jsx(cn,{type:"secondary",children:(H=P.user)==null?void 0:H.email})]})]})}},{title:"Site",key:"site",render:(N,P)=>{var M,B;return c.jsxs(pe,{children:[c.jsx(Kh,{}),c.jsxs("div",{children:[c.jsx(cn,{strong:!0,children:(M=P.site)==null?void 0:M.siteName}),c.jsx("br",{}),c.jsxs(cn,{type:"secondary",children:["(",(B=P.site)==null?void 0:B.siteCode,")"]})]})]})}},{title:"Role",dataIndex:["role","roleName"],key:"roleName",render:(N,P)=>{var M;return c.jsxs(pe,{children:[c.jsx(Be,{color:"green",children:N}),c.jsxs(cn,{type:"secondary",children:["(",(M=P.role)==null?void 0:M.roleCode,")"]})]})}},{title:"Assigned By",dataIndex:"assignedBy",key:"assignedBy"},{title:"Assigned Date",dataIndex:"assignedAt",key:"assignedAt",render:N=>new Date(N).toLocaleDateString()},{title:"Actions",key:"actions",width:120,render:(N,P)=>c.jsxs(pe,{children:[c.jsx(lt,{title:"View User Details",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Os,{}),onClick:()=>_(P.userId)})}),c.jsx(sa,{title:"Revoke Role",description:"Are you sure you want to revoke this site role from the user?",onConfirm:()=>E(P.userId,P.roleId,P.siteId),okText:"Yes",cancelText:"No",children:c.jsx(lt,{title:"Revoke Role",children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),loading:x.isLoading})})})]})}];return C?c.jsx(xe,{children:c.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[c.jsxs(cn,{type:"danger",children:["Failed to load user roles: ",C.message]}),c.jsx("br",{}),c.jsx(le,{onClick:()=>I(),style:{marginTop:"16px"},children:"Try Again"})]})}):c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs(Gtt,{level:2,children:[c.jsx(Lc,{style:{marginRight:8}}),"User Role Assignments"]}),c.jsx(cn,{type:"secondary",children:"Manage role assignments for users. Assign global roles or site-specific roles to control access."})]}),c.jsx(xe,{children:c.jsxs(Dt,{gutter:16,align:"middle",children:[c.jsx(Se,{flex:"auto",children:c.jsxs(pe,{wrap:!0,children:[c.jsxs(we,{value:g,onChange:d,style:{width:150},children:[c.jsx($g,{value:"global",children:c.jsxs(pe,{children:[c.jsx(LA,{}),"Global Roles"]})}),c.jsx($g,{value:"site",children:c.jsxs(pe,{children:[c.jsx(Kh,{}),"Site Roles"]})})]}),c.jsx(at,{placeholder:"Search users...",prefix:c.jsx(Gn,{}),value:t.search,onChange:N=>S("search",N.target.value),style:{width:250},allowClear:!0}),c.jsx(we,{placeholder:"Filter by role",value:t.roleId,onChange:N=>S("roleId",N),style:{width:200},allowClear:!0,showSearch:!0,children:v.map(N=>c.jsx($g,{value:N.id,children:N.roleName},N.id))}),g==="site"&&c.jsx(we,{placeholder:"Filter by site",value:t.siteId,onChange:N=>S("siteId",N),style:{width:200},allowClear:!0,showSearch:!0,children:m==null?void 0:m.map(N=>c.jsx($g,{value:N.id,children:N.siteName},N.id))})]})}),c.jsx(Se,{children:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>I(),loading:A,children:"Refresh"}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>s(!0),children:"Assign Roles"})]})})]})}),c.jsx(xe,{children:c.jsx(Jr,{columns:g==="global"?w:R,dataSource:g==="global"?(h==null?void 0:h.userRoles)||[]:(h==null?void 0:h.userSiteRoles)||[],rowKey:"id",loading:A,pagination:{current:r.page,pageSize:r.limit,total:(h==null?void 0:h.total)||0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(N,P)=>`${P[0]}-${P[1]} of ${N} assignments`},onChange:j})}),c.jsx(Vtt,{visible:i,onCancel:()=>s(!1),onSubmit:T,loading:y.isLoading}),c.jsx(Htt,{userId:l,visible:o,onCancel:()=>{a(!1),u(null)}})]})})},{Title:Ytt,Text:xg,Paragraph:wRt}=yr,Ztt=()=>{const[t,e]=D.useState("overview"),r=[{key:"overview",icon:c.jsx(hU,{}),label:"Overview"},{key:"rbac",icon:c.jsx(cs,{}),label:"Role & Permission Management",children:[{key:"rbac-dashboard",icon:c.jsx(Dv,{}),label:"RBAC Dashboard"},{key:"roles",icon:c.jsx(cs,{}),label:"Role Management"},{key:"permissions",icon:c.jsx(Ou,{}),label:"Permission Catalog"},{key:"user-assignments",icon:c.jsx(Lc,{}),label:"User Assignments"}]}],n=()=>{switch(t){case"rbac-dashboard":return c.jsx(Ltt,{});case"roles":return c.jsx($tt,{});case"permissions":return c.jsx(Wtt,{});case"user-assignments":return c.jsx(Ktt,{});case"overview":default:return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs(Ytt,{level:2,children:[c.jsx(ld,{style:{marginRight:8}}),"Administration"]}),c.jsx(xg,{type:"secondary",children:"System configuration, user management, and security settings"})]}),c.jsx(xe,{title:"Role-Based Access Control (RBAC)",children:c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{hoverable:!0,size:"small",onClick:()=>e("rbac-dashboard"),style:{textAlign:"center",marginBottom:16},children:[c.jsx(Dv,{style:{fontSize:32,color:"#1890ff",marginBottom:8}}),c.jsxs("div",{children:[c.jsx(xg,{strong:!0,children:"RBAC Dashboard"}),c.jsx("br",{}),c.jsx(xg,{type:"secondary",style:{fontSize:"12px"},children:"System overview and analytics"})]})]})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{hoverable:!0,size:"small",onClick:()=>e("roles"),style:{textAlign:"center",marginBottom:16},children:[c.jsx(cs,{style:{fontSize:32,color:"#52c41a",marginBottom:8}}),c.jsxs("div",{children:[c.jsx(xg,{strong:!0,children:"Role Management"}),c.jsx("br",{}),c.jsx(xg,{type:"secondary",style:{fontSize:"12px"},children:"Create and manage roles"})]})]})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{hoverable:!0,size:"small",onClick:()=>e("permissions"),style:{textAlign:"center",marginBottom:16},children:[c.jsx(Ou,{style:{fontSize:32,color:"#722ed1",marginBottom:8}}),c.jsxs("div",{children:[c.jsx(xg,{strong:!0,children:"Permission Catalog"}),c.jsx("br",{}),c.jsx(xg,{type:"secondary",style:{fontSize:"12px"},children:"Manage system permissions"})]})]})}),c.jsx(Se,{xs:24,sm:12,lg:6,children:c.jsxs(xe,{hoverable:!0,size:"small",onClick:()=>e("user-assignments"),style:{textAlign:"center",marginBottom:16},children:[c.jsx(Lc,{style:{fontSize:32,color:"#fa8c16",marginBottom:8}}),c.jsxs("div",{children:[c.jsx(xg,{strong:!0,children:"User Assignments"}),c.jsx("br",{}),c.jsx(xg,{type:"secondary",style:{fontSize:"12px"},children:"Assign roles to users"})]})]})})]})}),c.jsx(xe,{title:"Additional Features (Coming Soon)",children:c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(xe,{hoverable:!0,style:{height:"100%",opacity:.7},cover:c.jsx("div",{style:{padding:40,textAlign:"center",background:"#f0f2f5"},children:c.jsx(Fi,{style:{fontSize:48,color:"#1890ff"}})}),children:c.jsx(xe.Meta,{title:"User Management",description:"Create, modify, and delete user accounts. Manage user profiles and contact information."})})}),c.jsx(Se,{span:12,children:c.jsx(xe,{hoverable:!0,style:{height:"100%",opacity:.7},cover:c.jsx("div",{style:{padding:40,textAlign:"center",background:"#f0f2f5"},children:c.jsx(Gq,{style:{fontSize:48,color:"#52c41a"}})}),children:c.jsx(xe.Meta,{title:"System Configuration",description:"Configure system-wide settings, integrations, and advanced options."})})})]})}),c.jsx(xe,{title:"Quick Access",children:c.jsxs(pe,{wrap:!0,style:{width:"100%"},children:[c.jsx(le,{type:"primary",icon:c.jsx(Dv,{}),onClick:()=>e("rbac-dashboard"),children:"RBAC Dashboard"}),c.jsx(le,{icon:c.jsx(cs,{}),onClick:()=>e("roles"),children:"Manage Roles"}),c.jsx(le,{icon:c.jsx(Ou,{}),onClick:()=>e("permissions"),children:"Manage Permissions"}),c.jsx(le,{icon:c.jsx(Lc,{}),onClick:()=>e("user-assignments"),children:"Assign Roles"})]})})]})})}};return t!=="overview"?c.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[c.jsxs("div",{style:{width:280,background:"#f0f2f5",padding:"16px"},children:[c.jsx("div",{style:{marginBottom:16},children:c.jsx(le,{type:"link",onClick:()=>e("overview"),style:{padding:0,fontWeight:"bold"},children:" Back to Admin Overview"})}),c.jsx(V1e,{mode:"inline",selectedKeys:[t],onClick:({key:i})=>e(i),items:r,style:{border:"none",background:"transparent"}})]}),c.jsx("div",{style:{flex:1,background:"#fff"},children:n()})]}):n()},{Title:Xtt,Text:ws}=yr,{Option:hu}=we,Qtt=()=>c.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[c.jsxs("div",{style:{marginBottom:24},children:[c.jsxs(Xtt,{level:2,children:[c.jsx(ld,{style:{marginRight:8}}),"Settings"]}),c.jsx(ws,{type:"secondary",children:"Manage your account settings and application preferences"})]}),c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsx(xe,{title:c.jsxs("span",{children:[c.jsx(Fi,{style:{marginRight:8}}),"User Preferences"]}),children:c.jsxs(pe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Theme"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Choose your preferred interface theme"})]}),c.jsxs(we,{defaultValue:"light",style:{width:120},children:[c.jsx(hu,{value:"light",children:"Light"}),c.jsx(hu,{value:"dark",children:"Dark"}),c.jsx(hu,{value:"auto",children:"Auto"})]})]}),c.jsx(Er,{}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Language"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Select your preferred language"})]}),c.jsxs(we,{defaultValue:"en",style:{width:120},children:[c.jsx(hu,{value:"en",children:"English"}),c.jsx(hu,{value:"es",children:"Espaol"}),c.jsx(hu,{value:"fr",children:"Franais"})]})]}),c.jsx(Er,{}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Compact Layout"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Use compact spacing for better screen utilization"})]}),c.jsx(zn,{})]})]})}),c.jsx(xe,{title:c.jsxs("span",{children:[c.jsx(H1e,{style:{marginRight:8}}),"Notifications"]}),children:c.jsxs(pe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Work Order Notifications"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Receive notifications for work order updates"})]}),c.jsx(zn,{defaultChecked:!0})]}),c.jsx(Er,{}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Quality Alerts"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Get alerted about quality issues and NCRs"})]}),c.jsx(zn,{defaultChecked:!0})]}),c.jsx(Er,{}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Email Notifications"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Receive email notifications for important events"})]}),c.jsx(zn,{})]})]})}),c.jsx(xe,{title:c.jsxs("span",{children:[c.jsx(Yg,{style:{marginRight:8}}),"Security"]}),children:c.jsxs(pe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Two-Factor Authentication"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Add an extra layer of security to your account"})]}),c.jsx(le,{type:"primary",children:"Configure"})]}),c.jsx(Er,{}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Session Timeout"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Automatically log out after period of inactivity"})]}),c.jsxs(we,{defaultValue:"30",style:{width:120},children:[c.jsx(hu,{value:"15",children:"15 minutes"}),c.jsx(hu,{value:"30",children:"30 minutes"}),c.jsx(hu,{value:"60",children:"1 hour"}),c.jsx(hu,{value:"120",children:"2 hours"})]})]}),c.jsx(Er,{}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(ws,{strong:!0,children:"Change Password"}),c.jsx("br",{}),c.jsx(ws,{type:"secondary",children:"Update your account password"})]}),c.jsx(le,{children:"Change Password"})]})]})}),c.jsx(xe,{children:c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:16},children:[c.jsx(le,{children:"Reset to Defaults"}),c.jsx(le,{type:"primary",children:"Save Changes"})]})})]})]}),q_e="http://localhost:3000",z_e="/api/operations",Jtt=async t=>(await Vt.post(`${q_e}${z_e}`,t)).data,U_e=async t=>(await Vt.get(`${q_e}${z_e}`,{params:t})).data,ert=vd(t=>({operations:[],selectedOperation:null,filters:{},loading:!1,error:null,setOperations:e=>t({operations:e}),setSelectedOperation:e=>t({selectedOperation:e}),setFilters:e=>t({filters:e}),setLoading:e=>t({loading:e}),setError:e=>t({error:e}),clearFilters:()=>t({filters:{}})})),{Title:trt,Text:L5}=yr,{Option:fu}=we,rrt=()=>{const t=Kr(),{operations:e,setOperations:r,setLoading:n,loading:i}=ert(),[s,o]=D.useState(""),[a,l]=D.useState(),[u,g]=D.useState(),[d,f]=D.useState();D.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const v=await U_e({operationType:a,level:u,isActive:d==="active"?!0:d==="inactive"?!1:void 0,searchTerm:s});r(v)}catch(v){Ee.error("Failed to load operations"),console.error("Error fetching operations:",v)}finally{n(!1)}},A=()=>{h()},C=()=>{o(""),l(void 0),g(void 0),f(void 0)},I=v=>{if(!v)return"-";const y=Math.floor(v/3600),x=Math.floor(v%3600/60),T=v%60;return y>0?`${y}h ${x}m`:x>0?`${x}m ${T}s`:`${T}s`},p=v=>({PRODUCTION:"blue",QUALITY:"green",MATERIAL_HANDLING:"orange",MAINTENANCE:"purple",SETUP:"cyan",CLEANING:"geekblue",PACKAGING:"magenta",TESTING:"lime",REWORK:"red",OTHER:"default"})[v]||"default",m=[{title:"Code",dataIndex:"operationCode",key:"operationCode",width:120,fixed:"left",render:(v,y)=>c.jsx("a",{onClick:()=>t(`/operations/${y.id}`),children:v})},{title:"Name",dataIndex:"operationName",key:"operationName",width:200},{title:"Type",dataIndex:"operationType",key:"operationType",width:140,render:v=>c.jsx(Be,{color:p(v),children:v.replace(/_/g," ")}),filters:[{text:"Production",value:"PRODUCTION"},{text:"Quality",value:"QUALITY"},{text:"Material Handling",value:"MATERIAL_HANDLING"},{text:"Maintenance",value:"MAINTENANCE"},{text:"Setup",value:"SETUP"},{text:"Testing",value:"TESTING"},{text:"Other",value:"OTHER"}],onFilter:(v,y)=>y.operationType===v},{title:"Level",dataIndex:"level",key:"level",width:80,render:v=>c.jsx(lt,{title:"Hierarchy depth",children:c.jsx(Be,{icon:c.jsx(dl,{}),children:v})}),sorter:(v,y)=>v.level-y.level},{title:"Duration",dataIndex:"duration",key:"duration",width:100,render:v=>c.jsx(lt,{title:"Standard operation duration",children:c.jsxs(pe,{size:"small",children:[c.jsx(Zi,{}),c.jsx(L5,{children:I(v)})]})}),sorter:(v,y)=>(v.duration||0)-(y.duration||0)},{title:"Setup Time",dataIndex:"setupTime",key:"setupTime",width:100,render:v=>I(v)},{title:"Version",dataIndex:"version",key:"version",width:80},{title:"Status",dataIndex:"isActive",key:"isActive",width:90,render:v=>c.jsx(Be,{color:v?"success":"default",children:v?"Active":"Inactive"}),filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:(v,y)=>y.isActive===v},{title:"Approval",dataIndex:"requiresApproval",key:"requiresApproval",width:120,render:(v,y)=>v?y.approvedAt?c.jsx(Be,{color:"success",children:"Approved"}):c.jsx(Be,{color:"warning",children:"Pending"}):c.jsx(Be,{children:"No Approval Needed"})},{title:"Description",dataIndex:"description",key:"description",ellipsis:!0,render:v=>c.jsx(lt,{title:v,children:c.jsx(L5,{type:"secondary",children:v||"-"})})}];return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsxs(trt,{level:2,style:{margin:0},children:[c.jsx(dl,{style:{marginRight:8}}),"Operations"]}),c.jsx(L5,{type:"secondary",children:"Manufacturing operations and process definitions (ISA-95 compliant)"})]}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>t("/operations/create"),children:"Create Operation"})]}),c.jsx(xe,{children:c.jsxs(pe,{size:"middle",wrap:!0,children:[c.jsx(at,{placeholder:"Search by code or name",prefix:c.jsx(Gn,{}),value:s,onChange:v=>o(v.target.value),onPressEnter:A,style:{width:250}}),c.jsxs(we,{placeholder:"Filter by type",value:a,onChange:l,allowClear:!0,style:{width:180},children:[c.jsx(fu,{value:"PRODUCTION",children:"Production"}),c.jsx(fu,{value:"QUALITY",children:"Quality"}),c.jsx(fu,{value:"MATERIAL_HANDLING",children:"Material Handling"}),c.jsx(fu,{value:"MAINTENANCE",children:"Maintenance"}),c.jsx(fu,{value:"SETUP",children:"Setup"}),c.jsx(fu,{value:"TESTING",children:"Testing"}),c.jsx(fu,{value:"OTHER",children:"Other"})]}),c.jsx(we,{placeholder:"Filter by level",value:u,onChange:g,allowClear:!0,style:{width:150},children:[1,2,3,4,5].map(v=>c.jsxs(fu,{value:v,children:["Level ",v]},v))}),c.jsxs(we,{placeholder:"Filter by status",value:d,onChange:f,allowClear:!0,style:{width:150},children:[c.jsx(fu,{value:"active",children:"Active"}),c.jsx(fu,{value:"inactive",children:"Inactive"})]}),c.jsx(le,{type:"primary",icon:c.jsx(Gn,{}),onClick:A,children:"Search"}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:C,children:"Reset"})]})}),c.jsx(xe,{children:c.jsx(Jr,{columns:m,dataSource:e,loading:i,rowKey:"id",scroll:{x:1400},pagination:{pageSize:20,showSizeChanger:!0,showTotal:v=>`Total ${v} operations`}})})]})})},{Title:Wf,Text:IQ}=yr,{Option:Do}=we,{TextArea:nrt}=at,irt=()=>{const[t]=me.useForm(),e=Kr(),[r,n]=D.useState(!1),[i,s]=D.useState([]);D.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await U_e({isActive:!0});s(u)}catch(u){console.error("Error fetching parent operations:",u)}},a=async u=>{try{n(!0);const g=await Jtt(u);Ee.success("Operation created successfully"),e(`/operations/${g.id}`)}catch(g){Ee.error("Failed to create operation"),console.error("Error creating operation:",g)}finally{n(!1)}},l=()=>{e("/operations")};return c.jsx("div",{style:{padding:"24px"},children:c.jsxs(pe,{direction:"vertical",size:"large",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsxs(Wf,{level:2,style:{margin:0},children:[c.jsx(dl,{style:{marginRight:8}}),"Create Operation"]}),c.jsx(IQ,{type:"secondary",children:"Define a new manufacturing operation or process step"})]}),c.jsx(xe,{children:c.jsxs(me,{form:t,layout:"vertical",onFinish:a,initialValues:{level:1,isActive:!0,requiresApproval:!1,version:"1.0"},children:[c.jsx(Wf,{level:4,children:"Basic Information"}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{label:"Operation Code",name:"operationCode",rules:[{required:!0,message:"Operation code is required"},{pattern:/^[A-Z0-9-]+$/,message:"Use uppercase letters, numbers, and hyphens only"}],tooltip:"Unique identifier (e.g., OP-010-MILL, QC-001-INSPECT)",children:c.jsx(at,{placeholder:"OP-010-MILL"})})}),c.jsx(Se,{span:16,children:c.jsx(me.Item,{label:"Operation Name",name:"operationName",rules:[{required:!0,message:"Operation name is required"}],children:c.jsx(at,{placeholder:"CNC Milling Operation"})})})]}),c.jsx(me.Item,{label:"Description",name:"description",tooltip:"Detailed description of the operation",children:c.jsx(nrt,{rows:3,placeholder:"Describe the operation, procedures, and requirements..."})}),c.jsx(Er,{}),c.jsx(Wf,{level:4,children:"Classification"}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{label:"Operation Type",name:"operationType",rules:[{required:!0,message:"Operation type is required"}],tooltip:"Primary classification of this operation",children:c.jsxs(we,{placeholder:"Select type",children:[c.jsx(Do,{value:"PRODUCTION",children:"Production"}),c.jsx(Do,{value:"QUALITY",children:"Quality"}),c.jsx(Do,{value:"MATERIAL_HANDLING",children:"Material Handling"}),c.jsx(Do,{value:"MAINTENANCE",children:"Maintenance"}),c.jsx(Do,{value:"SETUP",children:"Setup"}),c.jsx(Do,{value:"CLEANING",children:"Cleaning"}),c.jsx(Do,{value:"PACKAGING",children:"Packaging"}),c.jsx(Do,{value:"TESTING",children:"Testing"}),c.jsx(Do,{value:"REWORK",children:"Rework"}),c.jsx(Do,{value:"OTHER",children:"Other"})]})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{label:"Category",name:"category",tooltip:"Additional categorization (MACHINING, ASSEMBLY, INSPECTION, etc.)",children:c.jsx(at,{placeholder:"MACHINING"})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{label:"Version",name:"version",rules:[{required:!0,message:"Version is required"}],tooltip:"Version number for this process definition",children:c.jsx(at,{placeholder:"1.0"})})})]}),c.jsx(Er,{}),c.jsx(Wf,{level:4,children:"Hierarchy"}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:12,children:c.jsx(me.Item,{label:"Hierarchy Level",name:"level",rules:[{required:!0,message:"Level is required"}],tooltip:"1 = Top-level operation, 5 = Detailed step",children:c.jsxs(we,{children:[c.jsx(Do,{value:1,children:"Level 1 - Top-level Operation"}),c.jsx(Do,{value:2,children:"Level 2 - Major Process"}),c.jsx(Do,{value:3,children:"Level 3 - Process Step"}),c.jsx(Do,{value:4,children:"Level 4 - Detailed Instruction"}),c.jsx(Do,{value:5,children:"Level 5 - Sub-step"})]})})}),c.jsx(Se,{span:12,children:c.jsx(me.Item,{label:"Parent Operation",name:"parentOperationId",tooltip:"Optional: Select parent operation for hierarchical operations",children:c.jsx(we,{placeholder:"Select parent operation (optional)",allowClear:!0,showSearch:!0,optionFilterProp:"children",children:i.map(u=>c.jsxs(Do,{value:u.id,children:[u.operationCode," - ",u.operationName]},u.id))})})})]}),c.jsx(Er,{}),c.jsx(Wf,{level:4,children:"Timing & Capacity"}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:6,children:c.jsx(me.Item,{label:"Duration (seconds)",name:"duration",tooltip:"Standard operation duration",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:"3600"})})}),c.jsx(Se,{span:6,children:c.jsx(me.Item,{label:"Setup Time (seconds)",name:"setupTime",tooltip:"Time required to set up equipment/tooling",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:"600"})})}),c.jsx(Se,{span:6,children:c.jsx(me.Item,{label:"Teardown Time (seconds)",name:"teardownTime",tooltip:"Time required to teardown after operation",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:"300"})})}),c.jsx(Se,{span:6,children:c.jsx(me.Item,{label:"Min Cycle Time (seconds)",name:"minCycleTime",tooltip:"Minimum cycle time for this operation",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:"2400"})})})]}),c.jsx(Dt,{gutter:16,children:c.jsx(Se,{span:6,children:c.jsx(me.Item,{label:"Max Cycle Time (seconds)",name:"maxCycleTime",tooltip:"Maximum cycle time for this operation",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:"4800"})})})}),c.jsx(Er,{}),c.jsx(Wf,{level:4,children:"Status & Approval"}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{label:"Active Status",name:"isActive",valuePropName:"checked",tooltip:"Is this operation currently active?",children:c.jsx(zn,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{label:"Requires Approval",name:"requiresApproval",valuePropName:"checked",tooltip:"Does this process require management approval?",children:c.jsx(zn,{checkedChildren:"Yes",unCheckedChildren:"No"})})})]}),c.jsx(Er,{}),c.jsx(me.Item,{children:c.jsxs(pe,{children:[c.jsx(le,{type:"primary",htmlType:"submit",icon:c.jsx(BA,{}),loading:r,children:"Create Operation"}),c.jsx(le,{icon:c.jsx(wS,{}),onClick:l,children:"Cancel"})]})})]})}),c.jsxs(xe,{children:[c.jsx(Wf,{level:5,children:"Next Steps"}),c.jsx(IQ,{type:"secondary",children:"After creating the operation, you can define:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Process parameters (inputs, outputs, set points)"}),c.jsx("li",{children:"Dependencies and sequencing rules"}),c.jsx("li",{children:"Resource requirements (personnel, equipment, materials)"}),c.jsx("li",{children:"Child operations (hierarchical breakdown)"})]})]})]})})},srt="/api/v1",Dn=Vt.create({baseURL:srt,timeout:3e4,headers:{"Content-Type":"application/json"}});Dn.interceptors.request.use(t=>{const e=yo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));class W_e extends Error{constructor(r,n){super(r);ve(this,"details");this.name="VersionConflictError",this.details=n}}Dn.interceptors.response.use(t=>t.data,t=>{var r,n,i,s,o,a,l,u;if(((r=t.response)==null?void 0:r.status)===401&&typeof window<"u"&&!window.location.pathname.includes("/login")){localStorage.removeItem("mes-auth-storage");const g=window.location.pathname+window.location.search;window.location.href=`/login?redirect=${encodeURIComponent(g)}`}if(((n=t.response)==null?void 0:n.status)===409&&((s=(i=t.response)==null?void 0:i.data)==null?void 0:s.error)==="VERSION_CONFLICT"){const g=t.response.data.message||"Version conflict detected",d=t.response.data.details||{};throw new W_e(g,d)}const e=((a=(o=t.response)==null?void 0:o.data)==null?void 0:a.error)||((u=(l=t.response)==null?void 0:l.data)==null?void 0:u.message)||t.message||"An error occurred";throw new Error(e)});const Fl={getAllRoutings:async t=>{const e=new URLSearchParams;t&&Object.entries(t).forEach(([i,s])=>{s!=null&&e.append(i,String(s))});const r=e.toString(),n=r?`/routings?${r}`:"/routings";return Dn.get(n)},getRoutingById:async(t,e=!0)=>Dn.get(`/routings/${t}?includeSteps=${e}`),getRoutingByNumber:async t=>Dn.get(`/routings/number/${t}`),createRouting:async t=>Dn.post("/routings",t),updateRouting:async(t,e)=>Dn.put(`/routings/${t}`,e),deleteRouting:async t=>Dn.delete(`/routings/${t}`),copyRouting:async(t,e)=>Dn.post(`/routings/${t}/copy`,e),approveRouting:async t=>Dn.post(`/routings/${t.routingId}/approve`,t),activateRouting:async t=>Dn.post(`/routings/${t}/activate`),obsoleteRouting:async t=>Dn.post(`/routings/${t}/obsolete`),getRoutingVersions:async(t,e)=>Dn.get(`/routings/${t}/${e}/versions`),calculateRoutingTiming:async t=>Dn.get(`/routings/${t}/timing`),validateRouting:async t=>Dn.get(`/routings/${t}/validate`)},J0={getRoutingSteps:async t=>Dn.get(`/routings/${t}/steps`),getRoutingStepById:async t=>Dn.get(`/routings/steps/${t}`),createRoutingStep:async(t,e)=>Dn.post(`/routings/${t}/steps`,e),updateRoutingStep:async(t,e)=>Dn.put(`/routings/steps/${t}`,e),deleteRoutingStep:async t=>Dn.delete(`/routings/steps/${t}`),resequenceSteps:async t=>Dn.post(`/routings/${t.routingId}/steps/resequence`,t)},pQ={createStepDependency:async t=>Dn.post("/routings/steps/dependencies",t),deleteStepDependency:async t=>Dn.delete(`/routings/steps/dependencies/${t}`)},ort={getPartSiteAvailability:async(t,e)=>Dn.get(`/routings/part-site-availability/${t}/${e}`),getPartAvailableSites:async t=>Dn.get(`/routings/parts/${t}/available-sites`),createPartSiteAvailability:async t=>Dn.post("/routings/part-site-availability",t),updatePartSiteAvailability:async(t,e)=>Dn.put(`/routings/part-site-availability/${t}`,e),deletePartSiteAvailability:async t=>Dn.delete(`/routings/part-site-availability/${t}`)},lA=t=>{if(t<60)return`${t}s`;if(t<3600){const e=Math.floor(t/60),r=t%60;return r>0?`${e}m ${r}s`:`${e}m`}else{const e=Math.floor(t/3600),r=Math.floor(t%3600/60);return r>0?`${e}h ${r}m`:`${e}h`}},G_e=t=>t.lifecycleState==="DRAFT"||t.lifecycleState==="REVIEW",mQ={search:"",siteId:null,partId:null,lifecycleState:null,isActive:null,isPrimaryRoute:null},vQ={page:1,limit:20,total:0,totalPages:0},tW=vd()(cf((t,e)=>({routings:[],isLoading:!1,error:null,filters:mQ,pagination:vQ,currentRouting:null,isLoadingDetail:!1,detailError:null,currentSteps:[],isLoadingSteps:!1,stepsError:null,availableSites:[],isLoadingAvailability:!1,routingTiming:null,validationResult:null,versionConflict:null,fetchRoutings:async r=>{try{t({isLoading:!0,error:null});const n={...r,page:(r==null?void 0:r.page)||e().pagination.page,limit:(r==null?void 0:r.limit)||e().pagination.limit,includeSteps:(r==null?void 0:r.includeSteps)??!1},i=await Fl.getAllRoutings(n);if(i.success&&i.data)t({routings:i.data,pagination:i.pagination||vQ,isLoading:!1});else throw new Error(i.error||"Failed to fetch routings")}catch(n){throw t({isLoading:!1,error:n.message||"Failed to fetch routings"}),n}},setFilters:r=>{const i={...e().filters,...r};t({filters:i,pagination:{...e().pagination,page:1}});const s={siteId:i.siteId||void 0,partId:i.partId||void 0,lifecycleState:i.lifecycleState||void 0,isActive:i.isActive===null?void 0:i.isActive,isPrimaryRoute:i.isPrimaryRoute===null?void 0:i.isPrimaryRoute,search:i.search||void 0,page:1};e().fetchRoutings(s)},clearFilters:()=>{t({filters:mQ,pagination:{...e().pagination,page:1}}),e().fetchRoutings({page:1})},setPage:r=>{const n=e().filters,i={siteId:n.siteId||void 0,partId:n.partId||void 0,lifecycleState:n.lifecycleState||void 0,isActive:n.isActive===null?void 0:n.isActive,isPrimaryRoute:n.isPrimaryRoute===null?void 0:n.isPrimaryRoute,search:n.search||void 0,page:r};t({pagination:{...e().pagination,page:r}}),e().fetchRoutings(i)},refreshRoutings:async()=>{const r=e().filters,n={siteId:r.siteId||void 0,partId:r.partId||void 0,lifecycleState:r.lifecycleState||void 0,isActive:r.isActive===null?void 0:r.isActive,isPrimaryRoute:r.isPrimaryRoute===null?void 0:r.isPrimaryRoute,search:r.search||void 0,page:e().pagination.page};await e().fetchRoutings(n)},fetchRoutingById:async r=>{try{t({isLoadingDetail:!0,detailError:null});const n=await Fl.getRoutingById(r,!0);if(n.success&&n.data)t({currentRouting:n.data,currentSteps:n.data.steps||[],isLoadingDetail:!1});else throw new Error(n.error||"Failed to fetch routing")}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to fetch routing"}),n}},createRouting:async r=>{try{t({isLoading:!0,error:null});const n=await Fl.createRouting(r);if(n.success&&n.data)return t({isLoading:!1}),await e().refreshRoutings(),n.data;throw new Error(n.error||"Failed to create routing")}catch(n){throw t({isLoading:!1,error:n.message||"Failed to create routing"}),n}},updateRouting:async(r,n)=>{try{t({isLoadingDetail:!0,detailError:null,versionConflict:null});const i=e().currentRouting,s={...n,currentVersion:i==null?void 0:i.version},o=await Fl.updateRouting(r,s);if(o.success&&o.data)t({currentRouting:o.data,isLoadingDetail:!1}),await e().refreshRoutings();else throw new Error(o.error||"Failed to update routing")}catch(i){throw i instanceof W_e?t({isLoadingDetail:!1,versionConflict:{error:i,attemptedChanges:n}}):t({isLoadingDetail:!1,detailError:i.message||"Failed to update routing"}),i}},deleteRouting:async r=>{try{t({isLoading:!0,error:null}),await Fl.deleteRouting(r),t({isLoading:!1}),await e().refreshRoutings()}catch(n){throw t({isLoading:!1,error:n.message||"Failed to delete routing"}),n}},copyRouting:async(r,n)=>{try{t({isLoading:!0,error:null});const i=await Fl.copyRouting(r,n);if(i.success&&i.data)return t({isLoading:!1}),await e().refreshRoutings(),i.data;throw new Error(i.error||"Failed to copy routing")}catch(i){throw t({isLoading:!1,error:i.message||"Failed to copy routing"}),i}},approveRouting:async r=>{try{t({isLoadingDetail:!0,detailError:null});const n=await Fl.approveRouting(r);if(n.success&&n.data)t({currentRouting:n.data,isLoadingDetail:!1}),await e().refreshRoutings();else throw new Error(n.error||"Failed to approve routing")}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to approve routing"}),n}},activateRouting:async r=>{try{t({isLoadingDetail:!0,detailError:null});const n=await Fl.activateRouting(r);if(n.success&&n.data)t({currentRouting:n.data,isLoadingDetail:!1}),await e().refreshRoutings();else throw new Error(n.error||"Failed to activate routing")}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to activate routing"}),n}},obsoleteRouting:async r=>{try{t({isLoadingDetail:!0,detailError:null});const n=await Fl.obsoleteRouting(r);if(n.success&&n.data)t({currentRouting:n.data,isLoadingDetail:!1}),await e().refreshRoutings();else throw new Error(n.error||"Failed to obsolete routing")}catch(n){throw t({isLoadingDetail:!1,detailError:n.message||"Failed to obsolete routing"}),n}},fetchRoutingSteps:async r=>{try{t({isLoadingSteps:!0,stepsError:null});const n=await J0.getRoutingSteps(r);if(n.success&&n.data)t({currentSteps:n.data,isLoadingSteps:!1});else throw new Error(n.error||"Failed to fetch routing steps")}catch(n){throw t({isLoadingSteps:!1,stepsError:n.message||"Failed to fetch routing steps"}),n}},createRoutingStep:async(r,n)=>{try{t({isLoadingSteps:!0,stepsError:null}),await J0.createRoutingStep(r,n),t({isLoadingSteps:!1}),await e().fetchRoutingSteps(r),await e().fetchRoutingById(r)}catch(i){throw t({isLoadingSteps:!1,stepsError:i.message||"Failed to create routing step"}),i}},updateRoutingStep:async(r,n)=>{try{t({isLoadingSteps:!0,stepsError:null}),await J0.updateRoutingStep(r,n),t({isLoadingSteps:!1});const i=e().currentRouting;i&&await e().fetchRoutingSteps(i.id)}catch(i){throw t({isLoadingSteps:!1,stepsError:i.message||"Failed to update routing step"}),i}},deleteRoutingStep:async r=>{try{t({isLoadingSteps:!0,stepsError:null}),await J0.deleteRoutingStep(r),t({isLoadingSteps:!1});const n=e().currentRouting;n&&await e().fetchRoutingSteps(n.id)}catch(n){throw t({isLoadingSteps:!1,stepsError:n.message||"Failed to delete routing step"}),n}},resequenceSteps:async r=>{try{t({isLoadingSteps:!0,stepsError:null});const n=await J0.resequenceSteps(r);if(n.success&&n.data)t({currentSteps:n.data,isLoadingSteps:!1});else throw new Error(n.error||"Failed to resequence steps")}catch(n){throw t({isLoadingSteps:!1,stepsError:n.message||"Failed to resequence steps"}),n}},createStepDependency:async r=>{try{t({isLoadingSteps:!0,stepsError:null}),await pQ.createStepDependency(r),t({isLoadingSteps:!1});const n=e().currentRouting;n&&await e().fetchRoutingSteps(n.id)}catch(n){throw t({isLoadingSteps:!1,stepsError:n.message||"Failed to create step dependency"}),n}},deleteStepDependency:async r=>{try{t({isLoadingSteps:!0,stepsError:null}),await pQ.deleteStepDependency(r),t({isLoadingSteps:!1});const n=e().currentRouting;n&&await e().fetchRoutingSteps(n.id)}catch(n){throw t({isLoadingSteps:!1,stepsError:n.message||"Failed to delete step dependency"}),n}},fetchPartAvailableSites:async r=>{try{t({isLoadingAvailability:!0});const n=await ort.getPartAvailableSites(r);if(n.success&&n.data)t({availableSites:n.data,isLoadingAvailability:!1});else throw new Error("Failed to fetch available sites")}catch(n){throw t({isLoadingAvailability:!1}),n}},calculateRoutingTiming:async r=>{try{const n=await Fl.calculateRoutingTiming(r);n.success&&n.data&&t({routingTiming:n.data})}catch(n){console.error("Failed to calculate routing timing:",n)}},validateRouting:async r=>{try{const n=await Fl.validateRouting(r);n.success&&n.data&&t({validationResult:n.data})}catch(n){console.error("Failed to validate routing:",n)}},setError:r=>t({error:r}),clearError:()=>t({error:null}),setDetailError:r=>t({detailError:r}),clearDetailError:()=>t({detailError:null}),clearCurrentRouting:()=>{t({currentRouting:null,currentSteps:[],routingTiming:null,validationResult:null})},clearCurrentSteps:()=>{t({currentSteps:[]})},setVersionConflict:(r,n)=>{t({versionConflict:{error:r,attemptedChanges:n}})},clearVersionConflict:()=>{t({versionConflict:null})},resolveConflictByReloading:async r=>{try{t({versionConflict:null}),await e().fetchRoutingById(r)}catch(n){throw t({detailError:n.message||"Failed to reload routing"}),n}}}),{name:"RoutingStore"}));var E7=(t=>(t.DRAFT="DRAFT",t.REVIEW="REVIEW",t.RELEASED="RELEASED",t.PRODUCTION="PRODUCTION",t.OBSOLETE="OBSOLETE",t))(E7||{});const _7={DRAFT:"default",REVIEW:"processing",RELEASED:"success",PRODUCTION:"blue",OBSOLETE:"error"},T7={DRAFT:"Draft",REVIEW:"In Review",RELEASED:"Released",PRODUCTION:"Production",OBSOLETE:"Obsolete"},art={PROCESS:"blue",INSPECTION:"orange",DECISION:"purple",PARALLEL_SPLIT:"cyan",PARALLEL_JOIN:"cyan",OSP:"magenta",LOT_SPLIT:"geekblue",LOT_MERGE:"geekblue",TELESCOPING:"volcano",START:"green",END:"red"},lrt={PROCESS:"Process",INSPECTION:"Inspection",DECISION:"Decision",PARALLEL_SPLIT:"Parallel Split",PARALLEL_JOIN:"Parallel Join",OSP:"Outside Process",LOT_SPLIT:"Lot Split",LOT_MERGE:"Lot Merge",TELESCOPING:"Telescoping",START:"Start",END:"End"},crt={LOT_CONTROLLED:"blue",SERIAL_CONTROLLED:"green",MIXED:"orange"},urt={LOT_CONTROLLED:"Lot Controlled",SERIAL_CONTROLLED:"Serial Controlled",MIXED:"Mixed Control"},{Search:grt}=at,{Option:Au}=we,drt=()=>{const t=Kr(),[e,r]=D.useState(""),[n,i]=D.useState(),[s,o]=D.useState(),[a,l]=D.useState(),{currentSite:u,allSites:g}=IC(),{hasAnyPermission:d}=NU(),{routings:f,isLoading:h,error:A,pagination:C,filters:I,fetchRoutings:p,setFilters:m,setPage:v,deleteRouting:y}=tW();D.useEffect(()=>{u?m({siteId:u.id}):p()},[u,p,m]);const x=V=>{r(V),m({search:V||void 0})},T=V=>{i(V),m({lifecycleState:V})},E=V=>{o(V),m({isActive:V})},_=V=>{l(V),m({isPrimaryRoute:V})},S=V=>{m({siteId:V||null})},j=V=>{V.current&&v(V.current)},w=async V=>{try{await y(V),Ee.success("Routing deleted successfully")}catch(K){Ee.error(K.message||"Failed to delete routing")}},R=V=>{t(`/routings/${V}/copy`)},N=V=>{const K=g.find(Y=>Y.id===V);return K?K.siteName:"Unknown"},P=d(["routings.create","routings.write","*"]),M=d(["routings.read","routings.write","*"]),B=d(["routings.update","routings.write","*"]),W=d(["routings.delete","routings.write","*"]),H=[{title:"Routing Number",dataIndex:"routingNumber",key:"routingNumber",width:"15%",ellipsis:!0,render:(V,K)=>c.jsxs(pe,{children:[c.jsx(Zl,{}),c.jsx("a",{onClick:()=>t(`/routings/${K.id}`),children:V})]})},{title:"Part",key:"part",width:"18%",ellipsis:!0,render:(V,K)=>{var Y,k;return c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:((Y=K.part)==null?void 0:Y.partNumber)||"N/A"}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:((k=K.part)==null?void 0:k.partName)||""})]})}},{title:"Site",key:"site",width:"12%",render:(V,K)=>{var Y;return c.jsx("span",{children:((Y=K.site)==null?void 0:Y.siteName)||N(K.siteId)})}},{title:"Version",dataIndex:"version",key:"version",width:"8%",align:"center",sorter:!0},{title:"State",dataIndex:"lifecycleState",key:"lifecycleState",width:"12%",render:V=>c.jsx(Be,{color:_7[V],children:T7[V]})},{title:"Primary",dataIndex:"isPrimaryRoute",key:"isPrimaryRoute",width:"8%",align:"center",render:V=>V?c.jsx(ji,{status:"success",text:"Yes"}):c.jsx(ji,{status:"default",text:"No"})},{title:"Active",dataIndex:"isActive",key:"isActive",width:"8%",align:"center",render:V=>V?c.jsx(ji,{status:"success",text:"Yes"}):c.jsx(ji,{status:"error",text:"No"})},{title:"Updated",dataIndex:"updatedAt",key:"updatedAt",width:"10%",sorter:!0,render:V=>new Date(V).toLocaleDateString()},{title:"Actions",key:"actions",width:"12%",fixed:"right",render:(V,K)=>{const Y=G_e(K),k=B&&Y,q=W&&Y;return c.jsxs(pe,{size:"small",children:[c.jsx(lt,{title:M?"View":"No permission to view routing",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Os,{}),disabled:!M,onClick:()=>t(`/routings/${K.id}`)})}),c.jsx(lt,{title:B?Y?"Edit":"Routing is not editable":"No permission to edit routing",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),disabled:!k,onClick:()=>t(`/routings/${K.id}/edit`)})}),c.jsx(lt,{title:P?"Clone":"No permission to clone routing",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Kw,{}),disabled:!P,onClick:()=>R(K.id)})}),c.jsx(lt,{title:W?Y?"Delete":"Routing is not editable":"No permission to delete routing",children:c.jsx(sa,{title:"Are you sure you want to delete this routing?",description:"This action cannot be undone.",onConfirm:()=>w(K.id),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},disabled:!q,children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),disabled:!q})})})]})}}];return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx("h1",{children:"Routing Management"}),c.jsx("p",{style:{color:"#666",marginTop:"8px"},children:"Create and manage manufacturing routings across multiple sites"})]}),c.jsxs("div",{style:{marginBottom:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[c.jsx(grt,{placeholder:"Search by routing number or part number",allowClear:!0,enterButton:c.jsx(Gn,{}),value:e,onChange:V=>r(V.target.value),onSearch:x,style:{width:"400px"}}),c.jsx(le,{icon:c.jsx(IU,{}),onClick:()=>t("/routings/templates"),size:"large",children:"Templates"}),c.jsx(lt,{title:P?"":"You don't have permission to create routings",children:c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>t("/routings/create"),size:"large",disabled:!P,children:"Create New Routing"})})]}),c.jsxs(pe,{size:"middle",wrap:!0,children:[c.jsx(we,{placeholder:"Filter by site",allowClear:!0,value:I.siteId||void 0,onChange:S,style:{width:"180px"},children:g.map(V=>c.jsx(Au,{value:V.id,children:V.siteName},V.id))}),c.jsxs(we,{placeholder:"Filter by lifecycle state",allowClear:!0,value:n,onChange:T,style:{width:"180px"},children:[c.jsx(Au,{value:"DRAFT",children:"Draft"}),c.jsx(Au,{value:"REVIEW",children:"In Review"}),c.jsx(Au,{value:"RELEASED",children:"Released"}),c.jsx(Au,{value:"PRODUCTION",children:"Production"}),c.jsx(Au,{value:"OBSOLETE",children:"Obsolete"})]}),c.jsxs(we,{placeholder:"Filter by active status",allowClear:!0,value:s,onChange:E,style:{width:"150px"},children:[c.jsx(Au,{value:!0,children:"Active Only"}),c.jsx(Au,{value:!1,children:"Inactive Only"})]}),c.jsxs(we,{placeholder:"Filter by primary route",allowClear:!0,value:a,onChange:_,style:{width:"150px"},children:[c.jsx(Au,{value:!0,children:"Primary Only"}),c.jsx(Au,{value:!1,children:"Alternate Only"})]})]})]}),A&&c.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#fff2f0",border:"1px solid #ffccc7",borderRadius:"4px"},children:c.jsx("span",{style:{color:"#cf1322"},children:A})}),c.jsx(Jr,{columns:H,dataSource:f,rowKey:"id",loading:h,pagination:{current:C.page,pageSize:C.limit,total:C.total,showSizeChanger:!0,showTotal:V=>`Total ${V} routings`,pageSizeOptions:["10","20","50","100"]},onChange:j,scroll:{x:1400},bordered:!0})]})},hrt=()=>c.jsx(drt,{});function So(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let r=0,n;r<t.length;r++)(n=So(t[r]))!==""&&(e+=(e&&" ")+n);else for(let r in t)t[r]&&(e+=(e&&" ")+r);return e}const{useDebugValue:frt}=Ue,{useSyncExternalStoreWithSelector:Art}=Lxe,Crt=t=>t;function V_e(t,e=Crt,r){const n=Art(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return frt(n),n}const yQ=(t,e)=>{const r=jxe(t),n=(i,s=e)=>V_e(r,i,s);return Object.assign(n,r),n},Irt=(t,e)=>t?yQ(t,e):yQ;function Zs(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,i]of t)if(!Object.is(i,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(t[n],e[n]))return!1;return!0}const CE=D.createContext(null),prt=CE.Provider,Id={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},H_e=Id.error001();function ti(t,e){const r=D.useContext(CE);if(r===null)throw new Error(H_e);return V_e(r,t,e)}const ks=()=>{const t=D.useContext(CE);if(t===null)throw new Error(H_e);return D.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},mrt=t=>t.userSelectionActive?"none":"all";function Fy({position:t,children:e,className:r,style:n,...i}){const s=ti(mrt),o=`${t}`.split("-");return Ue.createElement("div",{className:So(["react-flow__panel",r,...o]),style:{...n,pointerEvents:s},...i},e)}function vrt({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:Ue.createElement(Fy,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Ue.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const yrt=({x:t,y:e,label:r,labelStyle:n={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...g})=>{const d=D.useRef(null),[f,h]=D.useState({x:0,y:0,width:0,height:0}),A=So(["react-flow__edge-textwrapper",u]);return D.useEffect(()=>{if(d.current){const C=d.current.getBBox();h({x:C.x,y:C.y,width:C.width,height:C.height})}},[r]),typeof r>"u"||!r?null:Ue.createElement("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:A,visibility:f.width?"visible":"hidden",...g},i&&Ue.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),Ue.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:n},r),l)};var xrt=D.memo(yrt);const rW=t=>({width:t.offsetWidth,height:t.offsetHeight}),Gp=(t,e=0,r=1)=>Math.min(Math.max(t,e),r),nW=(t={x:0,y:0},e)=>({x:Gp(t.x,e[0][0],e[1][0]),y:Gp(t.y,e[0][1],e[1][1])}),xQ=(t,e,r)=>t<e?Gp(Math.abs(t-e),1,50)/50:t>r?-Gp(Math.abs(t-r),1,50)/50:0,K_e=(t,e)=>{const r=xQ(t.x,35,e.width-35)*20,n=xQ(t.y,35,e.height-35)*20;return[r,n]},Y_e=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Z_e=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Ly=({x:t,y:e,width:r,height:n})=>({x:t,y:e,x2:t+r,y2:e+n}),X_e=({x:t,y:e,x2:r,y2:n})=>({x:t,y:e,width:r-t,height:n-e}),bQ=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),brt=(t,e)=>X_e(Z_e(Ly(t),Ly(e))),R7=(t,e)=>{const r=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),n=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(r*n)},wrt=t=>Wl(t.width)&&Wl(t.height)&&Wl(t.x)&&Wl(t.y),Wl=t=>!isNaN(t)&&isFinite(t),Di=Symbol.for("internals"),Q_e=["Enter"," ","Escape"],Srt=(t,e)=>{},Ert=t=>"nativeEvent"in t;function N7(t){var i,s;const e=Ert(t)?t.nativeEvent:t,r=((s=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:s[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const J_e=t=>"clientX"in t,Lh=(t,e)=>{var s,o;const r=J_e(t),n=r?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=r?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:n-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},H2=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},D1=({id:t,path:e,labelX:r,labelY:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:g,markerEnd:d,markerStart:f,interactionWidth:h=20})=>Ue.createElement(Ue.Fragment,null,Ue.createElement("path",{id:t,style:g,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&Ue.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Wl(r)&&Wl(n)?Ue.createElement(xrt,{x:r,y:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);D1.displayName="BaseEdge";function ev(t,e,r){return r===void 0?r:n=>{const i=e().edges.find(s=>s.id===t);i&&r(n,{...i})}}function eTe({sourceX:t,sourceY:e,targetX:r,targetY:n}){const i=Math.abs(r-t)/2,s=r<t?r+i:r-i,o=Math.abs(n-e)/2,a=n<e?n+o:n-o;return[s,a,i,o]}function tTe({sourceX:t,sourceY:e,targetX:r,targetY:n,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+r*.125,u=e*.125+s*.375+a*.375+n*.125,g=Math.abs(l-t),d=Math.abs(u-e);return[l,u,g,d]}var lC;(function(t){t.Strict="strict",t.Loose="loose"})(lC||(lC={}));var cA;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(cA||(cA={}));var My;(function(t){t.Partial="partial",t.Full="full"})(My||(My={}));var ch;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ch||(ch={}));var Vp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Vp||(Vp={}));var or;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(or||(or={}));function wQ({pos:t,x1:e,y1:r,x2:n,y2:i}){return t===or.Left||t===or.Right?[.5*(e+n),r]:[e,.5*(r+i)]}function rTe({sourceX:t,sourceY:e,sourcePosition:r=or.Bottom,targetX:n,targetY:i,targetPosition:s=or.Top}){const[o,a]=wQ({pos:r,x1:t,y1:e,x2:n,y2:i}),[l,u]=wQ({pos:s,x1:n,y1:i,x2:t,y2:e}),[g,d,f,h]=tTe({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${o},${a} ${l},${u} ${n},${i}`,g,d,f,h]}const iW=D.memo(({sourceX:t,sourceY:e,targetX:r,targetY:n,sourcePosition:i=or.Bottom,targetPosition:s=or.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:A,interactionWidth:C})=>{const[I,p,m]=rTe({sourceX:t,sourceY:e,sourcePosition:i,targetX:r,targetY:n,targetPosition:s});return Ue.createElement(D1,{path:I,labelX:p,labelY:m,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:A,interactionWidth:C})});iW.displayName="SimpleBezierEdge";const SQ={[or.Left]:{x:-1,y:0},[or.Right]:{x:1,y:0},[or.Top]:{x:0,y:-1},[or.Bottom]:{x:0,y:1}},_rt=({source:t,sourcePosition:e=or.Bottom,target:r})=>e===or.Left||e===or.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1},EQ=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Trt({source:t,sourcePosition:e=or.Bottom,target:r,targetPosition:n=or.Top,center:i,offset:s}){const o=SQ[e],a=SQ[n],l={x:t.x+o.x*s,y:t.y+o.y*s},u={x:r.x+a.x*s,y:r.y+a.y*s},g=_rt({source:l,sourcePosition:e,target:u}),d=g.x!==0?"x":"y",f=g[d];let h=[],A,C;const I={x:0,y:0},p={x:0,y:0},[m,v,y,x]=eTe({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(o[d]*a[d]===-1){A=i.x??m,C=i.y??v;const E=[{x:A,y:l.y},{x:A,y:u.y}],_=[{x:l.x,y:C},{x:u.x,y:C}];o[d]===f?h=d==="x"?E:_:h=d==="x"?_:E}else{const E=[{x:l.x,y:u.y}],_=[{x:u.x,y:l.y}];if(d==="x"?h=o.x===f?_:E:h=o.y===f?E:_,e===n){const N=Math.abs(t[d]-r[d]);if(N<=s){const P=Math.min(s-1,s-N);o[d]===f?I[d]=(l[d]>t[d]?-1:1)*P:p[d]=(u[d]>r[d]?-1:1)*P}}if(e!==n){const N=d==="x"?"y":"x",P=o[d]===a[N],M=l[N]>u[N],B=l[N]<u[N];(o[d]===1&&(!P&&M||P&&B)||o[d]!==1&&(!P&&B||P&&M))&&(h=d==="x"?E:_)}const S={x:l.x+I.x,y:l.y+I.y},j={x:u.x+p.x,y:u.y+p.y},w=Math.max(Math.abs(S.x-h[0].x),Math.abs(j.x-h[0].x)),R=Math.max(Math.abs(S.y-h[0].y),Math.abs(j.y-h[0].y));w>=R?(A=(S.x+j.x)/2,C=h[0].y):(A=h[0].x,C=(S.y+j.y)/2)}return[[t,{x:l.x+I.x,y:l.y+I.y},...h,{x:u.x+p.x,y:u.y+p.y},r],A,C,y,x]}function Rrt(t,e,r,n){const i=Math.min(EQ(t,e)/2,EQ(e,r)/2,n),{x:s,y:o}=e;if(t.x===s&&s===r.x||t.y===o&&o===r.y)return`L${s} ${o}`;if(t.y===o){const u=t.x<r.x?-1:1,g=t.y<r.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*g}`}const a=t.x<r.x?1:-1,l=t.y<r.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function O7({sourceX:t,sourceY:e,sourcePosition:r=or.Bottom,targetX:n,targetY:i,targetPosition:s=or.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[g,d,f,h,A]=Trt({source:{x:t,y:e},sourcePosition:r,target:{x:n,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[g.reduce((I,p,m)=>{let v="";return m>0&&m<g.length-1?v=Rrt(g[m-1],p,g[m+1],o):v=`${m===0?"M":"L"}${p.x} ${p.y}`,I+=v,I},""),d,f,h,A]}const IE=D.memo(({sourceX:t,sourceY:e,targetX:r,targetY:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:g,sourcePosition:d=or.Bottom,targetPosition:f=or.Top,markerEnd:h,markerStart:A,pathOptions:C,interactionWidth:I})=>{const[p,m,v]=O7({sourceX:t,sourceY:e,sourcePosition:d,targetX:r,targetY:n,targetPosition:f,borderRadius:C==null?void 0:C.borderRadius,offset:C==null?void 0:C.offset});return Ue.createElement(D1,{path:p,labelX:m,labelY:v,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:g,markerEnd:h,markerStart:A,interactionWidth:I})});IE.displayName="SmoothStepEdge";const sW=D.memo(t=>{var e;return Ue.createElement(IE,{...t,pathOptions:D.useMemo(()=>{var r;return{borderRadius:0,offset:(r=t.pathOptions)==null?void 0:r.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});sW.displayName="StepEdge";function Nrt({sourceX:t,sourceY:e,targetX:r,targetY:n}){const[i,s,o,a]=eTe({sourceX:t,sourceY:e,targetX:r,targetY:n});return[`M ${t},${e}L ${r},${n}`,i,s,o,a]}const oW=D.memo(({sourceX:t,sourceY:e,targetX:r,targetY:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:g,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[A,C,I]=Nrt({sourceX:t,sourceY:e,targetX:r,targetY:n});return Ue.createElement(D1,{path:A,labelX:C,labelY:I,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:g,markerEnd:d,markerStart:f,interactionWidth:h})});oW.displayName="StraightEdge";function Xb(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function _Q({pos:t,x1:e,y1:r,x2:n,y2:i,c:s}){switch(t){case or.Left:return[e-Xb(e-n,s),r];case or.Right:return[e+Xb(n-e,s),r];case or.Top:return[e,r-Xb(r-i,s)];case or.Bottom:return[e,r+Xb(i-r,s)]}}function nTe({sourceX:t,sourceY:e,sourcePosition:r=or.Bottom,targetX:n,targetY:i,targetPosition:s=or.Top,curvature:o=.25}){const[a,l]=_Q({pos:r,x1:t,y1:e,x2:n,y2:i,c:o}),[u,g]=_Q({pos:s,x1:n,y1:i,x2:t,y2:e,c:o}),[d,f,h,A]=tTe({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:g});return[`M${t},${e} C${a},${l} ${u},${g} ${n},${i}`,d,f,h,A]}const K2=D.memo(({sourceX:t,sourceY:e,targetX:r,targetY:n,sourcePosition:i=or.Bottom,targetPosition:s=or.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:A,pathOptions:C,interactionWidth:I})=>{const[p,m,v]=nTe({sourceX:t,sourceY:e,sourcePosition:i,targetX:r,targetY:n,targetPosition:s,curvature:C==null?void 0:C.curvature});return Ue.createElement(D1,{path:p,labelX:m,labelY:v,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:A,interactionWidth:I})});K2.displayName="BezierEdge";const aW=D.createContext(null),Ort=aW.Provider;aW.Consumer;const jrt=()=>D.useContext(aW),Prt=t=>"id"in t&&"source"in t&&"target"in t,krt=({source:t,sourceHandle:e,target:r,targetHandle:n})=>`reactflow__edge-${t}${e||""}-${r}${n||""}`,j7=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(n=>`${n}=${t[n]}`).join("&")}`,Drt=(t,e)=>e.some(r=>r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)),iTe=(t,e)=>{if(!t.source||!t.target)return e;let r;return Prt(t)?r={...t}:r={...t,id:krt(t)},Drt(r,e)?e:e.concat(r)},P7=({x:t,y:e},[r,n,i],s,[o,a])=>{const l={x:(t-r)/i,y:(e-n)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},sTe=({x:t,y:e},[r,n,i])=>({x:t*i+r,y:e*i+n}),OA=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(t.width??0)*e[0],n=(t.height??0)*e[1],i={x:t.position.x-r,y:t.position.y-n};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-r,y:t.positionAbsolute.y-n}:i}},pE=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const r=t.reduce((n,i)=>{const{x:s,y:o}=OA(i,e).positionAbsolute;return Z_e(n,Ly({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return X_e(r)},oTe=(t,e,[r,n,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(e.x-r)/i,y:(e.y-n)/i,width:e.width/i,height:e.height/i},u=[];return t.forEach(g=>{const{width:d,height:f,selectable:h=!0,hidden:A=!1}=g;if(o&&!h||A)return!1;const{positionAbsolute:C}=OA(g,a),I={x:C.x,y:C.y,width:d||0,height:f||0},p=R7(l,I),m=typeof d>"u"||typeof f>"u"||d===null||f===null,v=s&&p>0,y=(d||0)*(f||0);(m||v||p>=y||g.dragging)&&u.push(g)}),u},aTe=(t,e)=>{const r=t.map(n=>n.id);return e.filter(n=>r.includes(n.source)||r.includes(n.target))},lTe=(t,e,r,n,i,s=.1)=>{const o=e/(t.width*(1+s)),a=r/(t.height*(1+s)),l=Math.min(o,a),u=Gp(l,n,i),g=t.x+t.width/2,d=t.y+t.height/2,f=e/2-g*u,h=r/2-d*u;return{x:f,y:h,zoom:u}},Zf=(t,e=0)=>t.transition().duration(e);function TQ(t,e,r,n){return(e[r]||[]).reduce((i,s)=>{var o,a;return`${t.id}-${s.id}-${r}`!==n&&i.push({id:s.id||null,type:r,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=t.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function Frt(t,e,r,n,i,s){const{x:o,y:a}=Lh(t),u=e.elementsFromPoint(o,a).find(A=>A.classList.contains("react-flow__handle"));if(u){const A=u.getAttribute("data-nodeid");if(A){const C=lW(void 0,u),I=u.getAttribute("data-handleid"),p=s({nodeId:A,id:I,type:C});if(p){const m=i.find(v=>v.nodeId===A&&v.type===C&&v.id===I);return{handle:{id:I,type:C,nodeId:A,x:(m==null?void 0:m.x)||r.x,y:(m==null?void 0:m.y)||r.y},validHandleResult:p}}}}let g=[],d=1/0;if(i.forEach(A=>{const C=Math.sqrt((A.x-r.x)**2+(A.y-r.y)**2);if(C<=n){const I=s(A);C<=d&&(C<d?g=[{handle:A,validHandleResult:I}]:C===d&&g.push({handle:A,validHandleResult:I}),d=C)}}),!g.length)return{handle:null,validHandleResult:cTe()};if(g.length===1)return g[0];const f=g.some(({validHandleResult:A})=>A.isValid),h=g.some(({handle:A})=>A.type==="target");return g.find(({handle:A,validHandleResult:C})=>h?A.type==="target":f?C.isValid:!0)||g[0]}const Lrt={source:null,target:null,sourceHandle:null,targetHandle:null},cTe=()=>({handleDomNode:null,isValid:!1,connection:Lrt,endHandle:null});function uTe(t,e,r,n,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),u={...cTe(),handleDomNode:l};if(l){const g=lW(void 0,l),d=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),A=l.classList.contains("connectableend"),C={source:a?d:r,sourceHandle:a?f:n,target:a?r:d,targetHandle:a?n:f};u.connection=C,h&&A&&(e===lC.Strict?a&&g==="source"||!a&&g==="target":d!==r||f!==n)&&(u.endHandle={nodeId:d,handleId:f,type:g},u.isValid=s(C))}return u}function Mrt({nodes:t,nodeId:e,handleId:r,handleType:n}){return t.reduce((i,s)=>{if(s[Di]){const{handleBounds:o}=s[Di];let a=[],l=[];o&&(a=TQ(s,o,"source",`${e}-${r}-${n}`),l=TQ(s,o,"target",`${e}-${r}-${n}`)),i.push(...a,...l)}return i},[])}function lW(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function M5(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Brt(t,e){let r=null;return e?r="valid":t&&!e&&(r="invalid"),r}function gTe({event:t,handleId:e,nodeId:r,onConnect:n,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const g=Y_e(t.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:A,onConnectStart:C,panBy:I,getNodes:p,cancelConnection:m}=s();let v=0,y;const{x,y:T}=Lh(t),E=g==null?void 0:g.elementFromPoint(x,T),_=lW(l,E),S=f==null?void 0:f.getBoundingClientRect();if(!S||!_)return;let j,w=Lh(t,S),R=!1,N=null,P=!1,M=null;const B=Mrt({nodes:p(),nodeId:r,handleId:e,handleType:_}),W=()=>{if(!h)return;const[K,Y]=K_e(w,S);I({x:K,y:Y}),v=requestAnimationFrame(W)};o({connectionPosition:w,connectionStatus:null,connectionNodeId:r,connectionHandleId:e,connectionHandleType:_,connectionStartHandle:{nodeId:r,handleId:e,type:_},connectionEndHandle:null}),C==null||C(t,{nodeId:r,handleId:e,handleType:_});function H(K){const{transform:Y}=s();w=Lh(K,S);const{handle:k,validHandleResult:q}=Frt(K,g,P7(w,Y,!1,[1,1]),A,B,z=>uTe(z,d,r,e,i?"target":"source",a,g));if(y=k,R||(W(),R=!0),M=q.handleDomNode,N=q.connection,P=q.isValid,o({connectionPosition:y&&P?sTe({x:y.x,y:y.y},Y):w,connectionStatus:Brt(!!y,P),connectionEndHandle:q.endHandle}),!y&&!P&&!M)return M5(j);N.source!==N.target&&M&&(M5(j),j=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",P),M.classList.toggle("react-flow__handle-valid",P))}function V(K){var Y,k;(y||M)&&N&&P&&(n==null||n(N)),(k=(Y=s()).onConnectEnd)==null||k.call(Y,K),l&&(u==null||u(K)),M5(j),m(),cancelAnimationFrame(v),R=!1,P=!1,N=null,M=null,g.removeEventListener("mousemove",H),g.removeEventListener("mouseup",V),g.removeEventListener("touchmove",H),g.removeEventListener("touchend",V)}g.addEventListener("mousemove",H),g.addEventListener("mouseup",V),g.addEventListener("touchmove",H),g.addEventListener("touchend",V)}const RQ=()=>!0,$rt=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),qrt=(t,e,r)=>n=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=n;return{connecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===r||(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===r,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===r}},dTe=D.forwardRef(({type:t="source",position:e=or.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:g,onTouchStart:d,...f},h)=>{var S,j;const A=o||null,C=t==="target",I=ks(),p=jrt(),{connectOnClick:m,noPanClassName:v}=ti($rt,Zs),{connecting:y,clickConnecting:x}=ti(qrt(p,A,t),Zs);p||(j=(S=I.getState()).onError)==null||j.call(S,"010",Id.error010());const T=w=>{const{defaultEdgeOptions:R,onConnect:N,hasDefaultEdges:P}=I.getState(),M={...R,...w};if(P){const{edges:B,setEdges:W}=I.getState();W(iTe(M,B))}N==null||N(M),a==null||a(M)},E=w=>{if(!p)return;const R=J_e(w);i&&(R&&w.button===0||!R)&&gTe({event:w,handleId:A,nodeId:p,onConnect:T,isTarget:C,getState:I.getState,setState:I.setState,isValidConnection:r||I.getState().isValidConnection||RQ}),R?g==null||g(w):d==null||d(w)},_=w=>{const{onClickConnectStart:R,onClickConnectEnd:N,connectionClickStartHandle:P,connectionMode:M,isValidConnection:B}=I.getState();if(!p||!P&&!i)return;if(!P){R==null||R(w,{nodeId:p,handleId:A,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:p,type:t,handleId:A}});return}const W=Y_e(w.target),H=r||B||RQ,{connection:V,isValid:K}=uTe({nodeId:p,id:A,type:t},M,P.nodeId,P.handleId||null,P.type,H,W);K&&T(V),N==null||N(w),I.setState({connectionClickStartHandle:null})};return Ue.createElement("div",{"data-handleid":A,"data-nodeid":p,"data-handlepos":e,"data-id":`${p}-${A}-${t}`,className:So(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",v,u,{source:!C,target:C,connectable:n,connectablestart:i,connectableend:s,connecting:x,connectionindicator:n&&(i&&!y||s&&y)}]),onMouseDown:E,onTouchStart:E,onClick:m?_:void 0,ref:h,...f},l)});dTe.displayName="Handle";var Th=D.memo(dTe);const hTe=({data:t,isConnectable:e,targetPosition:r=or.Top,sourcePosition:n=or.Bottom})=>Ue.createElement(Ue.Fragment,null,Ue.createElement(Th,{type:"target",position:r,isConnectable:e}),t==null?void 0:t.label,Ue.createElement(Th,{type:"source",position:n,isConnectable:e}));hTe.displayName="DefaultNode";var k7=D.memo(hTe);const fTe=({data:t,isConnectable:e,sourcePosition:r=or.Bottom})=>Ue.createElement(Ue.Fragment,null,t==null?void 0:t.label,Ue.createElement(Th,{type:"source",position:r,isConnectable:e}));fTe.displayName="InputNode";var ATe=D.memo(fTe);const CTe=({data:t,isConnectable:e,targetPosition:r=or.Top})=>Ue.createElement(Ue.Fragment,null,Ue.createElement(Th,{type:"target",position:r,isConnectable:e}),t==null?void 0:t.label);CTe.displayName="OutputNode";var ITe=D.memo(CTe);const cW=()=>null;cW.displayName="GroupNode";const zrt=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Qb=t=>t.id;function Urt(t,e){return Zs(t.selectedNodes.map(Qb),e.selectedNodes.map(Qb))&&Zs(t.selectedEdges.map(Qb),e.selectedEdges.map(Qb))}const pTe=D.memo(({onSelectionChange:t})=>{const e=ks(),{selectedNodes:r,selectedEdges:n}=ti(zrt,Urt);return D.useEffect(()=>{const i={nodes:r,edges:n};t==null||t(i),e.getState().onSelectionChange.forEach(s=>s(i))},[r,n,t]),null});pTe.displayName="SelectionListener";const Wrt=t=>!!t.onSelectionChange;function Grt({onSelectionChange:t}){const e=ti(Wrt);return t||e?Ue.createElement(pTe,{onSelectionChange:t}):null}const Vrt=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function wI(t,e){D.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Vr(t,e,r){D.useEffect(()=>{typeof e<"u"&&r({[t]:e})},[e])}const Hrt=({nodes:t,edges:e,defaultNodes:r,defaultEdges:n,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:g,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:A,minZoom:C,maxZoom:I,nodeExtent:p,onNodesChange:m,onEdgesChange:v,elementsSelectable:y,connectionMode:x,snapGrid:T,snapToGrid:E,translateExtent:_,connectOnClick:S,defaultEdgeOptions:j,fitView:w,fitViewOptions:R,onNodesDelete:N,onEdgesDelete:P,onNodeDrag:M,onNodeDragStart:B,onNodeDragStop:W,onSelectionDrag:H,onSelectionDragStart:V,onSelectionDragStop:K,noPanClassName:Y,nodeOrigin:k,rfId:q,autoPanOnConnect:z,autoPanOnNodeDrag:G,onError:Z,connectionRadius:ue,isValidConnection:re,nodeDragThreshold:ie})=>{const{setNodes:Ce,setEdges:Pe,setDefaultNodesAndEdges:Fe,setMinZoom:He,setMaxZoom:Te,setTranslateExtent:se,setNodeExtent:Ct,reset:Re}=ti(Vrt,Zs),ke=ks();return D.useEffect(()=>{const Ye=n==null?void 0:n.map(xt=>({...xt,...j}));return Fe(r,Ye),()=>{Re()}},[]),Vr("defaultEdgeOptions",j,ke.setState),Vr("connectionMode",x,ke.setState),Vr("onConnect",i,ke.setState),Vr("onConnectStart",s,ke.setState),Vr("onConnectEnd",o,ke.setState),Vr("onClickConnectStart",a,ke.setState),Vr("onClickConnectEnd",l,ke.setState),Vr("nodesDraggable",u,ke.setState),Vr("nodesConnectable",g,ke.setState),Vr("nodesFocusable",d,ke.setState),Vr("edgesFocusable",f,ke.setState),Vr("edgesUpdatable",h,ke.setState),Vr("elementsSelectable",y,ke.setState),Vr("elevateNodesOnSelect",A,ke.setState),Vr("snapToGrid",E,ke.setState),Vr("snapGrid",T,ke.setState),Vr("onNodesChange",m,ke.setState),Vr("onEdgesChange",v,ke.setState),Vr("connectOnClick",S,ke.setState),Vr("fitViewOnInit",w,ke.setState),Vr("fitViewOnInitOptions",R,ke.setState),Vr("onNodesDelete",N,ke.setState),Vr("onEdgesDelete",P,ke.setState),Vr("onNodeDrag",M,ke.setState),Vr("onNodeDragStart",B,ke.setState),Vr("onNodeDragStop",W,ke.setState),Vr("onSelectionDrag",H,ke.setState),Vr("onSelectionDragStart",V,ke.setState),Vr("onSelectionDragStop",K,ke.setState),Vr("noPanClassName",Y,ke.setState),Vr("nodeOrigin",k,ke.setState),Vr("rfId",q,ke.setState),Vr("autoPanOnConnect",z,ke.setState),Vr("autoPanOnNodeDrag",G,ke.setState),Vr("onError",Z,ke.setState),Vr("connectionRadius",ue,ke.setState),Vr("isValidConnection",re,ke.setState),Vr("nodeDragThreshold",ie,ke.setState),wI(t,Ce),wI(e,Pe),wI(C,He),wI(I,Te),wI(_,se),wI(p,Ct),null},NQ={display:"none"},Krt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},mTe="react-flow__node-desc",vTe="react-flow__edge-desc",Yrt="react-flow__aria-live",Zrt=t=>t.ariaLiveMessage;function Xrt({rfId:t}){const e=ti(Zrt);return Ue.createElement("div",{id:`${Yrt}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Krt},e)}function Qrt({rfId:t,disableKeyboardA11y:e}){return Ue.createElement(Ue.Fragment,null,Ue.createElement("div",{id:`${mTe}-${t}`,style:NQ},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Ue.createElement("div",{id:`${vTe}-${t}`,style:NQ},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&Ue.createElement(Xrt,{rfId:t}))}var By=(t=null,e={actInsideInputWithModifier:!0})=>{const[r,n]=D.useState(!1),i=D.useRef(!1),s=D.useRef(new Set([])),[o,a]=D.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.split("+")),g=u.reduce((d,f)=>d.concat(...f),[]);return[u,g]}return[[],[]]},[t]);return D.useEffect(()=>{const l=typeof document<"u"?document:null,u=(e==null?void 0:e.target)||l;if(t!==null){const g=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&N7(h))return!1;const C=jQ(h.code,a);s.current.add(h[C]),OQ(o,s.current,!1)&&(h.preventDefault(),n(!0))},d=h=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&N7(h))return!1;const C=jQ(h.code,a);OQ(o,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(h[C]),h.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",g),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",g),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[t,n]),r};function OQ(t,e,r){return t.filter(n=>r||n.length===e.size).some(n=>n.every(i=>e.has(i)))}function jQ(t,e){return e.includes(t)?"code":"key"}function yTe(t,e,r,n){var a,l;const i=t.parentNode||t.parentId;if(!i)return r;const s=e.get(i),o=OA(s,n);return yTe(s,e,{x:(r.x??0)+o.x,y:(r.y??0)+o.y,z:(((a=s[Di])==null?void 0:a.z)??0)>(r.z??0)?((l=s[Di])==null?void 0:l.z)??0:r.z??0},n)}function xTe(t,e,r){t.forEach(n=>{var s;const i=n.parentNode||n.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||r!=null&&r[n.id]){const{x:o,y:a,z:l}=yTe(n,t,{...n.position,z:((s=n[Di])==null?void 0:s.z)??0},e);n.positionAbsolute={x:o,y:a},n[Di].z=l,r!=null&&r[n.id]&&(n[Di].isParent=!0)}})}function B5(t,e,r,n){const i=new Map,s={},o=n?1e3:0;return t.forEach(a=>{var h;const l=(Wl(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=e.get(a.id),g={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(g,Di,{enumerable:!1,value:{handleBounds:f||(h=u==null?void 0:u[Di])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,g)}),xTe(i,r,s),i}function bTe(t,e={}){const{getNodes:r,width:n,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:g,nodeOrigin:d}=t(),f=e.initial&&!u&&g;if(a&&l&&(f||!e.initial)){const A=r().filter(I=>{var m;const p=e.includeHiddenNodes?I.width&&I.height:!I.hidden;return(m=e.nodes)!=null&&m.length?p&&e.nodes.some(v=>v.id===I.id):p}),C=A.every(I=>I.width&&I.height);if(A.length>0&&C){const I=pE(A,d),{x:p,y:m,zoom:v}=lTe(I,n,i,e.minZoom??s,e.maxZoom??o,e.padding??.1),y=Bc.translate(p,m).scale(v);return typeof e.duration=="number"&&e.duration>0?a.transform(Zf(l,e.duration),y):a.transform(l,y),!0}}return!1}function Jrt(t,e){return t.forEach(r=>{const n=e.get(r.id);n&&e.set(n.id,{...n,[Di]:n[Di],selected:r.selected})}),new Map(e)}function ent(t,e){return e.map(r=>{const n=t.find(i=>i.id===r.id);return n&&(r.selected=n.selected),r})}function Jb({changedNodes:t,changedEdges:e,get:r,set:n}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=r();t!=null&&t.length&&(l&&n({nodeInternals:Jrt(t,i)}),o==null||o(t)),e!=null&&e.length&&(u&&n({edges:ent(e,s)}),a==null||a(e))}const SI=()=>{},tnt={zoomIn:SI,zoomOut:SI,zoomTo:SI,getZoom:()=>1,setViewport:SI,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:SI,fitBounds:SI,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},rnt=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),nnt=()=>{const t=ks(),{d3Zoom:e,d3Selection:r}=ti(rnt,Zs);return D.useMemo(()=>r&&e?{zoomIn:i=>e.scaleBy(Zf(r,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(Zf(r,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>e.scaleTo(Zf(r,s==null?void 0:s.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=t.getState().transform,u=Bc.translate(i.x??o,i.y??a).scale(i.zoom??l);e.transform(Zf(r,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=t.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>bTe(t.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=t.getState(),g=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,d=a/2-i*g,f=l/2-s*g,h=Bc.translate(d,f).scale(g);e.transform(Zf(r,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=t.getState(),{x:g,y:d,zoom:f}=lTe(i,o,a,l,u,(s==null?void 0:s.padding)??.1),h=Bc.translate(g,d).scale(f);e.transform(Zf(r,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),P7(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=t.getState();if(!l)return i;const{x:u,y:g}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-g};return P7(d,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=t.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=sTe(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:tnt,[e,r])};function uW(){const t=nnt(),e=ks(),r=D.useCallback(()=>e.getState().getNodes().map(C=>({...C})),[]),n=D.useCallback(C=>e.getState().nodeInternals.get(C),[]),i=D.useCallback(()=>{const{edges:C=[]}=e.getState();return C.map(I=>({...I}))},[]),s=D.useCallback(C=>{const{edges:I=[]}=e.getState();return I.find(p=>p.id===C)},[]),o=D.useCallback(C=>{const{getNodes:I,setNodes:p,hasDefaultNodes:m,onNodesChange:v}=e.getState(),y=I(),x=typeof C=="function"?C(y):C;if(m)p(x);else if(v){const T=x.length===0?y.map(E=>({type:"remove",id:E.id})):x.map(E=>({item:E,type:"reset"}));v(T)}},[]),a=D.useCallback(C=>{const{edges:I=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:v}=e.getState(),y=typeof C=="function"?C(I):C;if(m)p(y);else if(v){const x=y.length===0?I.map(T=>({type:"remove",id:T.id})):y.map(T=>({item:T,type:"reset"}));v(x)}},[]),l=D.useCallback(C=>{const I=Array.isArray(C)?C:[C],{getNodes:p,setNodes:m,hasDefaultNodes:v,onNodesChange:y}=e.getState();if(v){const T=[...p(),...I];m(T)}else if(y){const x=I.map(T=>({item:T,type:"add"}));y(x)}},[]),u=D.useCallback(C=>{const I=Array.isArray(C)?C:[C],{edges:p=[],setEdges:m,hasDefaultEdges:v,onEdgesChange:y}=e.getState();if(v)m([...p,...I]);else if(y){const x=I.map(T=>({item:T,type:"add"}));y(x)}},[]),g=D.useCallback(()=>{const{getNodes:C,edges:I=[],transform:p}=e.getState(),[m,v,y]=p;return{nodes:C().map(x=>({...x})),edges:I.map(x=>({...x})),viewport:{x:m,y:v,zoom:y}}},[]),d=D.useCallback(({nodes:C,edges:I})=>{const{nodeInternals:p,getNodes:m,edges:v,hasDefaultNodes:y,hasDefaultEdges:x,onNodesDelete:T,onEdgesDelete:E,onNodesChange:_,onEdgesChange:S}=e.getState(),j=(C||[]).map(M=>M.id),w=(I||[]).map(M=>M.id),R=m().reduce((M,B)=>{const W=B.parentNode||B.parentId,H=!j.includes(B.id)&&W&&M.find(K=>K.id===W);return(typeof B.deletable=="boolean"?B.deletable:!0)&&(j.includes(B.id)||H)&&M.push(B),M},[]),N=v.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),P=N.filter(M=>w.includes(M.id));if(R||P){const M=aTe(R,N),B=[...P,...M],W=B.reduce((H,V)=>(H.includes(V.id)||H.push(V.id),H),[]);if((x||y)&&(x&&e.setState({edges:v.filter(H=>!W.includes(H.id))}),y&&(R.forEach(H=>{p.delete(H.id)}),e.setState({nodeInternals:new Map(p)}))),W.length>0&&(E==null||E(B),S&&S(W.map(H=>({id:H,type:"remove"})))),R.length>0&&(T==null||T(R),_)){const H=R.map(V=>({id:V.id,type:"remove"}));_(H)}}},[]),f=D.useCallback(C=>{const I=wrt(C),p=I?null:e.getState().nodeInternals.get(C.id);return!I&&!p?[null,null,I]:[I?C:bQ(p),p,I]},[]),h=D.useCallback((C,I=!0,p)=>{const[m,v,y]=f(C);return m?(p||e.getState().getNodes()).filter(x=>{if(!y&&(x.id===v.id||!x.positionAbsolute))return!1;const T=bQ(x),E=R7(T,m);return I&&E>0||E>=m.width*m.height}):[]},[]),A=D.useCallback((C,I,p=!0)=>{const[m]=f(C);if(!m)return!1;const v=R7(m,I);return p&&v>0||v>=m.width*m.height},[]);return D.useMemo(()=>({...t,getNodes:r,getNode:n,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:g,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:A}),[t,r,n,i,s,o,a,l,u,g,d,h,A])}const int={actInsideInputWithModifier:!1};var snt=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const r=ks(),{deleteElements:n}=uW(),i=By(t,int),s=By(e);D.useEffect(()=>{if(i){const{edges:o,getNodes:a}=r.getState(),l=a().filter(g=>g.selected),u=o.filter(g=>g.selected);n({nodes:l,edges:u}),r.setState({nodesSelectionActive:!1})}},[i]),D.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function ont(t){const e=ks();D.useEffect(()=>{let r;const n=()=>{var s,o;if(!t.current)return;const i=rW(t.current);(i.height===0||i.width===0)&&((o=(s=e.getState()).onError)==null||o.call(s,"004",Id.error004())),e.setState({width:i.width||500,height:i.height||500})};return n(),window.addEventListener("resize",n),t.current&&(r=new ResizeObserver(()=>n()),r.observe(t.current)),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}},[])}const gW={position:"absolute",width:"100%",height:"100%",top:0,left:0},ant=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ew=t=>({x:t.x,y:t.y,zoom:t.k}),EI=(t,e)=>t.target.closest(`.${e}`),PQ=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),kQ=t=>{const e=t.ctrlKey&&H2()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},lnt=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),cnt=({onMove:t,onMoveStart:e,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=cA.Free,zoomOnDoubleClick:u=!0,elementsSelectable:g,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:A,maxZoom:C,zoomActivationKeyCode:I,preventScrolling:p=!0,children:m,noWheelClassName:v,noPanClassName:y})=>{const x=D.useRef(),T=ks(),E=D.useRef(!1),_=D.useRef(!1),S=D.useRef(null),j=D.useRef({x:0,y:0,zoom:0}),{d3Zoom:w,d3Selection:R,d3ZoomHandler:N,userSelectionActive:P}=ti(lnt,Zs),M=By(I),B=D.useRef(0),W=D.useRef(!1),H=D.useRef();return ont(S),D.useEffect(()=>{if(S.current){const V=S.current.getBoundingClientRect(),K=GI().scaleExtent([A,C]).translateExtent(h),Y=zs(S.current).call(K),k=Bc.translate(f.x,f.y).scale(Gp(f.zoom,A,C)),q=[[0,0],[V.width,V.height]],z=K.constrain()(k,q,h);K.transform(Y,z),K.wheelDelta(kQ),T.setState({d3Zoom:K,d3Selection:Y,d3ZoomHandler:Y.on("wheel.zoom"),transform:[z.x,z.y,z.k],domNode:S.current.closest(".react-flow")})}},[]),D.useEffect(()=>{R&&w&&(o&&!M&&!P?R.on("wheel.zoom",V=>{if(EI(V,v))return!1;V.preventDefault(),V.stopImmediatePropagation();const K=R.property("__zoom").k||1;if(V.ctrlKey&&s){const re=Ec(V),ie=kQ(V),Ce=K*Math.pow(2,ie);w.scaleTo(R,Ce,re,V);return}const Y=V.deltaMode===1?20:1;let k=l===cA.Vertical?0:V.deltaX*Y,q=l===cA.Horizontal?0:V.deltaY*Y;!H2()&&V.shiftKey&&l!==cA.Vertical&&(k=V.deltaY*Y,q=0),w.translateBy(R,-(k/K)*a,-(q/K)*a,{internal:!0});const z=ew(R.property("__zoom")),{onViewportChangeStart:G,onViewportChange:Z,onViewportChangeEnd:ue}=T.getState();clearTimeout(H.current),W.current||(W.current=!0,e==null||e(V,z),G==null||G(z)),W.current&&(t==null||t(V,z),Z==null||Z(z),H.current=setTimeout(()=>{r==null||r(V,z),ue==null||ue(z),W.current=!1},150))},{passive:!1}):typeof N<"u"&&R.on("wheel.zoom",function(V,K){if(!p&&V.type==="wheel"&&!V.ctrlKey||EI(V,v))return null;V.preventDefault(),N.call(this,V,K)},{passive:!1}))},[P,o,l,R,w,N,M,s,p,v,e,t,r]),D.useEffect(()=>{w&&w.on("start",V=>{var k,q;if(!V.sourceEvent||V.sourceEvent.internal)return null;B.current=(k=V.sourceEvent)==null?void 0:k.button;const{onViewportChangeStart:K}=T.getState(),Y=ew(V.transform);E.current=!0,j.current=Y,((q=V.sourceEvent)==null?void 0:q.type)==="mousedown"&&T.setState({paneDragging:!0}),K==null||K(Y),e==null||e(V.sourceEvent,Y)})},[w,e]),D.useEffect(()=>{w&&(P&&!E.current?w.on("zoom",null):P||w.on("zoom",V=>{var Y;const{onViewportChange:K}=T.getState();if(T.setState({transform:[V.transform.x,V.transform.y,V.transform.k]}),_.current=!!(n&&PQ(d,B.current??0)),(t||K)&&!((Y=V.sourceEvent)!=null&&Y.internal)){const k=ew(V.transform);K==null||K(k),t==null||t(V.sourceEvent,k)}}))},[P,w,t,d,n]),D.useEffect(()=>{w&&w.on("end",V=>{if(!V.sourceEvent||V.sourceEvent.internal)return null;const{onViewportChangeEnd:K}=T.getState();if(E.current=!1,T.setState({paneDragging:!1}),n&&PQ(d,B.current??0)&&!_.current&&n(V.sourceEvent),_.current=!1,(r||K)&&ant(j.current,V.transform)){const Y=ew(V.transform);j.current=Y,clearTimeout(x.current),x.current=setTimeout(()=>{K==null||K(Y),r==null||r(V.sourceEvent,Y)},o?150:0)}})},[w,o,d,r,n]),D.useEffect(()=>{w&&w.filter(V=>{const K=M||i,Y=s&&V.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&V.button===1&&V.type==="mousedown"&&(EI(V,"react-flow__node")||EI(V,"react-flow__edge")))return!0;if(!d&&!K&&!o&&!u&&!s||P||!u&&V.type==="dblclick"||EI(V,v)&&V.type==="wheel"||EI(V,y)&&(V.type!=="wheel"||o&&V.type==="wheel"&&!M)||!s&&V.ctrlKey&&V.type==="wheel"||!K&&!o&&!Y&&V.type==="wheel"||!d&&(V.type==="mousedown"||V.type==="touchstart")||Array.isArray(d)&&!d.includes(V.button)&&V.type==="mousedown")return!1;const k=Array.isArray(d)&&d.includes(V.button)||!V.button||V.button<=1;return(!V.ctrlKey||V.type==="wheel")&&k})},[P,w,i,s,o,u,d,g,M]),Ue.createElement("div",{className:"react-flow__renderer",ref:S,style:gW},m)},unt=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function gnt(){const{userSelectionActive:t,userSelectionRect:e}=ti(unt,Zs);return t&&e?Ue.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function DQ(t,e){const r=e.parentNode||e.parentId,n=t.find(i=>i.id===r);if(n){const i=e.position.x+e.width-n.width,s=e.position.y+e.height-n.height;if(i>0||s>0||e.position.x<0||e.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,i>0&&(n.style.width+=i),s>0&&(n.style.height+=s),e.position.x<0){const o=Math.abs(e.position.x);n.position.x=n.position.x-o,n.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);n.position.y=n.position.y-o,n.style.height+=o,e.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function wTe(t,e){if(t.some(n=>n.type==="reset"))return t.filter(n=>n.type==="reset").map(n=>n.item);const r=t.filter(n=>n.type==="add").map(n=>n.item);return e.reduce((n,i)=>{const s=t.filter(a=>a.id===i.id);if(s.length===0)return n.push(i),n;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&DQ(n,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&DQ(n,o);break}case"remove":return n}return n.push(o),n},r)}function STe(t,e){return wTe(t,e)}function dnt(t,e){return wTe(t,e)}const oh=(t,e)=>({id:t,type:"select",selected:e});function KI(t,e){return t.reduce((r,n)=>{const i=e.includes(n.id);return!n.selected&&i?(n.selected=!0,r.push(oh(n.id,!0))):n.selected&&!i&&(n.selected=!1,r.push(oh(n.id,!1))),r},[])}const $5=(t,e)=>r=>{r.target===e.current&&(t==null||t(r))},hnt=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),ETe=D.memo(({isSelecting:t,selectionMode:e=My.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:g,children:d})=>{const f=D.useRef(null),h=ks(),A=D.useRef(0),C=D.useRef(0),I=D.useRef(),{userSelectionActive:p,elementsSelectable:m,dragging:v}=ti(hnt,Zs),y=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),A.current=0,C.current=0},x=N=>{s==null||s(N),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},T=N=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){N.preventDefault();return}o==null||o(N)},E=a?N=>a(N):void 0,_=N=>{const{resetSelectedElements:P,domNode:M}=h.getState();if(I.current=M==null?void 0:M.getBoundingClientRect(),!m||!t||N.button!==0||N.target!==f.current||!I.current)return;const{x:B,y:W}=Lh(N,I.current);P(),h.setState({userSelectionRect:{width:0,height:0,startX:B,startY:W,x:B,y:W}}),n==null||n(N)},S=N=>{const{userSelectionRect:P,nodeInternals:M,edges:B,transform:W,onNodesChange:H,onEdgesChange:V,nodeOrigin:K,getNodes:Y}=h.getState();if(!t||!I.current||!P)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const k=Lh(N,I.current),q=P.startX??0,z=P.startY??0,G={...P,x:k.x<q?k.x:q,y:k.y<z?k.y:z,width:Math.abs(k.x-q),height:Math.abs(k.y-z)},Z=Y(),ue=oTe(M,G,W,e===My.Partial,!0,K),re=aTe(ue,B).map(Ce=>Ce.id),ie=ue.map(Ce=>Ce.id);if(A.current!==ie.length){A.current=ie.length;const Ce=KI(Z,ie);Ce.length&&(H==null||H(Ce))}if(C.current!==re.length){C.current=re.length;const Ce=KI(B,re);Ce.length&&(V==null||V(Ce))}h.setState({userSelectionRect:G})},j=N=>{if(N.button!==0)return;const{userSelectionRect:P}=h.getState();!p&&P&&N.target===f.current&&(x==null||x(N)),h.setState({nodesSelectionActive:A.current>0}),y(),i==null||i(N)},w=N=>{p&&(h.setState({nodesSelectionActive:A.current>0}),i==null||i(N)),y()},R=m&&(t||p);return Ue.createElement("div",{className:So(["react-flow__pane",{dragging:v,selection:t}]),onClick:R?void 0:$5(x,f),onContextMenu:$5(T,f),onWheel:$5(E,f),onMouseEnter:R?void 0:l,onMouseDown:R?_:void 0,onMouseMove:R?S:u,onMouseUp:R?j:void 0,onMouseLeave:R?w:g,ref:f,style:gW},d,Ue.createElement(gnt,null))});ETe.displayName="Pane";function _Te(t,e){const r=t.parentNode||t.parentId;if(!r)return!1;const n=e.get(r);return n?n.selected?!0:_Te(n,e):!1}function FQ(t,e,r){let n=t;do{if(n!=null&&n.matches(e))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function fnt(t,e,r,n){return Array.from(t.values()).filter(i=>(i.selected||i.id===n)&&(!i.parentNode||i.parentId||!_Te(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function Ant(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function TTe(t,e,r,n,i=[0,0],s){const o=Ant(t,t.extent||n);let a=o;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const d=r.get(l),{x:f,y:h}=OA(d,i).positionAbsolute;a=d&&Wl(f)&&Wl(h)&&Wl(d.width)&&Wl(d.height)?[[f+t.width*i[0],h+t.height*i[1]],[f+d.width-t.width+t.width*i[0],h+d.height-t.height+t.height*i[1]]]:a}else s==null||s("005",Id.error005()),a=o;else if(t.extent&&l&&t.extent!=="parent"){const d=r.get(l),{x:f,y:h}=OA(d,i).positionAbsolute;a=[[t.extent[0][0]+f,t.extent[0][1]+h],[t.extent[1][0]+f,t.extent[1][1]+h]]}let u={x:0,y:0};if(l){const d=r.get(l);u=OA(d,i).positionAbsolute}const g=a&&a!=="parent"?nW(e,a):e;return{position:{x:g.x-u.x,y:g.y-u.y},positionAbsolute:g}}function q5({nodeId:t,dragItems:e,nodeInternals:r}){const n=e.map(i=>({...r.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?n.find(i=>i.id===t):n[0],n]}const LQ=(t,e,r,n)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const s=Array.from(i),o=e.getBoundingClientRect(),a={x:o.width*n[0],y:o.height*n[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/r,y:(u.top-o.top-a.y)/r,...rW(l)}})};function tv(t,e,r){return r===void 0?r:n=>{const i=e().nodeInternals.get(t);i&&r(n,{...i})}}function D7({id:t,store:e,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",Id.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var g;return(g=n==null?void 0:n.current)==null?void 0:g.blur()})):i([t])}function Cnt(){const t=ks();return D.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:i,snapToGrid:s}=t.getState(),o=r.touches?r.touches[0].clientX:r.clientX,a=r.touches?r.touches[0].clientY:r.clientY,l={x:(o-n[0])/n[2],y:(a-n[1])/n[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function z5(t){return(e,r,n)=>t==null?void 0:t(e,n)}function RTe({nodeRef:t,disabled:e=!1,noDragClassName:r,handleSelector:n,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=ks(),[l,u]=D.useState(!1),g=D.useRef([]),d=D.useRef({x:null,y:null}),f=D.useRef(0),h=D.useRef(null),A=D.useRef({x:0,y:0}),C=D.useRef(null),I=D.useRef(!1),p=D.useRef(!1),m=D.useRef(!1),v=Cnt();return D.useEffect(()=>{if(t!=null&&t.current){const y=zs(t.current),x=({x:_,y:S})=>{const{nodeInternals:j,onNodeDrag:w,onSelectionDrag:R,updateNodePositions:N,nodeExtent:P,snapGrid:M,snapToGrid:B,nodeOrigin:W,onError:H}=a.getState();d.current={x:_,y:S};let V=!1,K={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&P){const k=pE(g.current,W);K=Ly(k)}if(g.current=g.current.map(k=>{const q={x:_-k.distance.x,y:S-k.distance.y};B&&(q.x=M[0]*Math.round(q.x/M[0]),q.y=M[1]*Math.round(q.y/M[1]));const z=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];g.current.length>1&&P&&!k.extent&&(z[0][0]=k.positionAbsolute.x-K.x+P[0][0],z[1][0]=k.positionAbsolute.x+(k.width??0)-K.x2+P[1][0],z[0][1]=k.positionAbsolute.y-K.y+P[0][1],z[1][1]=k.positionAbsolute.y+(k.height??0)-K.y2+P[1][1]);const G=TTe(k,q,j,z,W,H);return V=V||k.position.x!==G.position.x||k.position.y!==G.position.y,k.position=G.position,k.positionAbsolute=G.positionAbsolute,k}),!V)return;N(g.current,!0,!0),u(!0);const Y=i?w:z5(R);if(Y&&C.current){const[k,q]=q5({nodeId:i,dragItems:g.current,nodeInternals:j});Y(C.current,k,q)}},T=()=>{if(!h.current)return;const[_,S]=K_e(A.current,h.current);if(_!==0||S!==0){const{transform:j,panBy:w}=a.getState();d.current.x=(d.current.x??0)-_/j[2],d.current.y=(d.current.y??0)-S/j[2],w({x:_,y:S})&&x(d.current)}f.current=requestAnimationFrame(T)},E=_=>{var W;const{nodeInternals:S,multiSelectionActive:j,nodesDraggable:w,unselectNodesAndEdges:R,onNodeDragStart:N,onSelectionDragStart:P}=a.getState();p.current=!0;const M=i?N:z5(P);(!o||!s)&&!j&&i&&((W=S.get(i))!=null&&W.selected||R()),i&&s&&o&&D7({id:i,store:a,nodeRef:t});const B=v(_);if(d.current=B,g.current=fnt(S,w,B,i),M&&g.current){const[H,V]=q5({nodeId:i,dragItems:g.current,nodeInternals:S});M(_.sourceEvent,H,V)}};if(e)y.on(".drag",null);else{const _=eKe().on("start",S=>{const{domNode:j,nodeDragThreshold:w}=a.getState();w===0&&E(S),m.current=!1;const R=v(S);d.current=R,h.current=(j==null?void 0:j.getBoundingClientRect())||null,A.current=Lh(S.sourceEvent,h.current)}).on("drag",S=>{var N,P;const j=v(S),{autoPanOnNodeDrag:w,nodeDragThreshold:R}=a.getState();if(S.sourceEvent.type==="touchmove"&&S.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!I.current&&p.current&&w&&(I.current=!0,T()),!p.current){const M=j.xSnapped-(((N=d==null?void 0:d.current)==null?void 0:N.x)??0),B=j.ySnapped-(((P=d==null?void 0:d.current)==null?void 0:P.y)??0);Math.sqrt(M*M+B*B)>R&&E(S)}(d.current.x!==j.xSnapped||d.current.y!==j.ySnapped)&&g.current&&p.current&&(C.current=S.sourceEvent,A.current=Lh(S.sourceEvent,h.current),x(j))}}).on("end",S=>{if(!(!p.current||m.current)&&(u(!1),I.current=!1,p.current=!1,cancelAnimationFrame(f.current),g.current)){const{updateNodePositions:j,nodeInternals:w,onNodeDragStop:R,onSelectionDragStop:N}=a.getState(),P=i?R:z5(N);if(j(g.current,!1,!1),P){const[M,B]=q5({nodeId:i,dragItems:g.current,nodeInternals:w});P(S.sourceEvent,M,B)}}}).filter(S=>{const j=S.target;return!S.button&&(!r||!FQ(j,`.${r}`,t))&&(!n||FQ(j,n,t))});return y.call(_),()=>{y.on(".drag",null)}}}},[t,e,r,n,s,a,i,o,v]),l}function NTe(){const t=ks();return D.useCallback(r=>{const{nodeInternals:n,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:g}=t.getState(),d=o().filter(m=>m.selected&&(m.draggable||g&&typeof m.draggable>"u")),f=a?l[0]:5,h=a?l[1]:5,A=r.isShiftPressed?4:1,C=r.x*f*A,I=r.y*h*A,p=d.map(m=>{if(m.positionAbsolute){const v={x:m.positionAbsolute.x+C,y:m.positionAbsolute.y+I};a&&(v.x=l[0]*Math.round(v.x/l[0]),v.y=l[1]*Math.round(v.y/l[1]));const{positionAbsolute:y,position:x}=TTe(m,v,n,i,void 0,u);m.position=x,m.positionAbsolute=y}return m});s(p,!0,!1)},[])}const pp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var rv=t=>{const e=({id:r,type:n,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:g,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:A,onDoubleClick:C,style:I,className:p,isDraggable:m,isSelectable:v,isConnectable:y,isFocusable:x,selectNodesOnDrag:T,sourcePosition:E,targetPosition:_,hidden:S,resizeObserver:j,dragHandle:w,zIndex:R,isParent:N,noDragClassName:P,noPanClassName:M,initialized:B,disableKeyboardA11y:W,ariaLabel:H,rfId:V,hasHandleBounds:K})=>{const Y=ks(),k=D.useRef(null),q=D.useRef(null),z=D.useRef(E),G=D.useRef(_),Z=D.useRef(n),ue=v||m||g||d||f||h,re=NTe(),ie=tv(r,Y.getState,d),Ce=tv(r,Y.getState,f),Pe=tv(r,Y.getState,h),Fe=tv(r,Y.getState,A),He=tv(r,Y.getState,C),Te=Re=>{const{nodeDragThreshold:ke}=Y.getState();if(v&&(!T||!m||ke>0)&&D7({id:r,store:Y,nodeRef:k}),g){const Ye=Y.getState().nodeInternals.get(r);Ye&&g(Re,{...Ye})}},se=Re=>{if(!N7(Re)&&!W)if(Q_e.includes(Re.key)&&v){const ke=Re.key==="Escape";D7({id:r,store:Y,unselect:ke,nodeRef:k})}else m&&u&&Object.prototype.hasOwnProperty.call(pp,Re.key)&&(Y.setState({ariaLiveMessage:`Moved selected node ${Re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),re({x:pp[Re.key].x,y:pp[Re.key].y,isShiftPressed:Re.shiftKey}))};D.useEffect(()=>()=>{q.current&&(j==null||j.unobserve(q.current),q.current=null)},[]),D.useEffect(()=>{if(k.current&&!S){const Re=k.current;(!B||!K||q.current!==Re)&&(q.current&&(j==null||j.unobserve(q.current)),j==null||j.observe(Re),q.current=Re)}},[S,B,K]),D.useEffect(()=>{const Re=Z.current!==n,ke=z.current!==E,Ye=G.current!==_;k.current&&(Re||ke||Ye)&&(Re&&(Z.current=n),ke&&(z.current=E),Ye&&(G.current=_),Y.getState().updateNodeDimensions([{id:r,nodeElement:k.current,forceUpdate:!0}]))},[r,n,E,_]);const Ct=RTe({nodeRef:k,disabled:S||!m,noDragClassName:P,handleSelector:w,nodeId:r,isSelectable:v,selectNodesOnDrag:T});return S?null:Ue.createElement("div",{className:So(["react-flow__node",`react-flow__node-${n}`,{[M]:m},p,{selected:u,selectable:v,parent:N,dragging:Ct}]),ref:k,style:{zIndex:R,transform:`translate(${a}px,${l}px)`,pointerEvents:ue?"all":"none",visibility:B?"visible":"hidden",...I},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ie,onMouseMove:Ce,onMouseLeave:Pe,onContextMenu:Fe,onClick:Te,onDoubleClick:He,onKeyDown:x?se:void 0,tabIndex:x?0:void 0,role:x?"button":void 0,"aria-describedby":W?void 0:`${mTe}-${V}`,"aria-label":H},Ue.createElement(Ort,{value:r},Ue.createElement(t,{id:r,data:i,type:n,xPos:s,yPos:o,selected:u,isConnectable:y,sourcePosition:E,targetPosition:_,dragging:Ct,dragHandle:w,zIndex:R})))};return e.displayName="NodeWrapper",D.memo(e)};const Int=t=>{const e=t.getNodes().filter(r=>r.selected);return{...pE(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function pnt({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:r}){const n=ks(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=ti(Int,Zs),g=NTe(),d=D.useRef(null);if(D.useEffect(()=>{var A;r||(A=d.current)==null||A.focus({preventScroll:!0})},[r]),RTe({nodeRef:d}),u||!i||!s)return null;const f=t?A=>{const C=n.getState().getNodes().filter(I=>I.selected);t(A,C)}:void 0,h=A=>{Object.prototype.hasOwnProperty.call(pp,A.key)&&g({x:pp[A.key].x,y:pp[A.key].y,isShiftPressed:A.shiftKey})};return Ue.createElement("div",{className:So(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},Ue.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var mnt=D.memo(pnt);const vnt=t=>t.nodesSelectionActive,OTe=({children:t,onPaneClick:e,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:g,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:A,onSelectionEnd:C,multiSelectionKeyCode:I,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:x,panOnScroll:T,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:S,panOnDrag:j,defaultViewport:w,translateExtent:R,minZoom:N,maxZoom:P,preventScrolling:M,onSelectionContextMenu:B,noWheelClassName:W,noPanClassName:H,disableKeyboardA11y:V})=>{const K=ti(vnt),Y=By(d),k=By(p),q=k||j,z=k||T,G=Y||f&&q!==!0;return snt({deleteKeyCode:a,multiSelectionKeyCode:I}),Ue.createElement(cnt,{onMove:l,onMoveStart:u,onMoveEnd:g,onPaneContextMenu:s,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:x,panOnScroll:z,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:S,panOnDrag:!Y&&q,defaultViewport:w,translateExtent:R,minZoom:N,maxZoom:P,zoomActivationKeyCode:m,preventScrolling:M,noWheelClassName:W,noPanClassName:H},Ue.createElement(ETe,{onSelectionStart:A,onSelectionEnd:C,onPaneClick:e,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:q,isSelecting:!!G,selectionMode:h},t,K&&Ue.createElement(mnt,{onSelectionContextMenu:B,noPanClassName:H,disableKeyboardA11y:V})))};OTe.displayName="FlowRenderer";var ynt=D.memo(OTe);function xnt(t){return ti(D.useCallback(r=>t?oTe(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[t]))}function bnt(t){const e={input:rv(t.input||ATe),default:rv(t.default||k7),output:rv(t.output||ITe),group:rv(t.group||cW)},r={},n=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=rv(t[s]||k7),i),r);return{...e,...n}}const wnt=({x:t,y:e,width:r,height:n,origin:i})=>!r||!n?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-r*i[0],y:e-n*i[1]},Snt=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),jTe=t=>{const{nodesDraggable:e,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,updateNodeDimensions:s,onError:o}=ti(Snt,Zs),a=xnt(t.onlyRenderVisibleElements),l=D.useRef(),u=D.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(f)});return l.current=g,g},[]);return D.useEffect(()=>()=>{var g;(g=l==null?void 0:l.current)==null||g.disconnect()},[]),Ue.createElement("div",{className:"react-flow__nodes",style:gW},a.map(g=>{var x,T,E;let d=g.type||"default";t.nodeTypes[d]||(o==null||o("003",Id.error003(d)),d="default");const f=t.nodeTypes[d]||t.nodeTypes.default,h=!!(g.draggable||e&&typeof g.draggable>"u"),A=!!(g.selectable||i&&typeof g.selectable>"u"),C=!!(g.connectable||r&&typeof g.connectable>"u"),I=!!(g.focusable||n&&typeof g.focusable>"u"),p=t.nodeExtent?nW(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,m=(p==null?void 0:p.x)??0,v=(p==null?void 0:p.y)??0,y=wnt({x:m,y:v,width:g.width??0,height:g.height??0,origin:t.nodeOrigin});return Ue.createElement(f,{key:g.id,id:g.id,className:g.className,style:g.style,type:d,data:g.data,sourcePosition:g.sourcePosition||or.Bottom,targetPosition:g.targetPosition||or.Top,hidden:g.hidden,xPos:m,yPos:v,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:h,isSelectable:A,isConnectable:C,isFocusable:I,resizeObserver:u,dragHandle:g.dragHandle,zIndex:((x=g[Di])==null?void 0:x.z)??0,isParent:!!((T=g[Di])!=null&&T.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!((E=g[Di])!=null&&E.handleBounds)})}))};jTe.displayName="NodeRenderer";var Ent=D.memo(jTe);const _nt=(t,e,r)=>r===or.Left?t-e:r===or.Right?t+e:t,Tnt=(t,e,r)=>r===or.Top?t-e:r===or.Bottom?t+e:t,MQ="react-flow__edgeupdater",BQ=({position:t,centerX:e,centerY:r,radius:n=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>Ue.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:So([MQ,`${MQ}-${a}`]),cx:_nt(e,n,t),cy:Tnt(r,n,t),r:n,stroke:"transparent",fill:"transparent"}),Rnt=()=>!0;var _I=t=>{const e=({id:r,className:n,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:g,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:A,labelBgBorderRadius:C,style:I,source:p,target:m,sourceX:v,sourceY:y,targetX:x,targetY:T,sourcePosition:E,targetPosition:_,elementsSelectable:S,hidden:j,sourceHandleId:w,targetHandleId:R,onContextMenu:N,onMouseEnter:P,onMouseMove:M,onMouseLeave:B,reconnectRadius:W,onReconnect:H,onReconnectStart:V,onReconnectEnd:K,markerEnd:Y,markerStart:k,rfId:q,ariaLabel:z,isFocusable:G,isReconnectable:Z,pathOptions:ue,interactionWidth:re,disableKeyboardA11y:ie})=>{const Ce=D.useRef(null),[Pe,Fe]=D.useState(!1),[He,Te]=D.useState(!1),se=ks(),Ct=D.useMemo(()=>`url('#${j7(k,q)}')`,[k,q]),Re=D.useMemo(()=>`url('#${j7(Y,q)}')`,[Y,q]);if(j)return null;const ke=Qe=>{var zt;const{edges:it,addSelectedEdges:ot,unselectNodesAndEdges:Ve,multiSelectionActive:ut}=se.getState(),qt=it.find(Cr=>Cr.id===r);qt&&(S&&(se.setState({nodesSelectionActive:!1}),qt.selected&&ut?(Ve({nodes:[],edges:[qt]}),(zt=Ce.current)==null||zt.blur()):ot([r])),o&&o(Qe,qt))},Ye=ev(r,se.getState,a),xt=ev(r,se.getState,N),ft=ev(r,se.getState,P),$t=ev(r,se.getState,M),bt=ev(r,se.getState,B),Gt=(Qe,it)=>{if(Qe.button!==0)return;const{edges:ot,isValidConnection:Ve}=se.getState(),ut=it?m:p,qt=(it?R:w)||null,zt=it?"target":"source",Cr=Ve||Rnt,Ir=it,In=ot.find(nr=>nr.id===r);Te(!0),V==null||V(Qe,In,zt);const ri=nr=>{Te(!1),K==null||K(nr,In,zt)};gTe({event:Qe,handleId:qt,nodeId:ut,onConnect:nr=>H==null?void 0:H(In,nr),isTarget:Ir,getState:se.getState,setState:se.setState,isValidConnection:Cr,edgeUpdaterType:zt,onReconnectEnd:ri})},Wt=Qe=>Gt(Qe,!0),Qt=Qe=>Gt(Qe,!1),hr=()=>Fe(!0),Bt=()=>Fe(!1),Ft=!S&&!o,Ht=Qe=>{var it;if(!ie&&Q_e.includes(Qe.key)&&S){const{unselectNodesAndEdges:ot,addSelectedEdges:Ve,edges:ut}=se.getState();Qe.key==="Escape"?((it=Ce.current)==null||it.blur(),ot({edges:[ut.find(zt=>zt.id===r)]})):Ve([r])}};return Ue.createElement("g",{className:So(["react-flow__edge",`react-flow__edge-${i}`,n,{selected:l,animated:u,inactive:Ft,updating:Pe}]),onClick:ke,onDoubleClick:Ye,onContextMenu:xt,onMouseEnter:ft,onMouseMove:$t,onMouseLeave:bt,onKeyDown:G?Ht:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":z===null?void 0:z||`Edge from ${p} to ${m}`,"aria-describedby":G?`${vTe}-${q}`:void 0,ref:Ce},!He&&Ue.createElement(t,{id:r,source:p,target:m,selected:l,animated:u,label:g,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:A,labelBgBorderRadius:C,data:s,style:I,sourceX:v,sourceY:y,targetX:x,targetY:T,sourcePosition:E,targetPosition:_,sourceHandleId:w,targetHandleId:R,markerStart:Ct,markerEnd:Re,pathOptions:ue,interactionWidth:re}),Z&&Ue.createElement(Ue.Fragment,null,(Z==="source"||Z===!0)&&Ue.createElement(BQ,{position:E,centerX:v,centerY:y,radius:W,onMouseDown:Wt,onMouseEnter:hr,onMouseOut:Bt,type:"source"}),(Z==="target"||Z===!0)&&Ue.createElement(BQ,{position:_,centerX:x,centerY:T,radius:W,onMouseDown:Qt,onMouseEnter:hr,onMouseOut:Bt,type:"target"})))};return e.displayName="EdgeWrapper",D.memo(e)};function Nnt(t){const e={default:_I(t.default||K2),straight:_I(t.bezier||oW),step:_I(t.step||sW),smoothstep:_I(t.step||IE),simplebezier:_I(t.simplebezier||iW)},r={},n=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=_I(t[s]||K2),i),r);return{...e,...n}}function $Q(t,e,r=null){const n=((r==null?void 0:r.x)||0)+e.x,i=((r==null?void 0:r.y)||0)+e.y,s=(r==null?void 0:r.width)||e.width,o=(r==null?void 0:r.height)||e.height;switch(t){case or.Top:return{x:n+s/2,y:i};case or.Right:return{x:n+s,y:i+o/2};case or.Bottom:return{x:n+s/2,y:i+o};case or.Left:return{x:n,y:i+o/2}}}function qQ(t,e){return t?t.length===1||!e?t[0]:e&&t.find(r=>r.id===e)||null:null}const Ont=(t,e,r,n,i,s)=>{const o=$Q(r,t,e),a=$Q(s,n,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function jnt({sourcePos:t,targetPos:e,sourceWidth:r,sourceHeight:n,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+r,e.x+i),y2:Math.max(t.y+n,e.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const g=Ly({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),d=Math.max(0,Math.min(g.x2,u.x2)-Math.max(g.x,u.x)),f=Math.max(0,Math.min(g.y2,u.y2)-Math.max(g.y,u.y));return Math.ceil(d*f)>0}function zQ(t){var n,i,s,o,a;const e=((n=t==null?void 0:t[Di])==null?void 0:n.handleBounds)||null,r=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!r]}const Pnt=[{level:0,isMaxLevel:!0,edges:[]}];function knt(t,e,r=!1){let n=-1;const i=t.reduce((o,a)=>{var g,d;const l=Wl(a.zIndex);let u=l?a.zIndex:0;if(r){const f=e.get(a.target),h=e.get(a.source),A=a.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),C=Math.max(((g=h==null?void 0:h[Di])==null?void 0:g.z)||0,((d=f==null?void 0:f[Di])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(A?C:0)}return o[u]?o[u].push(a):o[u]=[a],n=u>n?u:n,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===n}});return s.length===0?Pnt:s}function Dnt(t,e,r){const n=ti(D.useCallback(i=>t?i.edges.filter(s=>{const o=e.get(s.source),a=e.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&jnt({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return knt(n,e,r)}const Fnt=({color:t="none",strokeWidth:e=1})=>Ue.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Lnt=({color:t="none",strokeWidth:e=1})=>Ue.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),UQ={[Vp.Arrow]:Fnt,[Vp.ArrowClosed]:Lnt};function Mnt(t){const e=ks();return D.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(UQ,t)?UQ[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Id.error009(t)),null)},[t])}const Bnt=({id:t,type:e,color:r,width:n=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=Mnt(e);return l?Ue.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},Ue.createElement(l,{color:r,strokeWidth:o})):null},$nt=({defaultColor:t,rfId:e})=>r=>{const n=[];return r.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=j7(o,e);n.includes(a)||(i.push({id:a,color:o.color||t,...o}),n.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},PTe=({defaultColor:t,rfId:e})=>{const r=ti(D.useCallback($nt({defaultColor:t,rfId:e}),[t,e]),(n,i)=>!(n.length!==i.length||n.some((s,o)=>s.id!==i[o].id)));return Ue.createElement("defs",null,r.map(n=>Ue.createElement(Bnt,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};PTe.displayName="MarkerDefinitions";var qnt=D.memo(PTe);const znt=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),kTe=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:r,rfId:n,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:g,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:A,reconnectRadius:C,children:I,disableKeyboardA11y:p})=>{const{edgesFocusable:m,edgesUpdatable:v,elementsSelectable:y,width:x,height:T,connectionMode:E,nodeInternals:_,onError:S}=ti(znt,Zs),j=Dnt(e,_,r);return x?Ue.createElement(Ue.Fragment,null,j.map(({level:w,edges:R,isMaxLevel:N})=>Ue.createElement("svg",{key:w,style:{zIndex:w},width:x,height:T,className:"react-flow__edges react-flow__container"},N&&Ue.createElement(qnt,{defaultColor:t,rfId:n}),Ue.createElement("g",null,R.map(P=>{const[M,B,W]=zQ(_.get(P.source)),[H,V,K]=zQ(_.get(P.target));if(!W||!K)return null;let Y=P.type||"default";i[Y]||(S==null||S("011",Id.error011(Y)),Y="default");const k=i[Y]||i.default,q=E===lC.Strict?V.target:(V.target??[]).concat(V.source??[]),z=qQ(B.source,P.sourceHandle),G=qQ(q,P.targetHandle),Z=(z==null?void 0:z.position)||or.Bottom,ue=(G==null?void 0:G.position)||or.Top,re=!!(P.focusable||m&&typeof P.focusable>"u"),ie=P.reconnectable||P.updatable,Ce=typeof f<"u"&&(ie||v&&typeof ie>"u");if(!z||!G)return S==null||S("008",Id.error008(z,P)),null;const{sourceX:Pe,sourceY:Fe,targetX:He,targetY:Te}=Ont(M,z,Z,H,G,ue);return Ue.createElement(k,{key:P.id,id:P.id,className:So([P.className,s]),type:Y,data:P.data,selected:!!P.selected,animated:!!P.animated,hidden:!!P.hidden,label:P.label,labelStyle:P.labelStyle,labelShowBg:P.labelShowBg,labelBgStyle:P.labelBgStyle,labelBgPadding:P.labelBgPadding,labelBgBorderRadius:P.labelBgBorderRadius,style:P.style,source:P.source,target:P.target,sourceHandleId:P.sourceHandle,targetHandleId:P.targetHandle,markerEnd:P.markerEnd,markerStart:P.markerStart,sourceX:Pe,sourceY:Fe,targetX:He,targetY:Te,sourcePosition:Z,targetPosition:ue,elementsSelectable:y,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:g,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:A,reconnectRadius:C,rfId:n,ariaLabel:P.ariaLabel,isFocusable:re,isReconnectable:Ce,pathOptions:"pathOptions"in P?P.pathOptions:void 0,interactionWidth:P.interactionWidth,disableKeyboardA11y:p})})))),I):null};kTe.displayName="EdgeRenderer";var Unt=D.memo(kTe);const Wnt=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Gnt({children:t}){const e=ti(Wnt);return Ue.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Vnt(t){const e=uW(),r=D.useRef(!1);D.useEffect(()=>{!r.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),r.current=!0)},[t,e.viewportInitialized])}const Hnt={[or.Left]:or.Right,[or.Right]:or.Left,[or.Top]:or.Bottom,[or.Bottom]:or.Top},DTe=({nodeId:t,handleType:e,style:r,type:n=ch.Bezier,CustomComponent:i,connectionStatus:s})=>{var T,E,_;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:g}=ti(D.useCallback(S=>({fromNode:S.nodeInternals.get(t),handleId:S.connectionHandleId,toX:(S.connectionPosition.x-S.transform[0])/S.transform[2],toY:(S.connectionPosition.y-S.transform[1])/S.transform[2],connectionMode:S.connectionMode}),[t]),Zs),d=(T=o==null?void 0:o[Di])==null?void 0:T.handleBounds;let f=d==null?void 0:d[e];if(g===lC.Loose&&(f=f||(d==null?void 0:d[e==="source"?"target":"source"])),!o||!f)return null;const h=a?f.find(S=>S.id===a):f[0],A=h?h.x+h.width/2:(o.width??0)/2,C=h?h.y+h.height/2:o.height??0,I=(((E=o.positionAbsolute)==null?void 0:E.x)??0)+A,p=(((_=o.positionAbsolute)==null?void 0:_.y)??0)+C,m=h==null?void 0:h.position,v=m?Hnt[m]:null;if(!m||!v)return null;if(i)return Ue.createElement(i,{connectionLineType:n,connectionLineStyle:r,fromNode:o,fromHandle:h,fromX:I,fromY:p,toX:l,toY:u,fromPosition:m,toPosition:v,connectionStatus:s});let y="";const x={sourceX:I,sourceY:p,sourcePosition:m,targetX:l,targetY:u,targetPosition:v};return n===ch.Bezier?[y]=nTe(x):n===ch.Step?[y]=O7({...x,borderRadius:0}):n===ch.SmoothStep?[y]=O7(x):n===ch.SimpleBezier?[y]=rTe(x):y=`M${I},${p} ${l},${u}`,Ue.createElement("path",{d:y,fill:"none",className:"react-flow__connection-path",style:r})};DTe.displayName="ConnectionLine";const Knt=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Ynt({containerStyle:t,style:e,type:r,component:n}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=ti(Knt,Zs);return!(i&&s&&a&&o)?null:Ue.createElement("svg",{style:t,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},Ue.createElement("g",{className:So(["react-flow__connection",u])},Ue.createElement(DTe,{nodeId:i,handleType:s,style:e,type:r,CustomComponent:n,connectionStatus:u})))}function WQ(t,e){return D.useRef(null),ks(),D.useMemo(()=>e(t),[t])}const FTe=({nodeTypes:t,edgeTypes:e,onMove:r,onMoveStart:n,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:g,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:A,onSelectionStart:C,onSelectionEnd:I,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:x,selectionOnDrag:T,selectionMode:E,multiSelectionKeyCode:_,panActivationKeyCode:S,zoomActivationKeyCode:j,deleteKeyCode:w,onlyRenderVisibleElements:R,elementsSelectable:N,selectNodesOnDrag:P,defaultViewport:M,translateExtent:B,minZoom:W,maxZoom:H,preventScrolling:V,defaultMarkerColor:K,zoomOnScroll:Y,zoomOnPinch:k,panOnScroll:q,panOnScrollSpeed:z,panOnScrollMode:G,zoomOnDoubleClick:Z,panOnDrag:ue,onPaneClick:re,onPaneMouseEnter:ie,onPaneMouseMove:Ce,onPaneMouseLeave:Pe,onPaneScroll:Fe,onPaneContextMenu:He,onEdgeContextMenu:Te,onEdgeMouseEnter:se,onEdgeMouseMove:Ct,onEdgeMouseLeave:Re,onReconnect:ke,onReconnectStart:Ye,onReconnectEnd:xt,reconnectRadius:ft,noDragClassName:$t,noWheelClassName:bt,noPanClassName:Gt,elevateEdgesOnSelect:Wt,disableKeyboardA11y:Qt,nodeOrigin:hr,nodeExtent:Bt,rfId:Ft})=>{const Ht=WQ(t,bnt),Qe=WQ(e,Nnt);return Vnt(s),Ue.createElement(ynt,{onPaneClick:re,onPaneMouseEnter:ie,onPaneMouseMove:Ce,onPaneMouseLeave:Pe,onPaneContextMenu:He,onPaneScroll:Fe,deleteKeyCode:w,selectionKeyCode:x,selectionOnDrag:T,selectionMode:E,onSelectionStart:C,onSelectionEnd:I,multiSelectionKeyCode:_,panActivationKeyCode:S,zoomActivationKeyCode:j,elementsSelectable:N,onMove:r,onMoveStart:n,onMoveEnd:i,zoomOnScroll:Y,zoomOnPinch:k,zoomOnDoubleClick:Z,panOnScroll:q,panOnScrollSpeed:z,panOnScrollMode:G,panOnDrag:ue,defaultViewport:M,translateExtent:B,minZoom:W,maxZoom:H,onSelectionContextMenu:A,preventScrolling:V,noDragClassName:$t,noWheelClassName:bt,noPanClassName:Gt,disableKeyboardA11y:Qt},Ue.createElement(Gnt,null,Ue.createElement(Unt,{edgeTypes:Qe,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:R,onEdgeContextMenu:Te,onEdgeMouseEnter:se,onEdgeMouseMove:Ct,onEdgeMouseLeave:Re,onReconnect:ke,onReconnectStart:Ye,onReconnectEnd:xt,reconnectRadius:ft,defaultMarkerColor:K,noPanClassName:Gt,elevateEdgesOnSelect:!!Wt,disableKeyboardA11y:Qt,rfId:Ft},Ue.createElement(Ynt,{style:m,type:p,component:v,containerStyle:y})),Ue.createElement("div",{className:"react-flow__edgelabel-renderer"}),Ue.createElement(Ent,{nodeTypes:Ht,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:g,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:P,onlyRenderVisibleElements:R,noPanClassName:Gt,noDragClassName:$t,disableKeyboardA11y:Qt,nodeOrigin:hr,nodeExtent:Bt,rfId:Ft})))};FTe.displayName="GraphView";var Znt=D.memo(FTe);const F7=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],th={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:F7,nodeExtent:F7,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:lC.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Srt,isValidConnection:void 0},Xnt=()=>Irt((t,e)=>({...th,setNodes:r=>{const{nodeInternals:n,nodeOrigin:i,elevateNodesOnSelect:s}=e();t({nodeInternals:B5(r,n,i,s)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=e();t({edges:r.map(i=>({...n,...i}))})},setDefaultNodesAndEdges:(r,n)=>{const i=typeof r<"u",s=typeof n<"u",o=i?B5(r,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:s?n:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=e(),g=l==null?void 0:l.querySelector(".react-flow__viewport");if(!g)return;const d=window.getComputedStyle(g),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=r.reduce((C,I)=>{const p=i.get(I.id);if(p!=null&&p.hidden)i.set(p.id,{...p,[Di]:{...p[Di],handleBounds:void 0}});else if(p){const m=rW(I.nodeElement);!!(m.width&&m.height&&(p.width!==m.width||p.height!==m.height||I.forceUpdate))&&(i.set(p.id,{...p,[Di]:{...p[Di],handleBounds:{source:LQ(".source",I.nodeElement,f,u),target:LQ(".target",I.nodeElement,f,u)}},...m}),C.push({id:p.id,type:"dimensions",dimensions:m}))}return C},[]);xTe(i,u);const A=o||s&&!o&&bTe(e,{initial:!0,...a});t({nodeInternals:new Map(i),fitViewOnInitDone:A}),(h==null?void 0:h.length)>0&&(n==null||n(h))},updateNodePositions:(r,n=!0,i=!1)=>{const{triggerNodeChanges:s}=e(),o=r.map(a=>{const l={id:a.id,type:"position",dragging:i};return n&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=e();if(r!=null&&r.length){if(s){const u=STe(r,a()),g=B5(u,i,o,l);t({nodeInternals:g})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:i,getNodes:s}=e();let o,a=null;n?o=r.map(l=>oh(l,!0)):(o=KI(s(),r),a=KI(i,[])),Jb({changedNodes:o,changedEdges:a,get:e,set:t})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:i,getNodes:s}=e();let o,a=null;n?o=r.map(l=>oh(l,!0)):(o=KI(i,r),a=KI(s(),[])),Jb({changedNodes:a,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:i,getNodes:s}=e(),o=r||s(),a=n||i,l=o.map(g=>(g.selected=!1,oh(g.id,!1))),u=a.map(g=>oh(g.id,!1));Jb({changedNodes:l,changedEdges:u,get:e,set:t})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:i}=e();n==null||n.scaleExtent([r,i]),t({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:i}=e();n==null||n.scaleExtent([i,r]),t({maxZoom:r})},setTranslateExtent:r=>{var n;(n=e().d3Zoom)==null||n.translateExtent(r),t({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=e(),s=n().filter(a=>a.selected).map(a=>oh(a.id,!1)),o=r.filter(a=>a.selected).map(a=>oh(a.id,!1));Jb({changedNodes:s,changedEdges:o,get:e,set:t})},setNodeExtent:r=>{const{nodeInternals:n}=e();n.forEach(i=>{i.positionAbsolute=nW(i.position,r)}),t({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=e();if(!o||!a||!r.x&&!r.y)return!1;const u=Bc.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),g=[[0,0],[i,s]],d=o==null?void 0:o.constrain()(u,g,l);return o.transform(a,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>t({connectionNodeId:th.connectionNodeId,connectionHandleId:th.connectionHandleId,connectionHandleType:th.connectionHandleType,connectionStatus:th.connectionStatus,connectionStartHandle:th.connectionStartHandle,connectionEndHandle:th.connectionEndHandle}),reset:()=>t({...th})}),Object.is),dW=({children:t})=>{const e=D.useRef(null);return e.current||(e.current=Xnt()),Ue.createElement(prt,{value:e.current},t)};dW.displayName="ReactFlowProvider";const LTe=({children:t})=>D.useContext(CE)?Ue.createElement(Ue.Fragment,null,t):Ue.createElement(dW,null,t);LTe.displayName="ReactFlowWrapper";const Qnt={input:ATe,default:k7,output:ITe,group:cW},Jnt={default:K2,straight:oW,step:sW,smoothstep:IE,simplebezier:iW},eit=[0,0],tit=[15,15],rit={x:0,y:0,zoom:1},nit={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},MTe=D.forwardRef(({nodes:t,edges:e,defaultNodes:r,defaultEdges:n,className:i,nodeTypes:s=Qnt,edgeTypes:o=Jnt,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:g,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:A,onConnectEnd:C,onClickConnectStart:I,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:y,onNodeContextMenu:x,onNodeDoubleClick:T,onNodeDragStart:E,onNodeDrag:_,onNodeDragStop:S,onNodesDelete:j,onEdgesDelete:w,onSelectionChange:R,onSelectionDragStart:N,onSelectionDrag:P,onSelectionDragStop:M,onSelectionContextMenu:B,onSelectionStart:W,onSelectionEnd:H,connectionMode:V=lC.Strict,connectionLineType:K=ch.Bezier,connectionLineStyle:Y,connectionLineComponent:k,connectionLineContainerStyle:q,deleteKeyCode:z="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:ue=My.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:ie=H2()?"Meta":"Control",zoomActivationKeyCode:Ce=H2()?"Meta":"Control",snapToGrid:Pe=!1,snapGrid:Fe=tit,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:Te=!0,nodesDraggable:se,nodesConnectable:Ct,nodesFocusable:Re,nodeOrigin:ke=eit,edgesFocusable:Ye,edgesUpdatable:xt,elementsSelectable:ft,defaultViewport:$t=rit,minZoom:bt=.5,maxZoom:Gt=2,translateExtent:Wt=F7,preventScrolling:Qt=!0,nodeExtent:hr,defaultMarkerColor:Bt="#b1b1b7",zoomOnScroll:Ft=!0,zoomOnPinch:Ht=!0,panOnScroll:Qe=!1,panOnScrollSpeed:it=.5,panOnScrollMode:ot=cA.Free,zoomOnDoubleClick:Ve=!0,panOnDrag:ut=!0,onPaneClick:qt,onPaneMouseEnter:zt,onPaneMouseMove:Cr,onPaneMouseLeave:Ir,onPaneScroll:In,onPaneContextMenu:ri,children:ln,onEdgeContextMenu:nr,onEdgeDoubleClick:rn,onEdgeMouseEnter:cc,onEdgeMouseMove:ns,onEdgeMouseLeave:$a,onEdgeUpdate:da,onEdgeUpdateStart:gr,onEdgeUpdateEnd:qa,onReconnect:za,onReconnectStart:Ms,onReconnectEnd:Eo,reconnectRadius:Hn=10,edgeUpdaterRadius:bi=10,onNodesChange:J,onEdgesChange:de,noDragClassName:oe="nodrag",noWheelClassName:ce="nowheel",noPanClassName:ge="nopan",fitView:Ie=!1,fitViewOptions:De,connectOnClick:Ze=!0,attributionPosition:Le,proOptions:Me,defaultEdgeOptions:ze,elevateNodesOnSelect:ht=!0,elevateEdgesOnSelect:wt=!1,disableKeyboardA11y:kt=!1,autoPanOnConnect:mt=!0,autoPanOnNodeDrag:Ot=!0,connectionRadius:pr=20,isValidConnection:pn,onError:Gr,style:di,id:Ua,nodeDragThreshold:Wa,...wl},ha)=>{const Sl=Ua||"1";return Ue.createElement("div",{...wl,style:{...di,...nit},ref:ha,className:So(["react-flow",i]),"data-testid":"rf__wrapper",id:Ua},Ue.createElement(LTe,null,Ue.createElement(Znt,{onInit:u,onMove:g,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:y,onNodeContextMenu:x,onNodeDoubleClick:T,nodeTypes:s,edgeTypes:o,connectionLineType:K,connectionLineStyle:Y,connectionLineComponent:k,connectionLineContainerStyle:q,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:ue,deleteKeyCode:z,multiSelectionKeyCode:ie,panActivationKeyCode:re,zoomActivationKeyCode:Ce,onlyRenderVisibleElements:He,selectNodesOnDrag:Te,defaultViewport:$t,translateExtent:Wt,minZoom:bt,maxZoom:Gt,preventScrolling:Qt,zoomOnScroll:Ft,zoomOnPinch:Ht,zoomOnDoubleClick:Ve,panOnScroll:Qe,panOnScrollSpeed:it,panOnScrollMode:ot,panOnDrag:ut,onPaneClick:qt,onPaneMouseEnter:zt,onPaneMouseMove:Cr,onPaneMouseLeave:Ir,onPaneScroll:In,onPaneContextMenu:ri,onSelectionContextMenu:B,onSelectionStart:W,onSelectionEnd:H,onEdgeContextMenu:nr,onEdgeDoubleClick:rn,onEdgeMouseEnter:cc,onEdgeMouseMove:ns,onEdgeMouseLeave:$a,onReconnect:za??da,onReconnectStart:Ms??gr,onReconnectEnd:Eo??qa,reconnectRadius:Hn??bi,defaultMarkerColor:Bt,noDragClassName:oe,noWheelClassName:ce,noPanClassName:ge,elevateEdgesOnSelect:wt,rfId:Sl,disableKeyboardA11y:kt,nodeOrigin:ke,nodeExtent:hr}),Ue.createElement(Hrt,{nodes:t,edges:e,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:A,onConnectEnd:C,onClickConnectStart:I,onClickConnectEnd:p,nodesDraggable:se,nodesConnectable:Ct,nodesFocusable:Re,edgesFocusable:Ye,edgesUpdatable:xt,elementsSelectable:ft,elevateNodesOnSelect:ht,minZoom:bt,maxZoom:Gt,nodeExtent:hr,onNodesChange:J,onEdgesChange:de,snapToGrid:Pe,snapGrid:Fe,connectionMode:V,translateExtent:Wt,connectOnClick:Ze,defaultEdgeOptions:ze,fitView:Ie,fitViewOptions:De,onNodesDelete:j,onEdgesDelete:w,onNodeDragStart:E,onNodeDrag:_,onNodeDragStop:S,onSelectionDrag:P,onSelectionDragStart:N,onSelectionDragStop:M,noPanClassName:ge,nodeOrigin:ke,rfId:Sl,autoPanOnConnect:mt,autoPanOnNodeDrag:Ot,onError:Gr,connectionRadius:pr,isValidConnection:pn,nodeDragThreshold:Wa}),Ue.createElement(Grt,{onSelectionChange:R}),ln,Ue.createElement(vrt,{proOptions:Me,position:Le}),Ue.createElement(Qrt,{rfId:Sl,disableKeyboardA11y:kt})))});MTe.displayName="ReactFlow";function BTe(t){return e=>{const[r,n]=D.useState(e),i=D.useCallback(s=>n(o=>t(s,o)),[]);return[r,n,i]}}const iit=BTe(STe),sit=BTe(dnt),$Te=({id:t,x:e,y:r,width:n,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:g,shapeRendering:d,onClick:f,selected:h})=>{const{background:A,backgroundColor:C}=s||{},I=o||A||C;return Ue.createElement("rect",{className:So(["react-flow__minimap-node",{selected:h},u]),x:e,y:r,rx:g,ry:g,width:n,height:i,fill:I,stroke:a,strokeWidth:l,shapeRendering:d,onClick:f?p=>f(p,t):void 0})};$Te.displayName="MiniMapNode";var oit=D.memo($Te);const ait=t=>t.nodeOrigin,lit=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),U5=t=>t instanceof Function?t:()=>t;function cit({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:i=2,nodeComponent:s=oit,onClick:o}){const a=ti(lit,Zs),l=ti(ait),u=U5(e),g=U5(t),d=U5(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Ue.createElement(Ue.Fragment,null,a.map(h=>{const{x:A,y:C}=OA(h,l).positionAbsolute;return Ue.createElement(s,{key:h.id,x:A,y:C,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:u(h),borderRadius:n,strokeColor:g(h),strokeWidth:i,shapeRendering:f,onClick:o,id:h.id})}))}var uit=D.memo(cit);const git=200,dit=150,hit=t=>{const e=t.getNodes(),r={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:r,boundingRect:e.length>0?brt(pE(e,t.nodeOrigin),r):r,rfId:t.rfId}},fit="react-flow__minimap-desc";function qTe({style:t,className:e,nodeStrokeColor:r="transparent",nodeColor:n="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:g=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:A=!1,zoomable:C=!1,ariaLabel:I="React Flow mini map",inversePan:p=!1,zoomStep:m=10,offsetScale:v=5}){const y=ks(),x=D.useRef(null),{boundingRect:T,viewBB:E,rfId:_}=ti(hit,Zs),S=(t==null?void 0:t.width)??git,j=(t==null?void 0:t.height)??dit,w=T.width/S,R=T.height/j,N=Math.max(w,R),P=N*S,M=N*j,B=v*N,W=T.x-(P-T.width)/2-B,H=T.y-(M-T.height)/2-B,V=P+B*2,K=M+B*2,Y=`${fit}-${_}`,k=D.useRef(0);k.current=N,D.useEffect(()=>{if(x.current){const G=zs(x.current),Z=ie=>{const{transform:Ce,d3Selection:Pe,d3Zoom:Fe}=y.getState();if(ie.sourceEvent.type!=="wheel"||!Pe||!Fe)return;const He=-ie.sourceEvent.deltaY*(ie.sourceEvent.deltaMode===1?.05:ie.sourceEvent.deltaMode?1:.002)*m,Te=Ce[2]*Math.pow(2,He);Fe.scaleTo(Pe,Te)},ue=ie=>{const{transform:Ce,d3Selection:Pe,d3Zoom:Fe,translateExtent:He,width:Te,height:se}=y.getState();if(ie.sourceEvent.type!=="mousemove"||!Pe||!Fe)return;const Ct=k.current*Math.max(1,Ce[2])*(p?-1:1),Re={x:Ce[0]-ie.sourceEvent.movementX*Ct,y:Ce[1]-ie.sourceEvent.movementY*Ct},ke=[[0,0],[Te,se]],Ye=Bc.translate(Re.x,Re.y).scale(Ce[2]),xt=Fe.constrain()(Ye,ke,He);Fe.transform(Pe,xt)},re=GI().on("zoom",A?ue:null).on("zoom.wheel",C?Z:null);return G.call(re),()=>{G.on("zoom",null)}}},[A,C,p,m]);const q=f?G=>{const Z=Ec(G);f(G,{x:Z[0],y:Z[1]})}:void 0,z=h?(G,Z)=>{const ue=y.getState().nodeInternals.get(Z);h(G,ue)}:void 0;return Ue.createElement(Fy,{position:d,style:t,className:So(["react-flow__minimap",e]),"data-testid":"rf__minimap"},Ue.createElement("svg",{width:S,height:j,viewBox:`${W} ${H} ${V} ${K}`,role:"img","aria-labelledby":Y,ref:x,onClick:q},I&&Ue.createElement("title",{id:Y},I),Ue.createElement(uit,{onClick:z,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),Ue.createElement("path",{className:"react-flow__minimap-mask",d:`M${W-B},${H-B}h${V+B*2}v${K+B*2}h${-V-B*2}z
        M${E.x},${E.y}h${E.width}v${E.height}h${-E.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:g,pointerEvents:"none"})))}qTe.displayName="MiniMap";var Ait=D.memo(qTe);function Cit(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ue.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Iit(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ue.createElement("path",{d:"M0 0h32v4.2H0z"}))}function pit(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Ue.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function mit(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function vit(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const yv=({children:t,className:e,...r})=>Ue.createElement("button",{type:"button",className:So(["react-flow__controls-button",e]),...r},t);yv.displayName="ControlButton";const yit=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),zTe=({style:t,showZoom:e=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:g,position:d="bottom-left"})=>{const f=ks(),[h,A]=D.useState(!1),{isInteractive:C,minZoomReached:I,maxZoomReached:p}=ti(yit,Zs),{zoomIn:m,zoomOut:v,fitView:y}=uW();if(D.useEffect(()=>{A(!0)},[]),!h)return null;const x=()=>{m(),s==null||s()},T=()=>{v(),o==null||o()},E=()=>{y(i),a==null||a()},_=()=>{f.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),l==null||l(!C)};return Ue.createElement(Fy,{className:So(["react-flow__controls",u]),position:d,style:t,"data-testid":"rf__controls"},e&&Ue.createElement(Ue.Fragment,null,Ue.createElement(yv,{onClick:x,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},Ue.createElement(Cit,null)),Ue.createElement(yv,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I},Ue.createElement(Iit,null))),r&&Ue.createElement(yv,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},Ue.createElement(pit,null)),n&&Ue.createElement(yv,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},C?Ue.createElement(vit,null):Ue.createElement(mit,null)),g)};zTe.displayName="Controls";var xit=D.memo(zTe),zc;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(zc||(zc={}));function bit({color:t,dimensions:e,lineWidth:r}){return Ue.createElement("path",{stroke:t,strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function wit({color:t,radius:e}){return Ue.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const Sit={[zc.Dots]:"#91919a",[zc.Lines]:"#eee",[zc.Cross]:"#e2e2e2"},Eit={[zc.Dots]:1,[zc.Lines]:1,[zc.Cross]:6},_it=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function UTe({id:t,variant:e=zc.Dots,gap:r=20,size:n,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=D.useRef(null),{transform:g,patternId:d}=ti(_it,Zs),f=o||Sit[e],h=n||Eit[e],A=e===zc.Dots,C=e===zc.Cross,I=Array.isArray(r)?r:[r,r],p=[I[0]*g[2]||1,I[1]*g[2]||1],m=h*g[2],v=C?[m,m]:p,y=A?[m/s,m/s]:[v[0]/s,v[1]/s];return Ue.createElement("svg",{className:So(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},Ue.createElement("pattern",{id:d+t,x:g[0]%p[0],y:g[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${y[0]},-${y[1]})`},A?Ue.createElement(wit,{color:f,radius:m/s}):Ue.createElement(bit,{dimensions:v,color:f,lineWidth:i})),Ue.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+t})`}))}UTe.displayName="Background";var Tit=D.memo(UTe);function hW(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W5,GQ;function Rit(){if(GQ)return W5;GQ=1;function t(){this.__data__=[],this.size=0}return W5=t,W5}var G5,VQ;function _m(){if(VQ)return G5;VQ=1;function t(e,r){return e===r||e!==e&&r!==r}return G5=t,G5}var V5,HQ;function mE(){if(HQ)return V5;HQ=1;var t=_m();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return V5=e,V5}var H5,KQ;function Nit(){if(KQ)return H5;KQ=1;var t=mE(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return H5=n,H5}var K5,YQ;function Oit(){if(YQ)return K5;YQ=1;var t=mE();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return K5=e,K5}var Y5,ZQ;function jit(){if(ZQ)return Y5;ZQ=1;var t=mE();function e(r){return t(this.__data__,r)>-1}return Y5=e,Y5}var Z5,XQ;function Pit(){if(XQ)return Z5;XQ=1;var t=mE();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Z5=e,Z5}var X5,QQ;function vE(){if(QQ)return X5;QQ=1;var t=Rit(),e=Nit(),r=Oit(),n=jit(),i=Pit();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,X5=s,X5}var Q5,JQ;function kit(){if(JQ)return Q5;JQ=1;var t=vE();function e(){this.__data__=new t,this.size=0}return Q5=e,Q5}var J5,eJ;function Dit(){if(eJ)return J5;eJ=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return J5=t,J5}var eR,tJ;function Fit(){if(tJ)return eR;tJ=1;function t(e){return this.__data__.get(e)}return eR=t,eR}var tR,rJ;function Lit(){if(rJ)return tR;rJ=1;function t(e){return this.__data__.has(e)}return tR=t,tR}var rR,nJ;function WTe(){if(nJ)return rR;nJ=1;var t=typeof qg=="object"&&qg&&qg.Object===Object&&qg;return rR=t,rR}var nR,iJ;function nu(){if(iJ)return nR;iJ=1;var t=WTe(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return nR=r,nR}var iR,sJ;function Tm(){if(sJ)return iR;sJ=1;var t=nu(),e=t.Symbol;return iR=e,iR}var sR,oJ;function Mit(){if(oJ)return sR;oJ=1;var t=Tm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var g=n.call(o);return u&&(a?o[i]=l:delete o[i]),g}return sR=s,sR}var oR,aJ;function Bit(){if(aJ)return oR;aJ=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return oR=r,oR}var aR,lJ;function TC(){if(lJ)return aR;lJ=1;var t=Tm(),e=Mit(),r=Bit(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?e(a):r(a)}return aR=o,aR}var lR,cJ;function rc(){if(cJ)return lR;cJ=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return lR=t,lR}var cR,uJ;function F1(){if(uJ)return cR;uJ=1;var t=TC(),e=rc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==n||l==i||l==r||l==s}return cR=o,cR}var uR,gJ;function $it(){if(gJ)return uR;gJ=1;var t=nu(),e=t["__core-js_shared__"];return uR=e,uR}var gR,dJ;function qit(){if(dJ)return gR;dJ=1;var t=$it(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return gR=r,gR}var dR,hJ;function GTe(){if(hJ)return dR;hJ=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return dR=r,dR}var hR,fJ;function zit(){if(fJ)return hR;fJ=1;var t=F1(),e=qit(),r=rc(),n=GTe(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,g=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!r(f)||e(f))return!1;var h=t(f)?g:s;return h.test(n(f))}return hR=d,hR}var fR,AJ;function Uit(){if(AJ)return fR;AJ=1;function t(e,r){return e==null?void 0:e[r]}return fR=t,fR}var AR,CJ;function RC(){if(CJ)return AR;CJ=1;var t=zit(),e=Uit();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return AR=r,AR}var CR,IJ;function fW(){if(IJ)return CR;IJ=1;var t=RC(),e=nu(),r=t(e,"Map");return CR=r,CR}var IR,pJ;function yE(){if(pJ)return IR;pJ=1;var t=RC(),e=t(Object,"create");return IR=e,IR}var pR,mJ;function Wit(){if(mJ)return pR;mJ=1;var t=yE();function e(){this.__data__=t?t(null):{},this.size=0}return pR=e,pR}var mR,vJ;function Git(){if(vJ)return mR;vJ=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return mR=t,mR}var vR,yJ;function Vit(){if(yJ)return vR;yJ=1;var t=yE(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return n.call(o,s)?o[s]:void 0}return vR=i,vR}var yR,xJ;function Hit(){if(xJ)return yR;xJ=1;var t=yE(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return yR=n,yR}var xR,bJ;function Kit(){if(bJ)return xR;bJ=1;var t=yE(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return xR=r,xR}var bR,wJ;function Yit(){if(wJ)return bR;wJ=1;var t=Wit(),e=Git(),r=Vit(),n=Hit(),i=Kit();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,bR=s,bR}var wR,SJ;function Zit(){if(SJ)return wR;SJ=1;var t=Yit(),e=vE(),r=fW();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return wR=n,wR}var SR,EJ;function Xit(){if(EJ)return SR;EJ=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return SR=t,SR}var ER,_J;function xE(){if(_J)return ER;_J=1;var t=Xit();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ER=e,ER}var _R,TJ;function Qit(){if(TJ)return _R;TJ=1;var t=xE();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return _R=e,_R}var TR,RJ;function Jit(){if(RJ)return TR;RJ=1;var t=xE();function e(r){return t(this,r).get(r)}return TR=e,TR}var RR,NJ;function est(){if(NJ)return RR;NJ=1;var t=xE();function e(r){return t(this,r).has(r)}return RR=e,RR}var NR,OJ;function tst(){if(OJ)return NR;OJ=1;var t=xE();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return NR=e,NR}var OR,jJ;function AW(){if(jJ)return OR;jJ=1;var t=Zit(),e=Qit(),r=Jit(),n=est(),i=tst();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,OR=s,OR}var jR,PJ;function rst(){if(PJ)return jR;PJ=1;var t=vE(),e=fW(),r=AW(),n=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<n-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(l)}return a.set(s,o),this.size=a.size,this}return jR=i,jR}var PR,kJ;function bE(){if(kJ)return PR;kJ=1;var t=vE(),e=kit(),r=Dit(),n=Fit(),i=Lit(),s=rst();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,PR=o,PR}var kR,DJ;function CW(){if(DJ)return kR;DJ=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return kR=t,kR}var DR,FJ;function VTe(){if(FJ)return DR;FJ=1;var t=RC(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return DR=e,DR}var FR,LJ;function wE(){if(LJ)return FR;LJ=1;var t=VTe();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return FR=e,FR}var LR,MJ;function SE(){if(MJ)return LR;MJ=1;var t=wE(),e=_m(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a){var l=s[o];(!(n.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&t(s,o,a)}return LR=i,LR}var MR,BJ;function L1(){if(BJ)return MR;BJ=1;var t=SE(),e=wE();function r(n,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var g=i[l],d=o?o(s[g],n[g],g,s,n):void 0;d===void 0&&(d=n[g]),a?e(s,g,d):t(s,g,d)}return s}return MR=r,MR}var BR,$J;function nst(){if($J)return BR;$J=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return BR=t,BR}var $R,qJ;function Qu(){if(qJ)return $R;qJ=1;function t(e){return e!=null&&typeof e=="object"}return $R=t,$R}var qR,zJ;function ist(){if(zJ)return qR;zJ=1;var t=TC(),e=Qu(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return qR=n,qR}var zR,UJ;function M1(){if(UJ)return zR;UJ=1;var t=ist(),e=Qu(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return zR=s,zR}var UR,WJ;function fs(){if(WJ)return UR;WJ=1;var t=Array.isArray;return UR=t,UR}var xv={exports:{}},WR,GJ;function sst(){if(GJ)return WR;GJ=1;function t(){return!1}return WR=t,WR}xv.exports;var VJ;function Rm(){return VJ||(VJ=1,function(t,e){var r=nu(),n=sst(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?r.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||n;t.exports=u}(xv,xv.exports)),xv.exports}var GR,HJ;function EE(){if(HJ)return GR;HJ=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return GR=r,GR}var VR,KJ;function IW(){if(KJ)return VR;KJ=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return VR=e,VR}var HR,YJ;function ost(){if(YJ)return HR;YJ=1;var t=TC(),e=IW(),r=Qu(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",g="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",A="[object String]",C="[object WeakMap]",I="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",v="[object Float64Array]",y="[object Int8Array]",x="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",_="[object Uint8ClampedArray]",S="[object Uint16Array]",j="[object Uint32Array]",w={};w[m]=w[v]=w[y]=w[x]=w[T]=w[E]=w[_]=w[S]=w[j]=!0,w[n]=w[i]=w[I]=w[s]=w[p]=w[o]=w[a]=w[l]=w[u]=w[g]=w[d]=w[f]=w[h]=w[A]=w[C]=!1;function R(N){return r(N)&&e(N.length)&&!!w[t(N)]}return HR=R,HR}var KR,ZJ;function _E(){if(ZJ)return KR;ZJ=1;function t(e){return function(r){return e(r)}}return KR=t,KR}var bv={exports:{}};bv.exports;var XJ;function pW(){return XJ||(XJ=1,function(t,e){var r=WTe(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(bv,bv.exports)),bv.exports}var YR,QJ;function B1(){if(QJ)return YR;QJ=1;var t=ost(),e=_E(),r=pW(),n=r&&r.isTypedArray,i=n?e(n):t;return YR=i,YR}var ZR,JJ;function HTe(){if(JJ)return ZR;JJ=1;var t=nst(),e=M1(),r=fs(),n=Rm(),i=EE(),s=B1(),o=Object.prototype,a=o.hasOwnProperty;function l(u,g){var d=r(u),f=!d&&e(u),h=!d&&!f&&n(u),A=!d&&!f&&!h&&s(u),C=d||f||h||A,I=C?t(u.length,String):[],p=I.length;for(var m in u)(g||a.call(u,m))&&!(C&&(m=="length"||h&&(m=="offset"||m=="parent")||A&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,p)))&&I.push(m);return I}return ZR=l,ZR}var XR,eee;function TE(){if(eee)return XR;eee=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return XR=e,XR}var QR,tee;function KTe(){if(tee)return QR;tee=1;function t(e,r){return function(n){return e(r(n))}}return QR=t,QR}var JR,ree;function ast(){if(ree)return JR;ree=1;var t=KTe(),e=t(Object.keys,Object);return JR=e,JR}var eN,nee;function mW(){if(nee)return eN;nee=1;var t=TE(),e=ast(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return eN=i,eN}var tN,iee;function Sd(){if(iee)return tN;iee=1;var t=F1(),e=IW();function r(n){return n!=null&&e(n.length)&&!t(n)}return tN=r,tN}var rN,see;function df(){if(see)return rN;see=1;var t=HTe(),e=mW(),r=Sd();function n(i){return r(i)?t(i):e(i)}return rN=n,rN}var nN,oee;function lst(){if(oee)return nN;oee=1;var t=L1(),e=df();function r(n,i){return n&&t(i,e(i),n)}return nN=r,nN}var iN,aee;function cst(){if(aee)return iN;aee=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return iN=t,iN}var sN,lee;function ust(){if(lee)return sN;lee=1;var t=rc(),e=TE(),r=cst(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!t(o))return r(o);var a=e(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return sN=s,sN}var oN,cee;function NC(){if(cee)return oN;cee=1;var t=HTe(),e=ust(),r=Sd();function n(i){return r(i)?t(i,!0):e(i)}return oN=n,oN}var aN,uee;function gst(){if(uee)return aN;uee=1;var t=L1(),e=NC();function r(n,i){return n&&t(i,e(i),n)}return aN=r,aN}var wv={exports:{}};wv.exports;var gee;function YTe(){return gee||(gee=1,function(t,e){var r=nu(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,g){if(g)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}t.exports=l}(wv,wv.exports)),wv.exports}var lN,dee;function ZTe(){if(dee)return lN;dee=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return lN=t,lN}var cN,hee;function XTe(){if(hee)return cN;hee=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var a=e[n];r(a,n,e)&&(o[s++]=a)}return o}return cN=t,cN}var uN,fee;function QTe(){if(fee)return uN;fee=1;function t(){return[]}return uN=t,uN}var gN,Aee;function vW(){if(Aee)return gN;Aee=1;var t=XTe(),e=QTe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return n.call(o,a)}))}:e;return gN=s,gN}var dN,Cee;function dst(){if(Cee)return dN;Cee=1;var t=L1(),e=vW();function r(n,i){return t(n,e(n),i)}return dN=r,dN}var hN,Iee;function yW(){if(Iee)return hN;Iee=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return hN=t,hN}var fN,pee;function RE(){if(pee)return fN;pee=1;var t=KTe(),e=t(Object.getPrototypeOf,Object);return fN=e,fN}var AN,mee;function JTe(){if(mee)return AN;mee=1;var t=yW(),e=RE(),r=vW(),n=QTe(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)t(a,r(o)),o=e(o);return a}:n;return AN=s,AN}var CN,vee;function hst(){if(vee)return CN;vee=1;var t=L1(),e=JTe();function r(n,i){return t(n,e(n),i)}return CN=r,CN}var IN,yee;function e5e(){if(yee)return IN;yee=1;var t=yW(),e=fs();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return IN=r,IN}var pN,xee;function t5e(){if(xee)return pN;xee=1;var t=e5e(),e=vW(),r=df();function n(i){return t(i,r,e)}return pN=n,pN}var mN,bee;function fst(){if(bee)return mN;bee=1;var t=e5e(),e=JTe(),r=NC();function n(i){return t(i,r,e)}return mN=n,mN}var vN,wee;function Ast(){if(wee)return vN;wee=1;var t=RC(),e=nu(),r=t(e,"DataView");return vN=r,vN}var yN,See;function Cst(){if(See)return yN;See=1;var t=RC(),e=nu(),r=t(e,"Promise");return yN=r,yN}var xN,Eee;function r5e(){if(Eee)return xN;Eee=1;var t=RC(),e=nu(),r=t(e,"Set");return xN=r,xN}var bN,_ee;function Ist(){if(_ee)return bN;_ee=1;var t=RC(),e=nu(),r=t(e,"WeakMap");return bN=r,bN}var wN,Tee;function Nm(){if(Tee)return wN;Tee=1;var t=Ast(),e=fW(),r=Cst(),n=r5e(),i=Ist(),s=TC(),o=GTe(),a="[object Map]",l="[object Object]",u="[object Promise]",g="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(t),A=o(e),C=o(r),I=o(n),p=o(i),m=s;return(t&&m(new t(new ArrayBuffer(1)))!=f||e&&m(new e)!=a||r&&m(r.resolve())!=u||n&&m(new n)!=g||i&&m(new i)!=d)&&(m=function(v){var y=s(v),x=y==l?v.constructor:void 0,T=x?o(x):"";if(T)switch(T){case h:return f;case A:return a;case C:return u;case I:return g;case p:return d}return y}),wN=m,wN}var SN,Ree;function pst(){if(Ree)return SN;Ree=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,s=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return SN=r,SN}var EN,Nee;function n5e(){if(Nee)return EN;Nee=1;var t=nu(),e=t.Uint8Array;return EN=e,EN}var _N,Oee;function xW(){if(Oee)return _N;Oee=1;var t=n5e();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return _N=e,_N}var TN,jee;function mst(){if(jee)return TN;jee=1;var t=xW();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return TN=e,TN}var RN,Pee;function vst(){if(Pee)return RN;Pee=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return RN=e,RN}var NN,kee;function yst(){if(kee)return NN;kee=1;var t=Tm(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return NN=n,NN}var ON,Dee;function i5e(){if(Dee)return ON;Dee=1;var t=xW();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return ON=e,ON}var jN,Fee;function xst(){if(Fee)return jN;Fee=1;var t=xW(),e=mst(),r=vst(),n=yst(),i=i5e(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",g="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",A="[object DataView]",C="[object Float32Array]",I="[object Float64Array]",p="[object Int8Array]",m="[object Int16Array]",v="[object Int32Array]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]";function _(S,j,w){var R=S.constructor;switch(j){case h:return t(S);case s:case o:return new R(+S);case A:return e(S,w);case C:case I:case p:case m:case v:case y:case x:case T:case E:return i(S,w);case a:return new R;case l:case d:return new R(S);case u:return r(S);case g:return new R;case f:return n(S)}}return jN=_,jN}var PN,Lee;function s5e(){if(Lee)return PN;Lee=1;var t=rc(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var s=new n;return n.prototype=void 0,s}}();return PN=r,PN}var kN,Mee;function o5e(){if(Mee)return kN;Mee=1;var t=s5e(),e=RE(),r=TE();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return kN=n,kN}var DN,Bee;function bst(){if(Bee)return DN;Bee=1;var t=Nm(),e=Qu(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return DN=n,DN}var FN,$ee;function wst(){if($ee)return FN;$ee=1;var t=bst(),e=_E(),r=pW(),n=r&&r.isMap,i=n?e(n):t;return FN=i,FN}var LN,qee;function Sst(){if(qee)return LN;qee=1;var t=Nm(),e=Qu(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return LN=n,LN}var MN,zee;function Est(){if(zee)return MN;zee=1;var t=Sst(),e=_E(),r=pW(),n=r&&r.isSet,i=n?e(n):t;return MN=i,MN}var BN,Uee;function a5e(){if(Uee)return BN;Uee=1;var t=bE(),e=CW(),r=SE(),n=lst(),i=gst(),s=YTe(),o=ZTe(),a=dst(),l=hst(),u=t5e(),g=fst(),d=Nm(),f=pst(),h=xst(),A=o5e(),C=fs(),I=Rm(),p=wst(),m=rc(),v=Est(),y=df(),x=NC(),T=1,E=2,_=4,S="[object Arguments]",j="[object Array]",w="[object Boolean]",R="[object Date]",N="[object Error]",P="[object Function]",M="[object GeneratorFunction]",B="[object Map]",W="[object Number]",H="[object Object]",V="[object RegExp]",K="[object Set]",Y="[object String]",k="[object Symbol]",q="[object WeakMap]",z="[object ArrayBuffer]",G="[object DataView]",Z="[object Float32Array]",ue="[object Float64Array]",re="[object Int8Array]",ie="[object Int16Array]",Ce="[object Int32Array]",Pe="[object Uint8Array]",Fe="[object Uint8ClampedArray]",He="[object Uint16Array]",Te="[object Uint32Array]",se={};se[S]=se[j]=se[z]=se[G]=se[w]=se[R]=se[Z]=se[ue]=se[re]=se[ie]=se[Ce]=se[B]=se[W]=se[H]=se[V]=se[K]=se[Y]=se[k]=se[Pe]=se[Fe]=se[He]=se[Te]=!0,se[N]=se[P]=se[q]=!1;function Ct(Re,ke,Ye,xt,ft,$t){var bt,Gt=ke&T,Wt=ke&E,Qt=ke&_;if(Ye&&(bt=ft?Ye(Re,xt,ft,$t):Ye(Re)),bt!==void 0)return bt;if(!m(Re))return Re;var hr=C(Re);if(hr){if(bt=f(Re),!Gt)return o(Re,bt)}else{var Bt=d(Re),Ft=Bt==P||Bt==M;if(I(Re))return s(Re,Gt);if(Bt==H||Bt==S||Ft&&!ft){if(bt=Wt||Ft?{}:A(Re),!Gt)return Wt?l(Re,i(bt,Re)):a(Re,n(bt,Re))}else{if(!se[Bt])return ft?Re:{};bt=h(Re,Bt,Gt)}}$t||($t=new t);var Ht=$t.get(Re);if(Ht)return Ht;$t.set(Re,bt),v(Re)?Re.forEach(function(ot){bt.add(Ct(ot,ke,Ye,ot,Re,$t))}):p(Re)&&Re.forEach(function(ot,Ve){bt.set(Ve,Ct(ot,ke,Ye,Ve,Re,$t))});var Qe=Qt?Wt?g:u:Wt?x:y,it=hr?void 0:Qe(Re);return e(it||Re,function(ot,Ve){it&&(Ve=ot,ot=Re[Ve]),r(bt,Ve,Ct(ot,ke,Ye,Ve,Re,$t))}),bt}return BN=Ct,BN}var $N,Wee;function _st(){if(Wee)return $N;Wee=1;var t=a5e(),e=4;function r(n){return t(n,e)}return $N=r,$N}var qN,Gee;function bW(){if(Gee)return qN;Gee=1;function t(e){return function(){return e}}return qN=t,qN}var zN,Vee;function Tst(){if(Vee)return zN;Vee=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),l=a.length;l--;){var u=a[e?l:++s];if(n(o[u],u,o)===!1)break}return r}}return zN=t,zN}var UN,Hee;function wW(){if(Hee)return UN;Hee=1;var t=Tst(),e=t();return UN=e,UN}var WN,Kee;function SW(){if(Kee)return WN;Kee=1;var t=wW(),e=df();function r(n,i){return n&&t(n,i,e)}return WN=r,WN}var GN,Yee;function Rst(){if(Yee)return GN;Yee=1;var t=Sd();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,a=n?o:-1,l=Object(i);(n?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return GN=e,GN}var VN,Zee;function NE(){if(Zee)return VN;Zee=1;var t=SW(),e=Rst(),r=e(t);return VN=r,VN}var HN,Xee;function OC(){if(Xee)return HN;Xee=1;function t(e){return e}return HN=t,HN}var KN,Qee;function l5e(){if(Qee)return KN;Qee=1;var t=OC();function e(r){return typeof r=="function"?r:t}return KN=e,KN}var YN,Jee;function c5e(){if(Jee)return YN;Jee=1;var t=CW(),e=NE(),r=l5e(),n=fs();function i(s,o){var a=n(s)?t:e;return a(s,r(o))}return YN=i,YN}var ZN,ete;function u5e(){return ete||(ete=1,ZN=c5e()),ZN}var XN,tte;function Nst(){if(tte)return XN;tte=1;var t=NE();function e(r,n){var i=[];return t(r,function(s,o,a){n(s,o,a)&&i.push(s)}),i}return XN=e,XN}var QN,rte;function Ost(){if(rte)return QN;rte=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return QN=e,QN}var JN,nte;function jst(){if(nte)return JN;nte=1;function t(e){return this.__data__.has(e)}return JN=t,JN}var eO,ite;function g5e(){if(ite)return eO;ite=1;var t=AW(),e=Ost(),r=jst();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,eO=n,eO}var tO,ste;function Pst(){if(ste)return tO;ste=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return tO=t,tO}var rO,ote;function d5e(){if(ote)return rO;ote=1;function t(e,r){return e.has(r)}return rO=t,rO}var nO,ate;function h5e(){if(ate)return nO;ate=1;var t=g5e(),e=Pst(),r=d5e(),n=1,i=2;function s(o,a,l,u,g,d){var f=l&n,h=o.length,A=a.length;if(h!=A&&!(f&&A>h))return!1;var C=d.get(o),I=d.get(a);if(C&&I)return C==a&&I==o;var p=-1,m=!0,v=l&i?new t:void 0;for(d.set(o,a),d.set(a,o);++p<h;){var y=o[p],x=a[p];if(u)var T=f?u(x,y,p,a,o,d):u(y,x,p,o,a,d);if(T!==void 0){if(T)continue;m=!1;break}if(v){if(!e(a,function(E,_){if(!r(v,_)&&(y===E||g(y,E,l,u,d)))return v.push(_)})){m=!1;break}}else if(!(y===x||g(y,x,l,u,d))){m=!1;break}}return d.delete(o),d.delete(a),m}return nO=s,nO}var iO,lte;function kst(){if(lte)return iO;lte=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return iO=t,iO}var sO,cte;function EW(){if(cte)return sO;cte=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return sO=t,sO}var oO,ute;function Dst(){if(ute)return oO;ute=1;var t=Tm(),e=n5e(),r=_m(),n=h5e(),i=kst(),s=EW(),o=1,a=2,l="[object Boolean]",u="[object Date]",g="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",A="[object Set]",C="[object String]",I="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",v=t?t.prototype:void 0,y=v?v.valueOf:void 0;function x(T,E,_,S,j,w,R){switch(_){case m:if(T.byteLength!=E.byteLength||T.byteOffset!=E.byteOffset)return!1;T=T.buffer,E=E.buffer;case p:return!(T.byteLength!=E.byteLength||!w(new e(T),new e(E)));case l:case u:case f:return r(+T,+E);case g:return T.name==E.name&&T.message==E.message;case h:case C:return T==E+"";case d:var N=i;case A:var P=S&o;if(N||(N=s),T.size!=E.size&&!P)return!1;var M=R.get(T);if(M)return M==E;S|=a,R.set(T,E);var B=n(N(T),N(E),S,j,w,R);return R.delete(T),B;case I:if(y)return y.call(T)==y.call(E)}return!1}return oO=x,oO}var aO,gte;function Fst(){if(gte)return aO;gte=1;var t=t5e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,l,u,g){var d=a&e,f=t(s),h=f.length,A=t(o),C=A.length;if(h!=C&&!d)return!1;for(var I=h;I--;){var p=f[I];if(!(d?p in o:n.call(o,p)))return!1}var m=g.get(s),v=g.get(o);if(m&&v)return m==o&&v==s;var y=!0;g.set(s,o),g.set(o,s);for(var x=d;++I<h;){p=f[I];var T=s[p],E=o[p];if(l)var _=d?l(E,T,p,o,s,g):l(T,E,p,s,o,g);if(!(_===void 0?T===E||u(T,E,a,l,g):_)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var S=s.constructor,j=o.constructor;S!=j&&"constructor"in s&&"constructor"in o&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(y=!1)}return g.delete(s),g.delete(o),y}return aO=i,aO}var lO,dte;function Lst(){if(dte)return lO;dte=1;var t=bE(),e=h5e(),r=Dst(),n=Fst(),i=Nm(),s=fs(),o=Rm(),a=B1(),l=1,u="[object Arguments]",g="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function A(C,I,p,m,v,y){var x=s(C),T=s(I),E=x?g:i(C),_=T?g:i(I);E=E==u?d:E,_=_==u?d:_;var S=E==d,j=_==d,w=E==_;if(w&&o(C)){if(!o(I))return!1;x=!0,S=!1}if(w&&!S)return y||(y=new t),x||a(C)?e(C,I,p,m,v,y):r(C,I,E,p,m,v,y);if(!(p&l)){var R=S&&h.call(C,"__wrapped__"),N=j&&h.call(I,"__wrapped__");if(R||N){var P=R?C.value():C,M=N?I.value():I;return y||(y=new t),v(P,M,p,m,y)}}return w?(y||(y=new t),n(C,I,p,m,v,y)):!1}return lO=A,lO}var cO,hte;function f5e(){if(hte)return cO;hte=1;var t=Lst(),e=Qu();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,a)}return cO=r,cO}var uO,fte;function Mst(){if(fte)return uO;fte=1;var t=bE(),e=f5e(),r=1,n=2;function i(s,o,a,l){var u=a.length,g=u,d=!l;if(s==null)return!g;for(s=Object(s);u--;){var f=a[u];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<g;){f=a[u];var h=f[0],A=s[h],C=f[1];if(d&&f[2]){if(A===void 0&&!(h in s))return!1}else{var I=new t;if(l)var p=l(A,C,h,s,o,I);if(!(p===void 0?e(C,A,r|n,l,I):p))return!1}}return!0}return uO=i,uO}var gO,Ate;function A5e(){if(Ate)return gO;Ate=1;var t=rc();function e(r){return r===r&&!t(r)}return gO=e,gO}var dO,Cte;function Bst(){if(Cte)return dO;Cte=1;var t=A5e(),e=df();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,t(a)]}return i}return dO=r,dO}var hO,Ite;function C5e(){if(Ite)return hO;Ite=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return hO=t,hO}var fO,pte;function $st(){if(pte)return fO;pte=1;var t=Mst(),e=Bst(),r=C5e();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return fO=n,fO}var AO,mte;function Om(){if(mte)return AO;mte=1;var t=TC(),e=Qu(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return AO=n,AO}var CO,vte;function _W(){if(vte)return CO;vte=1;var t=fs(),e=Om(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return CO=i,CO}var IO,yte;function qst(){if(yte)return IO;yte=1;var t=AW(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=n.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,IO=r,IO}var pO,xte;function zst(){if(xte)return pO;xte=1;var t=qst(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return pO=r,pO}var mO,bte;function Ust(){if(bte)return mO;bte=1;var t=zst(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,u){s.push(l?u.replace(r,"$1"):a||o)}),s});return mO=n,mO}var vO,wte;function OE(){if(wte)return vO;wte=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return vO=t,vO}var yO,Ste;function Wst(){if(Ste)return yO;Ste=1;var t=Tm(),e=OE(),r=fs(),n=Om(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(r(a))return e(a,o)+"";if(n(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return yO=o,yO}var xO,Ete;function I5e(){if(Ete)return xO;Ete=1;var t=Wst();function e(r){return r==null?"":t(r)}return xO=e,xO}var bO,_te;function jE(){if(_te)return bO;_te=1;var t=fs(),e=_W(),r=Ust(),n=I5e();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return bO=i,bO}var wO,Tte;function $1(){if(Tte)return wO;Tte=1;var t=Om();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return wO=e,wO}var SO,Rte;function PE(){if(Rte)return SO;Rte=1;var t=jE(),e=$1();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return SO=r,SO}var EO,Nte;function Gst(){if(Nte)return EO;Nte=1;var t=PE();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return EO=e,EO}var _O,Ote;function Vst(){if(Ote)return _O;Ote=1;function t(e,r){return e!=null&&r in Object(e)}return _O=t,_O}var TO,jte;function p5e(){if(jte)return TO;jte=1;var t=jE(),e=M1(),r=fs(),n=EE(),i=IW(),s=$1();function o(a,l,u){l=t(l,a);for(var g=-1,d=l.length,f=!1;++g<d;){var h=s(l[g]);if(!(f=a!=null&&u(a,h)))break;a=a[h]}return f||++g!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&n(h,d)&&(r(a)||e(a)))}return TO=o,TO}var RO,Pte;function m5e(){if(Pte)return RO;Pte=1;var t=Vst(),e=p5e();function r(n,i){return n!=null&&e(n,i,t)}return RO=r,RO}var NO,kte;function Hst(){if(kte)return NO;kte=1;var t=f5e(),e=Gst(),r=m5e(),n=_W(),i=A5e(),s=C5e(),o=$1(),a=1,l=2;function u(g,d){return n(g)&&i(d)?s(o(g),d):function(f){var h=e(f,g);return h===void 0&&h===d?r(f,g):t(d,h,a|l)}}return NO=u,NO}var OO,Dte;function v5e(){if(Dte)return OO;Dte=1;function t(e){return function(r){return r==null?void 0:r[e]}}return OO=t,OO}var jO,Fte;function Kst(){if(Fte)return jO;Fte=1;var t=PE();function e(r){return function(n){return t(n,r)}}return jO=e,jO}var PO,Lte;function Yst(){if(Lte)return PO;Lte=1;var t=v5e(),e=Kst(),r=_W(),n=$1();function i(s){return r(s)?t(n(s)):e(s)}return PO=i,PO}var kO,Mte;function Ed(){if(Mte)return kO;Mte=1;var t=$st(),e=Hst(),r=OC(),n=fs(),i=Yst();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return kO=s,kO}var DO,Bte;function y5e(){if(Bte)return DO;Bte=1;var t=XTe(),e=Nst(),r=Ed(),n=fs();function i(s,o){var a=n(s)?t:e;return a(s,r(o,3))}return DO=i,DO}var FO,$te;function Zst(){if($te)return FO;$te=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return FO=r,FO}var LO,qte;function x5e(){if(qte)return LO;qte=1;var t=Zst(),e=p5e();function r(n,i){return n!=null&&e(n,i,t)}return LO=r,LO}var MO,zte;function Xst(){if(zte)return MO;zte=1;var t=mW(),e=Nm(),r=M1(),n=fs(),i=Sd(),s=Rm(),o=TE(),a=B1(),l="[object Map]",u="[object Set]",g=Object.prototype,d=g.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||a(h)||r(h)))return!h.length;var A=e(h);if(A==l||A==u)return!h.size;if(o(h))return!t(h).length;for(var C in h)if(d.call(h,C))return!1;return!0}return MO=f,MO}var BO,Ute;function b5e(){if(Ute)return BO;Ute=1;function t(e){return e===void 0}return BO=t,BO}var $O,Wte;function w5e(){if(Wte)return $O;Wte=1;var t=NE(),e=Sd();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(a,l,u){o[++s]=i(a,l,u)}),o}return $O=r,$O}var qO,Gte;function S5e(){if(Gte)return qO;Gte=1;var t=OE(),e=Ed(),r=w5e(),n=fs();function i(s,o){var a=n(s)?t:r;return a(s,e(o,3))}return qO=i,qO}var zO,Vte;function Qst(){if(Vte)return zO;Vte=1;function t(e,r,n,i){var s=-1,o=e==null?0:e.length;for(i&&o&&(n=e[++s]);++s<o;)n=r(n,e[s],s,e);return n}return zO=t,zO}var UO,Hte;function Jst(){if(Hte)return UO;Hte=1;function t(e,r,n,i,s){return s(e,function(o,a,l){n=i?(i=!1,o):r(n,o,a,l)}),n}return UO=t,UO}var WO,Kte;function E5e(){if(Kte)return WO;Kte=1;var t=Qst(),e=NE(),r=Ed(),n=Jst(),i=fs();function s(o,a,l){var u=i(o)?t:n,g=arguments.length<3;return u(o,r(a,4),l,g,e)}return WO=s,WO}var GO,Yte;function eot(){if(Yte)return GO;Yte=1;var t=TC(),e=fs(),r=Qu(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return GO=i,GO}var VO,Zte;function tot(){if(Zte)return VO;Zte=1;var t=v5e(),e=t("length");return VO=e,VO}var HO,Xte;function rot(){if(Xte)return HO;Xte=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function l(u){return a.test(u)}return HO=l,HO}var KO,Qte;function not(){if(Qte)return KO;Qte=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",g="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",A=u+"?",C="["+s+"]?",I="(?:"+h+"(?:"+[g,d,f].join("|")+")"+C+A+")*",p=C+A+I,m="(?:"+[g+a+"?",a,d,f,o].join("|")+")",v=RegExp(l+"(?="+l+")|"+m+p,"g");function y(x){for(var T=v.lastIndex=0;v.test(x);)++T;return T}return KO=y,KO}var YO,Jte;function iot(){if(Jte)return YO;Jte=1;var t=tot(),e=rot(),r=not();function n(i){return e(i)?r(i):t(i)}return YO=n,YO}var ZO,ere;function sot(){if(ere)return ZO;ere=1;var t=mW(),e=Nm(),r=Sd(),n=eot(),i=iot(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(r(l))return n(l)?i(l):l.length;var u=e(l);return u==s||u==o?l.size:t(l).length}return ZO=a,ZO}var XO,tre;function oot(){if(tre)return XO;tre=1;var t=CW(),e=s5e(),r=SW(),n=Ed(),i=RE(),s=fs(),o=Rm(),a=F1(),l=rc(),u=B1();function g(d,f,h){var A=s(d),C=A||o(d)||u(d);if(f=n(f,4),h==null){var I=d&&d.constructor;C?h=A?new I:[]:l(d)?h=a(I)?e(i(d)):{}:h={}}return(C?t:r)(d,function(p,m,v){return f(h,p,m,v)}),h}return XO=g,XO}var QO,rre;function aot(){if(rre)return QO;rre=1;var t=Tm(),e=M1(),r=fs(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return QO=i,QO}var JO,nre;function TW(){if(nre)return JO;nre=1;var t=yW(),e=aot();function r(n,i,s,o,a){var l=-1,u=n.length;for(s||(s=e),a||(a=[]);++l<u;){var g=n[l];i>0&&s(g)?i>1?r(g,i-1,s,o,a):t(a,g):o||(a[a.length]=g)}return a}return JO=r,JO}var ej,ire;function lot(){if(ire)return ej;ire=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return ej=t,ej}var tj,sre;function _5e(){if(sre)return tj;sre=1;var t=lot(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var g=Array(i+1);++a<i;)g[a]=o[a];return g[i]=s(u),t(n,this,g)}}return tj=r,tj}var rj,ore;function cot(){if(ore)return rj;ore=1;var t=bW(),e=VTe(),r=OC(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return rj=n,rj}var nj,are;function uot(){if(are)return nj;are=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return nj=n,nj}var ij,lre;function T5e(){if(lre)return ij;lre=1;var t=cot(),e=uot(),r=e(t);return ij=r,ij}var sj,cre;function kE(){if(cre)return sj;cre=1;var t=OC(),e=_5e(),r=T5e();function n(i,s){return r(e(i,s,t),i+"")}return sj=n,sj}var oj,ure;function R5e(){if(ure)return oj;ure=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return oj=t,oj}var aj,gre;function got(){if(gre)return aj;gre=1;function t(e){return e!==e}return aj=t,aj}var lj,dre;function dot(){if(dre)return lj;dre=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return lj=t,lj}var cj,hre;function hot(){if(hre)return cj;hre=1;var t=R5e(),e=got(),r=dot();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return cj=n,cj}var uj,fre;function fot(){if(fre)return uj;fre=1;var t=hot();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return uj=e,uj}var gj,Are;function Aot(){if(Are)return gj;Are=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return gj=t,gj}var dj,Cre;function Cot(){if(Cre)return dj;Cre=1;function t(){}return dj=t,dj}var hj,Ire;function Iot(){if(Ire)return hj;Ire=1;var t=r5e(),e=Cot(),r=EW(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return hj=i,hj}var fj,pre;function pot(){if(pre)return fj;pre=1;var t=g5e(),e=fot(),r=Aot(),n=d5e(),i=Iot(),s=EW(),o=200;function a(l,u,g){var d=-1,f=e,h=l.length,A=!0,C=[],I=C;if(g)A=!1,f=r;else if(h>=o){var p=u?null:i(l);if(p)return s(p);A=!1,f=n,I=new t}else I=u?[]:C;e:for(;++d<h;){var m=l[d],v=u?u(m):m;if(m=g||m!==0?m:0,A&&v===v){for(var y=I.length;y--;)if(I[y]===v)continue e;u&&I.push(v),C.push(m)}else f(I,v,g)||(I!==C&&I.push(v),C.push(m))}return C}return fj=a,fj}var Aj,mre;function N5e(){if(mre)return Aj;mre=1;var t=Sd(),e=Qu();function r(n){return e(n)&&t(n)}return Aj=r,Aj}var Cj,vre;function mot(){if(vre)return Cj;vre=1;var t=TW(),e=kE(),r=pot(),n=N5e(),i=e(function(s){return r(t(s,1,n,!0))});return Cj=i,Cj}var Ij,yre;function vot(){if(yre)return Ij;yre=1;var t=OE();function e(r,n){return t(n,function(i){return r[i]})}return Ij=e,Ij}var pj,xre;function O5e(){if(xre)return pj;xre=1;var t=vot(),e=df();function r(n){return n==null?[]:t(n,e(n))}return pj=r,pj}var mj,bre;function nc(){if(bre)return mj;bre=1;var t;if(typeof hW=="function")try{t={clone:_st(),constant:bW(),each:u5e(),filter:y5e(),has:x5e(),isArray:fs(),isEmpty:Xst(),isFunction:F1(),isUndefined:b5e(),keys:df(),map:S5e(),reduce:E5e(),size:sot(),transform:oot(),union:mot(),values:O5e()}}catch{}return t||(t=window._),mj=t,mj}var vj,wre;function RW(){if(wre)return vj;wre=1;var t=nc();vj=i;var e="\0",r="\0",n="";function i(g){this._isDirected=t.has(g,"directed")?g.directed:!0,this._isMultigraph=t.has(g,"multigraph")?g.multigraph:!1,this._isCompound=t.has(g,"compound")?g.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(g){return this._label=g,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(g){return t.isFunction(g)||(g=t.constant(g)),this._defaultNodeLabelFn=g,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var g=this;return t.filter(this.nodes(),function(d){return t.isEmpty(g._in[d])})},i.prototype.sinks=function(){var g=this;return t.filter(this.nodes(),function(d){return t.isEmpty(g._out[d])})},i.prototype.setNodes=function(g,d){var f=arguments,h=this;return t.each(g,function(A){f.length>1?h.setNode(A,d):h.setNode(A)}),this},i.prototype.setNode=function(g,d){return t.has(this._nodes,g)?(arguments.length>1&&(this._nodes[g]=d),this):(this._nodes[g]=arguments.length>1?d:this._defaultNodeLabelFn(g),this._isCompound&&(this._parent[g]=r,this._children[g]={},this._children[r][g]=!0),this._in[g]={},this._preds[g]={},this._out[g]={},this._sucs[g]={},++this._nodeCount,this)},i.prototype.node=function(g){return this._nodes[g]},i.prototype.hasNode=function(g){return t.has(this._nodes,g)},i.prototype.removeNode=function(g){var d=this;if(t.has(this._nodes,g)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[g],this._isCompound&&(this._removeFromParentsChildList(g),delete this._parent[g],t.each(this.children(g),function(h){d.setParent(h)}),delete this._children[g]),t.each(t.keys(this._in[g]),f),delete this._in[g],delete this._preds[g],t.each(t.keys(this._out[g]),f),delete this._out[g],delete this._sucs[g],--this._nodeCount}return this},i.prototype.setParent=function(g,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(d))d=r;else{d+="";for(var f=d;!t.isUndefined(f);f=this.parent(f))if(f===g)throw new Error("Setting "+d+" as parent of "+g+" would create a cycle");this.setNode(d)}return this.setNode(g),this._removeFromParentsChildList(g),this._parent[g]=d,this._children[d][g]=!0,this},i.prototype._removeFromParentsChildList=function(g){delete this._children[this._parent[g]][g]},i.prototype.parent=function(g){if(this._isCompound){var d=this._parent[g];if(d!==r)return d}},i.prototype.children=function(g){if(t.isUndefined(g)&&(g=r),this._isCompound){var d=this._children[g];if(d)return t.keys(d)}else{if(g===r)return this.nodes();if(this.hasNode(g))return[]}},i.prototype.predecessors=function(g){var d=this._preds[g];if(d)return t.keys(d)},i.prototype.successors=function(g){var d=this._sucs[g];if(d)return t.keys(d)},i.prototype.neighbors=function(g){var d=this.predecessors(g);if(d)return t.union(d,this.successors(g))},i.prototype.isLeaf=function(g){var d;return this.isDirected()?d=this.successors(g):d=this.neighbors(g),d.length===0},i.prototype.filterNodes=function(g){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;t.each(this._nodes,function(C,I){g(I)&&d.setNode(I,C)}),t.each(this._edgeObjs,function(C){d.hasNode(C.v)&&d.hasNode(C.w)&&d.setEdge(C,f.edge(C))});var h={};function A(C){var I=f.parent(C);return I===void 0||d.hasNode(I)?(h[C]=I,I):I in h?h[I]:A(I)}return this._isCompound&&t.each(d.nodes(),function(C){d.setParent(C,A(C))}),d},i.prototype.setDefaultEdgeLabel=function(g){return t.isFunction(g)||(g=t.constant(g)),this._defaultEdgeLabelFn=g,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(g,d){var f=this,h=arguments;return t.reduce(g,function(A,C){return h.length>1?f.setEdge(A,C,d):f.setEdge(A,C),C}),this},i.prototype.setEdge=function(){var g,d,f,h,A=!1,C=arguments[0];typeof C=="object"&&C!==null&&"v"in C?(g=C.v,d=C.w,f=C.name,arguments.length===2&&(h=arguments[1],A=!0)):(g=C,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],A=!0)),g=""+g,d=""+d,t.isUndefined(f)||(f=""+f);var I=a(this._isDirected,g,d,f);if(t.has(this._edgeLabels,I))return A&&(this._edgeLabels[I]=h),this;if(!t.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(g),this.setNode(d),this._edgeLabels[I]=A?h:this._defaultEdgeLabelFn(g,d,f);var p=l(this._isDirected,g,d,f);return g=p.v,d=p.w,Object.freeze(p),this._edgeObjs[I]=p,s(this._preds[d],g),s(this._sucs[g],d),this._in[d][I]=p,this._out[g][I]=p,this._edgeCount++,this},i.prototype.edge=function(g,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,g,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(g,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,g,d,f);return t.has(this._edgeLabels,h)},i.prototype.removeEdge=function(g,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,g,d,f),A=this._edgeObjs[h];return A&&(g=A.v,d=A.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],g),o(this._sucs[g],d),delete this._in[d][h],delete this._out[g][h],this._edgeCount--),this},i.prototype.inEdges=function(g,d){var f=this._in[g];if(f){var h=t.values(f);return d?t.filter(h,function(A){return A.v===d}):h}},i.prototype.outEdges=function(g,d){var f=this._out[g];if(f){var h=t.values(f);return d?t.filter(h,function(A){return A.w===d}):h}},i.prototype.nodeEdges=function(g,d){var f=this.inEdges(g,d);if(f)return f.concat(this.outEdges(g,d))};function s(g,d){g[d]?g[d]++:g[d]=1}function o(g,d){--g[d]||delete g[d]}function a(g,d,f,h){var A=""+d,C=""+f;if(!g&&A>C){var I=A;A=C,C=I}return A+n+C+n+(t.isUndefined(h)?e:h)}function l(g,d,f,h){var A=""+d,C=""+f;if(!g&&A>C){var I=A;A=C,C=I}var p={v:A,w:C};return h&&(p.name=h),p}function u(g,d){return a(g,d.v,d.w,d.name)}return vj}var yj,Sre;function yot(){return Sre||(Sre=1,yj="2.1.8"),yj}var xj,Ere;function xot(){return Ere||(Ere=1,xj={Graph:RW(),version:yot()}),xj}var bj,_re;function bot(){if(_re)return bj;_re=1;var t=nc(),e=RW();bj={write:r,read:s};function r(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:i(o)};return t.isUndefined(o.graph())||(a.value=t.clone(o.graph())),a}function n(o){return t.map(o.nodes(),function(a){var l=o.node(a),u=o.parent(a),g={v:a};return t.isUndefined(l)||(g.value=l),t.isUndefined(u)||(g.parent=u),g})}function i(o){return t.map(o.edges(),function(a){var l=o.edge(a),u={v:a.v,w:a.w};return t.isUndefined(a.name)||(u.name=a.name),t.isUndefined(l)||(u.value=l),u})}function s(o){var a=new e(o.options).setGraph(o.value);return t.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),t.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return bj}var wj,Tre;function wot(){if(Tre)return wj;Tre=1;var t=nc();wj=e;function e(r){var n={},i=[],s;function o(a){t.has(n,a)||(n[a]=!0,s.push(a),t.each(r.successors(a),o),t.each(r.predecessors(a),o))}return t.each(r.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return wj}var Sj,Rre;function j5e(){if(Rre)return Sj;Rre=1;var t=nc();Sj=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!t.has(i,r)){var s=this._arr,o=s.length;return i[r]=o,s.push({key:r,priority:n}),this._decrease(o),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(r){var n=this._arr,i=2*r,s=i+1,o=r;i<n.length&&(o=n[i].priority<n[o].priority?i:o,s<n.length&&(o=n[s].priority<n[o].priority?s:o),o!==r&&(this._swap(r,o),this._heapify(o)))},e.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,s;r!==0&&(s=r>>1,!(n[s].priority<i));)this._swap(r,s),r=s},e.prototype._swap=function(r,n){var i=this._arr,s=this._keyIndices,o=i[r],a=i[n];i[r]=a,i[n]=o,s[a.key]=r,s[o.key]=n},Sj}var Ej,Nre;function P5e(){if(Nre)return Ej;Nre=1;var t=nc(),e=j5e();Ej=n;var r=t.constant(1);function n(s,o,a,l){return i(s,String(o),a||r,l||function(u){return s.outEdges(u)})}function i(s,o,a,l){var u={},g=new e,d,f,h=function(A){var C=A.v!==d?A.v:A.w,I=u[C],p=a(A),m=f.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+A+" Weight: "+p);m<I.distance&&(I.distance=m,I.predecessor=d,g.decrease(C,m))};for(s.nodes().forEach(function(A){var C=A===o?0:Number.POSITIVE_INFINITY;u[A]={distance:C},g.add(A,C)});g.size()>0&&(d=g.removeMin(),f=u[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(h);return u}return Ej}var _j,Ore;function Sot(){if(Ore)return _j;Ore=1;var t=P5e(),e=nc();_j=r;function r(n,i,s){return e.transform(n.nodes(),function(o,a){o[a]=t(n,a,i,s)},{})}return _j}var Tj,jre;function k5e(){if(jre)return Tj;jre=1;var t=nc();Tj=e;function e(r){var n=0,i=[],s={},o=[];function a(l){var u=s[l]={onStack:!0,lowlink:n,index:n++};if(i.push(l),r.successors(l).forEach(function(f){t.has(s,f)?s[f].onStack&&(u.lowlink=Math.min(u.lowlink,s[f].index)):(a(f),u.lowlink=Math.min(u.lowlink,s[f].lowlink))}),u.lowlink===u.index){var g=[],d;do d=i.pop(),s[d].onStack=!1,g.push(d);while(l!==d);o.push(g)}}return r.nodes().forEach(function(l){t.has(s,l)||a(l)}),o}return Tj}var Rj,Pre;function Eot(){if(Pre)return Rj;Pre=1;var t=nc(),e=k5e();Rj=r;function r(n){return t.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return Rj}var Nj,kre;function _ot(){if(kre)return Nj;kre=1;var t=nc();Nj=r;var e=t.constant(1);function r(i,s,o){return n(i,s||e,o||function(a){return i.outEdges(a)})}function n(i,s,o){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(g){u!==g&&(a[u][g]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(g){var d=g.v===u?g.w:g.v,f=s(g);a[u][d]={distance:f,predecessor:u}})}),l.forEach(function(u){var g=a[u];l.forEach(function(d){var f=a[d];l.forEach(function(h){var A=f[u],C=g[h],I=f[h],p=A.distance+C.distance;p<I.distance&&(I.distance=p,I.predecessor=C.predecessor)})})}),a}return Nj}var Oj,Dre;function D5e(){if(Dre)return Oj;Dre=1;var t=nc();Oj=e,e.CycleException=r;function e(n){var i={},s={},o=[];function a(l){if(t.has(s,l))throw new r;t.has(i,l)||(s[l]=!0,i[l]=!0,t.each(n.predecessors(l),a),delete s[l],o.push(l))}if(t.each(n.sinks(),a),t.size(i)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,Oj}var jj,Fre;function Tot(){if(Fre)return jj;Fre=1;var t=D5e();jj=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return jj}var Pj,Lre;function F5e(){if(Lre)return Pj;Lre=1;var t=nc();Pj=e;function e(n,i,s){t.isArray(i)||(i=[i]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],l={};return t.each(i,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,s==="post",l,o,a)}),a}function r(n,i,s,o,a,l){t.has(o,i)||(o[i]=!0,s||l.push(i),t.each(a(i),function(u){r(n,u,s,o,a,l)}),s&&l.push(i))}return Pj}var kj,Mre;function Rot(){if(Mre)return kj;Mre=1;var t=F5e();kj=e;function e(r,n){return t(r,n,"post")}return kj}var Dj,Bre;function Not(){if(Bre)return Dj;Bre=1;var t=F5e();Dj=e;function e(r,n){return t(r,n,"pre")}return Dj}var Fj,$re;function Oot(){if($re)return Fj;$re=1;var t=nc(),e=RW(),r=j5e();Fj=n;function n(i,s){var o=new e,a={},l=new r,u;function g(f){var h=f.v===u?f.w:f.v,A=l.priority(h);if(A!==void 0){var C=s(f);C<A&&(a[h]=u,l.decrease(h,C))}}if(i.nodeCount()===0)return o;t.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),t.has(a,u))o.setEdge(u,a[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(g)}return o}return Fj}var Lj,qre;function jot(){return qre||(qre=1,Lj={components:wot(),dijkstra:P5e(),dijkstraAll:Sot(),findCycles:Eot(),floydWarshall:_ot(),isAcyclic:Tot(),postorder:Rot(),preorder:Not(),prim:Oot(),tarjan:k5e(),topsort:D5e()}),Lj}var Mj,zre;function Pot(){if(zre)return Mj;zre=1;var t=xot();return Mj={Graph:t.Graph,json:bot(),alg:jot(),version:t.version},Mj}var Y2;if(typeof hW=="function")try{Y2=Pot()}catch{}Y2||(Y2=window.graphlib);var iu=Y2,Bj,Ure;function kot(){if(Ure)return Bj;Ure=1;var t=a5e(),e=1,r=4;function n(i){return t(i,e|r)}return Bj=n,Bj}var $j,Wre;function DE(){if(Wre)return $j;Wre=1;var t=_m(),e=Sd(),r=EE(),n=rc();function i(s,o,a){if(!n(a))return!1;var l=typeof o;return(l=="number"?e(a)&&r(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return $j=i,$j}var qj,Gre;function Dot(){if(Gre)return qj;Gre=1;var t=kE(),e=_m(),r=DE(),n=NC(),i=Object.prototype,s=i.hasOwnProperty,o=t(function(a,l){a=Object(a);var u=-1,g=l.length,d=g>2?l[2]:void 0;for(d&&r(l[0],l[1],d)&&(g=1);++u<g;)for(var f=l[u],h=n(f),A=-1,C=h.length;++A<C;){var I=h[A],p=a[I];(p===void 0||e(p,i[I])&&!s.call(a,I))&&(a[I]=f[I])}return a});return qj=o,qj}var zj,Vre;function Fot(){if(Vre)return zj;Vre=1;var t=Ed(),e=Sd(),r=df();function n(i){return function(s,o,a){var l=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(d){return u(l[d],d,l)}}var g=i(s,o,a);return g>-1?l[u?s[g]:g]:void 0}}return zj=n,zj}var Uj,Hre;function Lot(){if(Hre)return Uj;Hre=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Uj=e,Uj}var Wj,Kre;function Mot(){if(Kre)return Wj;Kre=1;var t=Lot(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Wj=r,Wj}var Gj,Yre;function Bot(){if(Yre)return Gj;Yre=1;var t=Mot(),e=rc(),r=Om(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=e(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=s.test(u);return d||o.test(u)?a(u.slice(2),d?2:8):i.test(u)?n:+u}return Gj=l,Gj}var Vj,Zre;function L5e(){if(Zre)return Vj;Zre=1;var t=Bot(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return Vj=n,Vj}var Hj,Xre;function $ot(){if(Xre)return Hj;Xre=1;var t=L5e();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Hj=e,Hj}var Kj,Qre;function qot(){if(Qre)return Kj;Qre=1;var t=R5e(),e=Ed(),r=$ot(),n=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:r(a);return u<0&&(u=n(l+u,0)),t(s,e(o,3),u)}return Kj=i,Kj}var Yj,Jre;function zot(){if(Jre)return Yj;Jre=1;var t=Fot(),e=qot(),r=t(e);return Yj=r,Yj}var Zj,ene;function M5e(){if(ene)return Zj;ene=1;var t=TW();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return Zj=e,Zj}var Xj,tne;function Uot(){if(tne)return Xj;tne=1;var t=wW(),e=l5e(),r=NC();function n(i,s){return i==null?i:t(i,e(s),r)}return Xj=n,Xj}var Qj,rne;function Wot(){if(rne)return Qj;rne=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Qj=t,Qj}var Jj,nne;function Got(){if(nne)return Jj;nne=1;var t=wE(),e=SW(),r=Ed();function n(i,s){var o={};return s=r(s,3),e(i,function(a,l,u){t(o,l,s(a,l,u))}),o}return Jj=n,Jj}var eP,ine;function NW(){if(ine)return eP;ine=1;var t=Om();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var a=r[s],l=n(a);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,g=a}return g}return eP=e,eP}var tP,sne;function Vot(){if(sne)return tP;sne=1;function t(e,r){return e>r}return tP=t,tP}var rP,one;function Hot(){if(one)return rP;one=1;var t=NW(),e=Vot(),r=OC();function n(i){return i&&i.length?t(i,r,e):void 0}return rP=n,rP}var nP,ane;function B5e(){if(ane)return nP;ane=1;var t=wE(),e=_m();function r(n,i,s){(s!==void 0&&!e(n[i],s)||s===void 0&&!(i in n))&&t(n,i,s)}return nP=r,nP}var iP,lne;function Kot(){if(lne)return iP;lne=1;var t=TC(),e=RE(),r=Qu(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(g){if(!r(g)||t(g)!=n)return!1;var d=e(g);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return iP=u,iP}var sP,cne;function $5e(){if(cne)return sP;cne=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return sP=t,sP}var oP,une;function Yot(){if(une)return oP;une=1;var t=L1(),e=NC();function r(n){return t(n,e(n))}return oP=r,oP}var aP,gne;function Zot(){if(gne)return aP;gne=1;var t=B5e(),e=YTe(),r=i5e(),n=ZTe(),i=o5e(),s=M1(),o=fs(),a=N5e(),l=Rm(),u=F1(),g=rc(),d=Kot(),f=B1(),h=$5e(),A=Yot();function C(I,p,m,v,y,x,T){var E=h(I,m),_=h(p,m),S=T.get(_);if(S){t(I,m,S);return}var j=x?x(E,_,m+"",I,p,T):void 0,w=j===void 0;if(w){var R=o(_),N=!R&&l(_),P=!R&&!N&&f(_);j=_,R||N||P?o(E)?j=E:a(E)?j=n(E):N?(w=!1,j=e(_,!0)):P?(w=!1,j=r(_,!0)):j=[]:d(_)||s(_)?(j=E,s(E)?j=A(E):(!g(E)||u(E))&&(j=i(_))):w=!1}w&&(T.set(_,j),y(j,_,v,x,T),T.delete(_)),t(I,m,j)}return aP=C,aP}var lP,dne;function Xot(){if(dne)return lP;dne=1;var t=bE(),e=B5e(),r=wW(),n=Zot(),i=rc(),s=NC(),o=$5e();function a(l,u,g,d,f){l!==u&&r(u,function(h,A){if(f||(f=new t),i(h))n(l,u,A,g,a,d,f);else{var C=d?d(o(l,A),h,A+"",l,u,f):void 0;C===void 0&&(C=h),e(l,A,C)}},s)}return lP=a,lP}var cP,hne;function Qot(){if(hne)return cP;hne=1;var t=kE(),e=DE();function r(n){return t(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,u&&e(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var g=s[o];g&&n(i,g,o,l)}return i})}return cP=r,cP}var uP,fne;function Jot(){if(fne)return uP;fne=1;var t=Xot(),e=Qot(),r=e(function(n,i,s){t(n,i,s)});return uP=r,uP}var gP,Ane;function q5e(){if(Ane)return gP;Ane=1;function t(e,r){return e<r}return gP=t,gP}var dP,Cne;function eat(){if(Cne)return dP;Cne=1;var t=NW(),e=q5e(),r=OC();function n(i){return i&&i.length?t(i,r,e):void 0}return dP=n,dP}var hP,Ine;function tat(){if(Ine)return hP;Ine=1;var t=NW(),e=Ed(),r=q5e();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return hP=n,hP}var fP,pne;function rat(){if(pne)return fP;pne=1;var t=nu(),e=function(){return t.Date.now()};return fP=e,fP}var AP,mne;function nat(){if(mne)return AP;mne=1;var t=SE(),e=jE(),r=EE(),n=rc(),i=$1();function s(o,a,l,u){if(!n(o))return o;a=e(a,o);for(var g=-1,d=a.length,f=d-1,h=o;h!=null&&++g<d;){var A=i(a[g]),C=l;if(A==="__proto__"||A==="constructor"||A==="prototype")return o;if(g!=f){var I=h[A];C=u?u(I,A,h):void 0,C===void 0&&(C=n(I)?I:r(a[g+1])?[]:{})}t(h,A,C),h=h[A]}return o}return AP=s,AP}var CP,vne;function iat(){if(vne)return CP;vne=1;var t=PE(),e=nat(),r=jE();function n(i,s,o){for(var a=-1,l=s.length,u={};++a<l;){var g=s[a],d=t(i,g);o(d,g)&&e(u,r(g,i),d)}return u}return CP=n,CP}var IP,yne;function sat(){if(yne)return IP;yne=1;var t=iat(),e=m5e();function r(n,i){return t(n,i,function(s,o){return e(n,o)})}return IP=r,IP}var pP,xne;function oat(){if(xne)return pP;xne=1;var t=M5e(),e=_5e(),r=T5e();function n(i){return r(e(i,void 0,t),i+"")}return pP=n,pP}var mP,bne;function aat(){if(bne)return mP;bne=1;var t=sat(),e=oat(),r=e(function(n,i){return n==null?{}:t(n,i)});return mP=r,mP}var vP,wne;function lat(){if(wne)return vP;wne=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var a=-1,l=e(t((i-n)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=n,n+=s;return u}return vP=r,vP}var yP,Sne;function cat(){if(Sne)return yP;Sne=1;var t=lat(),e=DE(),r=L5e();function n(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),t(s,o,a,i)}}return yP=n,yP}var xP,Ene;function uat(){if(Ene)return xP;Ene=1;var t=cat(),e=t();return xP=e,xP}var bP,_ne;function gat(){if(_ne)return bP;_ne=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return bP=t,bP}var wP,Tne;function dat(){if(Tne)return wP;Tne=1;var t=Om();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=t(r),l=n!==void 0,u=n===null,g=n===n,d=t(n);if(!u&&!d&&!a&&r>n||a&&l&&g&&!u&&!d||s&&l&&g||!i&&g||!o)return 1;if(!s&&!a&&!d&&r<n||d&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!g)return-1}return 0}return wP=e,wP}var SP,Rne;function hat(){if(Rne)return SP;Rne=1;var t=dat();function e(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,l=o.length,u=i.length;++s<l;){var g=t(o[s],a[s]);if(g){if(s>=u)return g;var d=i[s];return g*(d=="desc"?-1:1)}}return r.index-n.index}return SP=e,SP}var EP,Nne;function fat(){if(Nne)return EP;Nne=1;var t=OE(),e=PE(),r=Ed(),n=w5e(),i=gat(),s=_E(),o=hat(),a=OC(),l=fs();function u(g,d,f){d.length?d=t(d,function(C){return l(C)?function(I){return e(I,C.length===1?C[0]:C)}:C}):d=[a];var h=-1;d=t(d,s(r));var A=n(g,function(C,I,p){var m=t(d,function(v){return v(C)});return{criteria:m,index:++h,value:C}});return i(A,function(C,I){return o(C,I,f)})}return EP=u,EP}var _P,One;function Aat(){if(One)return _P;One=1;var t=TW(),e=fat(),r=kE(),n=DE(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return _P=i,_P}var TP,jne;function Cat(){if(jne)return TP;jne=1;var t=I5e(),e=0;function r(n){var i=++e;return t(n)+i}return TP=r,TP}var RP,Pne;function Iat(){if(Pne)return RP;Pne=1;function t(e,r,n){for(var i=-1,s=e.length,o=r.length,a={};++i<s;){var l=i<o?r[i]:void 0;n(a,e[i],l)}return a}return RP=t,RP}var NP,kne;function pat(){if(kne)return NP;kne=1;var t=SE(),e=Iat();function r(n,i){return e(n||[],i||[],t)}return NP=r,NP}var Z2;if(typeof hW=="function")try{Z2={cloneDeep:kot(),constant:bW(),defaults:Dot(),each:u5e(),filter:y5e(),find:zot(),flatten:M5e(),forEach:c5e(),forIn:Uot(),has:x5e(),isUndefined:b5e(),last:Wot(),map:S5e(),mapValues:Got(),max:Hot(),merge:Jot(),min:eat(),minBy:tat(),now:rat(),pick:aat(),range:uat(),reduce:E5e(),sortBy:Aat(),uniqueId:Cat(),values:O5e(),zipObject:pat()}}catch{}Z2||(Z2=window._);var Ai=Z2,mat=FE;function FE(){var t={};t._next=t._prev=t,this._sentinel=t}FE.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return z5e(e),e};FE.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&z5e(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};FE.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,vat)),r=r._prev;return"["+t.join(", ")+"]"};function z5e(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function vat(t,e){if(t!=="_next"&&t!=="_prev")return e}var Vg=Ai,yat=iu.Graph,xat=mat,bat=Sat,wat=Vg.constant(1);function Sat(t,e){if(t.nodeCount()<=1)return[];var r=_at(t,e||wat),n=Eat(r.graph,r.buckets,r.zeroIdx);return Vg.flatten(Vg.map(n,function(i){return t.outEdges(i.v,i.w)}),!0)}function Eat(t,e,r){for(var n=[],i=e[e.length-1],s=e[0],o;t.nodeCount();){for(;o=s.dequeue();)OP(t,e,r,o);for(;o=i.dequeue();)OP(t,e,r,o);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(o=e[a].dequeue(),o){n=n.concat(OP(t,e,r,o,!0));break}}}return n}function OP(t,e,r,n,i){var s=i?[]:void 0;return Vg.forEach(t.inEdges(n.v),function(o){var a=t.edge(o),l=t.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,L7(e,r,l)}),Vg.forEach(t.outEdges(n.v),function(o){var a=t.edge(o),l=o.w,u=t.node(l);u.in-=a,L7(e,r,u)}),t.removeNode(n.v),s}function _at(t,e){var r=new yat,n=0,i=0;Vg.forEach(t.nodes(),function(a){r.setNode(a,{v:a,in:0,out:0})}),Vg.forEach(t.edges(),function(a){var l=r.edge(a.v,a.w)||0,u=e(a),g=l+u;r.setEdge(a.v,a.w,g),i=Math.max(i,r.node(a.v).out+=u),n=Math.max(n,r.node(a.w).in+=u)});var s=Vg.range(i+n+3).map(function(){return new xat}),o=n+1;return Vg.forEach(r.nodes(),function(a){L7(s,o,r.node(a))}),{graph:r,buckets:s,zeroIdx:o}}function L7(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}var uA=Ai,Tat=bat,Rat={run:Nat,undo:jat};function Nat(t){var e=t.graph().acyclicer==="greedy"?Tat(t,r(t)):Oat(t);uA.forEach(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,uA.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function Oat(t){var e=[],r={},n={};function i(s){uA.has(n,s)||(n[s]=!0,r[s]=!0,uA.forEach(t.outEdges(s),function(o){uA.has(r,o.w)?e.push(o):i(o.w)}),delete r[s])}return uA.forEach(t.nodes(),i),e}function jat(t){uA.forEach(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}var Cn=Ai,U5e=iu.Graph,ja={addDummyNode:W5e,simplify:Pat,asNonCompoundGraph:kat,successorWeights:Dat,predecessorWeights:Fat,intersectRect:Lat,buildLayerMatrix:Mat,normalizeRanks:Bat,removeEmptyRanks:$at,addBorderNode:qat,maxRank:G5e,partition:zat,time:Uat,notime:Wat};function W5e(t,e,r,n){var i;do i=Cn.uniqueId(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function Pat(t){var e=new U5e().setGraph(t.graph());return Cn.forEach(t.nodes(),function(r){e.setNode(r,t.node(r))}),Cn.forEach(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function kat(t){var e=new U5e({multigraph:t.isMultigraph()}).setGraph(t.graph());return Cn.forEach(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),Cn.forEach(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function Dat(t){var e=Cn.map(t.nodes(),function(r){var n={};return Cn.forEach(t.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+t.edge(i).weight}),n});return Cn.zipObject(t.nodes(),e)}function Fat(t){var e=Cn.map(t.nodes(),function(r){var n={};return Cn.forEach(t.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+t.edge(i).weight}),n});return Cn.zipObject(t.nodes(),e)}function Lat(t,e){var r=t.x,n=t.y,i=e.x-r,s=e.y-n,o=t.width/2,a=t.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:r+l,y:n+u}}function Mat(t){var e=Cn.map(Cn.range(G5e(t)+1),function(){return[]});return Cn.forEach(t.nodes(),function(r){var n=t.node(r),i=n.rank;Cn.isUndefined(i)||(e[i][n.order]=r)}),e}function Bat(t){var e=Cn.min(Cn.map(t.nodes(),function(r){return t.node(r).rank}));Cn.forEach(t.nodes(),function(r){var n=t.node(r);Cn.has(n,"rank")&&(n.rank-=e)})}function $at(t){var e=Cn.min(Cn.map(t.nodes(),function(s){return t.node(s).rank})),r=[];Cn.forEach(t.nodes(),function(s){var o=t.node(s).rank-e;r[o]||(r[o]=[]),r[o].push(s)});var n=0,i=t.graph().nodeRankFactor;Cn.forEach(r,function(s,o){Cn.isUndefined(s)&&o%i!==0?--n:n&&Cn.forEach(s,function(a){t.node(a).rank+=n})})}function qat(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),W5e(t,"border",i,e)}function G5e(t){return Cn.max(Cn.map(t.nodes(),function(e){var r=t.node(e).rank;if(!Cn.isUndefined(r))return r}))}function zat(t,e){var r={lhs:[],rhs:[]};return Cn.forEach(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function Uat(t,e){var r=Cn.now();try{return e()}finally{console.log(t+" time: "+(Cn.now()-r)+"ms")}}function Wat(t,e){return e()}var V5e=Ai,Gat=ja,Vat={run:Hat,undo:Yat};function Hat(t){t.graph().dummyChains=[],V5e.forEach(t.edges(),function(e){Kat(t,e)})}function Kat(t,e){var r=e.v,n=t.node(r).rank,i=e.w,s=t.node(i).rank,o=e.name,a=t.edge(e),l=a.labelRank;if(s!==n+1){t.removeEdge(e);var u,g,d;for(d=0,++n;n<s;++d,++n)a.points=[],g={width:0,height:0,edgeLabel:a,edgeObj:e,rank:n},u=Gat.addDummyNode(t,"edge",g,"_d"),n===l&&(g.width=a.width,g.height=a.height,g.dummy="edge-label",g.labelpos=a.labelpos),t.setEdge(r,u,{weight:a.weight},o),d===0&&t.graph().dummyChains.push(u),r=u;t.setEdge(r,i,{weight:a.weight},o)}}function Yat(t){V5e.forEach(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}var tw=Ai,LE={longestPath:Zat,slack:Xat};function Zat(t){var e={};function r(n){var i=t.node(n);if(tw.has(e,n))return i.rank;e[n]=!0;var s=tw.min(tw.map(t.outEdges(n),function(o){return r(o.w)-t.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}tw.forEach(t.sources(),r)}function Xat(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var X2=Ai,Qat=iu.Graph,Q2=LE.slack,H5e=Jat;function Jat(t){var e=new Qat({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,s;elt(e,t)<n;)i=tlt(e,t),s=e.hasNode(i.v)?Q2(t,i):-Q2(t,i),rlt(e,t,s);return e}function elt(t,e){function r(n){X2.forEach(e.nodeEdges(n),function(i){var s=i.v,o=n===s?i.w:s;!t.hasNode(o)&&!Q2(e,i)&&(t.setNode(o,{}),t.setEdge(n,o,{}),r(o))})}return X2.forEach(t.nodes(),r),t.nodeCount()}function tlt(t,e){return X2.minBy(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return Q2(e,r)})}function rlt(t,e,r){X2.forEach(t.nodes(),function(n){e.node(n).rank+=r})}var pd=Ai,nlt=H5e,ilt=LE.slack,slt=LE.longestPath,olt=iu.alg.preorder,alt=iu.alg.postorder,llt=ja.simplify,clt=jC;jC.initLowLimValues=jW;jC.initCutValues=OW;jC.calcCutValue=K5e;jC.leaveEdge=Z5e;jC.enterEdge=X5e;jC.exchangeEdges=Q5e;function jC(t){t=llt(t),slt(t);var e=nlt(t);jW(e),OW(e,t);for(var r,n;r=Z5e(e);)n=X5e(e,t,r),Q5e(e,t,r,n)}function OW(t,e){var r=alt(t,t.nodes());r=r.slice(0,r.length-1),pd.forEach(r,function(n){ult(t,e,n)})}function ult(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=K5e(t,e,r)}function K5e(t,e,r){var n=t.node(r),i=n.parent,s=!0,o=e.edge(r,i),a=0;return o||(s=!1,o=e.edge(i,r)),a=o.weight,pd.forEach(e.nodeEdges(r),function(l){var u=l.v===r,g=u?l.w:l.v;if(g!==i){var d=u===s,f=e.edge(l).weight;if(a+=d?f:-f,dlt(t,r,g)){var h=t.edge(r,g).cutvalue;a+=d?-h:h}}}),a}function jW(t,e){arguments.length<2&&(e=t.nodes()[0]),Y5e(t,{},1,e)}function Y5e(t,e,r,n,i){var s=r,o=t.node(n);return e[n]=!0,pd.forEach(t.neighbors(n),function(a){pd.has(e,a)||(r=Y5e(t,e,r,a,n))}),o.low=s,o.lim=r++,i?o.parent=i:delete o.parent,r}function Z5e(t){return pd.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function X5e(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var s=t.node(n),o=t.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=pd.filter(e.edges(),function(g){return l===Dne(t,t.node(g.v),a)&&l!==Dne(t,t.node(g.w),a)});return pd.minBy(u,function(g){return ilt(e,g)})}function Q5e(t,e,r,n){var i=r.v,s=r.w;t.removeEdge(i,s),t.setEdge(n.v,n.w,{}),jW(t),OW(t,e),glt(t,e)}function glt(t,e){var r=pd.find(t.nodes(),function(i){return!e.node(i).parent}),n=olt(t,r);n=n.slice(1),pd.forEach(n,function(i){var s=t.node(i).parent,o=e.edge(i,s),a=!1;o||(o=e.edge(s,i),a=!0),e.node(i).rank=e.node(s).rank+(a?o.minlen:-o.minlen)})}function dlt(t,e,r){return t.hasEdge(e,r)}function Dne(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}var hlt=LE,J5e=hlt.longestPath,flt=H5e,Alt=clt,Clt=Ilt;function Ilt(t){switch(t.graph().ranker){case"network-simplex":Fne(t);break;case"tight-tree":mlt(t);break;case"longest-path":plt(t);break;default:Fne(t)}}var plt=J5e;function mlt(t){J5e(t),flt(t)}function Fne(t){Alt(t)}var M7=Ai,vlt=ylt;function ylt(t){var e=blt(t);M7.forEach(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,s=xlt(t,e,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],g=!0;r!==i.w;){if(n=t.node(r),g){for(;(u=o[l])!==a&&t.node(u).maxRank<n.rank;)l++;u===a&&(g=!1)}if(!g){for(;l<o.length-1&&t.node(u=o[l+1]).minRank<=n.rank;)l++;u=o[l]}t.setParent(r,u),r=t.successors(r)[0]}})}function xlt(t,e,r,n){var i=[],s=[],o=Math.min(e[r].low,e[n].low),a=Math.max(e[r].lim,e[n].lim),l,u;l=r;do l=t.parent(l),i.push(l);while(l&&(e[l].low>o||a>e[l].lim));for(u=l,l=n;(l=t.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function blt(t){var e={},r=0;function n(i){var s=r;M7.forEach(t.children(i),n),e[i]={low:s,lim:r++}}return M7.forEach(t.children(),n),e}var Hg=Ai,B7=ja,wlt={run:Slt,cleanup:Tlt};function Slt(t){var e=B7.addDummyNode(t,"root",{},"_root"),r=Elt(t),n=Hg.max(Hg.values(r))-1,i=2*n+1;t.graph().nestingRoot=e,Hg.forEach(t.edges(),function(o){t.edge(o).minlen*=i});var s=_lt(t)+1;Hg.forEach(t.children(),function(o){eRe(t,e,i,s,n,r,o)}),t.graph().nodeRankFactor=i}function eRe(t,e,r,n,i,s,o){var a=t.children(o);if(!a.length){o!==e&&t.setEdge(e,o,{weight:0,minlen:r});return}var l=B7.addBorderNode(t,"_bt"),u=B7.addBorderNode(t,"_bb"),g=t.node(o);t.setParent(l,o),g.borderTop=l,t.setParent(u,o),g.borderBottom=u,Hg.forEach(a,function(d){eRe(t,e,r,n,i,s,d);var f=t.node(d),h=f.borderTop?f.borderTop:d,A=f.borderBottom?f.borderBottom:d,C=f.borderTop?n:2*n,I=h!==A?1:i-s[o]+1;t.setEdge(l,h,{weight:C,minlen:I,nestingEdge:!0}),t.setEdge(A,u,{weight:C,minlen:I,nestingEdge:!0})}),t.parent(o)||t.setEdge(e,l,{weight:0,minlen:i+s[o]})}function Elt(t){var e={};function r(n,i){var s=t.children(n);s&&s.length&&Hg.forEach(s,function(o){r(o,i+1)}),e[n]=i}return Hg.forEach(t.children(),function(n){r(n,1)}),e}function _lt(t){return Hg.reduce(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function Tlt(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Hg.forEach(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}var jP=Ai,Rlt=ja,Nlt=Olt;function Olt(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&jP.forEach(n,e),jP.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)Lne(t,"borderLeft","_bl",r,i,s),Lne(t,"borderRight","_br",r,i,s)}}jP.forEach(t.children(),e)}function Lne(t,e,r,n,i,s){var o={width:0,height:0,rank:s,borderType:e},a=i[e][s-1],l=Rlt.addDummyNode(t,"border",o,r);i[e][s]=l,t.setParent(l,n),a&&t.setEdge(a,l,{weight:1})}var Du=Ai,jlt={adjust:Plt,undo:klt};function Plt(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&tRe(t)}function klt(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&Dlt(t),(e==="lr"||e==="rl")&&(Flt(t),tRe(t))}function tRe(t){Du.forEach(t.nodes(),function(e){Mne(t.node(e))}),Du.forEach(t.edges(),function(e){Mne(t.edge(e))})}function Mne(t){var e=t.width;t.width=t.height,t.height=e}function Dlt(t){Du.forEach(t.nodes(),function(e){PP(t.node(e))}),Du.forEach(t.edges(),function(e){var r=t.edge(e);Du.forEach(r.points,PP),Du.has(r,"y")&&PP(r)})}function PP(t){t.y=-t.y}function Flt(t){Du.forEach(t.nodes(),function(e){kP(t.node(e))}),Du.forEach(t.edges(),function(e){var r=t.edge(e);Du.forEach(r.points,kP),Du.has(r,"x")&&kP(r)})}function kP(t){var e=t.x;t.x=t.y,t.y=e}var bg=Ai,Llt=Mlt;function Mlt(t){var e={},r=bg.filter(t.nodes(),function(a){return!t.children(a).length}),n=bg.max(bg.map(r,function(a){return t.node(a).rank})),i=bg.map(bg.range(n+1),function(){return[]});function s(a){if(!bg.has(e,a)){e[a]=!0;var l=t.node(a);i[l.rank].push(a),bg.forEach(t.successors(a),s)}}var o=bg.sortBy(r,function(a){return t.node(a).rank});return bg.forEach(o,s),i}var rh=Ai,Blt=$lt;function $lt(t,e){for(var r=0,n=1;n<e.length;++n)r+=qlt(t,e[n-1],e[n]);return r}function qlt(t,e,r){for(var n=rh.zipObject(r,rh.map(r,function(u,g){return g})),i=rh.flatten(rh.map(e,function(u){return rh.sortBy(rh.map(t.outEdges(u),function(g){return{pos:n[g.w],weight:t.edge(g).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var o=2*s-1;s-=1;var a=rh.map(new Array(o),function(){return 0}),l=0;return rh.forEach(i.forEach(function(u){var g=u.pos+s;a[g]+=u.weight;for(var d=0;g>0;)g%2&&(d+=a[g+1]),g=g-1>>1,a[g]+=u.weight;l+=u.weight*d})),l}var Bne=Ai,zlt=Ult;function Ult(t,e){return Bne.map(e,function(r){var n=t.inEdges(r);if(n.length){var i=Bne.reduce(n,function(s,o){var a=t.edge(o),l=t.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var sl=Ai,Wlt=Glt;function Glt(t,e){var r={};sl.forEach(t,function(i,s){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};sl.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),sl.forEach(e.edges(),function(i){var s=r[i.v],o=r[i.w];!sl.isUndefined(s)&&!sl.isUndefined(o)&&(o.indegree++,s.out.push(r[i.w]))});var n=sl.filter(r,function(i){return!i.indegree});return Vlt(n)}function Vlt(t){var e=[];function r(s){return function(o){o.merged||(sl.isUndefined(o.barycenter)||sl.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&Hlt(s,o)}}function n(s){return function(o){o.in.push(s),--o.indegree===0&&t.push(o)}}for(;t.length;){var i=t.pop();e.push(i),sl.forEach(i.in.reverse(),r(i)),sl.forEach(i.out,n(i))}return sl.map(sl.filter(e,function(s){return!s.merged}),function(s){return sl.pick(s,["vs","i","barycenter","weight"])})}function Hlt(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}var Sv=Ai,Klt=ja,Ylt=Zlt;function Zlt(t,e){var r=Klt.partition(t,function(g){return Sv.has(g,"barycenter")}),n=r.lhs,i=Sv.sortBy(r.rhs,function(g){return-g.i}),s=[],o=0,a=0,l=0;n.sort(Xlt(!!e)),l=$ne(s,i,l),Sv.forEach(n,function(g){l+=g.vs.length,s.push(g.vs),o+=g.barycenter*g.weight,a+=g.weight,l=$ne(s,i,l)});var u={vs:Sv.flatten(s,!0)};return a&&(u.barycenter=o/a,u.weight=a),u}function $ne(t,e,r){for(var n;e.length&&(n=Sv.last(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function Xlt(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}var uh=Ai,Qlt=zlt,Jlt=Wlt,ect=Ylt,tct=rRe;function rRe(t,e,r,n){var i=t.children(e),s=t.node(e),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=uh.filter(i,function(A){return A!==o&&A!==a}));var u=Qlt(t,i);uh.forEach(u,function(A){if(t.children(A.v).length){var C=rRe(t,A.v,r,n);l[A.v]=C,uh.has(C,"barycenter")&&nct(A,C)}});var g=Jlt(u,r);rct(g,l);var d=ect(g,n);if(o&&(d.vs=uh.flatten([o,d.vs,a],!0),t.predecessors(o).length)){var f=t.node(t.predecessors(o)[0]),h=t.node(t.predecessors(a)[0]);uh.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function rct(t,e){uh.forEach(t,function(r){r.vs=uh.flatten(r.vs.map(function(n){return e[n]?e[n].vs:n}),!0)})}function nct(t,e){uh.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var Ev=Ai,ict=iu.Graph,sct=oct;function oct(t,e,r){var n=act(t),i=new ict({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return t.node(s)});return Ev.forEach(t.nodes(),function(s){var o=t.node(s),a=t.parent(s);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||n),Ev.forEach(t[r](s),function(l){var u=l.v===s?l.w:l.v,g=i.edge(u,s),d=Ev.isUndefined(g)?0:g.weight;i.setEdge(u,s,{weight:t.edge(l).weight+d})}),Ev.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),i}function act(t){for(var e;t.hasNode(e=Ev.uniqueId("_root")););return e}var lct=Ai,cct=uct;function uct(t,e,r){var n={},i;lct.forEach(r,function(s){for(var o=t.parent(s),a,l;o;){if(a=t.parent(o),a?(l=n[a],n[a]=o):(l=i,i=o),l&&l!==o){e.setEdge(l,o);return}o=a}})}var Mh=Ai,gct=Llt,dct=Blt,hct=tct,fct=sct,Act=cct,Cct=iu.Graph,qne=ja,Ict=pct;function pct(t){var e=qne.maxRank(t),r=zne(t,Mh.range(1,e+1),"inEdges"),n=zne(t,Mh.range(e-1,-1,-1),"outEdges"),i=gct(t);Une(t,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){mct(a%2?r:n,a%4>=2),i=qne.buildLayerMatrix(t);var u=dct(t,i);u<s&&(l=0,o=Mh.cloneDeep(i),s=u)}Une(t,o)}function zne(t,e,r){return Mh.map(e,function(n){return fct(t,n,r)})}function mct(t,e){var r=new Cct;Mh.forEach(t,function(n){var i=n.graph().root,s=hct(n,i,r,e);Mh.forEach(s.vs,function(o,a){n.node(o).order=a}),Act(n,r,s.vs)})}function Une(t,e){Mh.forEach(e,function(r){Mh.forEach(r,function(n,i){t.node(n).order=i})})}var Or=Ai,vct=iu.Graph,yct=ja,xct={positionX:Pct};function bct(t,e){var r={};function n(i,s){var o=0,a=0,l=i.length,u=Or.last(s);return Or.forEach(s,function(g,d){var f=Sct(t,g),h=f?t.node(f).order:l;(f||g===u)&&(Or.forEach(s.slice(a,d+1),function(A){Or.forEach(t.predecessors(A),function(C){var I=t.node(C),p=I.order;(p<o||h<p)&&!(I.dummy&&t.node(A).dummy)&&nRe(r,C,A)})}),a=d+1,o=h)}),s}return Or.reduce(e,n),r}function wct(t,e){var r={};function n(s,o,a,l,u){var g;Or.forEach(Or.range(o,a),function(d){g=s[d],t.node(g).dummy&&Or.forEach(t.predecessors(g),function(f){var h=t.node(f);h.dummy&&(h.order<l||h.order>u)&&nRe(r,f,g)})})}function i(s,o){var a=-1,l,u=0;return Or.forEach(o,function(g,d){if(t.node(g).dummy==="border"){var f=t.predecessors(g);f.length&&(l=t.node(f[0]).order,n(o,u,d,a,l),u=d,a=l)}n(o,u,o.length,l,s.length)}),o}return Or.reduce(e,i),r}function Sct(t,e){if(t.node(e).dummy)return Or.find(t.predecessors(e),function(r){return t.node(r).dummy})}function nRe(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function Ect(t,e,r){if(e>r){var n=e;e=r,r=n}return Or.has(t[e],r)}function _ct(t,e,r,n){var i={},s={},o={};return Or.forEach(e,function(a){Or.forEach(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),Or.forEach(e,function(a){var l=-1;Or.forEach(a,function(u){var g=n(u);if(g.length){g=Or.sortBy(g,function(C){return o[C]});for(var d=(g.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var A=g[f];s[u]===u&&l<o[A]&&!Ect(r,u,A)&&(s[A]=u,s[u]=i[u]=i[A],l=o[A])}}})}),{root:i,align:s}}function Tct(t,e,r,n,i){var s={},o=Rct(t,e,r,i),a=i?"borderLeft":"borderRight";function l(d,f){for(var h=o.nodes(),A=h.pop(),C={};A;)C[A]?d(A):(C[A]=!0,h.push(A),h=h.concat(f(A))),A=h.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(f,h){return Math.max(f,s[h.v]+o.edge(h))},0)}function g(d){var f=o.outEdges(d).reduce(function(A,C){return Math.min(A,s[C.w]-o.edge(C))},Number.POSITIVE_INFINITY),h=t.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(s[d]=Math.max(s[d],f))}return l(u,o.predecessors.bind(o)),l(g,o.successors.bind(o)),Or.forEach(n,function(d){s[d]=s[r[d]]}),s}function Rct(t,e,r,n){var i=new vct,s=t.graph(),o=kct(s.nodesep,s.edgesep,n);return Or.forEach(e,function(a){var l;Or.forEach(a,function(u){var g=r[u];if(i.setNode(g),l){var d=r[l],f=i.edge(d,g);i.setEdge(d,g,Math.max(o(t,u,l),f||0))}l=u})}),i}function Nct(t,e){return Or.minBy(Or.values(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Or.forIn(r,function(s,o){var a=Dct(t,o)/2;n=Math.max(s+a,n),i=Math.min(s-a,i)}),n-i})}function Oct(t,e){var r=Or.values(e),n=Or.min(r),i=Or.max(r);Or.forEach(["u","d"],function(s){Or.forEach(["l","r"],function(o){var a=s+o,l=t[a],u;if(l!==e){var g=Or.values(l);u=o==="l"?n-Or.min(g):i-Or.max(g),u&&(t[a]=Or.mapValues(l,function(d){return d+u}))}})})}function jct(t,e){return Or.mapValues(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=Or.sortBy(Or.map(t,n));return(i[1]+i[2])/2})}function Pct(t){var e=yct.buildLayerMatrix(t),r=Or.merge(bct(t,e),wct(t,e)),n={},i;Or.forEach(["u","d"],function(o){i=o==="u"?e:Or.values(e).reverse(),Or.forEach(["l","r"],function(a){a==="r"&&(i=Or.map(i,function(d){return Or.values(d).reverse()}));var l=(o==="u"?t.predecessors:t.successors).bind(t),u=_ct(t,i,r,l),g=Tct(t,i,u.root,u.align,a==="r");a==="r"&&(g=Or.mapValues(g,function(d){return-d})),n[o+a]=g})});var s=Nct(t,n);return Oct(n,s),jct(n,t.graph().align)}function kct(t,e,r){return function(n,i,s){var o=n.node(i),a=n.node(s),l=0,u;if(l+=o.width/2,Or.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(o.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,Or.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function Dct(t,e){return t.node(e).width}var _v=Ai,iRe=ja,Fct=xct.positionX,Lct=Mct;function Mct(t){t=iRe.asNonCompoundGraph(t),Bct(t),_v.forEach(Fct(t),function(e,r){t.node(r).x=e})}function Bct(t){var e=iRe.buildLayerMatrix(t),r=t.graph().ranksep,n=0;_v.forEach(e,function(i){var s=_v.max(_v.map(i,function(o){return t.node(o).height}));_v.forEach(i,function(o){t.node(o).y=n+s/2}),n+=s+r})}var Wr=Ai,Wne=Rat,Gne=Vat,$ct=Clt,qct=ja.normalizeRanks,zct=vlt,Uct=ja.removeEmptyRanks,Vne=wlt,Wct=Nlt,Hne=jlt,Gct=Ict,Vct=Lct,sf=ja,Hct=iu.Graph,Kct=Yct;function Yct(t,e){var r=e&&e.debugTiming?sf.time:sf.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return out(t)});r("  runLayout",function(){Zct(n,r)}),r("  updateInputGraph",function(){Xct(t,n)})})}function Zct(t,e){e("    makeSpaceForEdgeLabels",function(){aut(t)}),e("    removeSelfEdges",function(){Cut(t)}),e("    acyclic",function(){Wne.run(t)}),e("    nestingGraph.run",function(){Vne.run(t)}),e("    rank",function(){$ct(sf.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){lut(t)}),e("    removeEmptyRanks",function(){Uct(t)}),e("    nestingGraph.cleanup",function(){Vne.cleanup(t)}),e("    normalizeRanks",function(){qct(t)}),e("    assignRankMinMax",function(){cut(t)}),e("    removeEdgeLabelProxies",function(){uut(t)}),e("    normalize.run",function(){Gne.run(t)}),e("    parentDummyChains",function(){zct(t)}),e("    addBorderSegments",function(){Wct(t)}),e("    order",function(){Gct(t)}),e("    insertSelfEdges",function(){Iut(t)}),e("    adjustCoordinateSystem",function(){Hne.adjust(t)}),e("    position",function(){Vct(t)}),e("    positionSelfEdges",function(){put(t)}),e("    removeBorderNodes",function(){Aut(t)}),e("    normalize.undo",function(){Gne.undo(t)}),e("    fixupEdgeLabelCoords",function(){hut(t)}),e("    undoCoordinateSystem",function(){Hne.undo(t)}),e("    translateGraph",function(){gut(t)}),e("    assignNodeIntersects",function(){dut(t)}),e("    reversePoints",function(){fut(t)}),e("    acyclic.undo",function(){Wne.undo(t)})}function Xct(t,e){Wr.forEach(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),Wr.forEach(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,Wr.has(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var Qct=["nodesep","edgesep","ranksep","marginx","marginy"],Jct={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},eut=["acyclicer","ranker","rankdir","align"],tut=["width","height"],rut={width:0,height:0},nut=["minlen","weight","width","height","labeloffset"],iut={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},sut=["labelpos"];function out(t){var e=new Hct({multigraph:!0,compound:!0}),r=FP(t.graph());return e.setGraph(Wr.merge({},Jct,DP(r,Qct),Wr.pick(r,eut))),Wr.forEach(t.nodes(),function(n){var i=FP(t.node(n));e.setNode(n,Wr.defaults(DP(i,tut),rut)),e.setParent(n,t.parent(n))}),Wr.forEach(t.edges(),function(n){var i=FP(t.edge(n));e.setEdge(n,Wr.merge({},iut,DP(i,nut),Wr.pick(i,sut)))}),e}function aut(t){var e=t.graph();e.ranksep/=2,Wr.forEach(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function lut(t){Wr.forEach(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),s={rank:(i.rank-n.rank)/2+n.rank,e};sf.addDummyNode(t,"edge-proxy",s,"_ep")}})}function cut(t){var e=0;Wr.forEach(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=Wr.max(e,n.maxRank))}),t.graph().maxRank=e}function uut(t){Wr.forEach(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function gut(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=t.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var g=u.x,d=u.y,f=u.width,h=u.height;e=Math.min(e,g-f/2),r=Math.max(r,g+f/2),n=Math.min(n,d-h/2),i=Math.max(i,d+h/2)}Wr.forEach(t.nodes(),function(u){l(t.node(u))}),Wr.forEach(t.edges(),function(u){var g=t.edge(u);Wr.has(g,"x")&&l(g)}),e-=o,n-=a,Wr.forEach(t.nodes(),function(u){var g=t.node(u);g.x-=e,g.y-=n}),Wr.forEach(t.edges(),function(u){var g=t.edge(u);Wr.forEach(g.points,function(d){d.x-=e,d.y-=n}),Wr.has(g,"x")&&(g.x-=e),Wr.has(g,"y")&&(g.y-=n)}),s.width=r-e+o,s.height=i-n+a}function dut(t){Wr.forEach(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),s,o;r.points?(s=r.points[0],o=r.points[r.points.length-1]):(r.points=[],s=i,o=n),r.points.unshift(sf.intersectRect(n,s)),r.points.push(sf.intersectRect(i,o))})}function hut(t){Wr.forEach(t.edges(),function(e){var r=t.edge(e);if(Wr.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function fut(t){Wr.forEach(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function Aut(t){Wr.forEach(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),s=t.node(Wr.last(r.borderLeft)),o=t.node(Wr.last(r.borderRight));r.width=Math.abs(o.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),Wr.forEach(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Cut(t){Wr.forEach(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Iut(t){var e=sf.buildLayerMatrix(t);Wr.forEach(e,function(r){var n=0;Wr.forEach(r,function(i,s){var o=t.node(i);o.order=s+n,Wr.forEach(o.selfEdges,function(a){sf.addDummyNode(t,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++n,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function put(t){Wr.forEach(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,s=n.y,o=r.x-i,a=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],r.label.x=r.x,r.label.y=r.y}})}function DP(t,e){return Wr.mapValues(Wr.pick(t,e),Number)}function FP(t){var e={};return Wr.forEach(t,function(r,n){e[n.toLowerCase()]=r}),e}var rw=Ai,mut=ja,vut=iu.Graph,yut={debugOrdering:xut};function xut(t){var e=mut.buildLayerMatrix(t),r=new vut({compound:!0,multigraph:!0}).setGraph({});return rw.forEach(t.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+t.node(n).rank)}),rw.forEach(t.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),rw.forEach(e,function(n,i){var s="layer"+i;r.setNode(s,{rank:"same"}),rw.reduce(n,function(o,a){return r.setEdge(o,a,{style:"invis"}),a})}),r}var but="0.8.5",wut={graphlib:iu,layout:Kct,debug:yut,util:{time:ja.time,notime:ja.notime},version:but};const Kne=g1(wut),Sut=t=>{switch(t){case"PROCESS":return c.jsx(Uc,{});case"INSPECTION":return c.jsx(vr,{});case"DECISION":return c.jsx(Hke,{});case"PARALLEL_SPLIT":return c.jsx(Vke,{});case"PARALLEL_JOIN":return c.jsx(Gke,{});case"OSP":return c.jsx(Wke,{});case"LOT_SPLIT":return c.jsx(Uke,{});case"LOT_MERGE":return c.jsx(Hw,{});case"TELESCOPING":return c.jsx(Os,{});case"START":return c.jsx(sm,{});case"END":return c.jsx(Q1e,{});default:return c.jsx(Uc,{})}},Eut=t=>{switch(t){case"START":return{background:"#f6ffed",border:"#52c41a",color:"#135200"};case"END":return{background:"#fff1f0",border:"#f5222d",color:"#820014"};case"PROCESS":return{background:"#e6f7ff",border:"#1890ff",color:"#003a8c"};case"INSPECTION":return{background:"#f9f0ff",border:"#722ed1",color:"#391085"};case"DECISION":return{background:"#fffbe6",border:"#faad14",color:"#ad6800"};case"PARALLEL_SPLIT":case"PARALLEL_JOIN":return{background:"#f9f0ff",border:"#722ed1",color:"#391085"};case"OSP":return{background:"#fff0f6",border:"#eb2f96",color:"#9e1068"};case"LOT_SPLIT":case"LOT_MERGE":return{background:"#fcffe6",border:"#a0d911",color:"#5b8c00"};case"TELESCOPING":return{background:"#f0f5ff",border:"#597ef7",color:"#10239e"};default:return{background:"#fafafa",border:"#d9d9d9",color:"#595959"}}},sRe=D.memo(({data:t,selected:e})=>{const r=Eut(t.stepType),n=Sut(t.stepType),i={background:r.background,border:`2px solid ${e?"#1890ff":r.border}`,borderRadius:"8px",padding:"12px",width:"200px",minHeight:"100px",boxShadow:e?"0 4px 12px rgba(24, 144, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",cursor:"pointer"},s={display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:r.color,fontWeight:500,fontSize:"14px"},o={fontSize:"12px",color:"#666"};return c.jsxs("div",{style:i,children:[t.stepType!=="START"&&c.jsx(Th,{type:"target",position:or.Top,style:{background:r.border,width:10,height:10,top:-5}}),c.jsxs("div",{style:s,children:[c.jsx("span",{style:{fontSize:"16px"},children:n}),c.jsxs("span",{children:["Step ",t.stepNumber]})]}),c.jsxs("div",{style:o,children:[c.jsx("div",{style:{fontWeight:500,color:"#262626",marginBottom:"4px"},children:t.label}),t.operationCode&&c.jsxs("div",{style:{fontSize:"11px",color:"#8c8c8c"},children:["Op: ",t.operationCode]}),(t.standardTime||t.setupTime)&&c.jsxs("div",{style:{marginTop:"4px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[t.standardTime&&c.jsxs(Be,{color:"blue",style:{margin:0,fontSize:"10px"},children:[t.standardTime,"m"]}),t.setupTime&&c.jsxs(Be,{color:"orange",style:{margin:0,fontSize:"10px"},children:["Setup: ",t.setupTime,"m"]})]}),t.controlType&&c.jsx("div",{style:{marginTop:"4px"},children:c.jsx(ji,{count:t.controlType==="SERIAL_CONTROLLED"?"SN":"LOT",style:{backgroundColor:t.controlType==="SERIAL_CONTROLLED"?"#722ed1":"#1890ff",fontSize:"9px"}})}),t.isOptional&&c.jsx("div",{style:{marginTop:"4px"},children:c.jsx(Be,{color:"default",style:{margin:0,fontSize:"10px"},children:"Optional"})}),t.isCriticalPath&&c.jsx("div",{style:{marginTop:"4px"},children:c.jsx(Be,{color:"red",style:{margin:0,fontSize:"10px"},children:"Critical Path"})})]}),t.stepType!=="END"&&c.jsx(Th,{type:"source",position:or.Bottom,style:{background:r.border,width:10,height:10,bottom:-5}}),(t.stepType==="PARALLEL_SPLIT"||t.stepType==="PARALLEL_JOIN")&&c.jsxs(c.Fragment,{children:[c.jsx(Th,{type:"source",position:or.Right,id:"right",style:{background:r.border,width:8,height:8,right:-4}}),c.jsx(Th,{type:"source",position:or.Left,id:"left",style:{background:r.border,width:8,height:8,left:-4}})]})]})});sRe.displayName="RoutingStepNode";const _ut=(t,e,r="TB")=>{const n=new Kne.graphlib.Graph;return n.setDefaultEdgeLabel(()=>({})),n.setGraph({rankdir:r,ranksep:80,nodesep:60}),t.forEach(s=>{n.setNode(s.id,{width:200,height:100})}),e.forEach(s=>{n.setEdge(s.source,s.target)}),Kne.layout(n),{nodes:t.map(s=>{const o=n.node(s.id);return{...s,position:{x:o.x-100,y:o.y-50}}}),edges:e}},Tut=({steps:t=[],dependencies:e=[],onSave:r,readOnly:n=!1})=>{const[i,s,o]=iit([]),[a,l,u]=sit([]),[g,d]=D.useState(!1),[f,h]=D.useState(!1),A=D.useMemo(()=>({routingStep:sRe}),[]);D.useEffect(()=>{if(t.length===0){s([{id:"start",type:"routingStep",position:{x:250,y:50},data:{label:"Start",stepNumber:"0",stepType:"START"}},{id:"end",type:"routingStep",position:{x:250,y:400},data:{label:"End",stepNumber:"999",stepType:"END"}}]);return}const v=t.map((y,x)=>{var T,E;return{id:y.id,type:"routingStep",position:{x:250,y:100+x*120},data:{label:((T=y.operation)==null?void 0:T.operationName)||`Step ${y.stepNumber}`,stepNumber:y.stepNumber.toString(),stepType:y.stepType||"PROCESS",operationId:y.operationId,workCenterId:y.workCenterId,description:(E=y.operation)==null?void 0:E.operationName,standardTime:y.standardTime,setupTime:y.setupTime}}});s(v)},[t,s]),D.useEffect(()=>{if(e.length===0)return;const v=e.map(y=>({id:y.id,source:y.prerequisiteStepId,target:y.dependentStepId,type:"default",animated:y.dependencyType==="START_TO_START",label:y.dependencyType,markerEnd:{type:Vp.ArrowClosed},style:{strokeWidth:2,stroke:y.dependencyType==="FINISH_TO_START"?"#1890ff":"#52c41a"}}));l(v)},[e,l]);const C=D.useCallback(v=>{if(n)return;const y={...v,id:`e${v.source}-${v.target}`,type:"default",source:v.source||"",target:v.target||"",markerEnd:{type:Vp.ArrowClosed}};l(x=>iTe(y,x)),h(!0)},[n,l]),I=D.useCallback(()=>{d(!0);const{nodes:v,edges:y}=_ut(i,a,"TB");s(v),l(y),d(!1),Ee.success("Layout applied")},[i,a,s,l]),p=async()=>{if(r)try{await r(i,a),Ee.success("Routing saved successfully"),h(!1)}catch(v){Ee.error(v.message||"Failed to save routing")}},m=v=>{const y={id:`step-${Date.now()}`,type:"routingStep",position:{x:Math.random()*400+100,y:Math.random()*400+100},data:{label:`New ${v}`,stepNumber:(i.length+1).toString(),stepType:v}};s(x=>[...x,y]),h(!0)};return c.jsx("div",{style:{width:"100%",height:"800px",position:"relative"},children:c.jsxs(MTe,{nodes:i,edges:a,onNodesChange:n?void 0:o,onEdgesChange:n?void 0:u,onConnect:C,nodeTypes:A,fitView:!0,attributionPosition:"bottom-left",nodesDraggable:!n,nodesConnectable:!n,elementsSelectable:!n,children:[c.jsx(Tit,{}),c.jsx(xit,{}),c.jsx(Ait,{nodeColor:v=>{switch(v.data.stepType){case"START":return"#52c41a";case"END":return"#f5222d";case"DECISION":return"#faad14";case"INSPECTION":return"#1890ff";case"PARALLEL_SPLIT":case"PARALLEL_JOIN":return"#722ed1";case"OSP":return"#eb2f96";default:return"#8c8c8c"}}}),!n&&c.jsx(Fy,{position:"top-right",children:c.jsxs(pe,{direction:"vertical",size:"small",children:[c.jsx(lt,{title:"Save Routing",children:c.jsx(le,{type:"primary",icon:c.jsx(BA,{}),onClick:p,disabled:!f,children:"Save"})}),c.jsx(lt,{title:"Auto Layout",children:c.jsx(le,{icon:c.jsx(Kke,{}),onClick:I,loading:g,children:"Auto Layout"})}),c.jsx(lt,{title:"Add Process Step",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("PROCESS"),children:"Process"})}),c.jsx(lt,{title:"Add Inspection Step",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("INSPECTION"),children:"Inspection"})}),c.jsx(lt,{title:"Add Decision Point",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("DECISION"),children:"Decision"})}),c.jsx(lt,{title:"Add Parallel Split",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("PARALLEL_SPLIT"),children:"Split"})}),c.jsx(lt,{title:"Add Parallel Join",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("PARALLEL_JOIN"),children:"Join"})}),c.jsx(lt,{title:"Add Outside Processing",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("OSP"),children:"OSP"})}),c.jsx(lt,{title:"Add Lot Split",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("LOT_SPLIT"),children:"Lot Split"})}),c.jsx(lt,{title:"Add Lot Merge",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("LOT_MERGE"),children:"Lot Merge"})}),c.jsx(lt,{title:"Add Telescoping Operation",children:c.jsx(le,{icon:c.jsx(Nn,{}),onClick:()=>m("TELESCOPING"),children:"Telescoping"})})]})}),c.jsx(Fy,{position:"top-left",children:c.jsxs("div",{style:{background:"white",padding:"12px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[c.jsxs("div",{style:{fontSize:"14px",fontWeight:500,marginBottom:"8px"},children:["Routing Editor ",n&&"(Read Only)"]}),c.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Steps: ",i.length," | Connections: ",a.length]}),f&&c.jsx("div",{style:{fontSize:"12px",color:"#faad14",marginTop:"4px"},children:" Unsaved changes"})]})})]})})},Rut=t=>c.jsx(dW,{children:c.jsx(Tut,{...t})}),Nut="/api/v1",Qv=Vt.create({baseURL:Nut,timeout:1e4,headers:{"Content-Type":"application/json"}});Qv.interceptors.request.use(t=>{const e=yo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Qv.interceptors.response.use(t=>t.data,t=>{var r,n,i,s,o;if(((r=t.response)==null?void 0:r.status)===401&&typeof window<"u"&&!window.location.pathname.includes("/login")){localStorage.removeItem("mes-auth-storage");const a=window.location.pathname+window.location.search;window.location.href=`/login?redirect=${encodeURIComponent(a)}`}const e=((i=(n=t.response)==null?void 0:n.data)==null?void 0:i.error)||((o=(s=t.response)==null?void 0:s.data)==null?void 0:o.message)||t.message||"An error occurred";throw new Error(e)});const LP={updatePresence:async t=>Qv.post("/presence/update",{resourceType:t.resourceType,resourceId:t.resourceId,action:t.action,userName:t.userName}),getPresence:async t=>Qv.get(`/presence/${t.resourceType}/${t.resourceId}`),removePresence:async t=>Qv.post("/presence/remove",{resourceType:t.resourceType,resourceId:t.resourceId})},Out=t=>{const{resourceType:e,resourceId:r,action:n,enabled:i=!0,heartbeatInterval:s=3e4,refreshInterval:o=15e3}=t,a=sLe(),[l,u]=D.useState(null),[g,d]=D.useState(!0),[f,h]=D.useState(null),A=D.useRef(null),C=D.useRef(null),I=D.useRef(!0),p=D.useCallback(async()=>{if(!(!i||!r||!a))try{await LP.updatePresence({resourceType:e,resourceId:r,action:n,userName:a.username||`${a.firstName} ${a.lastName}`.trim()||a.email})}catch(y){console.error("Failed to update presence:",y)}},[i,r,e,n,a]),m=D.useCallback(async()=>{if(!i||!r){u(null),d(!1);return}try{const y=await LP.getPresence({resourceType:e,resourceId:r});I.current&&(u(y.data),h(null))}catch(y){console.error("Failed to fetch presence:",y),I.current&&h(y.message||"Failed to fetch presence")}finally{I.current&&d(!1)}},[i,r,e]),v=D.useCallback(async()=>{if(!(!r||!a))try{await LP.removePresence({resourceType:e,resourceId:r})}catch(y){console.error("Failed to remove presence:",y)}},[r,e,a]);return D.useEffect(()=>{if(!i||!r||!a){d(!1);return}return p(),m(),A.current=setInterval(()=>{p()},s),C.current=setInterval(()=>{m()},o),()=>{A.current&&clearInterval(A.current),C.current&&clearInterval(C.current),v()}},[i,r,a,p,m,v,s,o]),D.useEffect(()=>(I.current=!0,()=>{I.current=!1}),[]),{presenceInfo:l,isLoading:g,error:f,refresh:m}},oRe=({resourceType:t,resourceId:e,action:r,enabled:n=!0,showDetails:i=!1,style:s})=>{const{presenceInfo:o,isLoading:a,error:l}=Out({resourceType:t,resourceId:e,action:r,enabled:n});if(!n||!e)return null;if(a)return c.jsx("div",{className:"active-users-indicator",style:s,children:c.jsx(ei,{indicator:c.jsx(G1e,{spin:!0}),size:"small"})});if(l)return console.error("Presence tracking error:",l),null;if(!o||o.activeUsers.length===0)return c.jsx("div",{className:"active-users-indicator",style:s,children:c.jsx(lt,{title:"No other users active",children:c.jsx(Lc,{style:{color:"#999",fontSize:16}})})});const{activeUsers:u,viewerCount:g,editorCount:d}=o,f=u.length;return i?c.jsx("div",{className:"active-users-indicator active-users-detailed",style:s,children:c.jsx(Pt,{message:c.jsxs(pe,{children:[c.jsx(Lc,{}),c.jsxs("strong",{children:["Active Users (",f,")"]})]}),description:c.jsx("div",{style:{marginTop:8},children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[g>0&&c.jsx("div",{children:c.jsxs(Be,{color:"blue",icon:c.jsx(Os,{}),children:[g," Viewer",g!==1?"s":""]})}),d>0&&c.jsx("div",{children:c.jsxs(Be,{color:"red",icon:c.jsx(Pi,{}),children:[d," Editor",d!==1?"s":""]})}),c.jsx("div",{style:{marginTop:8},children:u.map(h=>c.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"4px 0",borderBottom:"1px solid #f0f0f0"},children:[c.jsx(ia,{size:"small",style:{backgroundColor:h.action==="editing"?"#ff4d4f":"#1890ff",marginRight:8},icon:c.jsx(Fi,{}),children:h.userName.substring(0,2).toUpperCase()}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontWeight:500},children:h.userName}),c.jsxs("div",{style:{fontSize:"12px",color:"#999"},children:[h.action==="editing"?c.jsxs(c.Fragment,{children:[c.jsx(Pi,{})," Editing"]}):c.jsxs(c.Fragment,{children:[c.jsx(Os,{})," Viewing"]})," "," ",Math.max(0,h.duration),"s ago"]})]})]},h.userId))})]})}),type:"info",showIcon:!0})}):c.jsx("div",{className:"active-users-indicator active-users-compact",style:s,children:c.jsxs(pe,{size:8,children:[c.jsx(ia.Group,{maxCount:4,maxStyle:{color:"#fff",backgroundColor:"#1890ff",cursor:"pointer"},children:u.map(h=>c.jsx(lt,{title:c.jsxs("div",{children:[c.jsx("div",{children:c.jsx("strong",{children:h.userName})}),c.jsx("div",{children:h.action==="editing"?c.jsxs(c.Fragment,{children:[c.jsx(Pi,{})," Editing"]}):c.jsxs(c.Fragment,{children:[c.jsx(Os,{})," Viewing"]})}),c.jsxs("div",{style:{fontSize:"11px",opacity:.8},children:["Active for ",Math.max(0,h.duration),"s"]})]}),children:c.jsx(ji,{count:h.action==="editing"?c.jsx(Pi,{style:{fontSize:10}}):null,offset:[-2,22],style:{backgroundColor:"#52c41a"},children:c.jsx(ia,{style:{backgroundColor:h.action==="editing"?"#ff4d4f":"#1890ff",cursor:"pointer"},icon:c.jsx(Fi,{}),children:h.userName.substring(0,2).toUpperCase()})})},h.userId))}),f>0&&c.jsx(lt,{title:c.jsxs("div",{children:[c.jsxs("div",{children:[g," viewer",g!==1?"s":""]}),c.jsxs("div",{children:[d," editor",d!==1?"s":""]})]}),children:c.jsxs(Be,{color:"blue",style:{margin:0,cursor:"pointer"},children:[c.jsx(Lc,{})," ",f]})})]})})},{Text:MP}=yr,aRe=({changeInfo:t,onReload:e,onDismiss:r,style:n})=>{const i=o=>{try{return new Date(o).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}},s=o=>{try{const l=new Date().getTime()-new Date(o).getTime(),u=Math.floor(l/6e4);if(u<1)return"just now";if(u===1)return"1 minute ago";if(u<60)return`${u} minutes ago`;const g=Math.floor(u/60);if(g===1)return"1 hour ago";if(g<24)return`${g} hours ago`;const d=Math.floor(g/24);return d===1?"1 day ago":`${d} days ago`}catch{return"recently"}};return c.jsx("div",{className:"routing-changed-alert",style:n,children:c.jsx(Pt,{message:c.jsxs(pe,{children:[c.jsx(Ns,{style:{fontSize:"18px"}}),c.jsx("strong",{children:"Routing Has Been Modified"})]}),description:c.jsxs("div",{style:{marginTop:"12px"},children:[c.jsx(MP,{children:"This routing has been updated by another user. Your local version may be outdated."}),c.jsxs(Ge,{bordered:!0,column:2,size:"small",style:{marginTop:"16px",marginBottom:"16px"},children:[c.jsx(Ge.Item,{label:"Your Version",span:1,children:c.jsx(Be,{color:"blue",children:t.currentVersion})}),c.jsx(Ge.Item,{label:"Latest Version",span:1,children:c.jsx(Be,{color:"green",children:t.newVersion})}),c.jsx(Ge.Item,{label:"Modified",span:1,children:c.jsxs(pe,{children:[c.jsx(Zi,{}),c.jsx(MP,{children:s(t.lastModified)})]})}),c.jsx(Ge.Item,{label:"Modified By",span:1,children:c.jsxs(pe,{children:[c.jsx(Fi,{}),c.jsx(MP,{children:t.modifiedBy||"Unknown User"})]})}),c.jsx(Ge.Item,{label:"Timestamp",span:2,children:i(t.lastModified)})]}),c.jsx(Pt,{type:"info",showIcon:!0,message:"What should you do?",description:c.jsxs("ul",{style:{paddingLeft:"20px",marginTop:"8px",marginBottom:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Reload:"})," Discard your local changes and load the latest version (recommended if you haven't made changes)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Continue Working:"})," Keep working with your current version. You may encounter a conflict if you try to save."]})]}),style:{marginBottom:"16px"}}),c.jsxs(pe,{size:"middle",children:[c.jsx(le,{type:"primary",icon:c.jsx(Ps,{}),onClick:e,size:"large",children:"Reload Latest Version"}),c.jsx(le,{icon:c.jsx(wS,{}),onClick:r,size:"large",children:"Continue Working"})]})]}),type:"warning",showIcon:!0,icon:c.jsx(Ns,{style:{fontSize:"24px"}}),closable:!1})})},{Text:TI,Title:Yne,Paragraph:Zne}=yr,{TabPane:Xne}=Zc,jut=({visible:t,error:e,localChanges:r,onReload:n,onForceOverwrite:i,onClose:s})=>{const[o,a]=D.useState("overview"),l=g=>{try{return new Date(g).toLocaleString()}catch{return g}},u=()=>{const g=Object.keys(r).filter(d=>d!=="currentVersion");return g.length===0?c.jsx(TI,{type:"secondary",children:"No changes to display"}):c.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:c.jsx(Ge,{bordered:!0,column:1,size:"small",children:g.map(d=>c.jsx(Ge.Item,{label:c.jsx(TI,{strong:!0,children:d}),children:c.jsxs("div",{children:[c.jsx(TI,{type:"secondary",children:"Your change: "}),c.jsx(TI,{code:!0,children:String(r[d])})]})},d))})})};return c.jsx(en,{title:c.jsxs(pe,{children:[c.jsx(Ns,{style:{color:"#faad14"}}),c.jsx("span",{children:"Version Conflict Detected"})]}),open:t,onCancel:s,width:700,footer:[c.jsx(le,{onClick:s,children:"Cancel"},"cancel"),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>{n(),s()},children:"Reload Latest Version"},"reload"),...i?[c.jsx(le,{type:"primary",danger:!0,icon:c.jsx(BA,{}),onClick:()=>{i(),s()},children:"Force Overwrite"},"force")]:[]],children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},size:"large",children:[c.jsx(Pt,{message:"Another user has modified this routing",description:e.message,type:"warning",showIcon:!0}),c.jsxs(Ge,{bordered:!0,column:2,size:"small",children:[c.jsx(Ge.Item,{label:"Your Version",span:1,children:c.jsx(TI,{code:!0,children:e.details.attemptedVersion})}),c.jsx(Ge.Item,{label:"Current Version",span:1,children:c.jsx(TI,{code:!0,strong:!0,children:e.details.currentVersion})}),c.jsx(Ge.Item,{label:"Last Modified",span:1,children:l(e.details.lastModified)}),c.jsx(Ge.Item,{label:"Modified By",span:1,children:e.details.lastModifiedBy||"Unknown"})]}),c.jsxs(Zc,{activeKey:o,onChange:a,children:[c.jsx(Xne,{tab:c.jsxs("span",{children:[c.jsx(Yke,{}),"Your Changes"]}),children:c.jsxs("div",{children:[c.jsx(Zne,{type:"secondary",children:"The following changes were in your update that could not be saved:"}),u()]})},"overview"),c.jsx(Xne,{tab:"Resolution Options",children:c.jsxs(pe,{direction:"vertical",style:{width:"100%"},children:[c.jsxs("div",{children:[c.jsx(Yne,{level:5,children:"Option 1: Reload Latest Version (Recommended)"}),c.jsx(Zne,{children:"Discard your changes and load the latest version from the server. You will need to re-apply your changes manually after reviewing what was changed by the other user."}),c.jsx(le,{icon:c.jsx(Ps,{}),onClick:()=>{n(),s()},children:"Reload Latest Version"})]}),i&&c.jsxs("div",{children:[c.jsx(Yne,{level:5,children:"Option 2: Force Overwrite (Use with Caution)"}),c.jsx(Pt,{message:"Warning",description:"This will overwrite the other user's changes with yours. Only use this if you're certain your changes should take precedence.",type:"error",showIcon:!0}),c.jsx(le,{danger:!0,icon:c.jsx(BA,{}),style:{marginTop:8},onClick:()=>{i(),s()},children:"Force Overwrite"})]})]})},"options")]})]})})},lRe=t=>{const{routingId:e,currentVersion:r,enabled:n=!0,pollInterval:i=3e4,onChangeDetected:s}=t,[o,a]=D.useState(!1),[l,u]=D.useState(null),[g,d]=D.useState(!1),[f,h]=D.useState(null),A=D.useRef(null),C=D.useRef(!0),I=D.useRef(r),p=D.useCallback(async()=>{if(!(!n||!e||!r)&&!o)try{d(!0),h(null);const T=(await Fl.getRoutingById(e)).data;if(!T)throw new Error("Routing not found");if(T.version!==I.current){const E={currentVersion:I.current,newVersion:T.version,lastModified:new Date(T.updatedAt),modifiedBy:T.createdBy,routing:T};C.current&&(a(!0),u(E),s&&s(E))}}catch(x){console.error("Failed to check for routing changes:",x),C.current&&h(x.message||"Failed to check for changes")}finally{C.current&&d(!1)}},[n,e,r,o,s]),m=D.useCallback(async()=>{await p()},[p]),v=D.useCallback(()=>{l&&(I.current=l.newVersion),a(!1),u(null),h(null)},[l]),y=D.useCallback(()=>{l&&(I.current=l.newVersion),a(!1),u(null),h(null)},[l]);return D.useEffect(()=>{I.current=r},[r]),D.useEffect(()=>{if(!n||!e||!r)return;const x=setTimeout(()=>{p()},5e3);return A.current=setInterval(()=>{p()},i),()=>{x&&clearTimeout(x),A.current&&clearInterval(A.current)}},[n,e,r,i,p]),D.useEffect(()=>(C.current=!0,()=>{C.current=!1}),[]),{hasChanges:o,changeInfo:l,isChecking:g,error:f,checkNow:m,dismissChange:v,acceptChange:y}},Put="/api/v1",Jv=Vt.create({baseURL:Put,timeout:3e4,headers:{"Content-Type":"application/json"}});Jv.interceptors.request.use(t=>{const e=yo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Jv.interceptors.response.use(t=>t.data,t=>{var r,n,i,s,o;if(((r=t.response)==null?void 0:r.status)===401&&typeof window<"u"&&!window.location.pathname.includes("/login")){localStorage.removeItem("mes-auth-storage");const a=window.location.pathname+window.location.search;window.location.href=`/login?redirect=${encodeURIComponent(a)}`}const e=((i=(n=t.response)==null?void 0:n.data)==null?void 0:i.error)||((o=(s=t.response)==null?void 0:s.data)==null?void 0:o.message)||t.message||"An error occurred";throw new Error(e)});const kut={getAllParts:async t=>{const e=new URLSearchParams;(t==null?void 0:t.isActive)!==void 0&&e.append("isActive",String(t.isActive));const r=e.toString(),n=r?`/products?${r}`:"/products",i=await Jv.get(n);return Array.isArray(i)?i:i.data&&Array.isArray(i.data)?i.data:[]},getPartById:async t=>Jv.get(`/products/${t}`),getPartByNumber:async t=>Jv.get(`/products/part-number/${t}`)},{Option:RI}=we,{TextArea:Qne}=at,{Title:BP,Text:Jne}=yr,cRe=({mode:t})=>{const e=Kr(),{id:r}=ml(),[n]=me.useForm(),[i,s]=D.useState(!1),[o,a]=D.useState("form"),[l,u]=D.useState([]),[g,d]=D.useState([]),[f,h]=D.useState(!1),[A,C]=D.useState(!1),[I,p]=D.useState(null),[m,v]=D.useState([]),[y,x]=D.useState(!1),{currentSite:T,allSites:E}=IC(),{currentRouting:_,isLoadingDetail:S,detailError:j,fetchRoutingById:w,createRouting:R,updateRouting:N}=tW(),{hasChanges:P,changeInfo:M,dismissChange:B}=lRe({routingId:r||"",currentVersion:(_==null?void 0:_.version)||"1.0",enabled:t==="edit"&&!!r,pollInterval:1e4});D.useEffect(()=>{(async()=>{try{x(!0);const z=await kut.getAllParts({isActive:!0});v(z)}catch(z){console.error("Error loading parts:",z),Ee.error("Failed to load parts")}finally{x(!1)}})()},[]),D.useEffect(()=>{t==="edit"&&r&&w(r)},[t,r,w]),D.useEffect(()=>{t==="edit"&&_?n.setFieldsValue({routingNumber:_.routingNumber,partId:_.partId,siteId:_.siteId,version:_.version,description:_.description,isPrimaryRoute:_.isPrimaryRoute,isActive:_.isActive,effectiveDate:_.effectiveDate,expirationDate:_.expirationDate,notes:_.notes}):t==="create"&&n.setFieldsValue({siteId:T==null?void 0:T.id,version:"1.0",isPrimaryRoute:!0,isActive:!0})},[t,_,T,n]);const W=async(q,z)=>{u(q),d(z),h(!1),Ee.success("Visual routing saved")},H=async(q,z)=>{var G;try{console.log("[RoutingForm] handleSubmit called with values:",q),console.log("[RoutingForm] lifecycleState:",z),s(!0);const Z={...q};Z.effectiveDate||delete Z.effectiveDate,Z.expirationDate||delete Z.expirationDate,typeof Z.isPrimaryRoute=="string"&&(Z.isPrimaryRoute=Z.isPrimaryRoute==="true"),typeof Z.isActive=="string"&&(Z.isActive=Z.isActive==="true");const ue={...Z,lifecycleState:z,visualData:l.length>0?{nodes:l,edges:g}:void 0};if(console.log("[RoutingForm] Form data to submit:",ue),t==="create"){console.log("[RoutingForm] Calling createRouting API...");const re=await R(ue);console.log("[RoutingForm] createRouting result:",re),Ee.success("Routing created successfully"),setTimeout(()=>{re&&re.id?e(`/routings/${re.id}`):e("/routings")},1500)}else t==="edit"&&r&&(console.log("[RoutingForm] Calling updateRouting API..."),await N(r,ue),Ee.success("Routing updated successfully"),setTimeout(()=>{e(`/routings/${r}`)},1500));h(!1)}catch(Z){if(console.error("[RoutingForm] Submit error:",Z),console.error("[RoutingForm] Error details:",JSON.stringify(Z,null,2)),Z.code==="VERSION_CONFLICT"||(G=Z.message)!=null&&G.includes("version conflict"))p(Z),C(!0);else{const ue=Z.message||Z.error||"Failed to save routing";console.error("[RoutingForm] Error message:",ue),Ee.error(ue)}}finally{s(!1)}},V=()=>{r&&(w(r),h(!1))},K=()=>{console.log("[RoutingForm] handleSaveDraft called"),console.log("[RoutingForm] Form values before validation:",n.getFieldsValue()),n.validateFields().then(q=>{console.log("[RoutingForm] Validation successful, values:",q),H(q,E7.DRAFT)}).catch(q=>{console.error("[RoutingForm] Validation failed:",q),Ee.error("Please fill in all required fields")})},Y=()=>{n.validateFields().then(q=>{H(q,E7.RELEASED)}).catch(q=>{console.error("Validation failed:",q),Ee.error("Please fill in all required fields")})},k=()=>{e("/routings")};return t==="edit"&&S?c.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:"16px"},children:"Loading routing..."})]}):t==="edit"&&j?c.jsxs("div",{style:{padding:"24px"},children:[c.jsx(Pt,{message:"Error Loading Routing",description:j,type:"error",showIcon:!0}),c.jsx(le,{icon:c.jsx(js,{}),onClick:k,style:{marginTop:"16px"},children:"Back to List"})]}):c.jsxs("div",{style:{padding:"24px",maxWidth:o==="visual"?"100%":"900px",margin:"0 auto"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsx(pe,{children:c.jsx(le,{icon:c.jsx(js,{}),onClick:k,children:"Back"})}),t==="edit"&&r&&c.jsx(oRe,{resourceType:"routing",resourceId:r,action:"editing",enabled:!0,showDetails:!1})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px"},children:[c.jsxs("div",{children:[c.jsxs("h1",{style:{fontSize:"28px",fontWeight:600,marginBottom:"8px",display:"flex",alignItems:"center"},children:[c.jsx(Pv,{style:{marginRight:"8px"}}),t==="create"?"Create New Routing":"Edit Routing"]}),c.jsx(Jne,{type:"secondary",children:t==="create"?"Define a new manufacturing routing for a part at a specific site":"Update routing information and settings"})]}),c.jsxs(pe,{direction:"vertical",align:"end",children:[c.jsx(rxe,{value:o,onChange:q=>a(q),options:[{label:c.jsx(lt,{title:"Form-based tabular editor",children:c.jsxs(pe,{children:[c.jsx(nxe,{}),c.jsx("span",{children:"Form View"})]})}),value:"form"},{label:c.jsx(lt,{title:"Visual drag-and-drop editor",children:c.jsxs(pe,{children:[c.jsx(IU,{}),c.jsx("span",{children:"Visual Editor"})]})}),value:"visual"}],size:"large"}),f&&c.jsxs(Jne,{type:"warning",style:{fontSize:"12px"},children:[c.jsx(Wc,{})," Unsaved changes in visual editor"]})]})]})]}),P&&M&&c.jsx("div",{style:{marginBottom:"24px"},children:c.jsx(aRe,{changeInfo:M,onReload:V,onDismiss:B})}),A&&I&&c.jsx(jut,{visible:A,error:I,localChanges:n.getFieldsValue(),onReload:V,onClose:()=>C(!1)}),o==="visual"?c.jsx("div",{style:{height:"calc(100vh - 200px)"},children:c.jsx(Rut,{routingId:r,onSave:W,readOnly:!1})}):c.jsxs(c.Fragment,{children:[c.jsx(xe,{children:c.jsxs(me,{form:n,layout:"vertical",requiredMark:"optional",children:[c.jsx(BP,{level:4,children:"Basic Information"}),c.jsx(Er,{}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:12,children:c.jsx(me.Item,{name:"routingNumber",label:"Routing Number",rules:[{required:!0,message:"Routing number is required"},{pattern:/^[A-Z0-9-]+$/,message:"Use uppercase letters, numbers, and hyphens only"}],tooltip:"Unique identifier for this routing (e.g., RT-001)",children:c.jsx(at,{name:"routingNumber",placeholder:"RT-001"})})}),c.jsx(Se,{xs:24,sm:12,children:c.jsx(me.Item,{name:"version",label:"Version",rules:[{required:!0,message:"Version is required"}],tooltip:"Version number for this routing (e.g., 1.0, 1.1)",children:c.jsx(at,{name:"version",placeholder:"1.0"})})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:12,children:c.jsx(me.Item,{name:"partId",label:"Part",rules:[{required:!0,message:"Part is required"}],tooltip:"Select the part this routing is for",children:c.jsx(we,{showSearch:!0,placeholder:"Select a part",loading:y,optionFilterProp:"children",filterOption:(q,z)=>{var G;return(G=z==null?void 0:z.children)==null?void 0:G.toLowerCase().includes(q.toLowerCase())},children:m.map(q=>c.jsxs(RI,{value:q.id,children:[q.partNumber," - ",q.partName]},q.id))})})}),c.jsx(Se,{xs:24,sm:12,children:c.jsx(me.Item,{name:"siteId",label:"Site",rules:[{required:!0,message:"Site is required"}],tooltip:"Select the manufacturing site for this routing",children:c.jsx(we,{placeholder:"Select a site",children:E.map(q=>c.jsxs(RI,{value:q.id,children:[q.siteName," (",q.siteCode,")"]},q.id))})})})]}),c.jsx(me.Item,{name:"description",label:"Description",tooltip:"Brief description of this routing",children:c.jsx(Qne,{rows:3,placeholder:"Enter a description for this routing",maxLength:500,showCount:!0})}),c.jsx(BP,{level:4,style:{marginTop:"32px"},children:"Settings"}),c.jsx(Er,{}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:8,children:c.jsx(me.Item,{name:"isPrimaryRoute",label:"Primary Route",tooltip:"Is this the primary/preferred routing for this part?",children:c.jsxs(we,{children:[c.jsx(RI,{value:!0,children:"Yes - Primary Route"}),c.jsx(RI,{value:!1,children:"No - Alternate Route"})]})})}),c.jsx(Se,{xs:24,sm:8,children:c.jsx(me.Item,{name:"isActive",label:"Active Status",tooltip:"Is this routing currently active and usable?",children:c.jsxs(we,{children:[c.jsx(RI,{value:!0,children:"Active"}),c.jsx(RI,{value:!1,children:"Inactive"})]})})})]}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{xs:24,sm:12,children:c.jsx(me.Item,{name:"effectiveDate",label:"Effective Date",tooltip:"Date when this routing becomes effective",children:c.jsx(at,{type:"date"})})}),c.jsx(Se,{xs:24,sm:12,children:c.jsx(me.Item,{name:"expirationDate",label:"Expiration Date",tooltip:"Date when this routing expires (optional)",children:c.jsx(at,{type:"date"})})})]}),c.jsx(BP,{level:4,style:{marginTop:"32px"},children:"Additional Notes"}),c.jsx(Er,{}),c.jsx(me.Item,{name:"notes",label:"Notes",tooltip:"Any additional notes or comments",children:c.jsx(Qne,{rows:4,placeholder:"Enter any additional notes",maxLength:1e3,showCount:!0})}),c.jsx(Er,{}),c.jsx(me.Item,{style:{marginBottom:0},children:c.jsxs(pe,{size:"middle",children:[c.jsx(le,{type:"default",size:"large",icon:c.jsx(BA,{}),onClick:K,loading:i,children:"Save as Draft"}),c.jsx(le,{type:"primary",size:"large",icon:c.jsx(vr,{}),onClick:Y,loading:i,children:t==="create"?"Create & Release":"Update & Release"}),c.jsx(le,{size:"large",onClick:k,disabled:i,children:"Cancel"})]})})]})}),o==="form"&&c.jsx(Pt,{message:"Routing Information",description:c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"8px"},children:["Fill in the basic routing information above, then switch to ",c.jsx("strong",{children:"Visual Editor"})," mode to:"]}),c.jsxs("ul",{style:{marginBottom:0,paddingLeft:"20px"},children:[c.jsx("li",{children:"Add manufacturing steps with drag-and-drop"}),c.jsx("li",{children:"Define step dependencies and connections"}),c.jsx("li",{children:"Configure timing and control flow"}),c.jsx("li",{children:"Use advanced patterns (parallel operations, decision points, telescoping, etc.)"})]}),c.jsx("div",{style:{marginTop:"8px",color:"#8c8c8c",fontSize:"12px"},children:"Note: The routing must be in DRAFT or REVIEW state to be edited."})]}),type:"info",showIcon:!0,style:{marginTop:"24px"}})]})]})},Dut=()=>c.jsx(cRe,{mode:"create"}),Fut=()=>c.jsx(cRe,{mode:"edit"}),{Option:eie}=we,{TextArea:tie}=at,{Text:$P,Title:nw}=yr,Lut=({visible:t,mode:e,routingId:r,step:n,existingSteps:i,onSave:s,onCancel:o})=>{const[a]=me.useForm(),[l,u]=D.useState(!1),[g,d]=D.useState([]),[f,h]=D.useState([]),[A,C]=D.useState(null),[I,p]=D.useState(!1);D.useEffect(()=>{t&&m()},[t]),D.useEffect(()=>{if(e==="edit"&&n)a.setFieldsValue({stepNumber:n.stepNumber,operationId:n.operationId,workCenterId:n.workCenterId,setupTimeOverride:n.setupTimeOverride,cycleTimeOverride:n.cycleTimeOverride,teardownTimeOverride:n.teardownTimeOverride,isOptional:n.isOptional,isQualityInspection:n.isQualityInspection,isCriticalPath:n.isCriticalPath,stepInstructions:n.stepInstructions,notes:n.notes}),n.operation&&C(n.operation);else if(e==="create"){const E=i.length>0?Math.max(...i.map(_=>_.stepNumber))+10:10;a.setFieldValue("stepNumber",E),a.setFieldValue("isCriticalPath",!1),a.setFieldValue("isOptional",!1),a.setFieldValue("isQualityInspection",!1)}},[e,n,i,t,a]);const m=async()=>{p(!0);try{d([{id:"op-1",operationName:"Machining - Mill",operationType:"MACHINING",setupTime:300,duration:600,teardownTime:120},{id:"op-2",operationName:"Machining - Lathe",operationType:"MACHINING",setupTime:240,duration:480,teardownTime:90},{id:"op-3",operationName:"Quality Inspection",operationType:"INSPECTION",setupTime:60,duration:300,teardownTime:30}]),h([{id:"wc-1",name:"Mill-01",workCenterCode:"MILL01"},{id:"wc-2",name:"Mill-02",workCenterCode:"MILL02"},{id:"wc-3",name:"Lathe-01",workCenterCode:"LATHE01"},{id:"wc-4",name:"QC-Station-01",workCenterCode:"QC01"}])}catch(E){console.error("Failed to load options:",E)}finally{p(!1)}},v=E=>{const _=g.find(S=>S.id===E);C(_),_&&e==="create"&&(a.setFieldValue("setupTimeOverride",_.setupTime),a.setFieldValue("cycleTimeOverride",_.duration),a.setFieldValue("teardownTimeOverride",_.teardownTime)),(_==null?void 0:_.operationType)==="INSPECTION"&&a.setFieldValue("isQualityInspection",!0)},y=async()=>{try{const E=await a.validateFields();u(!0);const _={routingId:r,stepNumber:E.stepNumber,operationId:E.operationId,workCenterId:E.workCenterId||void 0,setupTimeOverride:E.setupTimeOverride||void 0,cycleTimeOverride:E.cycleTimeOverride||void 0,teardownTimeOverride:E.teardownTimeOverride||void 0,isOptional:E.isOptional||!1,isQualityInspection:E.isQualityInspection||!1,isCriticalPath:E.isCriticalPath||!1,stepInstructions:E.stepInstructions||void 0,notes:E.notes||void 0};await s(_),a.resetFields(),C(null)}catch(E){console.error("Validation failed:",E)}finally{u(!1)}},x=()=>{a.resetFields(),C(null),o()},T=E=>{if(!E)return"Not set";if(E<60)return`${E}s`;const _=Math.floor(E/60),S=E%60;return S>0?`${_}m ${S}s`:`${_}m`};return c.jsx(en,{title:c.jsxs(pe,{children:[c.jsx(Dp,{}),e==="create"?"Add Routing Step":"Edit Routing Step"]}),open:t,onOk:y,onCancel:x,confirmLoading:l,width:800,okText:e==="create"?"Add Step":"Update Step",cancelText:"Cancel",children:I?c.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:"16px"},children:"Loading options..."})]}):c.jsxs(me,{form:a,layout:"vertical",requiredMark:"optional",children:[c.jsx(nw,{level:5,children:"Basic Information"}),c.jsx(Er,{style:{marginTop:"8px",marginBottom:"16px"}}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"stepNumber",label:"Step Number",rules:[{required:!0,message:"Step number is required"}],tooltip:"Sequence number for this step (typically increments of 10)",children:c.jsx(po,{min:1,step:10,style:{width:"100%"},prefix:c.jsx(Dp,{})})})}),c.jsx(Se,{span:16,children:c.jsx(me.Item,{name:"operationId",label:"Operation",rules:[{required:!0,message:"Operation is required"}],tooltip:"Select the manufacturing operation for this step",children:c.jsx(we,{showSearch:!0,placeholder:"Select operation",optionFilterProp:"children",onChange:v,children:g.map(E=>c.jsx(eie,{value:E.id,children:c.jsxs(pe,{children:[c.jsx("span",{style:{fontWeight:500},children:E.operationName}),c.jsxs("span",{style:{color:"#999"},children:["(",E.operationType,")"]})]})},E.id))})})})]}),A&&c.jsx(Pt,{message:"Operation Defaults",description:c.jsxs(pe,{direction:"vertical",size:"small",children:[c.jsxs($P,{children:[c.jsx("strong",{children:"Operation Type:"})," ",A.operationType]}),c.jsxs($P,{children:[c.jsx("strong",{children:"Standard Times:"})," Setup ",T(A.setupTime)," | Cycle ",T(A.duration)," | Teardown ",T(A.teardownTime)]}),c.jsx($P,{type:"secondary",style:{fontSize:"12px"},children:"You can override these times below if needed for this specific routing."})]}),type:"info",showIcon:!0,icon:c.jsx(Wc,{}),style:{marginBottom:"16px"}}),c.jsx(me.Item,{name:"workCenterId",label:"Work Center (Optional)",tooltip:"Assign this step to a specific work center",children:c.jsx(we,{showSearch:!0,placeholder:"Select work center",allowClear:!0,optionFilterProp:"children",children:f.map(E=>c.jsx(eie,{value:E.id,children:c.jsxs(pe,{children:[c.jsx(Uc,{}),c.jsx("span",{children:E.name}),c.jsxs("span",{style:{color:"#999"},children:["(",E.workCenterCode,")"]})]})},E.id))})}),c.jsx(nw,{level:5,style:{marginTop:"24px"},children:"Timing Overrides"}),c.jsx(Er,{style:{marginTop:"8px",marginBottom:"16px"}}),c.jsx(Pt,{message:"Override Standard Times",description:"Leave blank to use the operation's standard times. Enter values only if this step requires different timing.",type:"info",showIcon:!0,style:{marginBottom:"16px"}}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"setupTimeOverride",label:"Setup Time (seconds)",tooltip:"Time required to set up equipment for this step",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:(A==null?void 0:A.setupTime)||"Standard",prefix:c.jsx(Zi,{})})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"cycleTimeOverride",label:"Cycle Time (seconds)",tooltip:"Time to complete one cycle of this operation",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:(A==null?void 0:A.duration)||"Standard",prefix:c.jsx(Zi,{})})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"teardownTimeOverride",label:"Teardown Time (seconds)",tooltip:"Time required to clean up after this step",children:c.jsx(po,{min:0,style:{width:"100%"},placeholder:(A==null?void 0:A.teardownTime)||"Standard",prefix:c.jsx(Zi,{})})})})]}),c.jsx(nw,{level:5,style:{marginTop:"24px"},children:"Step Properties"}),c.jsx(Er,{style:{marginTop:"8px",marginBottom:"16px"}}),c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"isOptional",label:"Optional Step",valuePropName:"checked",tooltip:"Can this step be skipped in certain circumstances?",children:c.jsx(zn,{})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"isQualityInspection",label:"Quality Inspection",valuePropName:"checked",tooltip:"Is this a quality control inspection step?",children:c.jsx(zn,{})})}),c.jsx(Se,{span:8,children:c.jsx(me.Item,{name:"isCriticalPath",label:"Critical Path",valuePropName:"checked",tooltip:"Is this step on the critical path for routing completion?",children:c.jsx(zn,{})})})]}),c.jsx(nw,{level:5,style:{marginTop:"24px"},children:"Instructions & Notes"}),c.jsx(Er,{style:{marginTop:"8px",marginBottom:"16px"}}),c.jsx(me.Item,{name:"stepInstructions",label:"Step Instructions",tooltip:"Detailed instructions for performing this step",children:c.jsx(tie,{rows:3,placeholder:"Enter detailed instructions for this step",maxLength:1e3,showCount:!0})}),c.jsx(me.Item,{name:"notes",label:"Notes",tooltip:"Any additional notes or comments about this step",children:c.jsx(tie,{rows:2,placeholder:"Enter any additional notes",maxLength:500,showCount:!0})})]})})};function Ho(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mut=typeof Symbol=="function"&&Symbol.observable||"@@observable",rie=Mut,nie=()=>Math.random().toString(36).substring(7).split("").join("."),But={INIT:`@@redux/INIT${nie()}`,REPLACE:`@@redux/REPLACE${nie()}`},iie=But;function $ut(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uRe(t,e,r){if(typeof t!="function")throw new Error(Ho(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ho(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ho(1));return r(uRe)(t,e)}let n=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((I,p)=>{o.set(p,I)}))}function g(){if(l)throw new Error(Ho(3));return i}function d(I){if(typeof I!="function")throw new Error(Ho(4));if(l)throw new Error(Ho(5));let p=!0;u();const m=a++;return o.set(m,I),function(){if(p){if(l)throw new Error(Ho(6));p=!1,u(),o.delete(m),s=null}}}function f(I){if(!$ut(I))throw new Error(Ho(7));if(typeof I.type>"u")throw new Error(Ho(8));if(typeof I.type!="string")throw new Error(Ho(17));if(l)throw new Error(Ho(9));try{l=!0,i=n(i,I)}finally{l=!1}return(s=o).forEach(m=>{m()}),I}function h(I){if(typeof I!="function")throw new Error(Ho(10));n=I,f({type:iie.REPLACE})}function A(){const I=d;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Ho(11));function m(){const y=p;y.next&&y.next(g())}return m(),{unsubscribe:I(m)}},[rie](){return this}}}return f({type:iie.INIT}),{dispatch:f,subscribe:d,getState:g,replaceReducer:h,[rie]:A}}function sie(t,e){return function(...r){return e(t.apply(this,r))}}function oie(t,e){if(typeof t=="function")return sie(t,e);if(typeof t!="object"||t===null)throw new Error(Ho(16));const r={};for(const n in t){const i=t[n];typeof i=="function"&&(r[n]=sie(i,e))}return r}function gRe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function qut(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(Ho(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=gRe(...a)(i.dispatch),{...i,dispatch:s}}}var zut={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1=D;function Uut(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wut=typeof Object.is=="function"?Object.is:Uut,Gut=q1.useSyncExternalStore,Vut=q1.useRef,Hut=q1.useEffect,Kut=q1.useMemo,Yut=q1.useDebugValue;zut.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Vut(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Kut(function(){function l(h){if(!u){if(u=!0,g=h,h=n(h),i!==void 0&&o.hasValue){var A=o.value;if(i(A,h))return d=A}return d=h}if(A=d,Wut(g,h))return A;var C=n(h);return i!==void 0&&i(A,C)?(g=h,A):(g=h,d=C)}var u=!1,g,d,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var a=Gut(t,s[0],s[1]);return Hut(function(){o.hasValue=!0,o.value=a},[a]),Yut(a),a};var Zut=D.version.startsWith("19"),Xut=Symbol.for(Zut?"react.transitional.element":"react.element"),Qut=Symbol.for("react.portal"),Jut=Symbol.for("react.fragment"),egt=Symbol.for("react.strict_mode"),tgt=Symbol.for("react.profiler"),rgt=Symbol.for("react.consumer"),ngt=Symbol.for("react.context"),dRe=Symbol.for("react.forward_ref"),igt=Symbol.for("react.suspense"),sgt=Symbol.for("react.suspense_list"),PW=Symbol.for("react.memo"),ogt=Symbol.for("react.lazy"),agt=dRe,lgt=PW;function cgt(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case Xut:switch(t=t.type,t){case Jut:case tgt:case egt:case igt:case sgt:return t;default:switch(t=t&&t.$$typeof,t){case ngt:case dRe:case ogt:case PW:return t;case rgt:return t;default:return e}}case Qut:return e}}}function ugt(t){return cgt(t)===PW}function ggt(t,e,r,n,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,g,d,f;function h(m,v){return l=m,u=v,g=t(l,u),d=e(n,u),f=r(g,d,u),a=!0,f}function A(){return g=t(l,u),e.dependsOnOwnProps&&(d=e(n,u)),f=r(g,d,u),f}function C(){return t.dependsOnOwnProps&&(g=t(l,u)),e.dependsOnOwnProps&&(d=e(n,u)),f=r(g,d,u),f}function I(){const m=t(l,u),v=!o(m,g);return g=m,v&&(f=r(g,d,u)),f}function p(m,v){const y=!s(v,u),x=!i(m,l,v,u);return l=m,u=v,y&&x?A():y?C():x?I():f}return function(v,y){return a?p(v,y):h(v,y)}}function dgt(t,{initMapStateToProps:e,initMapDispatchToProps:r,initMergeProps:n,...i}){const s=e(t,i),o=r(t,i),a=n(t,i);return ggt(s,o,a,t,i)}function hgt(t,e){const r={};for(const n in t){const i=t[n];typeof i=="function"&&(r[n]=(...s)=>e(i(...s)))}return r}function $7(t){return function(r){const n=t(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function aie(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function hRe(t,e){return function(n,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=aie(t);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=aie(u),u=s(a,l)),u},s}}function kW(t,e){return(r,n)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${n.wrappedComponentName}.`)}}function fgt(t){return t&&typeof t=="object"?$7(e=>hgt(t,e)):t?typeof t=="function"?hRe(t):kW(t,"mapDispatchToProps"):$7(e=>({dispatch:e}))}function Agt(t){return t?typeof t=="function"?hRe(t):kW(t,"mapStateToProps"):$7(()=>({}))}function Cgt(t,e,r){return{...r,...t,...e}}function Igt(t){return function(r,{displayName:n,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,g){const d=t(l,u,g);return s?i(d,o)||(o=d):(s=!0,o=d),o}}}function pgt(t){return t?typeof t=="function"?Igt(t):kW(t,"mergeProps"):()=>Cgt}function mgt(t){t()}function vgt(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mgt(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var lie={notify(){},get:()=>[]};function fRe(t,e){let r,n=lie,i=0,s=!1;function o(C){g();const I=n.subscribe(C);let p=!1;return()=>{p||(p=!0,I(),d())}}function a(){n.notify()}function l(){A.onStateChange&&A.onStateChange()}function u(){return s}function g(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=vgt())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=lie)}function f(){s||(s=!0,g())}function h(){s&&(s=!1,d())}const A={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return A}var ygt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xgt=ygt(),bgt=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wgt=bgt(),Sgt=()=>xgt||wgt?D.useLayoutEffect:D.useEffect,J2=Sgt();function cie(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function qP(t,e){if(cie(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!cie(t[r[i]],e[r[i]]))return!1;return!0}var Egt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_gt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tgt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ARe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rgt={[agt]:Tgt,[lgt]:ARe};function uie(t){return ugt(t)?ARe:Rgt[t.$$typeof]||Egt}var Ngt=Object.defineProperty,Ogt=Object.getOwnPropertyNames,gie=Object.getOwnPropertySymbols,jgt=Object.getOwnPropertyDescriptor,Pgt=Object.getPrototypeOf,die=Object.prototype;function q7(t,e){if(typeof e!="string"){if(die){const s=Pgt(e);s&&s!==die&&q7(t,s)}let r=Ogt(e);gie&&(r=r.concat(gie(e)));const n=uie(t),i=uie(e);for(let s=0;s<r.length;++s){const o=r[s];if(!_gt[o]&&!(i&&i[o])&&!(n&&n[o])){const a=jgt(e,o);try{Ngt(t,o,a)}catch{}}}}return t}var zP=Symbol.for("react-redux-context"),UP=typeof globalThis<"u"?globalThis:{};function kgt(){if(!D.createContext)return{};const t=UP[zP]??(UP[zP]=new Map);let e=t.get(D.createContext);return e||(e=D.createContext(null),t.set(D.createContext,e)),e}var CRe=kgt(),Dgt=[null,null];function Fgt(t,e,r){J2(()=>t(...e),r)}function Lgt(t,e,r,n,i,s){t.current=n,r.current=!1,i.current&&(i.current=null,s())}function Mgt(t,e,r,n,i,s,o,a,l,u,g){if(!t)return()=>{};let d=!1,f=null;const h=()=>{if(d||!a.current)return;const C=e.getState();let I,p;try{I=n(C,i.current)}catch(m){p=m,f=m}p||(f=null),I===s.current?o.current||u():(s.current=I,l.current=I,o.current=!0,g())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}function Bgt(t,e){return t===e}function $gt(t,e,r,{pure:n,areStatesEqual:i=Bgt,areOwnPropsEqual:s=qP,areStatePropsEqual:o=qP,areMergedPropsEqual:a=qP,forwardRef:l=!1,context:u=CRe}={}){const g=u,d=Agt(t),f=fgt(e),h=pgt(r),A=!!t;return I=>{const p=I.displayName||I.name||"Component",m=`Connect(${p})`,v={shouldHandleStateChanges:A,displayName:m,wrappedComponentName:p,WrappedComponent:I,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function y(E){const[_,S,j]=D.useMemo(()=>{const{reactReduxForwardedRef:Fe,...He}=E;return[E.context,Fe,He]},[E]),w=D.useMemo(()=>{let Fe=g;return _!=null&&_.Consumer,Fe},[_,g]),R=D.useContext(w),N=!!E.store&&!!E.store.getState&&!!E.store.dispatch,P=!!R&&!!R.store,M=N?E.store:R.store,B=P?R.getServerState:M.getState,W=D.useMemo(()=>dgt(M.dispatch,v),[M]),[H,V]=D.useMemo(()=>{if(!A)return Dgt;const Fe=fRe(M,N?void 0:R.subscription),He=Fe.notifyNestedSubs.bind(Fe);return[Fe,He]},[M,N,R]),K=D.useMemo(()=>N?R:{...R,subscription:H},[N,R,H]),Y=D.useRef(void 0),k=D.useRef(j),q=D.useRef(void 0),z=D.useRef(!1),G=D.useRef(!1),Z=D.useRef(void 0);J2(()=>(G.current=!0,()=>{G.current=!1}),[]);const ue=D.useMemo(()=>()=>q.current&&j===k.current?q.current:W(M.getState(),j),[M,j]),re=D.useMemo(()=>He=>H?Mgt(A,M,H,W,k,Y,z,G,q,V,He):()=>{},[H]);Fgt(Lgt,[k,Y,z,j,q,V]);let ie;try{ie=D.useSyncExternalStore(re,ue,B?()=>W(B(),j):ue)}catch(Fe){throw Z.current&&(Fe.message+=`
The error may be correlated with this previous error:
${Z.current.stack}

`),Fe}J2(()=>{Z.current=void 0,q.current=void 0,Y.current=ie});const Ce=D.useMemo(()=>D.createElement(I,{...ie,ref:S}),[S,I,ie]);return D.useMemo(()=>A?D.createElement(w.Provider,{value:K},Ce):Ce,[w,Ce,K])}const T=D.memo(y);if(T.WrappedComponent=I,T.displayName=y.displayName=m,l){const _=D.forwardRef(function(j,w){return D.createElement(T,{...j,reactReduxForwardedRef:w})});return _.displayName=m,_.WrappedComponent=I,q7(_,I)}return q7(T,I)}}var IRe=$gt;function qgt(t){const{children:e,context:r,serverState:n,store:i}=t,s=D.useMemo(()=>{const l=fRe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=D.useMemo(()=>i.getState(),[i]);J2(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=r||CRe;return D.createElement(a.Provider,{value:s},e)}var zgt=qgt,Ugt="Invariant failed";function Wgt(t,e){throw new Error(Ugt)}var Dc=function(e){var r=e.top,n=e.right,i=e.bottom,s=e.left,o=n-s,a=i-r,l={top:r,right:n,bottom:i,left:s,width:o,height:a,x:s,y:r,center:{x:(n+s)/2,y:(i+r)/2}};return l},DW=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},hie=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},Ggt=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},WP={top:0,right:0,bottom:0,left:0},FW=function(e){var r=e.borderBox,n=e.margin,i=n===void 0?WP:n,s=e.border,o=s===void 0?WP:s,a=e.padding,l=a===void 0?WP:a,u=Dc(DW(r,i)),g=Dc(hie(r,o)),d=Dc(hie(g,l));return{marginBox:u,borderBox:Dc(r),paddingBox:g,contentBox:d,margin:i,border:o,padding:l}},kl=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&Wgt(),i},Vgt=function(){return{x:window.pageXOffset,y:window.pageYOffset}},eS=function(e,r){var n=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=Ggt(n,r);return FW({borderBox:a,border:i,margin:s,padding:o})},tS=function(e,r){return r===void 0&&(r=Vgt()),eS(e,r)},pRe=function(e,r){var n={top:kl(r.marginTop),right:kl(r.marginRight),bottom:kl(r.marginBottom),left:kl(r.marginLeft)},i={top:kl(r.paddingTop),right:kl(r.paddingRight),bottom:kl(r.paddingBottom),left:kl(r.paddingLeft)},s={top:kl(r.borderTopWidth),right:kl(r.borderRightWidth),bottom:kl(r.borderBottomWidth),left:kl(r.borderLeftWidth)};return FW({borderBox:e,margin:n,padding:i,border:s})},mRe=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return pRe(r,n)},$y=function(e){var r=[],n=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rS.apply(null,arguments)}function vRe(t,e){}vRe.bind(null,"warn");vRe.bind(null,"error");function Bh(){}function Hgt(t,e){return{...t,...e}}function Gl(t,e,r){const n=e.map(i=>{const s=Hgt(r,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){n.forEach(s=>{s()})}}const Kgt="Invariant failed";class nS extends Error{}nS.prototype.toString=function(){return this.message};function Tt(t,e){throw new nS(Kgt)}let Ygt=class extends Ue.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Bh,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof nS&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Gl(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof nS){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const Zgt=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,iS=t=>t+1,Xgt=t=>`
  You have lifted an item in position ${iS(t.source.index)}
`,yRe=(t,e)=>{const r=t.droppableId===e.droppableId,n=iS(t.index),i=iS(e.index);return r?`
      You have moved the item from position ${n}
      to position ${i}
    `:`
    You have moved the item from position ${n}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},xRe=(t,e,r)=>e.droppableId===r.droppableId?`
      The item ${t}
      has been combined with ${r.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Qgt=t=>{const e=t.destination;if(e)return yRe(t.source,e);const r=t.combine;return r?xRe(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},fie=t=>`
  The item has returned to its starting position
  of ${iS(t.index)}
`,Jgt=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${fie(t.source)}
    `;const e=t.destination,r=t.combine;return e?`
      You have dropped the item.
      ${yRe(t.source,e)}
    `:r?`
      You have dropped the item.
      ${xRe(t.draggableId,t.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${fie(t.source)}
  `},zw={dragHandleUsageInstructions:Zgt,onDragStart:Xgt,onDragUpdate:Qgt,onDragEnd:Jgt};function edt(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function bRe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!edt(t[r],e[r]))return!1;return!0}function sn(t,e){const r=D.useState(()=>({inputs:e,result:t()}))[0],n=D.useRef(!0),i=D.useRef(r),o=n.current||!!(e&&i.current.inputs&&bRe(e,i.current.inputs))?i.current:{inputs:e,result:t()};return D.useEffect(()=>{n.current=!1,i.current=o},[o]),o.result}function ar(t,e){return sn(()=>t,e)}const Xs={x:0,y:0},xo=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),gl=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),$h=(t,e)=>t.x===e.x&&t.y===e.y,jm=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),cC=(t,e,r=0)=>t==="x"?{x:e,y:r}:{x:r,y:e},qy=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),Aie=(t,e)=>Math.min(...e.map(r=>qy(t,r))),wRe=t=>e=>({x:t(e.x),y:t(e.y)});var tdt=(t,e)=>{const r=Dc({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r};const z1=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),Cie=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],rdt={top:0,right:0,bottom:0,left:0},ndt=(t,e)=>e?z1(t,e.scroll.diff.displacement):t,idt=(t,e,r)=>r&&r.increasedBy?{...t,[e.end]:t[e.end]+r.increasedBy[e.line]}:t,sdt=(t,e)=>e&&e.shouldClipSubject?tdt(e.pageMarginBox,t):Dc(t);var Hp=({page:t,withPlaceholder:e,axis:r,frame:n})=>{const i=ndt(t.marginBox,n),s=idt(i,r,e),o=sdt(s,n);return{page:t,withPlaceholder:e,active:o}},LW=(t,e)=>{t.frame||Tt();const r=t.frame,n=gl(e,r.scroll.initial),i=jm(n),s={...r,scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:i},max:r.scroll.max}},o=Hp({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};function Ys(t,e=bRe){let r=null;function n(...i){if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;const s=t.apply(this,i);return r={lastResult:s,lastArgs:i,lastThis:this},s}return n.clear=function(){r=null},n}const SRe=Ys(t=>t.reduce((e,r)=>(e[r.descriptor.id]=r,e),{})),ERe=Ys(t=>t.reduce((e,r)=>(e[r.descriptor.id]=r,e),{})),ME=Ys(t=>Object.values(t)),odt=Ys(t=>Object.values(t));var Pm=Ys((t,e)=>odt(e).filter(n=>t===n.descriptor.droppableId).sort((n,i)=>n.descriptor.index-i.descriptor.index));function MW(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function BE(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var $E=Ys((t,e)=>e.filter(r=>r.descriptor.id!==t.descriptor.id)),adt=({isMovingForward:t,draggable:e,destination:r,insideDestination:n,previousImpact:i})=>{if(!r.isCombineEnabled||!MW(i))return null;function o(h){const A={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...i,at:A}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const u=$E(e,n);if(!l){if(!u.length)return null;const h=u[u.length-1];return o(h.descriptor.id)}const g=u.findIndex(h=>h.descriptor.id===l);g===-1&&Tt();const d=g-1;if(d<0)return null;const f=u[d];return o(f.descriptor.id)},km=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const _Re={point:Xs,value:0},zy={invisible:{},visible:{},all:[]},ldt={displaced:zy,displacedBy:_Re,at:null};var Hl=(t,e)=>r=>t<=r&&r<=e,TRe=t=>{const e=Hl(t.top,t.bottom),r=Hl(t.left,t.right);return n=>{if(e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right))return!0;const s=e(n.top)||e(n.bottom),o=r(n.left)||r(n.right);if(s&&o)return!0;const l=n.top<t.top&&n.bottom>t.bottom,u=n.left<t.left&&n.right>t.right;return l&&u?!0:l&&o||u&&s}},cdt=t=>{const e=Hl(t.top,t.bottom),r=Hl(t.left,t.right);return n=>e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right)};const BW={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},RRe={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var udt=t=>e=>{const r=Hl(e.top,e.bottom),n=Hl(e.left,e.right);return i=>t===BW?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)};const gdt=(t,e)=>{const r=e.frame?e.frame.scroll.diff.displacement:Xs;return z1(t,r)},ddt=(t,e,r)=>e.subject.active?r(e.subject.active)(t):!1,hdt=(t,e,r)=>r(e)(t),$W=({target:t,destination:e,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:i})=>{const s=n?gdt(t,e):t;return ddt(s,e,i)&&hdt(s,r,i)},fdt=t=>$W({...t,isVisibleThroughFrameFn:TRe}),NRe=t=>$W({...t,isVisibleThroughFrameFn:cdt}),Adt=t=>$W({...t,isVisibleThroughFrameFn:udt(t.destination.axis)}),Cdt=(t,e,r)=>{if(typeof r=="boolean")return r;if(!e)return!0;const{invisible:n,visible:i}=e;if(n[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function Idt(t,e){const r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return Dc(DW(r,n))}function Uy({afterDragging:t,destination:e,displacedBy:r,viewport:n,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const u=Idt(l,r),g=l.descriptor.id;if(a.all.push(g),!fdt({target:u,destination:e,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=Cdt(g,s,i),h={draggableId:g,shouldAnimate:f};return a.visible[g]=h,a},{all:[],visible:{},invisible:{}})}function pdt(t,e){if(!t.length)return 0;const r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function Iie({insideDestination:t,inHomeList:e,displacedBy:r,destination:n}){const i=pdt(t,{inHomeList:e});return{displaced:zy,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function sS({draggable:t,insideDestination:e,destination:r,viewport:n,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=km(t,r);if(o==null)return Iie({insideDestination:e,inHomeList:l,displacedBy:i,destination:r});const u=e.find(A=>A.descriptor.index===o);if(!u)return Iie({insideDestination:e,inHomeList:l,displacedBy:i,destination:r});const g=$E(t,e),d=e.indexOf(u),f=g.slice(d);return{displaced:Uy({afterDragging:f,destination:r,displacedBy:i,last:s,viewport:n.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function of(t,e){return!!e.effected[t]}var mdt=({isMovingForward:t,destination:e,draggables:r,combine:n,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=n.draggableId,a=r[s].descriptor.index;return of(s,i)?t?a:a-1:t?a+1:a},vdt=({isMovingForward:t,isInHomeList:e,insideDestination:r,location:n})=>{if(!r.length)return null;const i=n.index,s=t?i+1:i-1,o=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},ydt=({isMovingForward:t,isInHomeList:e,draggable:r,draggables:n,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const u=o.at;if(u||Tt(),u.type==="REORDER"){const d=vdt({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:s});return d==null?null:sS({draggable:r,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})}const g=mdt({isMovingForward:t,destination:i,displaced:o.displaced,draggables:n,combine:u.combine,afterCritical:l});return g==null?null:sS({draggable:r,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:g})},xdt=({displaced:t,afterCritical:e,combineWith:r,displacedBy:n})=>{const i=!!(t.visible[r]||t.invisible[r]);return of(r,e)?i?Xs:jm(n.point):i?n.point:Xs},bdt=({afterCritical:t,impact:e,draggables:r})=>{const n=BE(e);n||Tt();const i=n.draggableId,s=r[i].page.borderBox.center,o=xdt({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return xo(s,o)};const ORe=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,wdt=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,qW=(t,e,r)=>e[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2,pie=({axis:t,moveRelativeTo:e,isMoving:r})=>cC(t.line,e.marginBox[t.end]+ORe(t,r),qW(t,e.marginBox,r)),mie=({axis:t,moveRelativeTo:e,isMoving:r})=>cC(t.line,e.marginBox[t.start]-wdt(t,r),qW(t,e.marginBox,r)),Sdt=({axis:t,moveInto:e,isMoving:r})=>cC(t.line,e.contentBox[t.start]+ORe(t,r),qW(t,e.contentBox,r));var Edt=({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i})=>{const s=Pm(n.descriptor.id,r),o=e.page,a=n.axis;if(!s.length)return Sdt({axis:a,moveInto:n.page,isMoving:o});const{displaced:l,displacedBy:u}=t,g=l.all[0];if(g){const f=r[g];if(of(g,i))return mie({axis:a,moveRelativeTo:f.page,isMoving:o});const h=eS(f.page,u.point);return mie({axis:a,moveRelativeTo:h,isMoving:o})}const d=s[s.length-1];if(d.descriptor.id===e.descriptor.id)return o.borderBox.center;if(of(d.descriptor.id,i)){const f=eS(d.page,jm(i.displacedBy.point));return pie({axis:a,moveRelativeTo:f,isMoving:o})}return pie({axis:a,moveRelativeTo:d.page,isMoving:o})},z7=(t,e)=>{const r=t.frame;return r?xo(e,r.scroll.diff.displacement):e};const _dt=({impact:t,draggable:e,droppable:r,draggables:n,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!r||!o?s:o.type==="REORDER"?Edt({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i}):bdt({impact:t,draggables:n,afterCritical:i})};var qE=t=>{const e=_dt(t),r=t.droppable;return r?z7(r,e):e},jRe=(t,e)=>{const r=gl(e,t.scroll.initial),n=jm(r);return{frame:Dc({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}}};function vie(t,e){return t.map(r=>e[r])}function Tdt(t,e){for(let r=0;r<e.length;r++){const n=e[r].visible[t];if(n)return n}return null}var Rdt=({impact:t,viewport:e,destination:r,draggables:n,maxScrollChange:i})=>{const s=jRe(e,xo(e.scroll.current,i)),o=r.frame?LW(r,xo(r.frame.scroll.current,i)):r,a=t.displaced,l=Uy({afterDragging:vie(a.all,n),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=Uy({afterDragging:vie(a.all,n),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),g={},d={},f=[a,l,u];return a.all.forEach(A=>{const C=Tdt(A,f);if(C){d[A]=C;return}g[A]=!0}),{...t,displaced:{all:a.all,invisible:g,visible:d}}},Ndt=(t,e)=>xo(t.scroll.diff.displacement,e),zW=({pageBorderBoxCenter:t,draggable:e,viewport:r})=>{const n=Ndt(r,t),i=gl(n,e.page.borderBox.center);return xo(e.client.borderBox.center,i)},PRe=({draggable:t,destination:e,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=gl(r,t.page.borderBox.center),l={target:z1(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:n};return s?Adt(l):NRe(l)},Odt=({isMovingForward:t,draggable:e,destination:r,draggables:n,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const u=Pm(r.descriptor.id,n),g=km(e,r),d=adt({isMovingForward:t,draggable:e,destination:r,insideDestination:u,previousImpact:i})||ydt({isMovingForward:t,isInHomeList:g,draggable:e,draggables:n,destination:r,insideDestination:u,previousImpact:i,viewport:s,afterCritical:l});if(!d)return null;const f=qE({impact:d,draggable:e,droppable:r,draggables:n,afterCritical:l});if(PRe({draggable:e,destination:r,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:zW({pageBorderBoxCenter:f,draggable:e,viewport:s}),impact:d,scrollJumpRequest:null};const A=gl(f,o),C=Rdt({impact:d,viewport:s,destination:r,draggables:n,maxScrollChange:A});return{clientSelection:a,impact:C,scrollJumpRequest:A}};const Go=t=>{const e=t.subject.active;return e||Tt(),e};var jdt=({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:n,viewport:i})=>{const s=r.subject.active;if(!s)return null;const o=r.axis,a=Hl(s[o.start],s[o.end]),l=ME(n).filter(g=>g!==r).filter(g=>g.isEnabled).filter(g=>!!g.subject.active).filter(g=>TRe(i.frame)(Go(g))).filter(g=>{const d=Go(g);return t?s[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<s[o.crossAxisStart]}).filter(g=>{const d=Go(g),f=Hl(d[o.start],d[o.end]);return a(d[o.start])||a(d[o.end])||f(s[o.start])||f(s[o.end])}).sort((g,d)=>{const f=Go(g)[o.crossAxisStart],h=Go(d)[o.crossAxisStart];return t?f-h:h-f}).filter((g,d,f)=>Go(g)[o.crossAxisStart]===Go(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(g=>Hl(Go(g)[o.start],Go(g)[o.end])(e[o.line]));return u.length===1?u[0]:u.length>1?u.sort((g,d)=>Go(g)[o.start]-Go(d)[o.start])[0]:l.sort((g,d)=>{const f=Aie(e,Cie(Go(g))),h=Aie(e,Cie(Go(d)));return f!==h?f-h:Go(g)[o.start]-Go(d)[o.start]})[0]};const yie=(t,e)=>{const r=t.page.borderBox.center;return of(t.descriptor.id,e)?gl(r,e.displacedBy.point):r},Pdt=(t,e)=>{const r=t.page.borderBox;return of(t.descriptor.id,e)?z1(r,jm(e.displacedBy.point)):r};var kdt=({pageBorderBoxCenter:t,viewport:e,destination:r,insideDestination:n,afterCritical:i})=>n.filter(o=>NRe({target:Pdt(o,i),destination:r,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=qy(t,z7(r,yie(o,i))),u=qy(t,z7(r,yie(a,i)));return l<u?-1:u<l?1:o.descriptor.index-a.descriptor.index})[0]||null,U1=Ys(function(e,r){const n=r[e.line];return{value:n,point:cC(e.line,n)}});const Ddt=(t,e,r)=>{const n=t.axis;if(t.descriptor.mode==="virtual")return cC(n.line,e[n.line]);const i=t.subject.page.contentBox[n.size],l=Pm(t.descriptor.id,r).reduce((u,g)=>u+g.client.marginBox[n.size],0)+e[n.line]-i;return l<=0?null:cC(n.line,l)},kRe=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),DRe=(t,e,r)=>{const n=t.frame;km(e,t)&&Tt(),t.subject.withPlaceholder&&Tt();const i=U1(t.axis,e.displaceBy).point,s=Ddt(t,i,r),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!n){const g=Hp({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:g}}const a=s?xo(n.scroll.max,s):n.scroll.max,l=kRe(n,a),u=Hp({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:u,frame:l}},Fdt=t=>{const e=t.subject.withPlaceholder;e||Tt();const r=t.frame;if(!r){const o=Hp({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const n=e.oldFrameMaxScroll;n||Tt();const i=kRe(r,n),s=Hp({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var Ldt=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:r,draggable:n,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(r.length)return null;const d={displaced:zy,displacedBy:_Re,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=qE({impact:d,draggable:n,droppable:s,draggables:i,afterCritical:a}),h=km(n,s)?s:DRe(s,n,i);return PRe({draggable:n,destination:h,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],u=(()=>{const d=e.descriptor.index;return e.descriptor.id===n.descriptor.id||l?d:d+1})(),g=U1(s.axis,n.displaceBy);return sS({draggable:n,insideDestination:r,destination:s,viewport:o,displacedBy:g,last:zy,index:u})},Mdt=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:r,isOver:n,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=jdt({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:s,viewport:o});if(!l)return null;const u=Pm(l.descriptor.id,i),g=kdt({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:u,afterCritical:a}),d=Ldt({previousPageBorderBoxCenter:e,destination:l,draggable:r,draggables:i,moveRelativeTo:g,insideDestination:u,viewport:o,afterCritical:a});if(!d)return null;const f=qE({impact:d,draggable:r,droppable:l,draggables:i,afterCritical:a});return{clientSelection:zW({pageBorderBoxCenter:f,draggable:r,viewport:o}),impact:d,scrollJumpRequest:null}},Al=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const Bdt=(t,e)=>{const r=Al(t);return r?e[r]:null};var $dt=({state:t,type:e})=>{const r=Bdt(t.impact,t.dimensions.droppables),n=!!r,i=t.dimensions.droppables[t.critical.droppable.id],s=r||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!n)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],g=t.current.page.borderBoxCenter,{draggables:d,droppables:f}=t.dimensions;return a?Odt({isMovingForward:l,previousPageBorderBoxCenter:g,draggable:u,destination:s,draggables:d,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Mdt({isMovingForward:l,previousPageBorderBoxCenter:g,draggable:u,isOver:s,draggables:d,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Xf(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function FRe(t){const e=Hl(t.top,t.bottom),r=Hl(t.left,t.right);return function(i){return e(i.y)&&r(i.x)}}function qdt(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function zdt({pageBorderBox:t,draggable:e,candidates:r}){const n=e.page.borderBox.center,i=r.map(s=>{const o=s.axis,a=cC(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:qy(n,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function Udt({pageBorderBox:t,draggable:e,droppables:r}){const n=ME(r).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!qdt(t,s))return!1;if(FRe(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],u=t[o.crossAxisEnd],g=Hl(s[o.crossAxisStart],s[o.crossAxisEnd]),d=g(l),f=g(u);return!d&&!f?!0:d?l<a:u>a});return n.length?n.length===1?n[0].descriptor.id:zdt({pageBorderBox:t,draggable:e,candidates:n}):null}const LRe=(t,e)=>Dc(z1(t,e));var Wdt=(t,e)=>{const r=t.frame;return r?LRe(e,r.scroll.diff.value):e};function MRe({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function Gdt({draggable:t,closest:e,inHomeList:r}){return e?r&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var Vdt=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:r,insideDestination:n,last:i,viewport:s,afterCritical:o})=>{const a=r.axis,l=U1(r.axis,e.displaceBy),u=l.value,g=t[a.start],d=t[a.end],h=$E(e,n).find(C=>{const I=C.descriptor.id,p=C.page.borderBox.center[a.line],m=of(I,o),v=MRe({displaced:i,id:I});return m?v?d<=p:g<p-u:v?d<=p+u:g<p})||null,A=Gdt({draggable:e,closest:h,inHomeList:km(e,r)});return sS({draggable:e,insideDestination:n,destination:r,viewport:s,last:i,displacedBy:l,index:A})};const Hdt=4;var Kdt=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:r,destination:n,insideDestination:i,afterCritical:s})=>{if(!n.isCombineEnabled)return null;const o=n.axis,a=U1(n.axis,t.displaceBy),l=a.value,u=e[o.start],g=e[o.end],f=$E(t,i).find(A=>{const C=A.descriptor.id,I=A.page.borderBox,m=I[o.size]/Hdt,v=of(C,s),y=MRe({displaced:r.displaced,id:C});return v?y?g>I[o.start]+m&&g<I[o.end]-m:u>I[o.start]-l+m&&u<I[o.end]-l-m:y?g>I[o.start]+l+m&&g<I[o.end]+l-m:u>I[o.start]+m&&u<I[o.end]-m});return f?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:n.descriptor.id}}}:null},BRe=({pageOffset:t,draggable:e,draggables:r,droppables:n,previousImpact:i,viewport:s,afterCritical:o})=>{const a=LRe(e.page.borderBox,t),l=Udt({pageBorderBox:a,draggable:e,droppables:n});if(!l)return ldt;const u=n[l],g=Pm(u.descriptor.id,r),d=Wdt(u,a);return Kdt({pageBorderBoxWithDroppableScroll:d,draggable:e,previousImpact:i,destination:u,insideDestination:g,afterCritical:o})||Vdt({pageBorderBoxWithDroppableScroll:d,draggable:e,destination:u,insideDestination:g,last:i.displaced,viewport:s,afterCritical:o})},UW=(t,e)=>({...t,[e.descriptor.id]:e});const Ydt=({previousImpact:t,impact:e,droppables:r})=>{const n=Al(t),i=Al(e);if(!n||n===i)return r;const s=r[n];if(!s.subject.withPlaceholder)return r;const o=Fdt(s);return UW(r,o)};var Zdt=({draggable:t,draggables:e,droppables:r,previousImpact:n,impact:i})=>{const s=Ydt({previousImpact:n,impact:i,droppables:r}),o=Al(i);if(!o)return s;const a=r[o];if(km(t,a)||a.subject.withPlaceholder)return s;const l=DRe(a,t,e);return UW(s,l)},ey=({state:t,clientSelection:e,dimensions:r,viewport:n,impact:i,scrollJumpRequest:s})=>{const o=n||t.viewport,a=r||t.dimensions,l=e||t.current.client.selection,u=gl(l,t.initial.client.selection),g={offset:u,selection:l,borderBoxCenter:xo(t.initial.client.borderBoxCenter,u)},d={selection:xo(g.selection,o.scroll.current),borderBoxCenter:xo(g.borderBoxCenter,o.scroll.current),offset:xo(g.offset,o.scroll.diff.value)},f={client:g,page:d};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:f};const h=a.draggables[t.critical.draggable.id],A=i||BRe({pageOffset:d.offset,draggable:h,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),C=Zdt({draggable:h,impact:A,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:C},impact:A,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Xdt(t,e){return t.map(r=>e[r])}var $Re=({impact:t,viewport:e,draggables:r,destination:n,forceShouldAnimate:i})=>{const s=t.displaced,o=Xdt(s.all,r),a=Uy({afterDragging:o,destination:n,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},qRe=({impact:t,draggable:e,droppable:r,draggables:n,viewport:i,afterCritical:s})=>{const o=qE({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:s});return zW({pageBorderBoxCenter:o,draggable:e,viewport:i})},zRe=({state:t,dimensions:e,viewport:r})=>{t.movementMode!=="SNAP"&&Tt();const n=t.impact,i=r||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],u=Al(n);u||Tt();const g=a[u],d=$Re({impact:n,viewport:i,destination:g,draggables:o}),f=qRe({impact:d,draggable:l,droppable:g,draggables:o,viewport:i,afterCritical:t.afterCritical});return ey({impact:d,clientSelection:f,state:t,dimensions:s,viewport:i})},Qdt=t=>({index:t.index,droppableId:t.droppableId}),URe=({draggable:t,home:e,draggables:r,viewport:n})=>{const i=U1(e.axis,t.displaceBy),s=Pm(e.descriptor.id,r),o=s.indexOf(t);o===-1&&Tt();const a=s.slice(o+1),l=a.reduce((f,h)=>(f[h.descriptor.id]=!0,f),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Uy({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:Qdt(t.descriptor)}},afterCritical:u}},Jdt=(t,e)=>({draggables:t.draggables,droppables:UW(t.droppables,e)}),eht=({draggable:t,offset:e,initialWindowScroll:r})=>{const n=eS(t.client,e),i=tS(n,r);return{...t,placeholder:{...t.placeholder,client:n},client:n,page:i}},tht=t=>{const e=t.frame;return e||Tt(),e},rht=({additions:t,updatedDroppables:e,viewport:r})=>{const n=r.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=tht(o).scroll.diff.value,u=xo(n,l);return eht({draggable:i,offset:u,initialWindowScroll:r.scroll.initial})})},nht=({state:t,published:e})=>{const r=e.modified.map(p=>{const m=t.dimensions.droppables[p.droppableId];return LW(m,p.scroll)}),n={...t.dimensions.droppables,...SRe(r)},i=ERe(rht({additions:e.additions,updatedDroppables:n,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(p=>{delete s[p]});const o={droppables:n,draggables:s},a=Al(t.impact),l=a?o.droppables[a]:null,u=o.draggables[t.critical.draggable.id],g=o.droppables[t.critical.droppable.id],{impact:d,afterCritical:f}=URe({draggable:u,home:g,draggables:s,viewport:t.viewport}),h=l&&l.isCombineEnabled?t.impact:d,A=BRe({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:t.viewport,afterCritical:f}),C={...t,phase:"DRAGGING",impact:A,onLiftImpact:d,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const U7=t=>t.movementMode==="SNAP",GP=(t,e,r)=>{const n=Jdt(t.dimensions,e);return!U7(t)||r?ey({state:t,dimensions:n}):zRe({state:t,dimensions:n})};function VP(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const xie={phase:"IDLE",completed:null,shouldFlush:!1};var iht=(t=xie,e)=>{if(e.type==="FLUSH")return{...xie,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Tt();const{critical:r,clientSelection:n,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[r.draggable.id],l=s.droppables[r.droppable.id],u={selection:n,borderBoxCenter:a.client.borderBox.center,offset:Xs},g={client:u,page:{selection:xo(u.selection,i.scroll.initial),borderBoxCenter:xo(u.selection,i.scroll.initial),offset:xo(u.selection,i.scroll.diff.value)}},d=ME(s.droppables).every(C=>!C.isFixedOnPage),{impact:f,afterCritical:h}=URe({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:s,initial:g,current:g,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Tt(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Tt(),nht({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Xf(t)||Tt();const{client:r}=e.payload;return $h(r,t.current.client.selection)?t:ey({state:t,clientSelection:r,impact:U7(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return VP(t);Xf(t)||Tt();const{id:r,newScroll:n}=e.payload,i=t.dimensions.droppables[r];if(!i)return t;const s=LW(i,n);return GP(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Xf(t)||Tt();const{id:r,isEnabled:n}=e.payload,i=t.dimensions.droppables[r];i||Tt(),i.isEnabled===n&&Tt();const s={...i,isEnabled:n};return GP(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Xf(t)||Tt();const{id:r,isCombineEnabled:n}=e.payload,i=t.dimensions.droppables[r];i||Tt(),i.isCombineEnabled===n&&Tt();const s={...i,isCombineEnabled:n};return GP(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Xf(t)||Tt(),t.isWindowScrollAllowed||Tt();const r=e.payload.newScroll;if($h(t.viewport.scroll.current,r))return VP(t);const n=jRe(t.viewport,r);return U7(t)?zRe({state:t,viewport:n}):ey({state:t,viewport:n})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Xf(t))return t;const r=e.payload.maxScroll;if($h(r,t.viewport.scroll.max))return t;const n={...t.viewport,scroll:{...t.viewport.scroll,max:r}};return{...t,viewport:n}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Tt();const r=$dt({state:t,type:e.type});return r?ey({state:t,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const r=e.payload.reason;return t.phase!=="COLLECTING"&&Tt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(e.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Tt(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:r}=e.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return t};function xn(t,e){return t instanceof Object&&"type"in t&&t.type===e}const sht=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),oht=t=>({type:"LIFT",payload:t}),aht=t=>({type:"INITIAL_PUBLISH",payload:t}),lht=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),cht=()=>({type:"COLLECTION_STARTING",payload:null}),uht=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),ght=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),dht=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),WRe=t=>({type:"MOVE",payload:t}),hht=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),fht=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Aht=()=>({type:"MOVE_UP",payload:null}),Cht=()=>({type:"MOVE_DOWN",payload:null}),Iht=()=>({type:"MOVE_RIGHT",payload:null}),pht=()=>({type:"MOVE_LEFT",payload:null}),WW=()=>({type:"FLUSH",payload:null}),mht=t=>({type:"DROP_ANIMATE",payload:t}),GW=t=>({type:"DROP_COMPLETE",payload:t}),GRe=t=>({type:"DROP",payload:t}),vht=t=>({type:"DROP_PENDING",payload:t}),VRe=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var yht=t=>({getState:e,dispatch:r})=>n=>i=>{if(!xn(i,"LIFT")){n(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&r(GW({completed:l.completed})),e().phase!=="IDLE"&&Tt(),r(WW()),r(sht({draggableId:s,movementMode:a}));const g={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:h}=t.startPublishing(g);r(aht({critical:d,dimensions:f,clientSelection:o,movementMode:a,viewport:h}))},xht=t=>()=>e=>r=>{xn(r,"INITIAL_PUBLISH")&&t.dragging(),xn(r,"DROP_ANIMATE")&&t.dropping(r.payload.completed.result.reason),(xn(r,"FLUSH")||xn(r,"DROP_COMPLETE"))&&t.resting(),e(r)};const VW={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wy={opacity:{drop:0,combining:.7},scale:{drop:.75}},HRe={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Gf=`${HRe.outOfTheWay}s ${VW.outOfTheWay}`,ty={fluid:`opacity ${Gf}`,snap:`transform ${Gf}, opacity ${Gf}`,drop:t=>{const e=`${t}s ${VW.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Gf}`,placeholder:`height ${Gf}, width ${Gf}, margin ${Gf}`},bie=t=>$h(t,Xs)?void 0:`translate(${t.x}px, ${t.y}px)`,W7={moveTo:bie,drop:(t,e)=>{const r=bie(t);if(r)return e?`${r} scale(${Wy.scale.drop})`:r}},{minDropTime:G7,maxDropTime:KRe}=HRe,bht=KRe-G7,wie=1500,wht=.6;var Sht=({current:t,destination:e,reason:r})=>{const n=qy(t,e);if(n<=0)return G7;if(n>=wie)return KRe;const i=n/wie,s=G7+bht*i,o=r==="CANCEL"?s*wht:s;return Number(o.toFixed(2))},Eht=({impact:t,draggable:e,dimensions:r,viewport:n,afterCritical:i})=>{const{draggables:s,droppables:o}=r,a=Al(t),l=a?o[a]:null,u=o[e.descriptor.droppableId],g=qRe({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||u,viewport:n});return gl(g,e.client.borderBox.center)},_ht=({draggables:t,reason:e,lastImpact:r,home:n,viewport:i,onLiftImpact:s})=>!r.at||e!=="DROP"?{impact:$Re({draggables:t,impact:s,destination:n,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:zy},didDropInsideDroppable:!0};const Tht=({getState:t,dispatch:e})=>r=>n=>{if(!xn(n,"DROP")){r(n);return}const i=t(),s=n.payload.reason;if(i.phase==="COLLECTING"){e(vht({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Tt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Tt();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:g,didDropInsideDroppable:d}=_ht({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?MW(g):null,h=d?BE(g):null,A={index:a.draggable.index,droppableId:a.droppable.id},C={draggableId:u.descriptor.id,type:u.descriptor.type,source:A,reason:s,mode:i.movementMode,destination:f,combine:h},I=Eht({impact:g,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),p={critical:i.critical,afterCritical:i.afterCritical,result:C,impact:g};if(!(!$h(i.current.client.offset,I)||!!C.combine)){e(GW({completed:p}));return}const v=Sht({current:i.current.client.offset,destination:I,reason:s});e(mht({newHomeClientOffset:I,dropDuration:v,completed:p}))};var YRe=()=>({x:window.pageXOffset,y:window.pageYOffset});function Rht(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Nht({onWindowScroll:t}){function e(){t(YRe())}const r=$y(e),n=Rht(r);let i=Bh;function s(){return i!==Bh}function o(){s()&&Tt(),i=Gl(window,[n])}function a(){s()||Tt(),r.cancel(),i(),i=Bh}return{start:o,stop:a,isActive:s}}const Oht=t=>xn(t,"DROP_COMPLETE")||xn(t,"DROP_ANIMATE")||xn(t,"FLUSH"),jht=t=>{const e=Nht({onWindowScroll:r=>{t.dispatch(hht({newScroll:r}))}});return r=>n=>{!e.isActive()&&xn(n,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&Oht(n)&&e.stop(),r(n)}};var Pht=t=>{let e=!1,r=!1;const n=setTimeout(()=>{r=!0}),i=s=>{e||r||(e=!0,t(s),clearTimeout(n))};return i.wasCalled=()=>e,i},kht=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&Tt();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const Dht=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Fht=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,Lht=(t,e)=>{if(t===e)return!0;const r=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,n=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return r&&n},nv=(t,e)=>{e()},iw=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function HP(t,e,r,n){if(!t){r(n(e));return}const i=Pht(r);t(e,{announce:i}),i.wasCalled()||r(n(e))}var Mht=(t,e)=>{const r=kht();let n=null;const i=(d,f)=>{n&&Tt(),nv("onBeforeCapture",()=>{const h=t().onBeforeCapture;h&&h({draggableId:d,mode:f})})},s=(d,f)=>{n&&Tt(),nv("onBeforeDragStart",()=>{const h=t().onBeforeDragStart;h&&h(iw(d,f))})},o=(d,f)=>{n&&Tt();const h=iw(d,f);n={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},r.add(()=>{nv("onDragStart",()=>HP(t().onDragStart,h,e,zw.onDragStart))})},a=(d,f)=>{const h=MW(f),A=BE(f);n||Tt();const C=!Lht(d,n.lastCritical);C&&(n.lastCritical=d);const I=!Dht(n.lastLocation,h);I&&(n.lastLocation=h);const p=!Fht(n.lastCombine,A);if(p&&(n.lastCombine=A),!C&&!I&&!p)return;const m={...iw(d,n.mode),combine:A,destination:h};r.add(()=>{nv("onDragUpdate",()=>HP(t().onDragUpdate,m,e,zw.onDragUpdate))})},l=()=>{n||Tt(),r.flush()},u=d=>{n||Tt(),n=null,nv("onDragEnd",()=>HP(t().onDragEnd,d,e,zw.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:()=>{if(!n)return;const d={...iw(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},Bht=(t,e)=>{const r=Mht(t,e);return n=>i=>s=>{if(xn(s,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(xn(s,"INITIAL_PUBLISH")){const a=s.payload.critical;r.beforeStart(a,s.payload.movementMode),i(s),r.start(a,s.payload.movementMode);return}if(xn(s,"DROP_COMPLETE")){const a=s.payload.completed.result;r.flush(),i(s),r.drop(a);return}if(i(s),xn(s,"FLUSH")){r.abort();return}const o=n.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const $ht=t=>e=>r=>{if(!xn(r,"DROP_ANIMATION_FINISHED")){e(r);return}const n=t.getState();n.phase!=="DROP_ANIMATING"&&Tt(),t.dispatch(GW({completed:n.completed}))},qht=t=>{let e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return i=>s=>{if((xn(s,"FLUSH")||xn(s,"DROP_COMPLETE")||xn(s,"DROP_ANIMATION_FINISHED"))&&n(),i(s),!xn(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(VRe())}};r=requestAnimationFrame(()=>{r=null,e=Gl(window,[o])})}};var zht=t=>()=>e=>r=>{(xn(r,"DROP_COMPLETE")||xn(r,"FLUSH")||xn(r,"DROP_ANIMATE"))&&t.stopPublishing(),e(r)},Uht=t=>{let e=!1;return()=>r=>n=>{if(xn(n,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(xn(n,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(xn(n,"DROP_COMPLETE")){e=!1;const i=n.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Wht=t=>xn(t,"DROP_COMPLETE")||xn(t,"DROP_ANIMATE")||xn(t,"FLUSH");var Ght=t=>e=>r=>n=>{if(Wht(n)){t.stop(),r(n);return}if(xn(n,"INITIAL_PUBLISH")){r(n);const i=e.getState();i.phase!=="DRAGGING"&&Tt(),t.start(i);return}r(n),t.scroll(e.getState())};const Vht=t=>e=>r=>{if(e(r),!xn(r,"PUBLISH_WHILE_DRAGGING"))return;const n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(GRe({reason:n.reason})))},Hht=gRe;var Kht=({dimensionMarshal:t,focusMarshal:e,styleMarshal:r,getResponders:n,announce:i,autoScroller:s})=>uRe(iht,Hht(qut(xht(r),zht(t),yht(t),Tht,$ht,qht,Vht,Ght(s),jht,Uht(e),Bht(n,i))));const KP=()=>({additions:{},removals:{},modified:{}});function Yht({registry:t,callbacks:e}){let r=KP(),n=null;const i=()=>{n||(e.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:u,modified:g}=r,d=Object.keys(l).map(A=>t.draggable.getById(A).getDimension(Xs)).sort((A,C)=>A.descriptor.index-C.descriptor.index),f=Object.keys(g).map(A=>{const I=t.droppable.getById(A).callbacks.getScrollWhileDragging();return{droppableId:A,scroll:I}}),h={additions:d,removals:Object.keys(u),modified:f};r=KP(),e.publish(h)}))};return{add:l=>{const u=l.descriptor.id;r.additions[u]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[u]&&delete r.removals[u],i()},remove:l=>{const u=l.descriptor;r.removals[u.id]=!0,r.modified[u.droppableId]=!0,r.additions[u.id]&&delete r.additions[u.id],i()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=KP())}}}var ZRe=({scrollHeight:t,scrollWidth:e,height:r,width:n})=>{const i=gl({x:e,y:t},{x:n,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},XRe=()=>{const t=document.documentElement;return t||Tt(),t},QRe=()=>{const t=XRe();return ZRe({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Zht=()=>{const t=YRe(),e=QRe(),r=t.y,n=t.x,i=XRe(),s=i.clientWidth,o=i.clientHeight,a=n+s,l=r+o;return{frame:Dc({top:r,left:n,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:Xs,displacement:Xs}}}},Xht=({critical:t,scrollOptions:e,registry:r})=>{const n=Zht(),i=n.scroll.current,s=t.droppable,o=r.droppable.getAllByType(s.type).map(g=>g.callbacks.getDimensionAndWatchScroll(i,e)),a=r.draggable.getAllByType(t.draggable.type).map(g=>g.getDimension(i));return{dimensions:{draggables:ERe(a),droppables:SRe(o)},critical:t,viewport:n}};function Sie(t,e,r){return!(r.descriptor.id===e.id||r.descriptor.type!==e.type||t.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var Qht=(t,e)=>{let r=null;const n=Yht({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,h)=>{t.droppable.exists(f)||Tt(),r&&e.updateDroppableIsEnabled({id:f,isEnabled:h})},s=(f,h)=>{r&&(t.droppable.exists(f)||Tt(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},o=(f,h)=>{r&&(t.droppable.exists(f)||Tt(),e.updateDroppableScroll({id:f,newScroll:h}))},a=(f,h)=>{r&&t.droppable.getById(f).callbacks.scroll(h)},l=()=>{if(!r)return;n.stop();const f=r.critical.droppable;t.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},u=f=>{r||Tt();const h=r.critical.draggable;f.type==="ADDITION"&&Sie(t,h,f.value)&&n.add(f.value),f.type==="REMOVAL"&&Sie(t,h,f.value)&&n.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{r&&Tt();const h=t.draggable.getById(f.draggableId),A=t.droppable.getById(h.descriptor.droppableId),C={draggable:h.descriptor,droppable:A.descriptor},I=t.subscribe(u);return r={critical:C,unsubscribe:I},Xht({critical:C,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},JRe=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Jht=t=>{window.scrollBy(t.x,t.y)};const eft=Ys(t=>ME(t).filter(e=>!(!e.isEnabled||!e.frame))),tft=(t,e)=>eft(e).find(n=>(n.frame||Tt(),FRe(n.frame.pageMarginBox)(t)))||null;var rft=({center:t,destination:e,droppables:r})=>{if(e){const i=r[e];return i.frame?i:null}return tft(t,r)};const Gy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var nft=(t,e,r=()=>Gy)=>{const n=r(),i=t[e.size]*n.startFromPercentage,s=t[e.size]*n.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},eNe=({startOfRange:t,endOfRange:e,current:r})=>{const n=e-t;return n===0?0:(r-t)/n},HW=1,ift=(t,e,r=()=>Gy)=>{const n=r();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return n.maxPixelScroll;if(t===e.startScrollingFrom)return HW;const s=1-eNe({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=n.maxPixelScroll*n.ease(s);return Math.ceil(o)},sft=(t,e,r)=>{const n=r(),i=n.durationDampening.accelerateAt,s=n.durationDampening.stopDampeningAt,o=e,a=s,u=Date.now()-o;if(u>=s)return t;if(u<i)return HW;const g=eNe({startOfRange:i,endOfRange:a,current:u}),d=t*n.ease(g);return Math.ceil(d)},Eie=({distanceToEdge:t,thresholds:e,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const s=ift(t,e,i);return s===0?0:n?Math.max(sft(s,r,i),HW):s},_ie=({container:t,distanceToEdges:e,dragStartTime:r,axis:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=nft(t,n,s);return e[n.end]<e[n.start]?Eie({distanceToEdge:e[n.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*Eie({distanceToEdge:e[n.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},oft=({container:t,subject:e,proposedScroll:r})=>{const n=e.height>t.height,i=e.width>t.width;return!i&&!n?r:i&&n?null:{x:i?0:r.x,y:n?0:r.y}};const aft=wRe(t=>t===0?0:t);var tNe=({dragStartTime:t,container:e,subject:r,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:n.y-e.top,right:e.right-n.x,bottom:e.bottom-n.y,left:n.x-e.left},a=_ie({container:e,distanceToEdges:o,dragStartTime:t,axis:BW,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=_ie({container:e,distanceToEdges:o,dragStartTime:t,axis:RRe,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),u=aft({x:l,y:a});if($h(u,Xs))return null;const g=oft({container:e,subject:r,proposedScroll:u});return g?$h(g,Xs)?null:g:null};const lft=wRe(t=>t===0?0:t>0?1:-1),KW=(()=>{const t=(e,r)=>e<0?e:e>r?e-r:0;return({current:e,max:r,change:n})=>{const i=xo(e,n),s={x:t(i.x,r.x),y:t(i.y,r.y)};return $h(s,Xs)?null:s}})(),rNe=({max:t,current:e,change:r})=>{const n={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=lft(r),s=KW({max:n,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},YW=(t,e)=>rNe({current:t.scroll.current,max:t.scroll.max,change:e}),cft=(t,e)=>{if(!YW(t,e))return null;const r=t.scroll.max,n=t.scroll.current;return KW({current:n,max:r,change:e})},ZW=(t,e)=>{const r=t.frame;return r?rNe({current:r.scroll.current,max:r.scroll.max,change:e}):!1},uft=(t,e)=>{const r=t.frame;return!r||!ZW(t,e)?null:KW({current:r.scroll.current,max:r.scroll.max,change:e})};var gft=({viewport:t,subject:e,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=tNe({dragStartTime:n,container:t.frame,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&YW(t,o)?o:null},dft=({droppable:t,subject:e,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=tNe({dragStartTime:n,container:o.pageMarginBox,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&ZW(t,a)?a:null},Tie=({state:t,dragStartTime:e,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const d=t.viewport,f=gft({dragStartTime:e,viewport:d,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:s});if(f){n(f);return}}const u=rft({center:o,destination:Al(t.impact),droppables:t.dimensions.droppables});if(!u)return;const g=dft({dragStartTime:e,droppable:u,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:s});g&&i(u.descriptor.id,g)},hft=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r=()=>Gy})=>{const n=$y(t),i=$y(e);let s=null;const o=u=>{s||Tt();const{shouldUseTimeDampening:g,dragStartTime:d}=s;Tie({state:u,scrollWindow:n,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:g,getAutoScrollerOptions:r})};return{start:u=>{s&&Tt();const g=Date.now();let d=!1;const f=()=>{d=!0};Tie({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:r}),s={dragStartTime:g,shouldUseTimeDampening:d},d&&o(u)},stop:()=>{s&&(n.cancel(),i.cancel(),s=null)},scroll:o}},fft=({move:t,scrollDroppable:e,scrollWindow:r})=>{const n=(a,l)=>{const u=xo(a.current.client.selection,l);t({client:u})},i=(a,l)=>{if(!ZW(a,l))return l;const u=uft(a,l);if(!u)return e(a.descriptor.id,l),null;const g=gl(l,u);return e(a.descriptor.id,g),gl(l,g)},s=(a,l,u)=>{if(!a||!YW(l,u))return u;const g=cft(l,u);if(!g)return r(u),null;const d=gl(u,g);return r(d),gl(u,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=Al(a.impact);u||Tt();const g=i(a.dimensions.droppables[u],l);if(!g)return;const d=a.viewport,f=s(a.isWindowScrollAllowed,d,g);f&&n(a,f)}},Aft=({scrollDroppable:t,scrollWindow:e,move:r,getAutoScrollerOptions:n})=>{const i=hft({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n}),s=fft({move:r,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const Kp="data-rfd",Yp=(()=>{const t=`${Kp}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),V7=(()=>{const t=`${Kp}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Cft=(()=>{const t=`${Kp}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Rie={contextId:`${Kp}-scroll-container-context-id`},Ift=t=>e=>`[${e}="${t}"]`,iv=(t,e)=>t.map(r=>{const n=r.styles[e];return n?`${r.selector} { ${n} }`:""}).join(" "),pft="pointer-events: none;";var mft=t=>{const e=Ift(t),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Yp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:pft,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${ty.outOfTheWay};
    `;return{selector:e(V7.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(Cft.contextId),styles:{always:"overflow-anchor: none;"}},o=[n,r,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:iv(o,"always"),resting:iv(o,"resting"),dragging:iv(o,"dragging"),dropAnimating:iv(o,"dropAnimating"),userCancel:iv(o,"userCancel")}};const Cl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?D.useLayoutEffect:D.useEffect,YP=()=>{const t=document.querySelector("head");return t||Tt(),t},Nie=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function vft(t,e){const r=sn(()=>mft(t),[t]),n=D.useRef(null),i=D.useRef(null),s=ar(Ys(d=>{const f=i.current;f||Tt(),f.textContent=d}),[]),o=ar(d=>{const f=n.current;f||Tt(),f.textContent=d},[]);Cl(()=>{!n.current&&!i.current||Tt();const d=Nie(e),f=Nie(e);return n.current=d,i.current=f,d.setAttribute(`${Kp}-always`,t),f.setAttribute(`${Kp}-dynamic`,t),YP().appendChild(d),YP().appendChild(f),o(r.always),s(r.resting),()=>{const h=A=>{const C=A.current;C||Tt(),YP().removeChild(C),A.current=null};h(n),h(i)}},[e,o,s,r.always,r.resting,t]);const a=ar(()=>s(r.dragging),[s,r.dragging]),l=ar(d=>{if(d==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),u=ar(()=>{i.current&&s(r.resting)},[s,r.resting]);return sn(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function nNe(t,e){return Array.from(t.querySelectorAll(e))}var iNe=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function zE(t){return t instanceof iNe(t).HTMLElement}function yft(t,e){const r=`[${Yp.contextId}="${t}"]`,n=nNe(document,r);if(!n.length)return null;const i=n.find(s=>s.getAttribute(Yp.draggableId)===e);return!i||!zE(i)?null:i}function xft(t){const e=D.useRef({}),r=D.useRef(null),n=D.useRef(null),i=D.useRef(!1),s=ar(function(f,h){const A={id:f,focus:h};return e.current[f]=A,function(){const I=e.current;I[f]!==A&&delete I[f]}},[]),o=ar(function(f){const h=yft(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=ar(function(f,h){r.current===f&&(r.current=h)},[]),l=ar(function(){n.current||i.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const f=r.current;f&&o(f)}))},[o]),u=ar(function(f){r.current=null;const h=document.activeElement;h&&h.getAttribute(Yp.draggableId)===f&&(r.current=f)},[]);return Cl(()=>(i.current=!0,function(){i.current=!1;const f=n.current;f&&cancelAnimationFrame(f)}),[]),sn(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function bft(){const t={draggables:{},droppables:{}},e=[];function r(d){return e.push(d),function(){const h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function n(d){e.length&&e.forEach(f=>f(d))}function i(d){return t.draggables[d]||null}function s(d){const f=i(d);return f||Tt(),f}const o={register:d=>{t.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,f)=>{const h=t.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=i(f);h&&d.uniqueId===h.uniqueId&&(delete t.draggables[f],t.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:s,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(t.draggables).filter(f=>f.descriptor.type===d)};function a(d){return t.droppables[d]||null}function l(d){const f=a(d);return f||Tt(),f}const u={register:d=>{t.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete t.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(t.droppables).filter(f=>f.descriptor.type===d)};function g(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:r,clean:g}}function wft(){const t=sn(bft,[]);return D.useEffect(()=>function(){t.clean()},[t]),t}var XW=Ue.createContext(null),oS=()=>{const t=document.body;return t||Tt(),t};const Sft={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Eft=t=>`rfd-announcement-${t}`;function _ft(t){const e=sn(()=>Eft(t),[t]),r=D.useRef(null);return D.useEffect(function(){const s=document.createElement("div");return r.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),rS(s.style,Sft),oS().appendChild(s),function(){setTimeout(function(){const l=oS();l.contains(s)&&l.removeChild(s),s===r.current&&(r.current=null)})}},[e]),ar(i=>{const s=r.current;if(s){s.textContent=i;return}},[])}const Tft={separator:"::"};function QW(t,e=Tft){const r=Ue.useId();return sn(()=>`${t}${e.separator}${r}`,[e.separator,t,r])}function Rft({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function Nft({contextId:t,text:e}){const r=QW("hidden-text",{separator:"-"}),n=sn(()=>Rft({contextId:t,uniqueId:r}),[r,t]);return D.useEffect(function(){const s=document.createElement("div");return s.id=n,s.textContent=e,s.style.display="none",oS().appendChild(s),function(){const a=oS();a.contains(s)&&a.removeChild(s)}},[n,e]),n}var UE=Ue.createContext(null);function sNe(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),e}function Oft(){let t=null;function e(){return!!t}function r(o){return o===t}function n(o){t&&Tt();const a={abandon:o};return t=a,a}function i(){t||Tt(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:r,claim:n,release:i,tryAbandon:s}}function Vy(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const jft=9,Pft=13,JW=27,oNe=32,kft=33,Dft=34,Fft=35,Lft=36,Mft=37,Bft=38,$ft=39,qft=40,zft={[Pft]:!0,[jft]:!0};var aNe=t=>{zft[t.keyCode]&&t.preventDefault()};const WE=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(n=>`on${n}`in document)||t})(),lNe=0,Oie=5;function Uft(t,e){return Math.abs(e.x-t.x)>=Oie||Math.abs(e.y-t.y)>=Oie}const jie={type:"IDLE"};function Wft({cancel:t,completed:e,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==lNe)return;const l={x:o,y:a},u=r();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&Tt();const g=u.point;if(!Uft(g,l))return;i.preventDefault();const d=u.actions.fluidLift(l);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const s=r();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{r().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(r().type==="PENDING"){t();return}if(i.keyCode===JW){i.preventDefault(),t();return}aNe(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=r();if(s.type==="IDLE"&&Tt(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:WE,fn:t}]}function Gft(t){const e=D.useRef(jie),r=D.useRef(Bh),n=sn(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==lNe||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=t.findClosestDraggableId(d);if(!f)return;const h=t.tryGetLock(f,o,{sourceEvent:d});if(!h)return;d.preventDefault();const A={x:d.clientX,y:d.clientY};r.current(),u(h,A)}}),[t]),i=sn(()=>({eventName:"webkitmouseforcewillbegin",fn:g=>{if(g.defaultPrevented)return;const d=t.findClosestDraggableId(g);if(!d)return;const f=t.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||t.canGetLock(d)&&g.preventDefault())}}),[t]),s=ar(function(){const d={passive:!1,capture:!0};r.current=Gl(window,[i,n],d)},[i,n]),o=ar(()=>{e.current.type!=="IDLE"&&(e.current=jie,r.current(),s())},[s]),a=ar(()=>{const g=e.current;o(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[o]),l=ar(function(){const d={capture:!0,passive:!1},f=Wft({cancel:a,completed:o,getPhase:()=>e.current,setPhase:h=>{e.current=h}});r.current=Gl(window,f,d)},[a,o]),u=ar(function(d,f){e.current.type!=="IDLE"&&Tt(),e.current={type:"PENDING",point:f,actions:d},l()},[l]);Cl(function(){return s(),function(){r.current()}},[s])}function Vft(){}const Hft={[Dft]:!0,[kft]:!0,[Lft]:!0,[Fft]:!0};function Kft(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===JW){i.preventDefault(),r();return}if(i.keyCode===oNe){i.preventDefault(),n();return}if(i.keyCode===qft){i.preventDefault(),t.moveDown();return}if(i.keyCode===Bft){i.preventDefault(),t.moveUp();return}if(i.keyCode===$ft){i.preventDefault(),t.moveRight();return}if(i.keyCode===Mft){i.preventDefault(),t.moveLeft();return}if(Hft[i.keyCode]){i.preventDefault();return}aNe(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:WE,fn:r}]}function Yft(t){const e=D.useRef(Vft),r=sn(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==oNe)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,g,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();e.current();function g(){l||Tt(),l=!1,e.current(),n()}e.current=Gl(window,Kft(u,g),{capture:!0,passive:!1})}}),[t]),n=ar(function(){const s={passive:!1,capture:!0};e.current=Gl(window,[r],s)},[r]);Cl(function(){return n(),function(){e.current()}},[n])}const ZP={type:"IDLE"},Zft=120,Xft=.15;function Qft({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(e().type!=="DRAGGING"){t();return}r.keyCode===JW&&r.preventDefault(),t()}},{eventName:WE,fn:t}]}function Jft({cancel:t,completed:e,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const i=r();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=n.touches[0],a={x:s,y:o};n.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:n=>{const i=r();if(i.type!=="DRAGGING"){t();return}n.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){t();return}n.preventDefault(),t()}},{eventName:"touchforcechange",fn:n=>{const i=r();i.type==="IDLE"&&Tt();const s=n.touches[0];if(!s||!(s.force>=Xft))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){n.preventDefault();return}t();return}n.preventDefault()}},{eventName:WE,fn:t}]}function eAt(t){const e=D.useRef(ZP),r=D.useRef(Bh),n=ar(function(){return e.current},[]),i=ar(function(h){e.current=h},[]),s=sn(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const A=t.findClosestDraggableId(h);if(!A)return;const C=t.tryGetLock(A,a,{sourceEvent:h});if(!C)return;const I=h.touches[0],{clientX:p,clientY:m}=I,v={x:p,y:m};r.current(),d(C,v)}}),[t]),o=ar(function(){const h={capture:!0,passive:!1};r.current=Gl(window,[s],h)},[s]),a=ar(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(ZP),r.current(),o())},[o,i]),l=ar(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=ar(function(){const h={capture:!0,passive:!1},A={cancel:l,completed:a,getPhase:n},C=Gl(window,Jft(A),h),I=Gl(window,Qft(A),h);r.current=function(){C(),I()}},[l,n,a]),g=ar(function(){const h=n();h.type!=="PENDING"&&Tt();const A=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:A,hasMoved:!1})},[n,i]),d=ar(function(h,A){n().type!=="IDLE"&&Tt();const C=setTimeout(g,Zft);i({type:"PENDING",point:A,actions:h,longPressTimerId:C}),u()},[u,n,i,g]);Cl(function(){return o(),function(){r.current();const A=n();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),i(ZP))}},[n,o,i]),Cl(function(){return Gl(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const tAt=["input","button","textarea","select","option","optgroup","video","audio"];function cNe(t,e){if(e==null)return!1;if(tAt.includes(e.tagName.toLowerCase()))return!0;const n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:cNe(t,e.parentElement)}function rAt(t,e){const r=e.target;return zE(r)?cNe(t,r):!1}var nAt=t=>Dc(t.getBoundingClientRect()).center;function iAt(t){return t instanceof iNe(t).Element}const sAt=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||t})();function uNe(t,e){return t==null?null:t[sAt](e)?t:uNe(t.parentElement,e)}function oAt(t,e){return t.closest?t.closest(e):uNe(t,e)}function aAt(t){return`[${Yp.contextId}="${t}"]`}function lAt(t,e){const r=e.target;if(!iAt(r))return null;const n=aAt(t),i=oAt(r,n);return!i||!zE(i)?null:i}function cAt(t,e){const r=lAt(t,e);return r?r.getAttribute(Yp.draggableId):null}function uAt(t,e){const r=`[${V7.contextId}="${t}"]`,i=nNe(document,r).find(s=>s.getAttribute(V7.id)===e);return!i||!zE(i)?null:i}function gAt(t){t.preventDefault()}function sw({expected:t,phase:e,isLockActive:r,shouldWarn:n}){return!(!r()||t!==e)}function gNe({lockAPI:t,store:e,registry:r,draggableId:n}){if(t.isClaimed())return!1;const i=r.draggable.findById(n);return!(!i||!i.options.isEnabled||!JRe(e.getState(),n))}function dAt({lockAPI:t,contextId:e,store:r,registry:n,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!gNe({lockAPI:t,store:r,registry:n,draggableId:i}))return null;const l=n.draggable.getById(i),u=uAt(e,l.descriptor.id);if(!u||o&&!l.options.canDragInteractiveElements&&rAt(u,o))return null;const g=t.claim(s||Bh);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(g)}function A(x,T){sw({expected:x,phase:d,isLockActive:h,shouldWarn:!0})&&r.dispatch(T())}const C=A.bind(null,"DRAGGING");function I(x){function T(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(T(),Tt()),r.dispatch(oht(x.liftActionArgs)),d="DRAGGING";function E(_,S={shouldBlockNextClick:!1}){if(x.cleanup(),S.shouldBlockNextClick){const j=Gl(window,[{eventName:"click",fn:gAt,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}T(),r.dispatch(GRe({reason:_}))}return{isActive:()=>sw({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,drop:_=>E("DROP",_),cancel:_=>E("CANCEL",_),...x.actions}}function p(x){const T=$y(_=>{C(()=>WRe({client:_}))});return{...I({liftActionArgs:{id:i,clientSelection:x,movementMode:"FLUID"},cleanup:()=>T.cancel(),actions:{move:T}}),move:T}}function m(){const x={moveUp:()=>C(Aht),moveRight:()=>C(Iht),moveDown:()=>C(Cht),moveLeft:()=>C(pht)};return I({liftActionArgs:{id:i,clientSelection:nAt(u),movementMode:"SNAP"},cleanup:Bh,actions:x})}function v(){sw({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}return{isActive:()=>sw({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:p,snapLift:m,abort:v}}const hAt=[Gft,Yft,eAt];function fAt({contextId:t,store:e,registry:r,customSensors:n,enableDefaultSensors:i}){const s=[...i?hAt:[],...n||[]],o=D.useState(()=>Oft())[0],a=ar(function(I,p){Vy(I)&&!Vy(p)&&o.tryAbandon()},[o]);Cl(function(){let I=e.getState();return e.subscribe(()=>{const m=e.getState();a(I,m),I=m})},[o,e,a]),Cl(()=>o.tryAbandon,[o.tryAbandon]);const l=ar(C=>gNe({lockAPI:o,registry:r,store:e,draggableId:C}),[o,r,e]),u=ar((C,I,p)=>dAt({lockAPI:o,registry:r,contextId:t,store:e,draggableId:C,forceSensorStop:I||null,sourceEvent:p&&p.sourceEvent?p.sourceEvent:null}),[t,o,r,e]),g=ar(C=>cAt(t,C),[t]),d=ar(C=>{const I=r.draggable.findById(C);return I?I.options:null},[r.draggable]),f=ar(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(WW()))},[o,e]),h=ar(()=>o.isClaimed(),[o]),A=sn(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:g,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:h}),[l,u,g,d,f,h]);for(let C=0;C<s.length;C++)s[C](A)}const AAt=t=>({onBeforeCapture:e=>{const r=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};ly.flushSync(r)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),CAt=t=>({...Gy,...t.autoScrollerOptions,durationDampening:{...Gy.durationDampening,...t.autoScrollerOptions}});function sv(t){return t.current||Tt(),t.current}function IAt(t){const{contextId:e,setCallbacks:r,sensors:n,nonce:i,dragHandleUsageInstructions:s}=t,o=D.useRef(null),a=sNe(t),l=ar(()=>AAt(a.current),[a]),u=ar(()=>CAt(a.current),[a]),g=_ft(e),d=Nft({contextId:e,text:s}),f=vft(e,i),h=ar(j=>{sv(o).dispatch(j)},[]),A=sn(()=>oie({publishWhileDragging:lht,updateDroppableScroll:uht,updateDroppableIsEnabled:ght,updateDroppableIsCombineEnabled:dht,collectionStarting:cht},h),[h]),C=wft(),I=sn(()=>Qht(C,A),[C,A]),p=sn(()=>Aft({scrollWindow:Jht,scrollDroppable:I.scrollDroppable,getAutoScrollerOptions:u,...oie({move:WRe},h)}),[I.scrollDroppable,h,u]),m=xft(e),v=sn(()=>Kht({announce:g,autoScroller:p,dimensionMarshal:I,focusMarshal:m,getResponders:l,styleMarshal:f}),[g,p,I,m,l,f]);o.current=v;const y=ar(()=>{const j=sv(o);j.getState().phase!=="IDLE"&&j.dispatch(WW())},[]),x=ar(()=>{const j=sv(o).getState();return j.phase==="DROP_ANIMATING"?!0:j.phase==="IDLE"?!1:j.isDragging},[]),T=sn(()=>({isDragging:x,tryAbort:y}),[x,y]);r(T);const E=ar(j=>JRe(sv(o).getState(),j),[]),_=ar(()=>Xf(sv(o).getState()),[]),S=sn(()=>({marshal:I,focus:m,contextId:e,canLift:E,isMovementAllowed:_,dragHandleUsageInstructionsId:d,registry:C}),[e,I,d,m,E,_,C]);return fAt({contextId:e,store:v,registry:C,customSensors:n||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),D.useEffect(()=>y,[y]),Ue.createElement(UE.Provider,{value:S},Ue.createElement(zgt,{context:XW,store:v},t.children))}function pAt(){return Ue.useId()}function mAt(t){const e=pAt(),r=t.dragHandleUsageInstructions||zw.dragHandleUsageInstructions;return Ue.createElement(Ygt,null,n=>Ue.createElement(IAt,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Pie={dragging:5e3,dropAnimating:4500},vAt=(t,e)=>e?ty.drop(e.duration):t?ty.snap:ty.fluid,yAt=(t,e)=>{if(t)return e?Wy.opacity.drop:Wy.opacity.combining},xAt=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function bAt(t){const r=t.dimension.client,{offset:n,combineWith:i,dropping:s}=t,o=!!i,a=xAt(t),l=!!s,u=l?W7.drop(n,o):W7.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:vAt(a,s),transform:u,opacity:yAt(o,l),zIndex:l?Pie.dropAnimating:Pie.dragging,pointerEvents:"none"}}function wAt(t){return{transform:W7.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function SAt(t){return t.type==="DRAGGING"?bAt(t):wAt(t)}function EAt(t,e,r=Xs){const n=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=pRe(i,n),o=tS(s,r),a={client:s,tagName:e.tagName.toLowerCase(),display:n.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function _At(t){const e=QW("draggable"),{descriptor:r,registry:n,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=sn(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=ar(h=>{const A=i();return A||Tt(),EAt(r,A,h)},[r,i]),g=sn(()=>({uniqueId:e,descriptor:r,options:l,getDimension:u}),[r,u,l,e]),d=D.useRef(g),f=D.useRef(!0);Cl(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),Cl(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=g,n.draggable.update(g,h)},[g,n.draggable])}var eG=Ue.createContext(null);function aS(t){const e=D.useContext(t);return e||Tt(),e}function TAt(t){t.preventDefault()}const RAt=t=>{const e=D.useRef(null),r=ar((T=null)=>{e.current=T},[]),n=ar(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=aS(UE),{type:a,droppableId:l}=aS(eG),u=sn(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:g,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:A,isClone:C,mapped:I,dropAnimationFinished:p}=t;if(!C){const T=sn(()=>({descriptor:u,registry:o,getDraggableRef:n,canDragInteractiveElements:A,shouldRespectForcePress:h,isEnabled:f}),[u,o,n,A,h,f]);_At(T)}const m=sn(()=>f?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:TAt}:null,[i,s,d,f]),v=ar(T=>{I.type==="DRAGGING"&&I.dropping&&T.propertyName==="transform"&&ly.flushSync(p)},[p,I]),y=sn(()=>{const T=SAt(I),E=I.type==="DRAGGING"&&I.dropping?v:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:T,onTransitionEnd:E},dragHandleProps:m}},[i,m,d,I,v,r]),x=sn(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Ue.createElement(Ue.Fragment,null,g(y,I.snapshot,x))};var dNe=(t,e)=>t===e,hNe=t=>{const{combine:e,destination:r}=t;return r?r.droppableId:e?e.droppableId:null};const NAt=t=>t.combine?t.combine.draggableId:null,OAt=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function jAt(){const t=Ys((i,s)=>({x:i,y:s})),e=Ys((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),r=Ys((i,s,o,a,l=null,u=null,g=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:g,snapshot:e(s,a,l,u,null)}}));return(i,s)=>{if(Vy(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=Al(i.impact),u=OAt(i.impact),g=i.forceShouldAnimate;return r(t(o.x,o.y),i.movementMode,a,s.isClone,l,u,g)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],u=o.result,g=u.mode,d=hNe(u),f=NAt(u),A={duration:i.dropDuration,curve:VW.drop,moveTo:i.newHomeClientOffset,opacity:f?Wy.opacity.drop:null,scale:f?Wy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:A,draggingOver:d,combineWith:f,mode:g,forceShouldAnimate:null,snapshot:e(g,a,d,f,A)}}}return null}}function fNe(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const PAt={mapped:{type:"SECONDARY",offset:Xs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fNe(null)}};function kAt(){const t=Ys((o,a)=>({x:o,y:a})),e=Ys(fNe),r=Ys((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),n=o=>o?r(Xs,o,!0):null,i=(o,a,l,u)=>{const g=l.displaced.visible[o],d=!!(u.inVirtualList&&u.effected[o]),f=BE(l),h=f&&f.draggableId===o?a:null;if(!g){if(!d)return n(h);if(l.displaced.invisible[o])return null;const I=jm(u.displacedBy.point),p=t(I.x,I.y);return r(p,h,!0)}if(d)return n(h);const A=l.displacedBy.point,C=t(A.x,A.y);return r(C,h,g.shouldAnimate)};return(o,a)=>{if(Vy(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const DAt=()=>{const t=jAt(),e=kAt();return(n,i)=>t(n,i)||e(n,i)||PAt},FAt={dropAnimationFinished:VRe},LAt=IRe(DAt,FAt,null,{context:XW,areStatePropsEqual:dNe})(RAt);function ANe(t){return aS(eG).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ue.createElement(LAt,t)}function MAt(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return Ue.createElement(ANe,rS({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const CNe=t=>e=>t===e,BAt=CNe("scroll"),$At=CNe("auto"),kie=(t,e)=>e(t.overflowX)||e(t.overflowY),qAt=t=>{const e=window.getComputedStyle(t),r={overflowX:e.overflowX,overflowY:e.overflowY};return kie(r,BAt)||kie(r,$At)},zAt=()=>!1,INe=t=>t==null?null:t===document.body?zAt()?t:null:t===document.documentElement?null:qAt(t)?t:INe(t.parentElement);var H7=t=>({x:t.scrollLeft,y:t.scrollTop});const pNe=t=>t?window.getComputedStyle(t).position==="fixed"?!0:pNe(t.parentElement):!1;var UAt=t=>{const e=INe(t),r=pNe(t);return{closestScrollable:e,isFixedOnPage:r}},WAt=({descriptor:t,isEnabled:e,isCombineEnabled:r,isFixedOnPage:n,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:h}=a,A=ZRe({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:h,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:A,diff:{value:Xs,displacement:Xs}}}})(),u=i==="vertical"?BW:RRe,g=Hp({page:o,withPlaceholder:null,axis:u,frame:l});return{descriptor:t,isCombineEnabled:r,isFixedOnPage:n,axis:u,isEnabled:e,client:s,page:o,frame:l,subject:g}};const GAt=(t,e)=>{const r=mRe(t);if(!e||t!==e)return r;const n=r.paddingBox.top-e.scrollTop,i=r.paddingBox.left-e.scrollLeft,s=n+e.scrollHeight,o=i+e.scrollWidth,l=DW({top:n,right:o,bottom:s,left:i},r.border);return FW({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var VAt=({ref:t,descriptor:e,env:r,windowScroll:n,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=r.closestScrollable,u=GAt(t,l),g=tS(u,n),d=(()=>{if(!l)return null;const h=mRe(l),A={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:h,page:tS(h,n),scroll:H7(l),scrollSize:A,shouldClipSubject:a}})();return WAt({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:g,closest:d})};const HAt={passive:!1},KAt={passive:!0};var Die=t=>t.shouldPublishImmediately?HAt:KAt;const ow=t=>t&&t.env.closestScrollable||null;function YAt(t){const e=D.useRef(null),r=aS(UE),n=QW("droppable"),{registry:i,marshal:s}=r,o=sNe(t),a=sn(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=D.useRef(a),u=sn(()=>Ys((y,x)=>{e.current||Tt();const T={x:y,y:x};s.updateDroppableScroll(a.id,T)}),[a.id,s]),g=ar(()=>{const y=e.current;return!y||!y.env.closestScrollable?Xs:H7(y.env.closestScrollable)},[]),d=ar(()=>{const y=g();u(y.x,y.y)},[g,u]),f=sn(()=>$y(d),[d]),h=ar(()=>{const y=e.current,x=ow(y);if(y&&x||Tt(),y.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),A=ar((y,x)=>{e.current&&Tt();const T=o.current,E=T.getDroppableRef();E||Tt();const _=UAt(E),S={ref:E,descriptor:a,env:_,scrollOptions:x};e.current=S;const j=VAt({ref:E,descriptor:a,env:_,windowScroll:y,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),w=_.closestScrollable;return w&&(w.setAttribute(Rie.contextId,r.contextId),w.addEventListener("scroll",h,Die(S.scrollOptions))),j},[r.contextId,a,h,o]),C=ar(()=>{const y=e.current,x=ow(y);return y&&x||Tt(),H7(x)},[]),I=ar(()=>{const y=e.current;y||Tt();const x=ow(y);e.current=null,x&&(f.cancel(),x.removeAttribute(Rie.contextId),x.removeEventListener("scroll",h,Die(y.scrollOptions)))},[h,f]),p=ar(y=>{const x=e.current;x||Tt();const T=ow(x);T||Tt(),T.scrollTop+=y.y,T.scrollLeft+=y.x},[]),m=sn(()=>({getDimensionAndWatchScroll:A,getScrollWhileDragging:C,dragStopped:I,scroll:p}),[I,A,C,p]),v=sn(()=>({uniqueId:n,descriptor:a,callbacks:m}),[m,a,n]);Cl(()=>(l.current=v.descriptor,i.droppable.register(v),()=>{e.current&&I(),i.droppable.unregister(v)}),[m,a,I,v,s,i.droppable]),Cl(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Cl(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function XP(){}const Fie={width:0,height:0,margin:rdt},ZAt=({isAnimatingOpenOnMount:t,placeholder:e,animate:r})=>t||r==="close"?Fie:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},XAt=({isAnimatingOpenOnMount:t,placeholder:e,animate:r})=>{const n=ZAt({isAnimatingOpenOnMount:t,placeholder:e,animate:r});return{display:e.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?ty.placeholder:null}},QAt=t=>{const e=D.useRef(null),r=ar(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:n,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=D.useState(t.animate==="open");D.useEffect(()=>a?n!=="open"?(r(),l(!1),XP):e.current?XP:(e.current=setTimeout(()=>{e.current=null,l(!1)}),r):XP,[n,a,r]);const u=ar(d=>{d.propertyName==="height"&&(i(),n==="close"&&s())},[n,s,i]),g=XAt({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return Ue.createElement(t.placeholder.tagName,{style:g,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:t.innerRef})};var JAt=Ue.memo(QAt);class eCt extends Ue.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,r){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const tCt=t=>{const e=D.useContext(UE);e||Tt();const{contextId:r,isMovementAllowed:n}=e,i=D.useRef(null),s=D.useRef(null),{children:o,droppableId:a,type:l,mode:u,direction:g,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:A,useClone:C,updateViewportMaxScroll:I,getContainerForClone:p}=t,m=ar(()=>i.current,[]),v=ar((w=null)=>{i.current=w},[]);ar(()=>s.current,[]);const y=ar((w=null)=>{s.current=w},[]),x=ar(()=>{n()&&I({maxScroll:QRe()})},[n,I]);YAt({droppableId:a,type:l,mode:u,direction:g,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:m});const T=sn(()=>Ue.createElement(eCt,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:w,data:R,animate:N})=>Ue.createElement(JAt,{placeholder:R,onClose:w,innerRef:y,animate:N,contextId:r,onTransitionEnd:x})),[r,x,t.placeholder,t.shouldAnimatePlaceholder,y]),E=sn(()=>({innerRef:v,placeholder:T,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,T,v]),_=C?C.dragging.draggableId:null,S=sn(()=>({droppableId:a,type:l,isUsingCloneFor:_}),[a,_,l]);function j(){if(!C)return null;const{dragging:w,render:R}=C,N=Ue.createElement(ANe,{draggableId:w.draggableId,index:w.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(P,M)=>R(P,M,w));return dke.createPortal(N,p())}return Ue.createElement(eG.Provider,{value:S},o(E,A),j())};function rCt(){return document.body||Tt(),document.body}const Lie={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:rCt},mNe=t=>{let e={...t},r;for(r in Lie)t[r]===void 0&&(e={...e,[r]:Lie[r]});return e},QP=(t,e)=>t===e.droppable.type,Mie=(t,e)=>e.draggables[t.draggable.id],nCt=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},r=Ys(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),n=Ys((s,o,a,l,u,g)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===s){const A=g?{render:g,dragging:r(u.descriptor)}:null,C={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:A}}if(!o)return e;if(!l)return t;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(s,o)=>{const a=mNe(o),l=a.droppableId,u=a.type,g=!a.isDropDisabled,d=a.renderClone;if(Vy(s)){const f=s.critical;if(!QP(u,f))return e;const h=Mie(f,s.dimensions),A=Al(s.impact)===l;return n(l,g,A,A,h,d)}if(s.phase==="DROP_ANIMATING"){const f=s.completed;if(!QP(u,f.critical))return e;const h=Mie(f.critical,s.dimensions);return n(l,g,hNe(f.result)===l,Al(f.impact)===l,h,d)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const f=s.completed;if(!QP(u,f.critical))return e;const h=Al(f.impact)===l,A=!!(f.impact.at&&f.impact.at.type==="COMBINE"),C=f.critical.droppable.id===l;return h?A?t:e:C?t:e}return e}},iCt={updateViewportMaxScroll:fht},sCt=IRe(nCt,iCt,(t,e,r)=>({...mNe(r),...t,...e}),{context:XW,areStatePropsEqual:dNe})(tCt),oCt=({steps:t,loading:e,editable:r,onReorder:n,onEdit:i,onDelete:s})=>{const[o,a]=D.useState(!1),l=async d=>{if(!d.destination||d.source.index===d.destination.index)return;const f=Array.from(t),[h]=f.splice(d.source.index,1);f.splice(d.destination.index,0,h);const A=f.map((C,I)=>({...C,stepNumber:(I+1)*10}));try{a(!0),await n(A),Ee.success("Steps reordered successfully")}catch(C){Ee.error(C.message||"Failed to reorder steps")}finally{a(!1)}},u=[{title:"",key:"drag",width:40,align:"center",render:()=>c.jsx(Zke,{style:{cursor:r?"grab":"default",color:r?"#999":"#ccc"}})},{title:"Step #",dataIndex:"stepNumber",key:"stepNumber",width:80,align:"center",sorter:(d,f)=>d.stepNumber-f.stepNumber},{title:"Type",key:"stepType",width:120,render:(d,f)=>c.jsx(Be,{color:art[f.stepType],children:lrt[f.stepType]})},{title:"Operation",key:"operation",width:"20%",render:(d,f)=>{var h,A;return c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:((h=f.operation)==null?void 0:h.operationName)||"N/A"}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:((A=f.operation)==null?void 0:A.operationType)||""})]})}},{title:"Work Center",key:"workCenter",width:"15%",render:(d,f)=>{var h;return((h=f.workCenter)==null?void 0:h.name)||"Not Assigned"}},{title:"Setup",key:"setupTime",width:100,align:"right",render:(d,f)=>{var A;const h=f.setupTimeOverride??((A=f.operation)==null?void 0:A.setupTime)??0;return lA(h)}},{title:"Cycle",key:"cycleTime",width:100,align:"right",render:(d,f)=>{var A;const h=f.cycleTimeOverride??((A=f.operation)==null?void 0:A.duration)??0;return lA(h)}},{title:"Teardown",key:"teardownTime",width:100,align:"right",render:(d,f)=>{var A;const h=f.teardownTimeOverride??((A=f.operation)==null?void 0:A.teardownTime)??0;return lA(h)}},{title:"Flags",key:"flags",width:150,render:(d,f)=>c.jsxs(pe,{size:"small",wrap:!0,children:[f.isOptional&&c.jsx(Be,{color:"blue",children:"Optional"}),f.isQualityInspection&&c.jsx(Be,{color:"green",children:"QC"}),f.isCriticalPath&&c.jsx(Be,{color:"red",children:"Critical"}),f.controlType&&c.jsx(Be,{color:crt[f.controlType],children:urt[f.controlType]})]})},{title:"Notes",key:"notes",width:200,ellipsis:!0,render:(d,f)=>c.jsx(lt,{title:f.notes,children:f.notes||"-"})},{title:"Actions",key:"actions",width:100,fixed:"right",render:(d,f)=>c.jsx(pe,{size:"small",children:r&&c.jsxs(c.Fragment,{children:[c.jsx(lt,{title:"Edit",children:c.jsx(le,{type:"text",size:"small",icon:c.jsx(Pi,{}),onClick:()=>i(f)})}),c.jsx(lt,{title:"Delete",children:c.jsx(sa,{title:"Delete this step?",description:"This action cannot be undone.",onConfirm:()=>s(f.id),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:c.jsx(le,{type:"text",size:"small",danger:!0,icon:c.jsx(Xl,{}),"aria-label":"delete step"})})})]})})}],g=({index:d,record:f,children:h,...A})=>r?c.jsx(MAt,{draggableId:f.id,index:d,children:(C,I)=>c.jsx("tr",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,...A,style:{...C.draggableProps.style,...I.isDragging?{background:"#f0f5ff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}:{}},children:h})},f.id):c.jsx("tr",{...A,children:h});return c.jsx(mAt,{onDragEnd:l,children:c.jsx(sCt,{droppableId:"steps-table",direction:"vertical",children:d=>c.jsxs("div",{ref:d.innerRef,...d.droppableProps,children:[c.jsx(Jr,{columns:u,dataSource:t,rowKey:"id",loading:e||o,pagination:!1,scroll:{x:1500},bordered:!0,components:{body:{row:g}},onRow:(f,h)=>({index:h,record:f}),locale:{emptyText:'No steps defined. Click "Add Step" to create the first step.'}}),d.placeholder]})})})};/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function PC(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var aCt=`div.vis-network div.vis-manipulation {
  box-sizing: content-box;

  border-width: 0;
  border-bottom: 1px;
  border-style: solid;
  border-color: #d6d9d8;
  background: #ffffff; /* Old browsers */
  background: -moz-linear-gradient(
    top,
    #ffffff 0%,
    #fcfcfc 48%,
    #fafafa 50%,
    #fcfcfc 100%
  ); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #ffffff),
    color-stop(48%, #fcfcfc),
    color-stop(50%, #fafafa),
    color-stop(100%, #fcfcfc)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #ffffff 0%,
    #fcfcfc 48%,
    #fafafa 50%,
    #fcfcfc 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #ffffff 0%,
    #fcfcfc 48%,
    #fafafa 50%,
    #fcfcfc 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(
    top,
    #ffffff 0%,
    #fcfcfc 48%,
    #fafafa 50%,
    #fcfcfc 100%
  ); /* IE10+ */
  background: linear-gradient(
    to bottom,
    #ffffff 0%,
    #fcfcfc 48%,
    #fafafa 50%,
    #fcfcfc 100%
  ); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc',GradientType=0 ); /* IE6-9 */

  padding-top: 4px;
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 28px;
}

div.vis-network div.vis-edit-mode,
div.vis-network button.vis-edit-mode {
  position: absolute;
  left: 0;
  top: 5px;
  height: 30px;
}

/* FIXME: shouldn't the vis-close button be a child of the vis-manipulation div? */

div.vis-network button.vis-close {
  position: absolute;
  right: 0;
  top: 0;
  width: 30px;
  height: 30px;

  background-color: transparent;
  background-position: 20px 3px;
  background-repeat: no-repeat;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC');
  border: none;
  cursor: pointer;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

div.vis-network button.vis-close:hover {
  opacity: 0.6;
}

div.vis-network div.vis-manipulation button.vis-button,
div.vis-network div.vis-edit-mode button.vis-button {
  float: left;
  font-family: verdana;
  font-size: 12px;
  border: none;
  box-sizing: content-box;
  -moz-border-radius: 15px;
  border-radius: 15px;
  background-color: transparent;
  background-position: 0px 0px;
  background-repeat: no-repeat;
  height: 24px;
  margin-left: 10px;
  cursor: pointer;
  padding: 0px 8px 0px 8px;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

div.vis-network div.vis-manipulation button.vis-button:hover {
  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.2);
}

div.vis-network div.vis-manipulation button.vis-button:active {
  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.5);
}

div.vis-network div.vis-manipulation button.vis-button.vis-back {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC');
}

div.vis-network div.vis-manipulation div.vis-none:hover {
  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);
  cursor: default;
}
div.vis-network div.vis-manipulation div.vis-none:active {
  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);
}
div.vis-network div.vis-manipulation div.vis-none {
  padding: 0px;
  line-height: 23px;
}
div.vis-network div.vis-manipulation div.notification {
  margin: 2px;
  font-weight: bold;
}

div.vis-network div.vis-manipulation button.vis-button.vis-add {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==');
}

div.vis-network div.vis-manipulation button.vis-button.vis-edit,
div.vis-network div.vis-edit-mode button.vis-button.vis-edit {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==');
}

div.vis-network div.vis-edit-mode button.vis-button.vis-edit.vis-edit-mode {
  background-color: #fcfcfc;
  border: 1px solid #cccccc;
}

div.vis-network div.vis-manipulation button.vis-button.vis-connect {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==');
}

div.vis-network div.vis-manipulation button.vis-button.vis-delete {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=');
}
/* top right bottom left */
div.vis-network div.vis-manipulation div.vis-label,
div.vis-network div.vis-edit-mode div.vis-label {
  margin: 0 0 0 23px;
  line-height: 25px;
}
div.vis-network div.vis-manipulation div.vis-separator-line {
  float: left;
  display: inline-block;
  width: 1px;
  height: 21px;
  background-color: #bdbdbd;
  margin: 0px 7px 0 15px; /*top right bottom left*/
}

/* TODO: is this redundant?
div.network-navigation_wrapper {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
*/
`;PC(aCt);var lCt=`div.vis-network div.vis-navigation div.vis-button {
  width: 34px;
  height: 34px;
  -moz-border-radius: 17px;
  border-radius: 17px;
  position: absolute;
  display: inline-block;
  background-position: 2px 2px;
  background-repeat: no-repeat;
  cursor: pointer;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

div.vis-network div.vis-navigation div.vis-button:hover {
  box-shadow: 0 0 3px 3px rgba(56, 207, 21, 0.3);
}

div.vis-network div.vis-navigation div.vis-button:active {
  box-shadow: 0 0 1px 3px rgba(56, 207, 21, 0.95);
}

div.vis-network div.vis-navigation div.vis-button.vis-up {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABphJREFUeNqcV2twU9cR/nbPlVTHxpKRbNnBLyEbPyJisLEcPwgwUMKQtjNJAzNJZkgNNJOmJaZAaDKlxaXDTIBAcJtOOzSYKSkdiimhAdIMjyT4bYgBYxA2BgcUQPLrCiGDR4qt2x+yXTASFt1/957d7zt3z3d39xDCMQWUfgAz/RI/T4pSTAJpAGL8rECAXX7QFQGq9wOHOxYO1oCgjAdJj1wtB095Giv9TFuZAIWHAziATMPhTAwiHgUkYPXFJu92lMP/2MTpB1AKUCVEgNAcleUo1M+2F8TO6crSTncb1QleAOj2OTSX3Ge1p+Va42m5JrnzbnsCE8Ov+EHgpa0LPLvCJjZ/whuIlN8wAcXG+e1LUn9hm238QU84p1Ld83nsXvuO7Lq+LzKYGAT6/dn58m/HJTYf4O3EShkT8Irpzab1Uz9sGevT5+tWn+j6NB4A5hp/5NSr43xjfd5rW5tT9e3OAhCBiCua5/WsDEls/hdvYklZSwDefmrT8eXmtzuDkb5YZ33p9ndylICAVjWxf39xw/5g5Luv/9H84ZWNcwNEypZT87rXjqyJB85UYDMJYN3U7UdLJ6/6JlgqV517teRqf9uTlug8e1zEk27HgD22o98WsTBh8fWxvjm6ApdONbGvse8LM5NUPOm1Cfabuz3nACAgxX0QEFTJAnjNvLJ+Sepb14KRHnN+Ev+1XJOhZs3Qu1mbG97J2NQgsXroa1dtxrGuf8cHi1mUtPTay0lv1DMJSCRVLtoX+FgGgDQNysBAcez89l9nbbsQSji7rlXkEhjPxb/QatHOcFu0M9zz419oFSRhj/3PuaHiyqasv1Con9NGxHAYUsoCxAqImbYSgCWmFbZQwdsur7N0eC4m6tT6/jUZ750Zeb82c+OZGLWh/2p/W+Kfrmy0hIp/aVKpTSIJEqu2QgFx2iE8CwDp0RbH7Ljng/4yXr+XT3QdyhYsodS0slGr0g2OrEUK7eCrKW82SqzCVz3/yfb6vRwM4xn9rN7JkRkOQRLmfJn2LBPxQjDBqp9lD7XbX7X8pKTP160zR2bdeiX5jYeU/nLSTztNkem3XL5eXbltRUkonBxdgZ2IIUmahUxERQSCVT+rK5hzQ89xQ6P8VaaK1f5VmRvqQ4G+lba+nlnlb5brMhvlk7FBiaPzuwQEmEQhg5BOxMjWTncHc2501cQLkjDTsMCWpyuRQxFP0xXIJfp5FyVW4Zy7KajC06ItbiIGg6ZITBxDxIgbrr1jTSM0fibGIHz8O9sKK0GAibEua9spANh4aY2VmcEg+DEkiBgR/L2hYFgGtcErkQQAMVJgBxyy9hboZzv32v+Kpr7qbEECTAIMAoaJa3qPTmNiiAAgJAjk6J5xhu6HDAIgQYGLmI29PocmMcI8MNYvT1ckfzD9H/ub5br4e4Me9WfOKqtyX6Ud2cwC449PRamifDm6Auc0rTXokci+Xo1EAgBckiDuYGLjpTvntcGIA+SFcp6uUAaAI879VhWrRteYAqn/edq758brXJ1327QMhgJcZjA3EBjNrgZjOG1PkAjyTGENMjZPq5ECQ0MDE9ERBqFZrk0OJ3i4x/7vyIjBxGERt3takgVJEAp9xq3f769WiPDNvSsJdT3HDOEASPelmoBRYT3Kzt5uMtwauJEgSOCpwrk1DIJCoNUMwj9v7MweP9XSQ8/hJPp496fZTAICvLqcyv2B7nRbrgCA03JN5h8ub7A8VqpB437xHvsOy3l3cyaB4L2uqxhti1WLMcSgZQCw7+bOooO3Pk4JBZIYYXISMV5sKH59UePM10GESRGpIf/bE92HU452HywSJIGIllctrhp6YAK5+fHds0lLtJFMXNwkV6fFqA29mROefqiMJj1h6um4a5vY/92dKGaBxIhU5zJTWW2cJmEgGOmeb3c8FxAfb9mdf2RzyGGv5MvU7QwuEySwKHFp/c/M71zA/2F7b1RajnYdLAqMukMVu2YcfmDYE2MD7H+7/Xlq6cRIJqm4zXM+qd3TGjVBir43KSLlXjiELe5TsX+3/yW/ST45PaAHbKmccWh12AP93JNZywj0kSABIobpiXRHjtZ6faout2tyZMadGLXBCxBcvl6NfaAz+tKdFmObpzWl2+tIIBACYy0t/yj34M7HvsKUK+CGassvicX7alYDwwq+vykIEqPVa+Q9gdYk5+V+UE7lj3+FGbuBM/X5JUT8QwIVSSSZiTgmoFR2MfiqYFFPfjpkyrfWPopwxP47AP1pK1g9/dqeAAAAAElFTkSuQmCC');
  bottom: 50px;
  left: 55px;
}
div.vis-network div.vis-navigation div.vis-button.vis-down {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABpdJREFUeNqcV21QlNcVfp5zX9ikoAvLEsAIIgsoHwpqWAQUNKLNaNv8iZ1JMkNG6/Qj/dDUyCSTtCHpmEkwVk3TToZRMjXj5MOG2KidjIkxQYSAQUAtX6IgIN8su8KCoOzbH4sk4q5g77/33uee555z7rnneYmZDB2MKcJKlyYbqOsZVIgGEOgSHQoy4AKbFFjqAo5dWn/rNAh9OpO852oeJHYxtrmEu4WALhMbxG2ZE9uFAlImDRLY/t/y0b3Ig+u+iWOKsAlgIZSb0OIf15kWtKo1NXh1d5xxiSPEN2wUAHrGOg11jirjWVtJyFnb6YgrzoYwocClu0DI5guPDb43Y2LLp/Iaqf9JCGSErGvIifxd7aqQn/TOJCvFvZ8Hf9haEH+m/6sFQgHBv1Sts/15WmJLkeyl6FuFwFPzny1/ZdE7Nfg/xhv1uUmH2w6kggQp+yqze7d5JbZ8Im+KpucSwI6EN7/cYtlxZarBCts3ptfrtq9odjaGKihE+sV0vRC3u8RqWmmbij149W+Wd5p2rnET6bsqsntyb6+pO3KqkE8FvLxo74lNUX9s9uTJb8/9fG2L81KoogJFYfCm3b9usNq0MXxzw1RsUkDqQICPqf/b/q8sQi3j4WdmtV47OFgNAO6r+DEUFAtFAc9YtpXmRP6hxVsI24cvhyoqnFtrK6jM7isgBa3Dl0O94TeGb255MvzXpUIFjVrhxo/dzgoARBuwFQJkBK9reCnurxfvXX8CRW3yW1G749vT2Br7ysW0oNX1pKDTPG+rm1gHRbibAHLm/7522sKnQCZqFgCUaBCqaS/bEw9vqtWoQROf3dBBiT6KTACImZ3YueqhDdOWjDbFQ4IzIl4elNUX5begU1HD6lPRmULKeghhDcpqnUmZuD3+nkgTH6gZEE9ctlZSoGmG9UIynSCsQVndMyX+IZGiBoHMjHh2SreCglClaSBiSEG8cYnD24bv7CWms/3FocO3hnw13plTggAFb196NdlPM44tC0zrSg5ItXmyEz070UEKCMRqQgkkBQ9NvL2eSJ+revoJTORSpoT6do4/7/7UShBFHQexM+HdfyUHWO8iN/uaRzX3/QjUSLlnqM72F4cCRIY5u9Zf+Y+BAv4AvzpkQ7WAIBRujA/7Vg6cia9xlId6InafVEAAGnQMUCSkb6zTMPdBy8hU3JjrphIq+CrD+Mvxeyumrr+4IH9y7o2GF5eDghuuGx4L2zbWZ9Dc0RoQRbkkFNRdP2/0BH7EtLJLKCjr+zqh2l5u8haZ847vTBW24kRFQXKAtcsT5oqz3igQENIoECkjBJUDZSGewBlBj/ammjLrdX1c/t70ero34gMte9IByLLAjPrUwKweT5jawQshdIuGMiF5XEBU2koivBl9NeEfJeYHwuxtI81zPrn2z6ip60c6DkV1jLTOCTaE2HNjd5Z4s9MwWBOhqEHp/I9cWDtUrJNoHm4KO9P7hdnTBoMYXI8Gb6gVCg63FS53jg9O5tA57tSOdHywnCAygrJrfcTgUe5U2cvNHSPtYYoKCWlrTgsIneB2AfFR+4F4b6f9ZdTzF6P8Ytud407/dy/nL7k9X9i8J9l5y+Ef6RfbnjPvWa8N5suez+KFCgqyPY95Lnd3stv2AcBZ2+mFbze+lui1xc3dXCUUlPafXNx4/aKxcajWWNp/MklRw8/mPFntbd+h1oLE847KhQQxejVg36QQqD0MPTzHv42Ux+uGasJNBnPfwllJd71kkX7RQ3WDNf7dox3BLcNNs6vt34bbbvYHJhlTGp6O+JVHb0/2HJtX1PH+aqECqG/5YN1nlXcokGvvO6vCc4x+QskotxVHB/qa+xbOWuzw8NB3nuo+Ht0z2hHsuGU3GrWAoZfi3jrxgHpw3BPpobaCH7vbqOw6mHI836vYW3Eqcq9AtioqbJy7ufQ3lhfu8sR+s9+3vL8klACsQSu7AnxMY1MxH7YXJp7oPpLulrrj+9575Ni2aeVt1teWfEWfHQLCaspseHzOU7VWU+aM5G2NoyL4i+6j8XWDNQsmGsKu/cv+nTtjQb/mm7hfENyvqEAK5v8opjPJaL26KGBpd5TfguuBvuZRgBgY6zO0jlyZXXe9JqR+8MK8ntHOMHfHIkhu2b/0yIH7/oXJ0yFlxYnPUdRbvuILgO7+y+91l6Ka6M+cnCf4fMSypXvymHf/vzBTD3CuNGUFKT8lmK5Rs5ASqKiBlAGBXFaiSuni0fkp1pJ7Ed4e/xsAqLk46EWsG1EAAAAASUVORK5CYII=');
  bottom: 10px;
  left: 55px;
}
div.vis-network div.vis-navigation div.vis-button.vis-left {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABt5JREFUeNqsl2lUlOcVx//3Pi9DZRsGBgYiS2RYBQKIjAhEJW4pNrXNMbZpWtTGNkttYmJMG5soSZckRk+0p+dYPYY0Gk0ihlhRj63GhVUgBhDD5oIOy8AAMwzD4lCYtx+GqCQKuNyP7/Pc+3u2+7/3JUzEZFBYLh62S7yIZDmVBEIBqOwsQ4DNdtBFASq2A4cuZAwVgCCPF5LGHM0Chz+E1XamzUyAzCMO7IhMI+5MDCK+HpCANd+U2rYgC/Y7BoflYgVA2RAOoNYtyjDTe45+hk96e5QywaJR+NsAwDhocK61VCjLTYWaclNB0OW+en8mhl22g8C/rn7U+uGEwdov+C0i+Q0mIFWzoD7zwVU1czQ/6pjIreR3HPX5VL9jalHXiQgmBoH+XLHAtH5csDaXtxDLLzIBv5jyfOmG2H9U4S7snbpX43KaPpgBIhDx1rPzOlbfPC5GQT/nd1mS1zABa6PfPf5y5F/rcJeWpp7fPkly6f7KXBRCoOSATFfXll19x74HDsvFCghsJAG8HrvlvytCXm7EPVqc5wyzp5NX15muE1omKXXyMnd9yy5r5Q3wPghvJzrLAlimXV38+7D1DbhPFq1M6O4b6rPVWKsCBfHi5EWWv9TkQBYAEPpLvERMC9N8FtRvjt9dPl6wwo5jPvuas7WV5jNqEjz8wA+CBsaan+w9x1hrrXJtuaZX97ooLfqPLCUEGRR+iOwAsF2X98Uc30W3fb02u41frVqeVmo6FUkkwCAwCWxJ2Ls/0TPFNBb8TNdp9WvnVz4OAKdmX2QOzcMsAAjziDGMBd3asCF6SXHyknJTfqQTK+zpvhnVKT5zawCgzFTgN94pJXvP7gxxjTAIkpB+MnSWRMQZYEDnPVt/K4ejbZ/77726Lb6h95tAAiPELaJ1bcTbRfGeM8xv1azWSeyEa0P9igk+Nr1+oNFfkpwzJCJKIQA679ntN08yDXYo3qh+LuUrc0E4EcNL4dP7VNDzpU8FP3vpekoQQ5CEw4bPdEfa9+sAgEZUmkmAAAS5hLQ9p11XGO+pM8V5JLUfMeQARDMlEMKIGFOVCZYb0C7Fz0oeXmIZ6nZzYoV9od/jVS+GbahUOnn9b7T6sEOviUGyA8bMDlUa0W79wBW/bZf+lrY98cDBUI8YCxGDgHCJiVVEDN8R7QWAE8Z/+1mGut2i3eP1r0S+XRztkdBzq6NbF7WpbF3UprKxjvfHxbrfttla/QBArVDbJJIAQCURMRg8ugrKIAKBSNxzHtN3VdmxY0iQYSZmTeegwTlgknYAAB7RZBh2Nm7urbeeC1r19ROT52kWn3shfH2Fu1AO3RxjY/0fdac7/hPPJMDE11GC+HpBJmIEuAS3Oa6w01lybMbMgvgCE6O255zy24DeCr/Bvckn9+u8ZjXYIYvjxoMJy8oeXZrT9GHIqMWTwA2oI6cFMeDIcAiSEOyibXsmZG0hAFzuq1OyY6xBAnMJgdPOmks08zU/bbsB9x18P37PqS/b8+o/a96ZcLm3PmBH46Z5x40HW1eFvl4Uq0w0MwiCBOb7/qTsd6GvVY537DXWas1Iw1AiNJnOgwJi+bXhAbE08OnvaXSIW0TvYw88eaF/uM/WNdju3m5r9TlhPBzVNNDoPGC/5tRma/GJ80xqjPPUjVuvP2narrMOWd1Jlv/E1fN782UiNPZf9C/qOKa+ndOz2j+cz046sn+6KrVOsODirpOxld0lUxmEBK/ktvGgFd2l6taBZn9BAtEz5xYIvAn4/8rFKkgstAyZ6Yf+S67ezlkiSU73XXRV6xqh93TyssR4JF75efBvymLdE03jgT/Wb5tutLWpGbTm7wHZxQQAT+yDuKLyHRIk4cnAZ4pfCF9/HvfR9uh3xBxtz00BANsVDylnac6wAICaHMiBmW5NRLy4trcq0MtZ3RnpHme5H9AvjYeCc1t3pzMJgOSVnyw4eHZUB9Kyu68iMFPpysSppab8UJVC3Rnp/pDlXqF7mnYsdKQbv7cr6fDGW/Zczbt6jgUtV6kIlFxuyg/tH+6zJXmlGe8G+mlzdsyB1j3pTAwZ9q3/Sspbc9tmDwD0H3UffXCFlyuTlFpnPRdYb612c5c8+idPCu6fCLDKUubzsf6fSaWm0wmO9hbvZU8fDR2zoZ97OuppAu0UJEDEmOISZohT6q7Gek5rD3GN6FEp1DaAYB7sdNYPXPao7anS1Fmrg402g7+jYhGIaOXOaQc+uONfmCwZXJIf8xKx2KRgxYgOS+CROuyoyQKCxIhkOr4T6JWgxGnvZ1HWnf/CfHcBXxcnpRHxYwRKkUjSErFKkAQiNjP4kmBRTHbKm5KkKxwL+K39fwDX1XGF8ct++QAAAABJRU5ErkJggg==');
  bottom: 10px;
  left: 15px;
}
div.vis-network div.vis-navigation div.vis-button.vis-right {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABs1JREFUeNqsl3tQlOcVxp9z3m+XygK7C4sLxkW5o4CAkYssFSkRjabjJEOSJm1IbZx2krapiZdeprW0NVVJ0pqMM0kYJQlqkoZImGioE1ItiCAgIsFwE4Es99vCslwChf36xy5EW1A0Pn9+73fO772e93kJC5EMCszFd20SbyFZNpJAAACtjWUI8KAN1CRAJTbg9LXNU+dBkG+Xkm7Zmg4OWoUdNqZXmQCZHQFsz0yOcCYGEc8mJGDnl2UTh5AO2x2DA3OxDaAsCDvQ32VF11qP9aZYz6SeFeooi17pPQEAvZNdTnWWKnWFuVhfYT7v0zza4M3EsMk2EPgnNZusby8Y7P8x/5lI/gMTYNSnNKQt/0Xtev1DfQtZlaK+M54fmDJXXhg4G8zEINBfqlLMe28L9s/lQ8Tyr5iAJ32fK/tj+OFq3IUO1O+JyGk7GgsiEPFrlQ/07bixXdwEPckHWZJ3MgG7Qw9+/mLIS/W4SyXoNvQskpyHLg1e8CNQ3NI0laoje7Tg/8CBudgGgQwSwO/DD322ze/FFnxLRWhiBzUK94GLA2f9mSTjfU+7mjqyrVe+AX8I4aGgShbA0/47Sn4ZuLcR90ih6qih0anRiVprtUEQb43bYtlXmwNZAEDAj/ACMW1M8ExpeDXyWMVCEl4yF7vntR/zLeov8JJlWfZR+Y3N92+cx/reOmu1quNrk27EWW0xvWspJcigoNNkA4C3Yk59vH7xltvu3ktDxe7PX34ilQCQfeci1j2xfn94ZrGCneY8uxcHCnW/vbr9EQD4d2ITc8AprAOAQLewroVAAaB8oMiLiRHvmVy7znNTjWCFrXKoJOSHFQ+kvnF9f+jco07s91MFdwmSkHQuYB0T8WYwIcYj0bTQdRufGlFKJMFVaCb/GvZW6aGI4yeXOwd2mr/u05zsyDY+W5X64Nm+fO85NpuJiCFJTpslIoonADEeiT2zIzIXuh+o25PQNtbsNVMOBUn2g08MiSTHN3uZjNTEDr4dnX/6H+1H/XPasmKvW+sMGfW/MXzende4K3h/ibvSYxIAItyie/K7cgCitQxCIBFjpTrKMgM+WPfrhLbxFi9iMQtlYjAJSCSBSYBAIPBNI3p86TPXj8bk56R4PVylFE626uFLQc9efiTVPDmgBIAAtzALEYNBQRITa4kYix21FwBax655CVagPLk7806Pj1qo/7MraF/FQ14/aMhszYhvGqn3KTef89rklWrSKXUTkn3mtJK9Bzf3XJA0e/PcrdgxIwSCDPmbZMQgABJkDBKzvn+yy2npIv9xAPB1Ceo2jTZ7Gc8afipIgEhAkACDwcSQQZBIIGnx5it7gg+U3wgcnbZKR1r+FnW+v2DVtDwtXCXNSKz797oAwDzZ7ySRAIBBFsTXmBh1w1+oZ4J3h+wv9lUFdbMDOrO+5IAqWIGZthuV13nC77nKRx8r7PssyibLIkoT1/h65HsfzWyu5tF6NYNB4EYJzKUETqgcLNVv0D/cDQBrNAnm9+LOfTLfNB5u2hf5z+6TMexYji+tVdrM5leMbWOtSwQx/F1C2rcuebIqwSO568a4WmuN3mEYSiUi+pRl2l1pLvYBsKArUKVwnZRYgdHpMWVG4+/WXhwoDBXE7OmkHzJ6JNemLfv51bniGqzVPoIkyLbpfK7ZMFIkE6FlrMn7Ql+BbiHg+zXGbgLjylDpyosD58KZmKM0cfWHI9//aD5o1VCZrnO83VuQQOja5PMCfwK8n3K2ChIbLVOD9KB36le3A+u/s2Q81C2yRavQmQNdVnamLnmq4nHD9jpB0rwm77jpjTW9E906Bu18fWlWCQHAox9CtGoXTwmS8IThZyXPB+29inuoE6bMsDM9ufEAMNHqJuU8ljMtAKA2B7IhzaWNiLfWjVQb3J10/SGuEZZ7Af1X7+lluZ3HkpgEQPL291M+qbzJgXQcG60ypKlVTGwsMxcFaJW6/hDXVZZvCz3RlrmRiQHwy9nRn2bM6bnas4cLfH6s1RIorsJcFDA2PToR7Z7QezfQD9qzwvI6TyTZC47ttXeiT+2c1+wBgOndoTPLt7mrmCRjvfULQ4O1xsVVchu7b9GysYUAqy3lnsdNb0aXmQuj7PYWL2etuRl6S0OfXLjiGQIdEY6K5esc2BWhjvkqXLO6x08VPKxV6iYAwuBkv5NpvNmtbrhaX2+tWdY70eVNINhtLW0/sjrv6B0/YdJlcGlR2AvE4hUlKwHQ7BU5cz8LRx0HaPY7gXb53L/67+mUfudPmP/twOWS6AQi/j6B4iWS/IlYK+yGYJDB1wWLErLRKd/omOJbAWf03wEAyO9m+/TtS3AAAAAASUVORK5CYII=');
  bottom: 10px;
  left: 95px;
}
div.vis-network div.vis-navigation div.vis-button.vis-zoomIn {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABiBJREFUeNqkV2tQlOcVfp7zvgvDRe66y8htXUBR1GoFI+BtFJvRtjPJBGeaH2a8DGmbttgSTWbSJEw6TWOsrbbpTIeJZGqaTipTa6LJZDTVUTYQdNAohoso6qLucnERN0Axcb/8+HaJUHDX9Pz6vnnPe57vXJ5zzkeEIwaYcwBL/VrW0TCKqZANINEvBhSk3w9eUmC9HzjcsfarOhBGKJN84GkVJHcetvqFu4SAIYELYlpm4LpQQMqoQQKVnzeO7EYV/A8NnHMAGwHWQJmAjtg895LkFa7FU1d258UvGLBGpI4AQM9dd2TrwNn4016n9bS3LqNzsD1VKPAbfhCyqflR31thAzv+La+QxotCoNi6pn1D1s9aVli/3xtOVk72fjT1XVf17E9uHZspFBD8zdk13pdCAjsOyG6KUSEEnrT/tPHluW+cw7eQ19q2z6/t2rsYJEjZ07S6d+ukwI5/yQ7RxnYC2DZnx8dbHNs6xxs85T2R9GprZcmVwYs2BYWsmBzP83m7nIVJS73jdfdd+7PjjUu/XWUCGTtPre7ZHjxTY3Kq8DoV8Ou5u49snPGrKxN58syZ9aVXBztsigoUBd+Xt2NbfZ8llaVvah+vOz9hcX+CJenWp7eOOYS6ePpTU1w39vk+AwCzFPdDQbFGFPCUY2v9hqxfXJ0shNeHLtsUFc6UequbVvdVkwLX0GXbZPpl6Zuu/ij9x/VCBU1dU7bfdFYAIDsSFRCgeOqa9hfy/nDhwfwTKOrRd0U95n0iqch9+cKS5JVtpMCdkllhAhugCHcRwAb7z1tCEp8CCXAWAJRoCFXIYnti+sYWTQ0tll0wQMk+hGUAkBOX714xbV1IyuhxHhIMC/iR5OV9M2JmuhU1Vh7PXiakrIUQhcnLXeHQxPT4GyAtFqgwgAPF5iIFWkeu1SSLCKAweXn3/ZR5rXV7SddQpy3YDoNems9qTI5hGCitm1MOAAx0aaFCerTd84zjBed3Egq9ADA/rqD7Q3ctQC4REDmkYHb8goGgsR2tz5V0DV+xUdQoqAQ81RybU4IgFWgACgpaLLCIBUo0bv63y/aXy6+WBHWz4/IHSIGAuVooiaRgWqD3AsDVoQ6bEgtOrfJUhwrf0WUtk+r8sL6wvHvk5ijVUiJSRrQZuURtfoGMuaCoRyfP/yMy0XykgAA0DPRTxNp31x2ZFuUYBgB7bK7HNdhpKz6WXq6oQCooKghMKhkgji77vBoA1jkXlAvVfRQjFMUcmxSkRWd6gpjeu32R2kxTvyhKh1DQeud8fFBh26zfOe0xuR4JgAbzywCoRSzfeDUKatJKUQK+CjKiHZ6nZ2xzBnU7B9vixTy7qCHSQEhJU3+DtdT6mAcAFiWUeP/xyPH3Jwrfo3XzysemRcEA8F5RY8h6aPE1WwMLQ4OQ/EBANHmdGWHlzZyxk3ayB0m771yGooYy+KE0l35x0iBxZehS6ie9R1PCMaDvCzWDXA4hZ283ptwcvp6qqDBnyao6AWEQrBQQ/7y+d3YoA+NBTAaElo973p8tVFCQyipW+c3pdNu7BwBOe+tm/eniK/kPFWowpMfvuKrzzw80zSKIkWsJe0bHYu163BNwMwDsv7G36ODNtzMnM5IWZfeQgscbisvLPl1aDhLTo7I8k+n/p+dw5pGeg0WKGiS31K6vvTdmA7nx9uDZ9A3xMUIpbvSezE6MSOmbNWXewHhD6dH23o7BlqQvvrwTK6KQFpXl2WyvcE6LTB2eCPSdrurvmcUnO/cVfPD6pMteyfGs3QKpUFQoS9tU/xPH8xe+Tdd693pN/pHug0Xmqntvz1uLDo9Z9v5nnrn+dvujrI1JMUJd3OY7n97ua46douOGpkdlDoUDeG7g1NS/u/5a0Og9scCsB+ysWXSoMuyFftWJvM0E31SBjmWPznHPjy+8NjdhYfeMmJl3EiNSRgCi/25fpGu4M671zjlrm685s2fEnUoQ5lrLLW8uPLj3oX9hqgxIw8n8X1LU7yMkItCHzREZrGQV6ONmy5TggHk247sL/1jFqof/hRn/AWfqC0pI+QHBIk3tICXRrFTpF8hlJaqefh6yFxQ6HwQYlK8HAKyt3WsWxl7fAAAAAElFTkSuQmCC');
  bottom: 10px;
  right: 15px;
}
div.vis-network div.vis-navigation div.vis-button.vis-zoomOut {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABV5JREFUeNq0l2tQVVUYht/3W/vACMr16IFRQDiAgChpgiikMqY1WjnN9KsfGOXYTOVgkvbDUsZuXrK0qZmGUSvNspjI8TZOmo6AGBoZYly8YB6Qw80DBwQ6jJ3dj30OZZmiwvtv77XW96y91l7v9y1iMNLBuCI84tZkIXU9gwqxAILdokNBOtzgJQWWuYEDFxfcLAGh3y0k79iaD4mfjOVu4WYhoItngBiR6RkuFJAyEJBA3m/lri3Ih/uewXFFyAG4A8oAWkcm2meEzrFNH53Vkhg4xWnxCXcBQGu/3bfGeTbwjKPUcsZRElnfUxcuFLh1Nwh5vurx7s8GDbZ+L+tI/U0hkGGZX5c9/pXqOZYn2gazK8Vth0fvsRUknbx+bIJQQPCts/Mda+4KthbJFoqeKwSejX6pfO2kjytxH1pfuyqlsGH7dJAgZWvFo23L/9muboF+JxtE0/OEwMqJG46uSHinFvepTPO8lhGaX+fPHSdjCKaPy/b3v7az58h/wHFFyIHCRirgjUlbfsiJWXEFD6iUoOkdQaaQ6z9dP2YVahljF4+yXdvZ/evf4G+hQk2sEAUsti4vWxa35gKGSBMDp3T23OxxVXdXRijKovSFzrerC6ELAMT6IhcCZIyeX7c68YPzGGLlxq89PyM0q5YU2M1RuQAg0EERbiaA7Ohl1RgmPTM2p1qjBk1Mm6GDErsfswAgLiDZPmfMwrbhAqeHzm6P8Z9gV9SQdTx2lpCyAEKkhc62YZiVEjTdRgo0zXeBRnImAaSFzm7xdjjtOBGyvmZVZkNvfZjXDhU14+BToFEDKRAQpAJ0HRTjP6XHpYUKEX7RzS9bV5c+FJTmAICUgNSWQ/ZCgJwhIOJIQVLgFKcXvKHm9cyGvithFDUAFQqECho1CBUIggYapAJ1QEFBExNMYoISDU1/NIR9cvndTG/c2IBkp2fC8ZpQgknBGI/3AsDvvRfDlJhwem5zwYMs7VNlaUtbXE1h3mezj9mlGSsXrBkzkFsGKGoDmedBJLfLjxQQgAYdHRSxtPfbfceNsPYBQPTI+GZbT31YxrGIpYoKpIKigkAgFOggNBrbQBBCBaEM2L+iGGmTgnF+Uc1epqO/3VejAoAOUZSLQkFN17lAb4eVCe+VRvvHN4sH6t1feqAmMUGoPHvvhdLzTjzfKoj0sza/GLOy1Bu3vqc20Pgl5YIGkVOEZFZ0nLLMszzdDADTgjIdX6Uf3zfUx6m6u8riKRhOCcmDAqLCURo53Oe4rrsyUlGD0nlIqubdKNZJXOm9FH6y7Yh5uKBnO8vNTX2N4YoKE2fMLREQOsE8AfFN4/ak4QIfbd2XJFRQkLx85ruN7NTp2AoAZxwlCR9dWJc81NDdtoLkc86KBIJwXQ3aOpCPqwuhR2SPbCBlUc2NyogQX3N7wqgU51BAf2w9EFXUtCtLqADqS76ev6/ilgrk2q6esxHZgf5CySh3FMcG+5jbE0ZNdj4odHdDwWPGcZNNO1MPbrxtzdW4s+tI5HPBwQTTzziKY3v/7HGlhmS23g90T+OO5L1Nu7MMw3Fv/Tx1f97/FnsAYPui8/D4nBB/oZZR230uoq67auQoLaB37Iio3sEAK52nR39p+zS13HFiilHeYtOOabdC71jQzz2R+ALBbcrjWNF+cfaUwLSrk4KmtsT4T+gK9jG7AKKjv93X1lcfUNNVaantropqddnDCcIoa7lk29S92+/5CpOvQ04VJ79KUe/7iI/Hh40U6c3PyuPjhmWKN8G8Fvnw1A/zmX/vV5h/T+CXstRMUp4kOFOjZiUlWBkFQYdALitRZXRzf3RqWumdgF79NQDBOa2V/iYSHAAAAABJRU5ErkJggg==');
  bottom: 10px;
  right: 55px;
}
div.vis-network div.vis-navigation div.vis-button.vis-zoomExtends {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABptJREFUeNqsl21QlNcVx///cx9hIipuAJHasgHlRdw0xay7yK7smg6sb2DSdtqZduLUNENmOk1tQuM4U7UzTvshSRlFZzoNCWSSSTJp+6VNkLCAeQHBoCCgqNBE0wUqL+KuwIiiZZ9+eHa3aAS3Sf8zO8/L3nt+95x7z7n3YWlpKUQEJAEgch9+Jola9xEC2ADBVgAOKqwCYAqKDgUJBIHPBWwFWQNdbyZFBwAC0GGIAHQSj3/8HHRdhzYbdDfwg4IjAsGvICgXAroYBiCEDkBBACBZoyST4gDwQqh7mQ4cEkhQD0EBIIggRMQAh2EiEvEYAGrdR3YSqIYCIEDaotVDeYnu/ryEjSOr43PHl8WmTBPA6PRQ7IWJrvhT/ubkU/7m1EvX+1KEUh7Ug+WkPEXgdUSkR+xrd0NJ4qjr8AEI9pGAI7mo78mHfnF+Y/K2K7iHUheuvJG6cOUNz/LvDwPobrpSl/Ruf2VOy9UPs4RSTSANwH4Y449EVdnt9ojHIeghCHYLgR+n/7zt4Np32tIWZU4hSpnjVk1t/caPfOO3/f++MNH5TVJcisoEoo4ksgbsXwYfdR1+kQplQuCFNS82Pp/9+158RTkTC0ce0OKutQeOp5PME0qcUBqyBmwGOC8vz4AWVOyE4CUqYO/Dh+p3pj//Bb6mHllqCyxd8ODVT69+uFKoOYTSnzFg7SJpzHFNQYWiQrUIsCN9V+uOh375zz179pSGI1FSUuK12+2+aGDt7e3muro6T/h57969lZdvDrT+ZbA6n0B1nfPVN7e0PjMjIgIIdkEAR1JR329yDvaE0+l/hQKA1Wr1bd682SsikUW7K+O3PesTNvaSAiXaLhGBvO86RFEoJ4Adac+eDxsgiZKSEm9NTY3n5MmT5mjBHR0d5vr6es+mTZu8SqnI+x+s+Ol5jRo0auX1jtepQaEAADKWWIbcy7ZGUmb79u1eu93uI+mtra31HLj5TGDs9rBJICCNn1GRCKGCUJAUuzzw6CfbTB6Px7t27VofAG/YXl6Ceyw9LmvIN3UxZUafKRACWyCELcHVP3vk4fDabDZf+2N/D9g+fsLEEFSooFGDogZNFkBRgSCsTcWm066jgRAU4et/F5u9nxRosmCLRmE+QdgSXCNzhW/s9rDJ63wVJx77V+V8YS6UNaW8BdOcqzx+3Ujt0F8Bcr1GMIMU5CzJHZ+rg6IGCYV2PimoyIK6lzIWrxkPTVGmRoqJFCyLTZmeq4MB5f3BVADnbpcQkzStUQMAk0YKBPfzxlhA95NQQe43QBotBECAFFyZHo6dz6CKCizAPFPivzUWqxm2AqIgnwkFvZNn4uczGK3Hah7wpet98UZ85R8aKScIcXYEWpMLkx8fvleHpNjlAWtTsakQa0pVKGcJQqMGUqCHBvfdjp/gTP6xwFzg85PdyaH2J4SUowKiw3889e4KBACnT582W5uKTV2uusAdUFlgzBcFQoFGDT35HwW+82mhqaenxwwA4WtYfRNnUkMZUqsJpEkn8cXU5yktYw2JjsTCMQDwer0ekt6GhgZPUVGRd3fu7qjqdU9Mj7mlpcVD0tvS0uKxWCyVANB5rS3x8s3BFEUFgTTLtuZndQHLBMSfB6pyZtfqMDQ3NzfqTcJisficTqc3BI+8bxh9L8corarM3fnDoIT+rACAU/7m7MOfHbCEwQDQ2Njo6erqinqTOHfuXNjjiI23+ystZ8c7smmkWgVJcN++fRARfLDhlacEUqVEQ1nm77xPrHjSh/+Djo3WmN/s/6OHEOgIPr2h63tVuq5Dud1ukETWoK3zorkzTiiONn/TKlNM4lj24m+Pf13o2wOVHqGA5MsAXjKPrDaqnMvlQnjTzhy0Nlw0d5oI5p3yN62amrk+ve5B5+hXgb47WGX52+V3NgoFOvQKAGUkkTqcbZy5XC7XHYf4zEFr3aXU7jih5uidPPOtvsmzixZr8VMrHjBHddLsHj+Z9Fb/n9a1+T/JDaXey0IpEzEKkHnU8Jj79++PeEwSSimQRGP+Gz8j5DVFBVKQtjBj6JGlNt/D8Y+OpMdlTphiEqcB4tqtsVjfjUtLLkx0J/dOnjWPTg+lEARIEHwaQJVQIYggACC/qxi6rn8ZHL4XETSsf0MU1HOk/CFGYgAwskUqY5eBitRxzn7/a0V1EEBwdqkN6jPI7y4xPmHmC5unbWdQRMqP2d86qANOksU6gvmArNQRNClqABnQgYuK0krI+wCOAyH3DK/vqOXhaf3PAO7mIRjDNV25AAAAAElFTkSuQmCC');
  bottom: 50px;
  right: 15px;
}
`;PC(lCt);var cCt=`.vis-overlay {
  position: absolute;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;PC(cCt);var uCt=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;PC(uCt);var gCt=`div.vis-color-picker {
  position: absolute;
  top: 0px;
  left: 30px;
  margin-top: -140px;
  margin-left: 30px;
  width: 310px;
  height: 444px;
  z-index: 1;
  padding: 10px;
  border-radius: 15px;
  background-color: #ffffff;
  display: none;
  box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 0px;
}

div.vis-color-picker div.vis-arrow {
  position: absolute;
  top: 147px;
  left: 5px;
}

div.vis-color-picker div.vis-arrow::after,
div.vis-color-picker div.vis-arrow::before {
  right: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

div.vis-color-picker div.vis-arrow:after {
  border-color: rgba(255, 255, 255, 0);
  border-right-color: #ffffff;
  border-width: 30px;
  margin-top: -30px;
}

div.vis-color-picker div.vis-color {
  position: absolute;
  width: 289px;
  height: 289px;
  cursor: pointer;
}

div.vis-color-picker div.vis-brightness {
  position: absolute;
  top: 313px;
}

div.vis-color-picker div.vis-opacity {
  position: absolute;
  top: 350px;
}

div.vis-color-picker div.vis-selector {
  position: absolute;
  top: 137px;
  left: 137px;
  width: 15px;
  height: 15px;
  border-radius: 15px;
  border: 1px solid #ffffff;
  background: #4c4c4c; /* Old browsers */
  background: -moz-linear-gradient(
    top,
    #4c4c4c 0%,
    #595959 12%,
    #666666 25%,
    #474747 39%,
    #2c2c2c 50%,
    #000000 51%,
    #111111 60%,
    #2b2b2b 76%,
    #1c1c1c 91%,
    #131313 100%
  ); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #4c4c4c),
    color-stop(12%, #595959),
    color-stop(25%, #666666),
    color-stop(39%, #474747),
    color-stop(50%, #2c2c2c),
    color-stop(51%, #000000),
    color-stop(60%, #111111),
    color-stop(76%, #2b2b2b),
    color-stop(91%, #1c1c1c),
    color-stop(100%, #131313)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #4c4c4c 0%,
    #595959 12%,
    #666666 25%,
    #474747 39%,
    #2c2c2c 50%,
    #000000 51%,
    #111111 60%,
    #2b2b2b 76%,
    #1c1c1c 91%,
    #131313 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #4c4c4c 0%,
    #595959 12%,
    #666666 25%,
    #474747 39%,
    #2c2c2c 50%,
    #000000 51%,
    #111111 60%,
    #2b2b2b 76%,
    #1c1c1c 91%,
    #131313 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(
    top,
    #4c4c4c 0%,
    #595959 12%,
    #666666 25%,
    #474747 39%,
    #2c2c2c 50%,
    #000000 51%,
    #111111 60%,
    #2b2b2b 76%,
    #1c1c1c 91%,
    #131313 100%
  ); /* IE10+ */
  background: linear-gradient(
    to bottom,
    #4c4c4c 0%,
    #595959 12%,
    #666666 25%,
    #474747 39%,
    #2c2c2c 50%,
    #000000 51%,
    #111111 60%,
    #2b2b2b 76%,
    #1c1c1c 91%,
    #131313 100%
  ); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=0 ); /* IE6-9 */
}

div.vis-color-picker div.vis-new-color {
  position: absolute;
  width: 140px;
  height: 20px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  top: 380px;
  left: 159px;
  text-align: right;
  padding-right: 2px;
  font-size: 10px;
  color: rgba(0, 0, 0, 0.4);
  vertical-align: middle;
  line-height: 20px;
}

div.vis-color-picker div.vis-initial-color {
  position: absolute;
  width: 140px;
  height: 20px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  top: 380px;
  left: 10px;
  text-align: left;
  padding-left: 2px;
  font-size: 10px;
  color: rgba(0, 0, 0, 0.4);
  vertical-align: middle;
  line-height: 20px;
}

div.vis-color-picker div.vis-label {
  position: absolute;
  width: 300px;
  left: 10px;
}

div.vis-color-picker div.vis-label.vis-brightness {
  top: 300px;
}

div.vis-color-picker div.vis-label.vis-opacity {
  top: 338px;
}

div.vis-color-picker div.vis-button {
  position: absolute;
  width: 68px;
  height: 25px;
  border-radius: 10px;
  vertical-align: middle;
  text-align: center;
  line-height: 25px;
  top: 410px;
  border: 2px solid #d9d9d9;
  background-color: #f7f7f7;
  cursor: pointer;
}

div.vis-color-picker div.vis-button.vis-cancel {
  /*border:2px solid #ff4e33;*/
  /*background-color: #ff7761;*/
  left: 5px;
}
div.vis-color-picker div.vis-button.vis-load {
  /*border:2px solid #a153e6;*/
  /*background-color: #cb8dff;*/
  left: 82px;
}
div.vis-color-picker div.vis-button.vis-apply {
  /*border:2px solid #4588e6;*/
  /*background-color: #82b6ff;*/
  left: 159px;
}
div.vis-color-picker div.vis-button.vis-save {
  /*border:2px solid #45e655;*/
  /*background-color: #6dff7c;*/
  left: 236px;
}

div.vis-color-picker input.vis-range {
  width: 290px;
  height: 20px;
}

/* TODO: is this redundant?
div.vis-color-picker input.vis-range-brightness {
  width: 289px !important;
}


div.vis-color-picker input.vis-saturation-range {
  width: 289px !important;
}*/
`;PC(gCt);var dCt=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;PC(dCt);var hCt=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;PC(hCt);var Bie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $ie={},ov,qie;function Ci(){if(qie)return ov;qie=1;var t=function(e){return e&&e.Math===Math&&e};return ov=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof Bie=="object"&&Bie)||t(typeof ov=="object"&&ov)||function(){return this}()||Function("return this")(),ov}var JP,zie;function Yr(){return zie||(zie=1,JP=function(t){try{return!!t()}catch{return!0}}),JP}var ek,Uie;function W1(){if(Uie)return ek;Uie=1;var t=Yr();return ek=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),ek}var tk,Wie;function GE(){if(Wie)return tk;Wie=1;var t=W1(),e=Function.prototype,r=e.apply,n=e.call;return tk=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),tk}var rk,Gie;function tn(){if(Gie)return rk;Gie=1;var t=W1(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return rk=t?n:function(i){return function(){return r.apply(i,arguments)}},rk}var nk,Vie;function Ju(){if(Vie)return nk;Vie=1;var t=tn(),e=t({}.toString),r=t("".slice);return nk=function(n){return r(e(n),8,-1)},nk}var ik,Hie;function tG(){if(Hie)return ik;Hie=1;var t=Ju(),e=tn();return ik=function(r){if(t(r)==="Function")return e(r)},ik}var sk,Kie;function Qs(){if(Kie)return sk;Kie=1;var t=typeof document=="object"&&document.all;return sk=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},sk}var ok={},ak,Yie;function rs(){if(Yie)return ak;Yie=1;var t=Yr();return ak=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ak}var lk,Zie;function La(){if(Zie)return lk;Zie=1;var t=W1(),e=Function.prototype.call;return lk=t?e.bind(e):function(){return e.apply(e,arguments)},lk}var ck={},Xie;function VE(){if(Xie)return ck;Xie=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return ck.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,ck}var uk,Qie;function G1(){return Qie||(Qie=1,uk=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),uk}var gk,Jie;function HE(){if(Jie)return gk;Jie=1;var t=tn(),e=Yr(),r=Ju(),n=Object,i=t("".split);return gk=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,gk}var dk,ese;function Dm(){return ese||(ese=1,dk=function(t){return t==null}),dk}var hk,tse;function _d(){if(tse)return hk;tse=1;var t=Dm(),e=TypeError;return hk=function(r){if(t(r))throw new e("Can't call method on "+r);return r},hk}var fk,rse;function su(){if(rse)return fk;rse=1;var t=HE(),e=_d();return fk=function(r){return t(e(r))},fk}var Ak,nse;function Js(){if(nse)return Ak;nse=1;var t=Qs();return Ak=function(e){return typeof e=="object"?e!==null:t(e)},Ak}var Ck,ise;function wn(){return ise||(ise=1,Ck={}),Ck}var Ik,sse;function yl(){if(sse)return Ik;sse=1;var t=wn(),e=Ci(),r=Qs(),n=function(i){return r(i)?i:void 0};return Ik=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Ik}var pk,ose;function $i(){if(ose)return pk;ose=1;var t=tn();return pk=t({}.isPrototypeOf),pk}var mk,ase;function Fm(){if(ase)return mk;ase=1;var t=Ci(),e=t.navigator,r=e&&e.userAgent;return mk=r?String(r):"",mk}var vk,lse;function V1(){if(lse)return vk;lse=1;var t=Ci(),e=Fm(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),vk=a,vk}var yk,cse;function Lm(){if(cse)return yk;cse=1;var t=V1(),e=Yr(),r=Ci(),n=r.String;return yk=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),yk}var xk,use;function vNe(){if(use)return xk;use=1;var t=Lm();return xk=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",xk}var bk,gse;function H1(){if(gse)return bk;gse=1;var t=yl(),e=Qs(),r=$i(),n=vNe(),i=Object;return bk=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},bk}var wk,dse;function Mm(){if(dse)return wk;dse=1;var t=String;return wk=function(e){try{return t(e)}catch{return"Object"}},wk}var Sk,hse;function Td(){if(hse)return Sk;hse=1;var t=Qs(),e=Mm(),r=TypeError;return Sk=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},Sk}var Ek,fse;function rG(){if(fse)return Ek;fse=1;var t=Td(),e=Dm();return Ek=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Ek}var _k,Ase;function fCt(){if(Ase)return _k;Ase=1;var t=La(),e=Qs(),r=Js(),n=TypeError;return _k=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},_k}var Tk={exports:{}},Rk,Cse;function Bm(){return Cse||(Cse=1,Rk=!0),Rk}var Nk,Ise;function ACt(){if(Ise)return Nk;Ise=1;var t=Ci(),e=Object.defineProperty;return Nk=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Nk}var pse;function nG(){if(pse)return Tk.exports;pse=1;var t=Bm(),e=Ci(),r=ACt(),n="__core-js_shared__",i=Tk.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Tk.exports}var Ok,mse;function $m(){if(mse)return Ok;mse=1;var t=nG();return Ok=function(e,r){return t[e]||(t[e]=r||{})},Ok}var jk,vse;function xl(){if(vse)return jk;vse=1;var t=_d(),e=Object;return jk=function(r){return e(t(r))},jk}var Pk,yse;function Ds(){if(yse)return Pk;yse=1;var t=tn(),e=xl(),r=t({}.hasOwnProperty);return Pk=Object.hasOwn||function(i,s){return r(e(i),s)},Pk}var kk,xse;function KE(){if(xse)return kk;xse=1;var t=tn(),e=0,r=Math.random(),n=t(1.1.toString);return kk=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},kk}var Dk,bse;function As(){if(bse)return Dk;bse=1;var t=Ci(),e=$m(),r=Ds(),n=KE(),i=Lm(),s=vNe(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return Dk=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},Dk}var Fk,wse;function yNe(){if(wse)return Fk;wse=1;var t=La(),e=Js(),r=H1(),n=rG(),i=fCt(),s=As(),o=TypeError,a=s("toPrimitive");return Fk=function(l,u){if(!e(l)||r(l))return l;var g=n(l,a),d;if(g){if(u===void 0&&(u="default"),d=t(g,l,u),!e(d)||r(d))return d;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Fk}var Lk,Sse;function iG(){if(Sse)return Lk;Sse=1;var t=yNe(),e=H1();return Lk=function(r){var n=t(r,"string");return e(n)?n:n+""},Lk}var Mk,Ese;function xNe(){if(Ese)return Mk;Ese=1;var t=Ci(),e=Js(),r=t.document,n=e(r)&&e(r.createElement);return Mk=function(i){return n?r.createElement(i):{}},Mk}var Bk,_se;function bNe(){if(_se)return Bk;_se=1;var t=rs(),e=Yr(),r=xNe();return Bk=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Bk}var Tse;function YE(){if(Tse)return ok;Tse=1;var t=rs(),e=La(),r=VE(),n=G1(),i=su(),s=iG(),o=Ds(),a=bNe(),l=Object.getOwnPropertyDescriptor;return ok.f=t?l:function(g,d){if(g=i(g),d=s(d),a)try{return l(g,d)}catch{}if(o(g,d))return n(!e(r.f,g,d),g[d])},ok}var $k,Rse;function CCt(){if(Rse)return $k;Rse=1;var t=Yr(),e=Qs(),r=/#|\.prototype\./,n=function(l,u){var g=s[i(l)];return g===a?!0:g===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return $k=n,$k}var qk,Nse;function ZE(){if(Nse)return qk;Nse=1;var t=tG(),e=Td(),r=W1(),n=t(t.bind);return qk=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},qk}var zk={},Uk,Ose;function wNe(){if(Ose)return Uk;Ose=1;var t=rs(),e=Yr();return Uk=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Uk}var Wk,jse;function eg(){if(jse)return Wk;jse=1;var t=Js(),e=String,r=TypeError;return Wk=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Wk}var Pse;function ic(){if(Pse)return zk;Pse=1;var t=rs(),e=bNe(),r=wNe(),n=eg(),i=iG(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",g="writable";return zk.f=t?r?function(f,h,A){if(n(f),h=i(h),n(A),typeof f=="function"&&h==="prototype"&&"value"in A&&g in A&&!A[g]){var C=a(f,h);C&&C[g]&&(f[h]=A.value,A={configurable:u in A?A[u]:C[u],enumerable:l in A?A[l]:C[l],writable:!1})}return o(f,h,A)}:o:function(f,h,A){if(n(f),h=i(h),n(A),e)try{return o(f,h,A)}catch{}if("get"in A||"set"in A)throw new s("Accessors not supported");return"value"in A&&(f[h]=A.value),f},zk}var Gk,kse;function qm(){if(kse)return Gk;kse=1;var t=rs(),e=ic(),r=G1();return Gk=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Gk}var Vk,Dse;function lr(){if(Dse)return Vk;Dse=1;var t=Ci(),e=GE(),r=tG(),n=Qs(),i=YE().f,s=CCt(),o=wn(),a=ZE(),l=qm(),u=Ds(),g=function(d){var f=function(h,A,C){if(this instanceof f){switch(arguments.length){case 0:return new d;case 1:return new d(h);case 2:return new d(h,A)}return new d(h,A,C)}return e(d,this,arguments)};return f.prototype=d.prototype,f};return Vk=function(d,f){var h=d.target,A=d.global,C=d.stat,I=d.proto,p=A?t:C?t[h]:t[h]&&t[h].prototype,m=A?o:o[h]||l(o,h,{})[h],v=m.prototype,y,x,T,E,_,S,j,w,R;for(E in f)y=s(A?E:h+(C?".":"#")+E,d.forced),x=!y&&p&&u(p,E),S=m[E],x&&(d.dontCallGetSet?(R=i(p,E),j=R&&R.value):j=p[E]),_=x&&j?j:f[E],!(!y&&!I&&typeof S==typeof _)&&(d.bind&&x?w=a(_,t):d.wrap&&x?w=g(_):I&&n(_)?w=r(_):w=_,(d.sham||_&&_.sham||S&&S.sham)&&l(w,"sham",!0),l(m,E,w),I&&(T=h+"Prototype",u(o,T)||l(o,T,{}),l(o[T],E,_),d.real&&v&&(y||!v[E])&&l(v,E,_)))},Vk}var Hk,Fse;function ICt(){if(Fse)return Hk;Fse=1;var t=Math.ceil,e=Math.floor;return Hk=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Hk}var Kk,Lse;function zm(){if(Lse)return Kk;Lse=1;var t=ICt();return Kk=function(e){var r=+e;return r!==r||r===0?0:t(r)},Kk}var Yk,Mse;function XE(){if(Mse)return Yk;Mse=1;var t=zm(),e=Math.max,r=Math.min;return Yk=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Yk}var Zk,Bse;function SNe(){if(Bse)return Zk;Bse=1;var t=zm(),e=Math.min;return Zk=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Zk}var Xk,$se;function Rd(){if($se)return Xk;$se=1;var t=SNe();return Xk=function(e){return t(e.length)},Xk}var Qk,qse;function sG(){if(qse)return Qk;qse=1;var t=su(),e=XE(),r=Rd(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var g=e(a,u),d;if(i&&o!==o){for(;u>g;)if(d=l[g++],d!==d)return!0}else for(;u>g;g++)if((i||g in l)&&l[g]===o)return i||g||0;return!i&&-1}};return Qk={includes:n(!0),indexOf:n(!1)},Qk}var Jk,zse;function K1(){return zse||(zse=1,Jk={}),Jk}var eD,Use;function ENe(){if(Use)return eD;Use=1;var t=tn(),e=Ds(),r=su(),n=sG().indexOf,i=K1(),s=t([].push);return eD=function(o,a){var l=r(o),u=0,g=[],d;for(d in l)!e(i,d)&&e(l,d)&&s(g,d);for(;a.length>u;)e(l,d=a[u++])&&(~n(g,d)||s(g,d));return g},eD}var tD,Wse;function oG(){return Wse||(Wse=1,tD=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),tD}var rD,Gse;function Y1(){if(Gse)return rD;Gse=1;var t=ENe(),e=oG();return rD=Object.keys||function(n){return t(n,e)},rD}var nD={},Vse;function QE(){return Vse||(Vse=1,nD.f=Object.getOwnPropertySymbols),nD}var iD,Hse;function pCt(){if(Hse)return iD;Hse=1;var t=rs(),e=tn(),r=La(),n=Yr(),i=Y1(),s=QE(),o=VE(),a=xl(),l=HE(),u=Object.assign,g=Object.defineProperty,d=e([].concat);return iD=!u||n(function(){if(t&&u({b:1},u(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},h={},A=Symbol("assign detection"),C="abcdefghijklmnopqrst";return f[A]=7,C.split("").forEach(function(I){h[I]=I}),u({},f)[A]!==7||i(u({},h)).join("")!==C})?function(h,A){for(var C=a(h),I=arguments.length,p=1,m=s.f,v=o.f;I>p;)for(var y=l(arguments[p++]),x=m?d(i(y),m(y)):i(y),T=x.length,E=0,_;T>E;)_=x[E++],(!t||r(v,y,_))&&(C[_]=y[_]);return C}:u,iD}var Kse;function mCt(){if(Kse)return $ie;Kse=1;var t=lr(),e=pCt();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),$ie}var sD,Yse;function vCt(){if(Yse)return sD;Yse=1,mCt();var t=wn();return sD=t.Object.assign,sD}var oD,Zse;function yCt(){if(Zse)return oD;Zse=1;var t=vCt();return oD=t,oD}var aD,Xse;function xCt(){return Xse||(Xse=1,aD=yCt()),aD}var bCt=xCt(),Ji=Ar(bCt),Qse={},lD,Jse;function Um(){if(Jse)return lD;Jse=1;var t=tn();return lD=t([].slice),lD}var cD,eoe;function wCt(){if(eoe)return cD;eoe=1;var t=tn(),e=Td(),r=Js(),n=Ds(),i=Um(),s=W1(),o=Function,a=t([].concat),l=t([].join),u={},g=function(d,f,h){if(!n(u,f)){for(var A=[],C=0;C<f;C++)A[C]="a["+C+"]";u[f]=o("C,a","return new C("+l(A,",")+")")}return u[f](d,h)};return cD=s?o.bind:function(f){var h=e(this),A=h.prototype,C=i(arguments,1),I=function(){var m=a(C,i(arguments));return this instanceof I?g(h,m.length,m):h.apply(f,m)};return r(A)&&(I.prototype=A),I},cD}var toe;function SCt(){if(toe)return Qse;toe=1;var t=lr(),e=wCt();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Qse}var uD,roe;function Fs(){if(roe)return uD;roe=1;var t=Ci(),e=wn();return uD=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},uD}var gD,noe;function ECt(){if(noe)return gD;noe=1,SCt();var t=Fs();return gD=t("Function","bind"),gD}var dD,ioe;function _Ct(){if(ioe)return dD;ioe=1;var t=$i(),e=ECt(),r=Function.prototype;return dD=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},dD}var hD,soe;function TCt(){if(soe)return hD;soe=1;var t=_Ct();return hD=t,hD}var fD,ooe;function RCt(){return ooe||(ooe=1,fD=TCt()),fD}var NCt=RCt(),yt=Ar(NCt);function aG(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function OCt(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function jCt(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r-(a-o)),t.lineTo(e+s,r+o),t.lineTo(e-s,r+o),t.lineTo(e,r-(a-o)),t.closePath()}function PCt(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r+(a-o)),t.lineTo(e+s,r-o),t.lineTo(e-s,r-o),t.lineTo(e,r+(a-o)),t.closePath()}function kCt(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function DCt(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function _Ne(t,e,r,n,i,s){const o=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,o*270,o*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,o*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,o*90,o*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,o*180,o*270,!1),t.closePath()}function K7(t,e,r,n,i){const s=.5522848,o=n/2*s,a=i/2*s,l=e+n,u=r+i,g=e+n/2,d=r+i/2;t.beginPath(),t.moveTo(e,d),t.bezierCurveTo(e,d-a,g-o,r,g,r),t.bezierCurveTo(g+o,r,l,d-a,l,d),t.bezierCurveTo(l,d+a,g+o,u,g,u),t.bezierCurveTo(g-o,u,e,d+a,e,d),t.closePath()}function TNe(t,e,r,n,i){const s=.3333333333333333,o=n,a=i*s,l=.5522848,u=o/2*l,g=a/2*l,d=e+o,f=r+a,h=e+o/2,A=r+a/2,C=r+(i-a/2),I=r+i;t.beginPath(),t.moveTo(d,A),t.bezierCurveTo(d,A+g,h+u,f,h,f),t.bezierCurveTo(h-u,f,e,A+g,e,A),t.bezierCurveTo(e,A-g,h-u,r,h,r),t.bezierCurveTo(h+u,r,d,A-g,d,A),t.lineTo(d,C),t.bezierCurveTo(d,C+g,h+u,I,h,I),t.bezierCurveTo(h-u,I,e,C+g,e,C),t.lineTo(e,A)}function RNe(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const o=s.length,a=n-e,l=i-r,u=l/a;let g=Math.sqrt(a*a+l*l),d=0,f=!0,h=0,A=+s[0];for(;g>=.1;)A=+s[d++%o],A>g&&(A=g),h=Math.sqrt(A*A/(1+u*u)),h=a<0?-h:h,e+=h,r+=u*h,f===!0?t.lineTo(e,r):t.moveTo(e,r),g-=A,f=!f}function FCt(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let o=1;o<i;o++)t.lineTo(e+n*Math.cos(s*o),r+n*Math.sin(s*o));t.closePath()}const aoe={circle:aG,dashedLine:RNe,database:TNe,diamond:DCt,ellipse:K7,ellipse_vis:K7,hexagon:FCt,roundRect:_Ne,square:OCt,star:kCt,triangle:jCt,triangleDown:PCt};function LCt(t){return Object.prototype.hasOwnProperty.call(aoe,t)?aoe[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var AD={exports:{}},loe;function MCt(){return loe||(loe=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(AD)),AD.exports}var BCt=MCt(),NNe=Ar(BCt),coe={},CD,uoe;function kC(){if(uoe)return CD;uoe=1;var t=Ju();return CD=Array.isArray||function(r){return t(r)==="Array"},CD}var ID,goe;function ONe(){if(goe)return ID;goe=1;var t=TypeError,e=9007199254740991;return ID=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},ID}var pD,doe;function JE(){if(doe)return pD;doe=1;var t=rs(),e=ic(),r=G1();return pD=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},pD}var mD,hoe;function lG(){if(hoe)return mD;hoe=1;var t=As(),e=t("toStringTag"),r={};return r[e]="z",mD=String(r)==="[object z]",mD}var vD,foe;function hf(){if(foe)return vD;foe=1;var t=lG(),e=Qs(),r=Ju(),n=As(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return vD=t?r:function(l){var u,g,d;return l===void 0?"Undefined":l===null?"Null":typeof(g=a(u=s(l),i))=="string"?g:o?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},vD}var yD,Aoe;function $Ct(){if(Aoe)return yD;Aoe=1;var t=tn(),e=Qs(),r=nG(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),yD=r.inspectSource,yD}var xD,Coe;function jNe(){if(Coe)return xD;Coe=1;var t=tn(),e=Yr(),r=Qs(),n=hf(),i=yl(),s=$Ct(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),g=!l.test(o),d=function(A){if(!r(A))return!1;try{return a(o,[],A),!0}catch{return!1}},f=function(A){if(!r(A))return!1;switch(n(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!u(l,s(A))}catch{return!0}};return f.sham=!0,xD=!a||e(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,xD}var bD,Ioe;function qCt(){if(Ioe)return bD;Ioe=1;var t=kC(),e=jNe(),r=Js(),n=As(),i=n("species"),s=Array;return bD=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},bD}var wD,poe;function cG(){if(poe)return wD;poe=1;var t=qCt();return wD=function(e,r){return new(t(e))(r===0?0:r)},wD}var SD,moe;function Z1(){if(moe)return SD;moe=1;var t=Yr(),e=As(),r=V1(),n=e("species");return SD=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},SD}var voe;function PNe(){if(voe)return coe;voe=1;var t=lr(),e=Yr(),r=kC(),n=Js(),i=xl(),s=Rd(),o=ONe(),a=JE(),l=cG(),u=Z1(),g=As(),d=V1(),f=g("isConcatSpreadable"),h=d>=51||!e(function(){var I=[];return I[f]=!1,I.concat()[0]!==I}),A=function(I){if(!n(I))return!1;var p=I[f];return p!==void 0?!!p:r(I)},C=!h||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:C},{concat:function(p){var m=i(this),v=l(m,0),y=0,x,T,E,_,S;for(x=-1,E=arguments.length;x<E;x++)if(S=x===-1?m:arguments[x],A(S))for(_=s(S),o(y+_),T=0;T<_;T++,y++)T in S&&a(v,y,S[T]);else o(y+1),a(v,y++,S);return v.length=y,v}}),coe}var yoe={},xoe={},ED,boe;function sc(){if(boe)return ED;boe=1;var t=hf(),e=String;return ED=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ED}var _D={},woe;function uG(){if(woe)return _D;woe=1;var t=rs(),e=wNe(),r=ic(),n=eg(),i=su(),s=Y1();return _D.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),g=s(l),d=g.length,f=0,h;d>f;)r.f(a,h=g[f++],u[h]);return a},_D}var TD,Soe;function zCt(){if(Soe)return TD;Soe=1;var t=yl();return TD=t("document","documentElement"),TD}var RD,Eoe;function e_(){if(Eoe)return RD;Eoe=1;var t=$m(),e=KE(),r=t("keys");return RD=function(n){return r[n]||(r[n]=e(n))},RD}var ND,_oe;function X1(){if(_oe)return ND;_oe=1;var t=eg(),e=uG(),r=oG(),n=K1(),i=zCt(),s=xNe(),o=e_(),a=">",l="<",u="prototype",g="script",d=o("IE_PROTO"),f=function(){},h=function(m){return l+g+a+m+l+"/"+g+a},A=function(m){m.write(h("")),m.close();var v=m.parentWindow.Object;return m=null,v},C=function(){var m=s("iframe"),v="java"+g+":",y;return m.style.display="none",i.appendChild(m),m.src=String(v),y=m.contentWindow.document,y.open(),y.write(h("document.F=Object")),y.close(),y.F},I,p=function(){try{I=new ActiveXObject("htmlfile")}catch{}p=typeof document<"u"?document.domain&&I?A(I):C():A(I);for(var m=r.length;m--;)delete p[u][r[m]];return p()};return n[d]=!0,ND=Object.create||function(v,y){var x;return v!==null?(f[u]=t(v),x=new f,f[u]=null,x[d]=v):x=p(),y===void 0?x:e.f(x,y)},ND}var OD={},Toe;function t_(){if(Toe)return OD;Toe=1;var t=ENe(),e=oG(),r=e.concat("length","prototype");return OD.f=Object.getOwnPropertyNames||function(i){return t(i,r)},OD}var jD={},Roe;function gG(){if(Roe)return jD;Roe=1;var t=Ju(),e=su(),r=t_().f,n=Um(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return jD.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},jD}var PD,Noe;function Q1(){if(Noe)return PD;Noe=1;var t=qm();return PD=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},PD}var kD,Ooe;function dG(){if(Ooe)return kD;Ooe=1;var t=ic();return kD=function(e,r,n){return t.f(e,r,n)},kD}var DD={},joe;function r_(){if(joe)return DD;joe=1;var t=As();return DD.f=t,DD}var FD,Poe;function yi(){if(Poe)return FD;Poe=1;var t=wn(),e=Ds(),r=r_(),n=ic().f;return FD=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},FD}var LD,koe;function kNe(){if(koe)return LD;koe=1;var t=La(),e=yl(),r=As(),n=Q1();return LD=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},LD}var MD,Doe;function UCt(){if(Doe)return MD;Doe=1;var t=lG(),e=hf();return MD=t?{}.toString:function(){return"[object "+e(this)+"]"},MD}var BD,Foe;function DC(){if(Foe)return BD;Foe=1;var t=lG(),e=ic().f,r=qm(),n=Ds(),i=UCt(),s=As(),o=s("toStringTag");return BD=function(a,l,u,g){var d=u?a:a&&a.prototype;d&&(n(d,o)||e(d,o,{configurable:!0,value:l}),g&&!t&&r(d,"toString",i))},BD}var $D,Loe;function DNe(){if(Loe)return $D;Loe=1;var t=Ci(),e=Qs(),r=t.WeakMap;return $D=e(r)&&/native code/.test(String(r)),$D}var qD,Moe;function FC(){if(Moe)return qD;Moe=1;var t=DNe(),e=Ci(),r=Js(),n=qm(),i=Ds(),s=nG(),o=e_(),a=K1(),l="Object already initialized",u=e.TypeError,g=e.WeakMap,d,f,h,A=function(m){return h(m)?f(m):d(m,{})},C=function(m){return function(v){var y;if(!r(v)||(y=f(v)).type!==m)throw new u("Incompatible receiver, "+m+" required");return y}};if(t||s.state){var I=s.state||(s.state=new g);I.get=I.get,I.has=I.has,I.set=I.set,d=function(m,v){if(I.has(m))throw new u(l);return v.facade=m,I.set(m,v),v},f=function(m){return I.get(m)||{}},h=function(m){return I.has(m)}}else{var p=o("state");a[p]=!0,d=function(m,v){if(i(m,p))throw new u(l);return v.facade=m,n(m,p,v),v},f=function(m){return i(m,p)?m[p]:{}},h=function(m){return i(m,p)}}return qD={set:d,get:f,has:h,enforce:A,getterFor:C},qD}var zD,Boe;function ff(){if(Boe)return zD;Boe=1;var t=ZE(),e=tn(),r=HE(),n=xl(),i=Rd(),s=cG(),o=e([].push),a=function(l){var u=l===1,g=l===2,d=l===3,f=l===4,h=l===6,A=l===7,C=l===5||h;return function(I,p,m,v){for(var y=n(I),x=r(y),T=i(x),E=t(p,m),_=0,S=v||s,j=u?S(I,T):g||A?S(I,0):void 0,w,R;T>_;_++)if((C||_ in x)&&(w=x[_],R=E(w,_,y),l))if(u)j[_]=R;else if(R)switch(l){case 3:return!0;case 5:return w;case 6:return _;case 2:o(j,w)}else switch(l){case 4:return!1;case 7:o(j,w)}return h?-1:d||f?f:j}};return zD={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},zD}var $oe;function WCt(){if($oe)return xoe;$oe=1;var t=lr(),e=Ci(),r=La(),n=tn(),i=Bm(),s=rs(),o=Lm(),a=Yr(),l=Ds(),u=$i(),g=eg(),d=su(),f=iG(),h=sc(),A=G1(),C=X1(),I=Y1(),p=t_(),m=gG(),v=QE(),y=YE(),x=ic(),T=uG(),E=VE(),_=Q1(),S=dG(),j=$m(),w=e_(),R=K1(),N=KE(),P=As(),M=r_(),B=yi(),W=kNe(),H=DC(),V=FC(),K=ff().forEach,Y=w("hidden"),k="Symbol",q="prototype",z=V.set,G=V.getterFor(k),Z=Object[q],ue=e.Symbol,re=ue&&ue[q],ie=e.RangeError,Ce=e.TypeError,Pe=e.QObject,Fe=y.f,He=x.f,Te=m.f,se=E.f,Ct=n([].push),Re=j("symbols"),ke=j("op-symbols"),Ye=j("wks"),xt=!Pe||!Pe[q]||!Pe[q].findChild,ft=function(Qe,it,ot){var Ve=Fe(Z,it);Ve&&delete Z[it],He(Qe,it,ot),Ve&&Qe!==Z&&He(Z,it,Ve)},$t=s&&a(function(){return C(He({},"a",{get:function(){return He(this,"a",{value:7}).a}})).a!==7})?ft:He,bt=function(Qe,it){var ot=Re[Qe]=C(re);return z(ot,{type:k,tag:Qe,description:it}),s||(ot.description=it),ot},Gt=function(it,ot,Ve){it===Z&&Gt(ke,ot,Ve),g(it);var ut=f(ot);return g(Ve),l(Re,ut)?(Ve.enumerable?(l(it,Y)&&it[Y][ut]&&(it[Y][ut]=!1),Ve=C(Ve,{enumerable:A(0,!1)})):(l(it,Y)||He(it,Y,A(1,C(null))),it[Y][ut]=!0),$t(it,ut,Ve)):He(it,ut,Ve)},Wt=function(it,ot){g(it);var Ve=d(ot),ut=I(Ve).concat(Ht(Ve));return K(ut,function(qt){(!s||r(hr,Ve,qt))&&Gt(it,qt,Ve[qt])}),it},Qt=function(it,ot){return ot===void 0?C(it):Wt(C(it),ot)},hr=function(it){var ot=f(it),Ve=r(se,this,ot);return this===Z&&l(Re,ot)&&!l(ke,ot)?!1:Ve||!l(this,ot)||!l(Re,ot)||l(this,Y)&&this[Y][ot]?Ve:!0},Bt=function(it,ot){var Ve=d(it),ut=f(ot);if(!(Ve===Z&&l(Re,ut)&&!l(ke,ut))){var qt=Fe(Ve,ut);return qt&&l(Re,ut)&&!(l(Ve,Y)&&Ve[Y][ut])&&(qt.enumerable=!0),qt}},Ft=function(it){var ot=Te(d(it)),Ve=[];return K(ot,function(ut){!l(Re,ut)&&!l(R,ut)&&Ct(Ve,ut)}),Ve},Ht=function(Qe){var it=Qe===Z,ot=Te(it?ke:d(Qe)),Ve=[];return K(ot,function(ut){l(Re,ut)&&(!it||l(Z,ut))&&Ct(Ve,Re[ut])}),Ve};return o||(ue=function(){if(u(re,this))throw new Ce("Symbol is not a constructor");var it=!arguments.length||arguments[0]===void 0?void 0:h(arguments[0]),ot=N(it),Ve=function(ut){var qt=this===void 0?e:this;qt===Z&&r(Ve,ke,ut),l(qt,Y)&&l(qt[Y],ot)&&(qt[Y][ot]=!1);var zt=A(1,ut);try{$t(qt,ot,zt)}catch(Cr){if(!(Cr instanceof ie))throw Cr;ft(qt,ot,zt)}};return s&&xt&&$t(Z,ot,{configurable:!0,set:Ve}),bt(ot,it)},re=ue[q],_(re,"toString",function(){return G(this).tag}),_(ue,"withoutSetter",function(Qe){return bt(N(Qe),Qe)}),E.f=hr,x.f=Gt,T.f=Wt,y.f=Bt,p.f=m.f=Ft,v.f=Ht,M.f=function(Qe){return bt(P(Qe),Qe)},s&&(S(re,"description",{configurable:!0,get:function(){return G(this).description}}),i||_(Z,"propertyIsEnumerable",hr,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:ue}),K(I(Ye),function(Qe){B(Qe)}),t({target:k,stat:!0,forced:!o},{useSetter:function(){xt=!0},useSimple:function(){xt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:Qt,defineProperty:Gt,defineProperties:Wt,getOwnPropertyDescriptor:Bt}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ft}),W(),H(ue,k),R[Y]=!0,xoe}var qoe={},UD,zoe;function FNe(){if(zoe)return UD;zoe=1;var t=Lm();return UD=t&&!!Symbol.for&&!!Symbol.keyFor,UD}var Uoe;function GCt(){if(Uoe)return qoe;Uoe=1;var t=lr(),e=yl(),r=Ds(),n=sc(),i=$m(),s=FNe(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var g=e("Symbol")(u);return o[u]=g,a[g]=u,g}}),qoe}var Woe={},Goe;function VCt(){if(Goe)return Woe;Goe=1;var t=lr(),e=Ds(),r=H1(),n=Mm(),i=$m(),s=FNe(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),Woe}var Voe={},WD,Hoe;function HCt(){if(Hoe)return WD;Hoe=1;var t=tn(),e=kC(),r=Qs(),n=Ju(),i=sc(),s=t([].push);return WD=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var g=o[u];typeof g=="string"?s(l,g):(typeof g=="number"||n(g)==="Number"||n(g)==="String")&&s(l,i(g))}var d=l.length,f=!0;return function(h,A){if(f)return f=!1,A;if(e(this))return A;for(var C=0;C<d;C++)if(l[C]===h)return A}}},WD}var Koe;function LNe(){if(Koe)return Voe;Koe=1;var t=lr(),e=yl(),r=GE(),n=La(),i=tn(),s=Yr(),o=Qs(),a=H1(),l=Um(),u=HCt(),g=Lm(),d=String,f=e("JSON","stringify"),h=i(/./.exec),A=i("".charAt),C=i("".charCodeAt),I=i("".replace),p=i(1.1.toString),m=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,x=!g||s(function(){var S=e("Symbol")("stringify detection");return f([S])!=="[null]"||f({a:S})!=="{}"||f(Object(S))!=="{}"}),T=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),E=function(S,j){var w=l(arguments),R=u(j);if(!(!o(R)&&(S===void 0||a(S))))return w[1]=function(N,P){if(o(R)&&(P=n(R,this,d(N),P)),!a(P))return P},r(f,null,w)},_=function(S,j,w){var R=A(w,j-1),N=A(w,j+1);return h(v,S)&&!h(y,N)||h(y,S)&&!h(v,R)?"\\u"+p(C(S,0),16):S};return f&&t({target:"JSON",stat:!0,arity:3,forced:x||T},{stringify:function(j,w,R){var N=l(arguments),P=r(x?E:f,null,N);return T&&typeof P=="string"?I(P,m,_):P}}),Voe}var Yoe={},Zoe;function KCt(){if(Zoe)return Yoe;Zoe=1;var t=lr(),e=Lm(),r=Yr(),n=QE(),i=xl(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),Yoe}var Xoe;function MNe(){return Xoe||(Xoe=1,WCt(),GCt(),VCt(),LNe(),KCt()),yoe}var Qoe={},Joe;function BNe(){if(Joe)return Qoe;Joe=1;var t=yi();return t("asyncDispose"),Qoe}var eae={},tae;function YCt(){if(tae)return eae;tae=1;var t=yi();return t("asyncIterator"),eae}var rae={},nae;function $Ne(){if(nae)return rae;nae=1;var t=yi();return t("dispose"),rae}var iae={},sae;function ZCt(){if(sae)return iae;sae=1;var t=yi();return t("hasInstance"),iae}var oae={},aae;function XCt(){if(aae)return oae;aae=1;var t=yi();return t("isConcatSpreadable"),oae}var lae={},cae;function qNe(){if(cae)return lae;cae=1;var t=yi();return t("iterator"),lae}var uae={},gae;function QCt(){if(gae)return uae;gae=1;var t=yi();return t("match"),uae}var dae={},hae;function JCt(){if(hae)return dae;hae=1;var t=yi();return t("matchAll"),dae}var fae={},Aae;function eIt(){if(Aae)return fae;Aae=1;var t=yi();return t("replace"),fae}var Cae={},Iae;function tIt(){if(Iae)return Cae;Iae=1;var t=yi();return t("search"),Cae}var pae={},mae;function rIt(){if(mae)return pae;mae=1;var t=yi();return t("species"),pae}var vae={},yae;function nIt(){if(yae)return vae;yae=1;var t=yi();return t("split"),vae}var xae={},bae;function zNe(){if(bae)return xae;bae=1;var t=yi(),e=kNe();return t("toPrimitive"),e(),xae}var wae={},Sae;function iIt(){if(Sae)return wae;Sae=1;var t=yl(),e=yi(),r=DC();return e("toStringTag"),r(t("Symbol"),"Symbol"),wae}var Eae={},_ae;function sIt(){if(_ae)return Eae;_ae=1;var t=yi();return t("unscopables"),Eae}var Tae={},Rae;function oIt(){if(Rae)return Tae;Rae=1;var t=Ci(),e=DC();return e(t.JSON,"JSON",!0),Tae}var GD,Nae;function aIt(){if(Nae)return GD;Nae=1,PNe(),MNe(),BNe(),YCt(),$Ne(),ZCt(),XCt(),qNe(),QCt(),JCt(),eIt(),tIt(),rIt(),nIt(),zNe(),iIt(),sIt(),oIt();var t=wn();return GD=t.Symbol,GD}var Oae={},VD,jae;function hG(){return jae||(jae=1,VD=function(){}),VD}var HD,Pae;function Wm(){return Pae||(Pae=1,HD={}),HD}var KD,kae;function lIt(){if(kae)return KD;kae=1;var t=rs(),e=Ds(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return KD={EXISTS:i,PROPER:s,CONFIGURABLE:o},KD}var YD,Dae;function UNe(){if(Dae)return YD;Dae=1;var t=Yr();return YD=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),YD}var ZD,Fae;function n_(){if(Fae)return ZD;Fae=1;var t=Ds(),e=Qs(),r=xl(),n=e_(),i=UNe(),s=n("IE_PROTO"),o=Object,a=o.prototype;return ZD=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var g=u.constructor;return e(g)&&u instanceof g?g.prototype:u instanceof o?a:null},ZD}var XD,Lae;function WNe(){if(Lae)return XD;Lae=1;var t=Yr(),e=Qs(),r=Js(),n=X1(),i=n_(),s=Q1(),o=As(),a=Bm(),l=o("iterator"),u=!1,g,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(g=d)):u=!0);var h=!r(g)||t(function(){var A={};return g[l].call(A)!==A});return h?g={}:a&&(g=n(g)),e(g[l])||s(g,l,function(){return this}),XD={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:u},XD}var QD,Mae;function cIt(){if(Mae)return QD;Mae=1;var t=WNe().IteratorPrototype,e=X1(),r=G1(),n=DC(),i=Wm(),s=function(){return this};return QD=function(o,a,l,u){var g=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,g,!1,!0),i[g]=s,o},QD}var JD,Bae;function uIt(){if(Bae)return JD;Bae=1;var t=tn(),e=Td();return JD=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},JD}var eF,$ae;function gIt(){if($ae)return eF;$ae=1;var t=Js();return eF=function(e){return t(e)||e===null},eF}var tF,qae;function dIt(){if(qae)return tF;qae=1;var t=gIt(),e=String,r=TypeError;return tF=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},tF}var rF,zae;function hIt(){if(zae)return rF;zae=1;var t=uIt(),e=Js(),r=_d(),n=dIt();return rF=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),rF}var nF,Uae;function fG(){if(Uae)return nF;Uae=1;var t=lr(),e=La(),r=Bm(),n=lIt(),i=Qs(),s=cIt(),o=n_(),a=hIt(),l=DC(),u=qm(),g=Q1(),d=As(),f=Wm(),h=WNe(),A=n.PROPER,C=n.CONFIGURABLE,I=h.IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,m=d("iterator"),v="keys",y="values",x="entries",T=function(){return this};return nF=function(E,_,S,j,w,R,N){s(S,_,j);var P=function(z){if(z===w&&V)return V;if(!p&&z&&z in W)return W[z];switch(z){case v:return function(){return new S(this,z)};case y:return function(){return new S(this,z)};case x:return function(){return new S(this,z)}}return function(){return new S(this)}},M=_+" Iterator",B=!1,W=E.prototype,H=W[m]||W["@@iterator"]||w&&W[w],V=!p&&H||P(w),K=_==="Array"&&W.entries||H,Y,k,q;if(K&&(Y=o(K.call(new E)),Y!==Object.prototype&&Y.next&&(!r&&o(Y)!==I&&(a?a(Y,I):i(Y[m])||g(Y,m,T)),l(Y,M,!0,!0),r&&(f[M]=T))),A&&w===y&&H&&H.name!==y&&(!r&&C?u(W,"name",y):(B=!0,V=function(){return e(H,this)})),w)if(k={values:P(y),keys:R?V:P(v),entries:P(x)},N)for(q in k)(p||B||!(q in W))&&g(W,q,k[q]);else t({target:_,proto:!0,forced:p||B},k);return(!r||N)&&W[m]!==V&&g(W,m,V,{name:w}),f[_]=V,k},nF}var iF,Wae;function AG(){return Wae||(Wae=1,iF=function(t,e){return{value:t,done:e}}),iF}var sF,Gae;function Nd(){if(Gae)return sF;Gae=1;var t=su(),e=hG(),r=Wm(),n=FC(),i=ic().f,s=fG(),o=AG(),a=Bm(),l=rs(),u="Array Iterator",g=n.set,d=n.getterFor(u);sF=s(Array,"Array",function(h,A){g(this,{type:u,target:t(h),index:0,kind:A})},function(){var h=d(this),A=h.target,C=h.index++;if(!A||C>=A.length)return h.target=null,o(void 0,!0);switch(h.kind){case"keys":return o(C,!1);case"values":return o(A[C],!1)}return o([C,A[C]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return sF}var oF,Vae;function fIt(){return Vae||(Vae=1,oF={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),oF}var Hae;function Od(){if(Hae)return Oae;Hae=1,Nd();var t=fIt(),e=Ci(),r=DC(),n=Wm();for(var i in t)r(e[i],i),n[i]=n.Array;return Oae}var aF,Kae;function GNe(){if(Kae)return aF;Kae=1;var t=aIt();return Od(),aF=t,aF}var lF,Yae;function AIt(){return Yae||(Yae=1,lF=GNe()),lF}var CIt=AIt(),IIt=Ar(CIt),Zae={},Xae;function pIt(){if(Xae)return Zae;Xae=1;var t=lr(),e=kC(),r=jNe(),n=Js(),i=XE(),s=Rd(),o=su(),a=JE(),l=As(),u=Z1(),g=Um(),d=u("slice"),f=l("species"),h=Array,A=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(I,p){var m=o(this),v=s(m),y=i(I,v),x=i(p===void 0?v:p,v),T,E,_;if(e(m)&&(T=m.constructor,r(T)&&(T===h||e(T.prototype))?T=void 0:n(T)&&(T=T[f],T===null&&(T=void 0)),T===h||T===void 0))return g(m,y,x);for(E=new(T===void 0?h:T)(A(x-y,0)),_=0;y<x;y++,_++)y in m&&a(E,_,m[y]);return E.length=_,E}}),Zae}var cF,Qae;function mIt(){if(Qae)return cF;Qae=1,pIt();var t=Fs();return cF=t("Array","slice"),cF}var uF,Jae;function vIt(){if(Jae)return uF;Jae=1;var t=$i(),e=mIt(),r=Array.prototype;return uF=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},uF}var gF,ele;function yIt(){if(ele)return gF;ele=1;var t=vIt();return gF=t,gF}var dF,tle;function xIt(){return tle||(tle=1,dF=yIt()),dF}var bIt=xIt(),Nc=Ar(bIt),rle={},hF,nle;function VNe(){if(nle)return hF;nle=1;var t=yl(),e=tn(),r=t_(),n=QE(),i=eg(),s=e([].concat);return hF=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},hF}var ile;function wIt(){if(ile)return rle;ile=1;var t=lr(),e=VNe();return t({target:"Reflect",stat:!0},{ownKeys:e}),rle}var fF,sle;function SIt(){if(sle)return fF;sle=1,wIt();var t=wn();return fF=t.Reflect.ownKeys,fF}var AF,ole;function EIt(){if(ole)return AF;ole=1;var t=SIt();return AF=t,AF}var CF,ale;function _It(){return ale||(ale=1,CF=EIt()),CF}var TIt=_It(),RIt=Ar(TIt),lle={},cle;function NIt(){if(cle)return lle;cle=1;var t=lr(),e=kC();return t({target:"Array",stat:!0},{isArray:e}),lle}var IF,ule;function OIt(){if(ule)return IF;ule=1,NIt();var t=wn();return IF=t.Array.isArray,IF}var pF,gle;function jIt(){if(gle)return pF;gle=1;var t=OIt();return pF=t,pF}var mF,dle;function PIt(){return dle||(dle=1,mF=jIt()),mF}var kIt=PIt(),gn=Ar(kIt),hle={},fle;function DIt(){if(fle)return hle;fle=1;var t=lr(),e=ff().map,r=Z1(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),hle}var vF,Ale;function FIt(){if(Ale)return vF;Ale=1,DIt();var t=Fs();return vF=t("Array","map"),vF}var yF,Cle;function LIt(){if(Cle)return yF;Cle=1;var t=$i(),e=FIt(),r=Array.prototype;return yF=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},yF}var xF,Ile;function MIt(){if(Ile)return xF;Ile=1;var t=LIt();return xF=t,xF}var bF,ple;function BIt(){return ple||(ple=1,bF=MIt()),bF}var $It=BIt(),Io=Ar($It),mle={},vle;function qIt(){if(vle)return mle;vle=1;var t=lr(),e=xl(),r=Y1(),n=Yr(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),mle}var wF,yle;function zIt(){if(yle)return wF;yle=1,qIt();var t=wn();return wF=t.Object.keys,wF}var SF,xle;function UIt(){if(xle)return SF;xle=1;var t=zIt();return SF=t,SF}var EF,ble;function WIt(){return ble||(ble=1,EF=UIt()),EF}var GIt=WIt(),oi=Ar(GIt),wle={},Sle;function VIt(){if(Sle)return wle;Sle=1;var t=lr(),e=tn(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),wle}var _F,Ele;function HIt(){if(Ele)return _F;Ele=1,VIt();var t=wn();return _F=t.Date.now,_F}var TF,_le;function KIt(){if(_le)return TF;_le=1;var t=HIt();return TF=t,TF}var RF,Tle;function YIt(){return Tle||(Tle=1,RF=KIt()),RF}var ZIt=YIt(),lS=Ar(ZIt),Rle={},NF,Nle;function Gm(){if(Nle)return NF;Nle=1;var t=Yr();return NF=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},NF}var OF,Ole;function XIt(){if(Ole)return OF;Ole=1;var t=ff().forEach,e=Gm(),r=e("forEach");return OF=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},OF}var jle;function QIt(){if(jle)return Rle;jle=1;var t=lr(),e=XIt();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),Rle}var jF,Ple;function JIt(){if(Ple)return jF;Ple=1,QIt();var t=Fs();return jF=t("Array","forEach"),jF}var PF,kle;function ept(){if(kle)return PF;kle=1;var t=JIt();return PF=t,PF}var kF,Dle;function tpt(){if(Dle)return kF;Dle=1;var t=hf(),e=Ds(),r=$i(),n=ept(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return kF=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},kF}var DF,Fle;function rpt(){return Fle||(Fle=1,DF=tpt()),DF}var npt=rpt(),an=Ar(npt),Lle={},Mle;function ipt(){if(Mle)return Lle;Mle=1;var t=lr(),e=tn(),r=kC(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Lle}var FF,Ble;function spt(){if(Ble)return FF;Ble=1,ipt();var t=Fs();return FF=t("Array","reverse"),FF}var LF,$le;function opt(){if($le)return LF;$le=1;var t=$i(),e=spt(),r=Array.prototype;return LF=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},LF}var MF,qle;function apt(){if(qle)return MF;qle=1;var t=opt();return MF=t,MF}var BF,zle;function lpt(){return zle||(zle=1,BF=apt()),BF}var cpt=lpt(),jA=Ar(cpt),Ule={},$F,Wle;function upt(){if(Wle)return $F;Wle=1;var t=rs(),e=kC(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return $F=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},$F}var qF,Gle;function HNe(){if(Gle)return qF;Gle=1;var t=Mm(),e=TypeError;return qF=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},qF}var Vle;function gpt(){if(Vle)return Ule;Vle=1;var t=lr(),e=xl(),r=XE(),n=zm(),i=Rd(),s=upt(),o=ONe(),a=cG(),l=JE(),u=HNe(),g=Z1(),d=g("splice"),f=Math.max,h=Math.min;return t({target:"Array",proto:!0,forced:!d},{splice:function(C,I){var p=e(this),m=i(p),v=r(C,m),y=arguments.length,x,T,E,_,S,j;for(y===0?x=T=0:y===1?(x=0,T=m-v):(x=y-2,T=h(f(n(I),0),m-v)),o(m+x-T),E=a(p,T),_=0;_<T;_++)S=v+_,S in p&&l(E,_,p[S]);if(E.length=T,x<T){for(_=v;_<m-T;_++)S=_+T,j=_+x,S in p?p[j]=p[S]:u(p,j);for(_=m;_>m-T+x;_--)u(p,_-1)}else if(x>T)for(_=m-T;_>v;_--)S=_+T-1,j=_+x-1,S in p?p[j]=p[S]:u(p,j);for(_=0;_<x;_++)p[_+v]=arguments[_+2];return s(p,m-T+x),E}}),Ule}var zF,Hle;function dpt(){if(Hle)return zF;Hle=1,gpt();var t=Fs();return zF=t("Array","splice"),zF}var UF,Kle;function hpt(){if(Kle)return UF;Kle=1;var t=$i(),e=dpt(),r=Array.prototype;return UF=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},UF}var WF,Yle;function fpt(){if(Yle)return WF;Yle=1;var t=hpt();return WF=t,WF}var GF,Zle;function Apt(){return Zle||(Zle=1,GF=fpt()),GF}var Cpt=Apt(),qu=Ar(Cpt),Xle={},Qle;function Ipt(){if(Qle)return Xle;Qle=1;var t=lr(),e=sG().includes,r=Yr(),n=hG(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),n("includes"),Xle}var VF,Jle;function ppt(){if(Jle)return VF;Jle=1,Ipt();var t=Fs();return VF=t("Array","includes"),VF}var ece={},HF,tce;function mpt(){if(tce)return HF;tce=1;var t=Js(),e=Ju(),r=As(),n=r("match");return HF=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},HF}var KF,rce;function vpt(){if(rce)return KF;rce=1;var t=mpt(),e=TypeError;return KF=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},KF}var YF,nce;function ypt(){if(nce)return YF;nce=1;var t=As(),e=t("match");return YF=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},YF}var ice;function xpt(){if(ice)return ece;ice=1;var t=lr(),e=tn(),r=vpt(),n=_d(),i=sc(),s=ypt(),o=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),ece}var ZF,sce;function bpt(){if(sce)return ZF;sce=1,xpt();var t=Fs();return ZF=t("String","includes"),ZF}var XF,oce;function wpt(){if(oce)return XF;oce=1;var t=$i(),e=ppt(),r=bpt(),n=Array.prototype,i=String.prototype;return XF=function(s){var o=s.includes;return s===n||t(n,s)&&o===n.includes?e:typeof s=="string"||s===i||t(i,s)&&o===i.includes?r:o},XF}var QF,ace;function Spt(){if(ace)return QF;ace=1;var t=wpt();return QF=t,QF}var JF,lce;function Ept(){return lce||(lce=1,JF=Spt()),JF}var _pt=Ept(),qh=Ar(_pt),cce={},uce;function Tpt(){if(uce)return cce;uce=1;var t=lr(),e=Yr(),r=xl(),n=n_(),i=UNe(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return n(r(a))}}),cce}var e3,gce;function Rpt(){if(gce)return e3;gce=1,Tpt();var t=wn();return e3=t.Object.getPrototypeOf,e3}var t3,dce;function Npt(){if(dce)return t3;dce=1;var t=Rpt();return t3=t,t3}var r3,hce;function Opt(){return hce||(hce=1,r3=Npt()),r3}var jpt=Opt(),fce=Ar(jpt),n3,Ace;function Ppt(){if(Ace)return n3;Ace=1,PNe();var t=Fs();return n3=t("Array","concat"),n3}var i3,Cce;function kpt(){if(Cce)return i3;Cce=1;var t=$i(),e=Ppt(),r=Array.prototype;return i3=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},i3}var s3,Ice;function Dpt(){if(Ice)return s3;Ice=1;var t=kpt();return s3=t,s3}var o3,pce;function Fpt(){return pce||(pce=1,o3=Dpt()),o3}var Lpt=Fpt(),KNe=Ar(Lpt),mce={},vce;function Mpt(){if(vce)return mce;vce=1;var t=lr(),e=ff().filter,r=Z1(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mce}var a3,yce;function Bpt(){if(yce)return a3;yce=1,Mpt();var t=Fs();return a3=t("Array","filter"),a3}var l3,xce;function $pt(){if(xce)return l3;xce=1;var t=$i(),e=Bpt(),r=Array.prototype;return l3=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},l3}var c3,bce;function qpt(){if(bce)return c3;bce=1;var t=$pt();return c3=t,c3}var u3,wce;function zpt(){return wce||(wce=1,u3=qpt()),u3}var Upt=zpt(),ls=Ar(Upt),Sce={},g3,Ece;function Wpt(){if(Ece)return g3;Ece=1;var t=rs(),e=Yr(),r=tn(),n=n_(),i=Y1(),s=su(),o=VE().f,a=r(o),l=r([].push),u=t&&e(function(){var d=Object.create(null);return d[2]=2,!a(d,2)}),g=function(d){return function(f){for(var h=s(f),A=i(h),C=u&&n(h)===null,I=A.length,p=0,m=[],v;I>p;)v=A[p++],(!t||(C?v in h:a(h,v)))&&l(m,d?[v,h[v]]:h[v]);return m}};return g3={entries:g(!0),values:g(!1)},g3}var _ce;function Gpt(){if(_ce)return Sce;_ce=1;var t=lr(),e=Wpt().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),Sce}var d3,Tce;function Vpt(){if(Tce)return d3;Tce=1,Gpt();var t=wn();return d3=t.Object.values,d3}var h3,Rce;function Hpt(){if(Rce)return h3;Rce=1;var t=Vpt();return h3=t,h3}var f3,Nce;function Kpt(){return Nce||(Nce=1,f3=Hpt()),f3}var Ypt=Kpt(),Zpt=Ar(Ypt),Oce={},A3,jce;function CG(){return jce||(jce=1,A3=`	
\v\f\r \u2028\u2029\uFEFF`),A3}var C3,Pce;function YNe(){if(Pce)return C3;Pce=1;var t=tn(),e=_d(),r=sc(),n=CG(),i=t("".replace),s=RegExp("^["+n+"]+"),o=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(l){return function(u){var g=r(e(u));return l&1&&(g=i(g,s,"")),l&2&&(g=i(g,o,"$1")),g}};return C3={start:a(1),end:a(2),trim:a(3)},C3}var I3,kce;function Xpt(){if(kce)return I3;kce=1;var t=Ci(),e=Yr(),r=tn(),n=sc(),i=YNe().trim,s=CG(),o=t.parseInt,a=t.Symbol,l=a&&a.iterator,u=/^[+-]?0x/i,g=r(u.exec),d=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return I3=d?function(h,A){var C=i(n(h));return o(C,A>>>0||(g(u,C)?16:10))}:o,I3}var Dce;function Qpt(){if(Dce)return Oce;Dce=1;var t=lr(),e=Xpt();return t({global:!0,forced:parseInt!==e},{parseInt:e}),Oce}var p3,Fce;function Jpt(){if(Fce)return p3;Fce=1,Qpt();var t=wn();return p3=t.parseInt,p3}var m3,Lce;function emt(){if(Lce)return m3;Lce=1;var t=Jpt();return m3=t,m3}var v3,Mce;function tmt(){return Mce||(Mce=1,v3=emt()),v3}var rmt=tmt(),Tc=Ar(rmt),Bce={},$ce;function nmt(){if($ce)return Bce;$ce=1;var t=lr(),e=tG(),r=sG().indexOf,n=Gm(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!n("indexOf");return t({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),Bce}var y3,qce;function imt(){if(qce)return y3;qce=1,nmt();var t=Fs();return y3=t("Array","indexOf"),y3}var x3,zce;function smt(){if(zce)return x3;zce=1;var t=$i(),e=imt(),r=Array.prototype;return x3=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},x3}var b3,Uce;function omt(){if(Uce)return b3;Uce=1;var t=smt();return b3=t,b3}var w3,Wce;function amt(){return Wce||(Wce=1,w3=omt()),w3}var lmt=amt(),jn=Ar(lmt),Gce={},Vce;function cmt(){if(Vce)return Gce;Vce=1;var t=lr(),e=rs(),r=X1();return t({target:"Object",stat:!0,sham:!e},{create:r}),Gce}var S3,Hce;function umt(){if(Hce)return S3;Hce=1,cmt();var t=wn(),e=t.Object;return S3=function(n,i){return e.create(n,i)},S3}var E3,Kce;function gmt(){if(Kce)return E3;Kce=1;var t=umt();return E3=t,E3}var _3,Yce;function dmt(){return Yce||(Yce=1,_3=gmt()),_3}var hmt=dmt(),zh=Ar(hmt),Zce={},T3,Xce;function fmt(){if(Xce)return T3;Xce=1;var t=zm(),e=sc(),r=_d(),n=RangeError;return T3=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},T3}var R3,Qce;function Amt(){if(Qce)return R3;Qce=1;var t=tn(),e=SNe(),r=sc(),n=fmt(),i=_d(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(g,d,f){var h=r(i(g)),A=e(d),C=h.length,I=f===void 0?" ":r(f),p,m;return A<=C||I===""?h:(p=A-C,m=s(I,a(p/I.length)),m.length>p&&(m=o(m,0,p)),u?h+m:m+h)}};return R3={start:l(!1),end:l(!0)},R3}var N3,Jce;function Cmt(){if(Jce)return N3;Jce=1;var t=tn(),e=Yr(),r=Amt().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),g=t(o.getUTCFullYear),d=t(o.getUTCHours),f=t(o.getUTCMilliseconds),h=t(o.getUTCMinutes),A=t(o.getUTCMonth),C=t(o.getUTCSeconds);return N3=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var p=this,m=g(p),v=f(p),y=m<0?"-":m>9999?"+":"";return y+r(s(m),y?6:4,0)+"-"+r(A(p)+1,2,0)+"-"+r(u(p),2,0)+"T"+r(d(p),2,0)+":"+r(h(p),2,0)+":"+r(C(p),2,0)+"."+r(v,3,0)+"Z"}:a,N3}var eue;function Imt(){if(eue)return Zce;eue=1;var t=lr(),e=La(),r=xl(),n=yNe(),i=Cmt(),s=Ju(),o=Yr(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var g=r(this),d=n(g,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in g)&&s(g)==="Date"?e(i,g):g.toISOString()}}),Zce}var O3,tue;function pmt(){if(tue)return O3;tue=1,Imt(),LNe();var t=wn(),e=GE();return t.JSON||(t.JSON={stringify:JSON.stringify}),O3=function(n,i,s){return e(t.JSON.stringify,null,arguments)},O3}var j3,rue;function mmt(){if(rue)return j3;rue=1;var t=pmt();return j3=t,j3}var P3,nue;function vmt(){return nue||(nue=1,P3=mmt()),P3}var ymt=vmt(),Vm=Ar(ymt),iue={},sue={},k3,oue;function ZNe(){if(oue)return k3;oue=1;var t=Ci(),e=Fm(),r=Ju(),n=function(i){return e.slice(0,i.length)===i};return k3=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),k3}var D3,aue;function xmt(){if(aue)return D3;aue=1;var t=TypeError;return D3=function(e,r){if(e<r)throw new t("Not enough arguments");return e},D3}var F3,lue;function XNe(){if(lue)return F3;lue=1;var t=Ci(),e=GE(),r=Qs(),n=ZNe(),i=Fm(),s=Um(),o=xmt(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return F3=function(u,g){var d=g?2:1;return l?function(f,h){var A=o(arguments.length,1)>d,C=r(f)?f:a(f),I=A?s(arguments,d):[],p=A?function(){e(C,this,I)}:C;return g?u(p,h):u(p)}:u},F3}var cue;function bmt(){if(cue)return sue;cue=1;var t=lr(),e=Ci(),r=XNe(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),sue}var uue={},gue;function wmt(){if(gue)return uue;gue=1;var t=lr(),e=Ci(),r=XNe(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),uue}var due;function QNe(){return due||(due=1,bmt(),wmt()),iue}var L3,hue;function Smt(){if(hue)return L3;hue=1,QNe();var t=wn();return L3=t.setTimeout,L3}var M3,fue;function Emt(){return fue||(fue=1,M3=Smt()),M3}var _mt=Emt(),zu=Ar(_mt),Aue={},B3,Cue;function Tmt(){if(Cue)return B3;Cue=1;var t=xl(),e=XE(),r=Rd();return B3=function(i){for(var s=t(this),o=r(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,g=u===void 0?o:e(u,o);g>l;)s[l++]=i;return s},B3}var Iue;function Rmt(){if(Iue)return Aue;Iue=1;var t=lr(),e=Tmt(),r=hG();return t({target:"Array",proto:!0},{fill:e}),r("fill"),Aue}var $3,pue;function Nmt(){if(pue)return $3;pue=1,Rmt();var t=Fs();return $3=t("Array","fill"),$3}var q3,mue;function Omt(){if(mue)return q3;mue=1;var t=$i(),e=Nmt(),r=Array.prototype;return q3=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},q3}var z3,vue;function jmt(){if(vue)return z3;vue=1;var t=Omt();return z3=t,z3}var U3,yue;function Pmt(){return yue||(yue=1,U3=jmt()),U3}var kmt=Pmt(),J1=Ar(kmt);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Kc(){return Kc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kc.apply(this,arguments)}function oc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Y7;typeof Object.assign!="function"?Y7=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Y7=Object.assign;var uC=Y7,xue=["","webkit","Moz","MS","ms","o"],Dmt=typeof document>"u"?{style:{}}:document.createElement("div"),Fmt="function",YI=Math.round,gC=Math.abs,IG=Date.now;function i_(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<xue.length;){if(r=xue[s],n=r?r+i:e,n in t)return n;s++}}var ed;typeof window>"u"?ed={}:ed=window;var JNe=i_(Dmt.style,"touchAction"),eOe=JNe!==void 0;function Lmt(){if(!eOe)return!1;var t={},e=ed.CSS&&ed.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?ed.CSS.supports("touch-action",r):!0}),t}var tOe="compute",rOe="auto",Z7="manipulation",PA="none",Hy="pan-x",Ky="pan-y",lw=Lmt(),Mmt=/mobile|tablet|ip(ad|hone|od)|android/i,nOe="ontouchstart"in ed,Bmt=i_(ed,"PointerEvent")!==void 0,$mt=nOe&&Mmt.test(navigator.userAgent),ex="touch",qmt="pen",pG="mouse",zmt="kinect",Umt=25,ca=1,LC=2,gs=4,Pa=8,cS=1,tx=2,rx=4,nx=8,Zp=16,Uu=tx|rx,kA=nx|Zp,iOe=Uu|kA,sOe=["x","y"],uS=["clientX","clientY"];function td(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function s_(t,e){return typeof t===Fmt?t.apply(e&&e[0]||void 0,e):t}function gA(t,e){return t.indexOf(e)>-1}function Wmt(t){if(gA(t,PA))return PA;var e=gA(t,Hy),r=gA(t,Ky);return e&&r?PA:e||r?e?Hy:Ky:gA(t,Z7)?Z7:rOe}var oOe=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===tOe&&(n=this.compute()),eOe&&this.manager.element.style&&lw[n]&&(this.manager.element.style[JNe]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return td(this.manager.recognizers,function(i){s_(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Wmt(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=gA(o,PA)&&!lw[PA],l=gA(o,Ky)&&!lw[Ky],u=gA(o,Hy)&&!lw[Hy];if(a){var g=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(g&&d&&f)return}if(!(u&&l)&&(a||l&&s&Uu||u&&s&kA))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function mG(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function aOe(t){var e=t.length;if(e===1)return{x:YI(t[0].clientX),y:YI(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:YI(r/e),y:YI(n/e)}}function bue(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:YI(t.pointers[r].clientX),clientY:YI(t.pointers[r].clientY)},r++;return{timeStamp:IG(),pointers:e,center:aOe(e),deltaX:t.deltaX,deltaY:t.deltaY}}function gS(t,e,r){r||(r=sOe);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function X7(t,e,r){r||(r=sOe);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function lOe(t,e){return t===e?cS:gC(t)>=gC(e)?t<0?tx:rx:e<0?nx:Zp}function Gmt(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===ca||s.eventType===gs)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function cOe(t,e,r){return{x:e/t||0,y:r/t||0}}function Vmt(t,e){return gS(e[0],e[1],uS)/gS(t[0],t[1],uS)}function Hmt(t,e){return X7(e[1],e[0],uS)+X7(t[1],t[0],uS)}function Kmt(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Pa&&(n>Umt||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,g=cOe(n,l,u);s=g.x,o=g.y,i=gC(g.x)>gC(g.y)?g.x:g.y,a=lOe(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function Ymt(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=bue(e)),i>1&&!r.firstMultiple?r.firstMultiple=bue(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=aOe(n);e.timeStamp=IG(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=X7(a,l),e.distance=gS(a,l),Gmt(r,e),e.offsetDirection=lOe(e.deltaX,e.deltaY);var u=cOe(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=gC(u.x)>gC(u.y)?u.x:u.y,e.scale=o?Vmt(o.pointers,n):1,e.rotation=o?Hmt(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Kmt(r,e);var g=t.element,d=e.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,mG(f,g)&&(g=f),e.target=g}function Zmt(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&ca&&n-i===0,o=e&(gs|Pa)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,Ymt(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Yy(t){return t.trim().split(/\s+/g)}function ry(t,e,r){td(Yy(e),function(n){t.addEventListener(n,r,!1)})}function ny(t,e,r){td(Yy(e),function(n){t.removeEventListener(n,r,!1)})}function wue(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Hm=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){s_(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ry(this.element,this.evEl,this.domHandler),this.evTarget&&ry(this.target,this.evTarget,this.domHandler),this.evWin&&ry(wue(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ny(this.element,this.evEl,this.domHandler),this.evTarget&&ny(this.target,this.evTarget,this.domHandler),this.evWin&&ny(wue(this.element),this.evWin,this.domHandler)},t}();function dC(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Xmt={pointerdown:ca,pointermove:LC,pointerup:gs,pointercancel:Pa,pointerout:Pa},Qmt={2:ex,3:qmt,4:pG,5:zmt},uOe="pointerdown",gOe="pointermove pointerup pointercancel";ed.MSPointerEvent&&!ed.PointerEvent&&(uOe="MSPointerDown",gOe="MSPointerMove MSPointerUp MSPointerCancel");var dOe=function(t){oc(e,t);function e(){var n,i=e.prototype;return i.evEl=uOe,i.evWin=gOe,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=Xmt[a],u=Qmt[i.pointerType]||i.pointerType,g=u===ex,d=dC(s,i.pointerId,"pointerId");l&ca&&(i.button===0||g)?d<0&&(s.push(i),d=s.length-1):l&(gs|Pa)&&(o=!0),!(d<0)&&(s[d]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(d,1))},e}(Hm);function Zy(t){return Array.prototype.slice.call(t,0)}function vG(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];dC(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var Jmt={touchstart:ca,touchmove:LC,touchend:gs,touchcancel:Pa},e0t="touchstart touchmove touchend touchcancel",yG=function(t){oc(e,t);function e(){var n;return e.prototype.evTarget=e0t,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Jmt[i.type],o=t0t.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:ex,srcEvent:i})},e}(Hm);function t0t(t,e){var r=Zy(t.touches),n=this.targetIds;if(e&(ca|LC)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=Zy(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return mG(u.target,l)}),e===ca)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(gs|Pa)&&delete n[o[i].identifier],i++;if(a.length)return[vG(s.concat(a),"identifier",!0),a]}var r0t={mousedown:ca,mousemove:LC,mouseup:gs},n0t="mousedown",i0t="mousemove mouseup",xG=function(t){oc(e,t);function e(){var n,i=e.prototype;return i.evEl=n0t,i.evWin=i0t,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=r0t[i.type];s&ca&&i.button===0&&(this.pressed=!0),s&LC&&i.which!==1&&(s=gs),this.pressed&&(s&gs&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:pG,srcEvent:i}))},e}(Hm),s0t=2500,Sue=25;function Eue(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,s0t)}}function o0t(t,e){t&ca?(this.primaryTouch=e.changedPointers[0].identifier,Eue.call(this,e)):t&(gs|Pa)&&Eue.call(this,e)}function a0t(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=Sue&&o<=Sue)return!0}return!1}var hOe=function(){var t=function(e){oc(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var g=u.pointerType===ex,d=u.pointerType===pG;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(g)o0t.call(aw(aw(o)),l,u);else if(d&&a0t.call(aw(aw(o)),u))return;o.callback(a,l,u)}},o.touch=new yG(o.manager,o.handler),o.mouse=new xG(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Hm);return t}();function l0t(t){var e,r=t.options.inputClass;return r?e=r:Bmt?e=dOe:$mt?e=yG:nOe?e=hOe:e=xG,new e(t,Zmt)}function ZI(t,e,r){return Array.isArray(t)?(td(t,r[e],r),!0):!1}var Uw=1,Kl=2,Xp=4,Uh=8,rd=Uh,Xy=16,Fu=32,c0t=1;function u0t(){return c0t++}function cw(t,e){var r=e.manager;return r?r.get(t):t}function _ue(t){return t&Xy?"cancel":t&Uh?"end":t&Xp?"move":t&Kl?"start":""}var ix=function(){function t(r){r===void 0&&(r={}),this.options=Kc({enable:!0},r),this.id=u0t(),this.manager=null,this.state=Uw,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return uC(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(ZI(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=cw(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return ZI(n,"dropRecognizeWith",this)?this:(n=cw(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(ZI(n,"requireFailure",this))return this;var i=this.requireFail;return n=cw(n,this),dC(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(ZI(n,"dropRequireFailure",this))return this;n=cw(n,this);var i=dC(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Uh&&o(i.options.event+_ue(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Uh&&o(i.options.event+_ue(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Fu},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Fu|Uw)))return!1;n++}return!0},e.recognize=function(n){var i=uC({},n);if(!s_(this.options.enable,[this,i])){this.reset(),this.state=Fu;return}this.state&(rd|Xy|Fu)&&(this.state=Uw),this.state=this.process(i),this.state&(Kl|Xp|Uh|Xy)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Q7=function(t){oc(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Kc({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Z7]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&ca&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==gs)return this.failTimeout();var g=this.pTime?i.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||gS(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!g?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=rd,s.tryEmit()},o.interval),Kl):rd}return Fu},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Fu},this.options.interval),Fu},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===rd&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ix),Qp=function(t){oc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Kc({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Kl|Xp),l=this.attrTest(i);return a&&(o&Pa||!l)?s|Xy:a||l?o&gs?s|Uh:s&Kl?s|Xp:Kl:Fu},e}(ix);function fOe(t){return t===Zp?"down":t===nx?"up":t===tx?"left":t===rx?"right":""}var bG=function(t){oc(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Kc({event:"pan",threshold:10,pointers:1,direction:iOe},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Uu&&s.push(Ky),i&kA&&s.push(Hy),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,g=i.deltaY;return l&s.direction||(s.direction&Uu?(l=u===0?cS:u<0?tx:rx,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=g===0?cS:g<0?nx:Zp,o=g!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return Qp.prototype.attrTest.call(this,i)&&(this.state&Kl||!(this.state&Kl)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=fOe(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Qp),AOe=function(t){oc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Kc({event:"swipe",threshold:10,velocity:.3,direction:Uu|kA,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return bG.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(Uu|kA)?o=i.overallVelocity:s&Uu?o=i.overallVelocityX:s&kA&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&gC(o)>this.options.velocity&&i.eventType&gs},r.emit=function(i){var s=fOe(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Qp),COe=function(t){oc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Kc({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[PA]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Kl)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Qp),IOe=function(t){oc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Kc({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[PA]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Kl)},e}(Qp),pOe=function(t){oc(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Kc({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[rOe]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(gs|Pa)&&!u)this.reset();else if(i.eventType&ca)this.reset(),this._timer=setTimeout(function(){s.state=rd,s.tryEmit()},o.time);else if(i.eventType&gs)return rd;return Fu},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===rd&&(i&&i.eventType&gs?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=IG(),this.manager.emit(this.options.event,this._input)))},e}(ix),mOe={domEvents:!1,touchAction:tOe,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Tue=[[IOe,{enable:!1}],[COe,{enable:!1},["rotate"]],[AOe,{direction:Uu}],[bG,{direction:Uu},["swipe"]],[Q7],[Q7,{event:"doubletap",taps:2},["tap"]],[pOe]],g0t=1,Rue=2;function Nue(t,e){var r=t.element;if(r.style){var n;td(t.options.cssProps,function(i,s){n=i_(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function d0t(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var Oue=function(){function t(r,n){var i=this;this.options=uC({},mOe,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=l0t(this),this.touchAction=new oOe(this,this.options.touchAction),Nue(this,!0),td(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return uC(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?Rue:g0t},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&rd)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==Rue&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Kl|Xp|Uh)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof ix)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(ZI(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(ZI(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=dC(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return td(Yy(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return td(Yy(n),function(o){i?s[o]&&s[o].splice(dC(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&d0t(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&Nue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),h0t={touchstart:ca,touchmove:LC,touchend:gs,touchcancel:Pa},f0t="touchstart",A0t="touchstart touchmove touchend touchcancel",C0t=function(t){oc(e,t);function e(){var n,i=e.prototype;return i.evTarget=f0t,i.evWin=A0t,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=h0t[i.type];if(s===ca&&(this.started=!0),!!this.started){var o=I0t.call(this,i,s);s&(gs|Pa)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:ex,srcEvent:i})}},e}(Hm);function I0t(t,e){var r=Zy(t.touches),n=Zy(t.changedTouches);return e&(gs|Pa)&&(r=vG(r.concat(n),"identifier",!0)),[r,n]}function vOe(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var yOe=vOe(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),p0t=vOe(function(t,e){return yOe(t,e,!0)},"merge","Use `assign`.");function m0t(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&uC(i,r)}function jue(t,e){return function(){return t.apply(e,arguments)}}var xOe=function(){var t=function(r,n){return n===void 0&&(n={}),new Oue(r,Kc({recognizers:Tue.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=iOe,t.DIRECTION_DOWN=Zp,t.DIRECTION_LEFT=tx,t.DIRECTION_RIGHT=rx,t.DIRECTION_UP=nx,t.DIRECTION_HORIZONTAL=Uu,t.DIRECTION_VERTICAL=kA,t.DIRECTION_NONE=cS,t.DIRECTION_DOWN=Zp,t.INPUT_START=ca,t.INPUT_MOVE=LC,t.INPUT_END=gs,t.INPUT_CANCEL=Pa,t.STATE_POSSIBLE=Uw,t.STATE_BEGAN=Kl,t.STATE_CHANGED=Xp,t.STATE_ENDED=Uh,t.STATE_RECOGNIZED=rd,t.STATE_CANCELLED=Xy,t.STATE_FAILED=Fu,t.Manager=Oue,t.Input=Hm,t.TouchAction=oOe,t.TouchInput=yG,t.MouseInput=xG,t.PointerEventInput=dOe,t.TouchMouseInput=hOe,t.SingleTouchInput=C0t,t.Recognizer=ix,t.AttrRecognizer=Qp,t.Tap=Q7,t.Pan=bG,t.Swipe=AOe,t.Pinch=COe,t.Rotate=IOe,t.Press=pOe,t.on=ry,t.off=ny,t.each=td,t.merge=p0t,t.extend=yOe,t.bindFn=jue,t.assign=uC,t.inherit=m0t,t.bindFn=jue,t.prefixed=i_,t.toArray=Zy,t.inArray=dC,t.uniqueArray=vG,t.splitStr=Yy,t.boolOrFn=s_,t.hasParent=mG,t.addEventListeners=ry,t.removeEventListeners=ny,t.defaults=uC({},mOe,{preset:Tue}),t}();xOe.defaults;const bOe=IIt("DELETE");function v0t(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return wOe({},t,...r)}function wOe(){const t=dS(...arguments);return EOe(t),t}function dS(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return dS(wOe(e[0],e[1]),...Nc(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of RIt(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===bOe?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!gn(n[s])&&!gn(i[s])?n[s]=dS(n[s],i[s]):n[s]=SOe(i[s]));return n}function SOe(t){return gn(t)?Io(t).call(t,e=>SOe(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):dS({},t):t}function EOe(t){for(const e of oi(t))t[e]===bOe?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&EOe(t[e])}function o_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return y0t(e.length?e:[lS()])}function y0t(t){let[e,r,n]=x0t(t),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function x0t(){const t=b0t();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function b0t(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function w0t(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const wG=typeof window<"u"?window.Hammer||xOe:function(){return w0t()};function Lu(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=wG(this._dom.overlay);r.on("tap",yt(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];an(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{S0t(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}NNe(Lu.prototype);Lu.current=null;Lu.prototype.destroy=function(){this.deactivate();for(const r of jA(t=qu(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Lu.prototype.activate=function(){Lu.current&&Lu.current.deactivate(),Lu.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Lu.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Lu.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function S0t(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const E0t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,_0t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,T0t=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,R0t=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ah(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(ah(e),t.removeChild(e))}}function mp(t){return t instanceof String||typeof t=="string"}function Pue(t){return typeof t=="object"&&t!==null}function hC(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function _Oe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")hC(t,e,n,r);else{const i=t[n],s=e[n];Pue(i)&&Pue(s)&&_Oe(i,s,r)}}function Km(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(gn(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Xn(e[s],r[s],!1,n):hC(e,r,s,n);else{if(gn(r[s]))throw new TypeError("Arrays are not supported by deepExtend");hC(e,r,s,n)}}return e}function hS(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(gn(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!qh(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Xn(e[i],r[i]):hC(e,r,i,n);else if(gn(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else hC(e,r,i,n);return e}function Xn(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&fce(e[s])===Object.prototype)t[s]===void 0?t[s]=Xn({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&fce(t[s])===Object.prototype?Xn(t[s],e[s],r):hC(t,e,s,n);else if(gn(e[s])){var i;t[s]=Nc(i=e[s]).call(i)}else hC(t,e,s,n);return t}function fS(t,e){return[...t,e]}function N0t(t){return Nc(t).call(t)}function O0t(t){return t.getBoundingClientRect().left}function j0t(t){return t.getBoundingClientRect().top}function Hr(t,e){if(gn(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function SG(t){let e;switch(t.length){case 3:case 4:return e=_0t.exec(t),e?{r:Tc(e[1]+e[1],16),g:Tc(e[2]+e[2],16),b:Tc(e[3]+e[3],16)}:null;case 6:case 7:return e=E0t.exec(t),e?{r:Tc(e[1],16),g:Tc(e[2],16),b:Tc(e[3],16)}:null;default:return null}}function Ul(t,e){if(qh(t).call(t,"rgba"))return t;if(qh(t).call(t,"rgb")){const r=t.substr(jn(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=SG(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function TOe(t,e,r){var n;return"#"+Nc(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function J7(t,e){if(mp(t)){let n=t;if(NOe(n)){var r;const i=Io(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Tc(s)});n=TOe(i[0],i[1],i[2])}if(ROe(n)===!0){const i=P0t(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=eU(o.h,o.s,o.v),l=eU(s.h,s.s,s.v);return{background:n,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:mp(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:mp(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Tv(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,a=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:a,s:l,v:i}}function Ww(t,e,r){let n,i,s;const o=Math.floor(t*6),a=t*6-o,l=r*(1-e),u=r*(1-a*e),g=r*(1-(1-a)*e);switch(o%6){case 0:n=r,i=g,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=g;break;case 3:n=l,i=u,s=r;break;case 4:n=g,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function eU(t,e,r){const n=Ww(t,e,r);return TOe(n.r,n.g,n.b)}function P0t(t){const e=SG(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Tv(e.r,e.g,e.b)}function ROe(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function NOe(t){return T0t.test(t)}function k0t(t){return R0t.test(t)}function Wh(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=zh(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Wh(t[r]));return e}function $l(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(h){return h!=null},s=function(h){return h!==null&&typeof h=="object"},o=function(h){for(const A in h)if(Object.prototype.hasOwnProperty.call(h,A))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const a=function(h,A,C){s(h[C])||(h[C]={});const I=A[C],p=h[C];for(const m in I)Object.prototype.hasOwnProperty.call(I,m)&&(p[m]=I[m])},l=e[r],g=s(n)&&!o(n)?n[r]:void 0,d=g?g.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(g))t[r]=zh(g);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:d!==void 0&&(f=g.enabled),a(t,e,r),t[r].enabled=f}const D0t={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function lh(t,e){let r;gn(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const F0t={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let L0t=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return F0t[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),mp(e)===!0){if(NOe(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(k0t(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(ROe(e)===!0){const s=SG(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Vm(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Ji({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",zu(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Ji({},e)),this.color=e;const n=Tv(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(i*n.h),a=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Tv(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Ww(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Tv(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),J1(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=yt(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=yt(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=yt(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=yt(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new wG(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,o,a;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,g=1/this.r;let d;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),d=Ww(o*u,a*g,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,l=i-s,u=Math.atan2(a,l),g=.98*Math.min(Math.sqrt(a*a+l*l),o),d=Math.cos(u)*g+s,f=Math.sin(u)*g+o;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let h=u/(2*Math.PI);h=h<0?h+1:h;const A=g/this.r,C=Tv(this.color.r,this.color.g,this.color.b);C.h=h,C.s=A;const I=Ww(C.h,C.s,C.v);I.a=this.color.a,this.color=I,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function tU(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(tU(...Nc(e).call(e,1))),n}}let M0t=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ji(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new L0t(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(gn(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),ls(e)!==void 0&&(this.options.filter=ls(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);ls(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=ls(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||jn(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return an(n).call(n,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(tU("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&jn(e).call(e,r)!==-1&&(s=jn(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const o=this;i.onchange=function(){o._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeRange(e,r,n){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let u="",g=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),g=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),g=l.min,u="range increased"),r*1.2>o&&o!==1&&(l.max=Math.ceil(r*1.2),g=l.max,u="range increased"),l.value=r):l.value=i;const d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=l.value;const f=this;l.onchange=function(){d.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){d.value=this.value};const h=this._makeLabel(n[n.length-1],n),A=this._makeItem(n,h,l,d);u!==""&&this.popupHistory[A]!==g&&(this.popupHistory[A]=g,this._setupPopup(u,A))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=zu(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=zu(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=ls(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],u=fS(r,a);if(typeof s=="function"&&(i=s(a,r),i===!1&&!gn(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){o=!0;const g=this._getValue(u);if(gn(l))this._handleArray(l,g,u);else if(typeof l=="string")this._makeTextInput(l,g,u);else if(typeof l=="boolean")this._makeCheckbox(l,g,u);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const d=fS(u,"enabled"),f=this._getValue(d);if(f===!0){const h=this._makeLabel(a,u,!0);this._makeItem(u,h),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,f,u)}else{const d=this._makeLabel(a,u,!0);this._makeItem(u,d),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,a,u)}}return o}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(tU("pre","const options = "+Vm(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},B0t=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Tc(e),this.y=Tc(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?o=this.x-n:o=this.x,u?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>i&&(a=i-r-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},av=!1,kue;const rU="background: #FFeeee; color: #dd0000";let $0t=class Ti{static validate(e,r,n){av=!1,kue=r;let i=r;return n!==void 0&&(i=r[n]),Ti.parse(e,i,[]),av}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Ti.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Ti.getSuggestion(e,n,i);return}let s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=Ti.getType(r[e])==="object");let a=n[s];o&&a.__type__!==void 0&&(a=a.__type__),Ti.checkFields(e,r,n,s,a,i)}static checkFields(e,r,n,i,s,o){const a=function(g){console.error("%c"+g+Ti.printLocation(o,e),rU)},l=Ti.getType(r[e]),u=s[l];u!==void 0?Ti.getType(u)==="array"&&jn(u).call(u,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Ti.print(u)+' not "'+r[e]+'". '),av=!0):l==="object"&&i!=="__any__"&&(o=fS(o,e),Ti.parse(r[e],n[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Ti.print(oi(s))+". Received ["+l+'] "'+r[e]+'"'),av=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":gn(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Ti.findInOptions(e,r,n,!1),s=Ti.findInOptions(e,kue,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+Ti.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+Ti.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Ti.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+Ti.printLocation(i.path,e):l=". Did you mean one of these: "+Ti.print(oi(r))+Ti.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,rU),av=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let u;for(const d in r){let f;if(r[d].__type__!==void 0&&i===!0){const h=Ti.findInOptions(e,r[d],fS(n,d));s>h.distance&&(o=h.closestMatch,a=h.path,s=h.distance,u=h.indexMatch)}else{var g;jn(g=d.toLowerCase()).call(g,l)!==-1&&(u=d),f=Ti.levenshteinDistance(e,d),s>f&&(o=d,a=N0t(n),s=f)}}return{closestMatch:o,path:a,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Vm(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const q0t=Lu,z0t=M0t,vp=wG,U0t=B0t,OOe=rU,W0t=$0t;function G0t(t){return Rh=t,Y0t()}var jOe={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},EG=zh(jOe);EG.color="color.color";EG.style="dashes";var ea={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Due={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Rh="",Jp=0,zr="",fr="",va=ea.NULL;function V0t(){Jp=0,zr=Rh.charAt(0)}function Bs(){Jp++,zr=Rh.charAt(Jp)}function NI(){return Rh.charAt(Jp+1)}function Fue(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function af(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function H0t(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function POe(t,e){for(var r,n,i=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(r=0,n=o.nodes.length;r<n;r++)if(e.id===o.nodes[r].id){i=o.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=af(i.attr,t.node))),r=s.length-1;r>=0;r--){var a,l=s[r];l.nodes||(l.nodes=[]),jn(a=l.nodes).call(a,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=af(i.attr,e.attr))}function K0t(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=af({},t.edge);e.attr=af(r,e.attr)}}function kOe(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=af({},t.edge)),s.attr=af(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function Qn(){for(va=ea.NULL,fr="";zr===" "||zr==="	"||zr===`
`||zr==="\r";)Bs();do{var t=!1;if(zr==="#"){for(var e=Jp-1;Rh.charAt(e)===" "||Rh.charAt(e)==="	";)e--;if(Rh.charAt(e)===`
`||Rh.charAt(e)===""){for(;zr!=""&&zr!=`
`;)Bs();t=!0}}if(zr==="/"&&NI()==="/"){for(;zr!=""&&zr!=`
`;)Bs();t=!0}if(zr==="/"&&NI()==="*"){for(;zr!="";)if(zr==="*"&&NI()==="/"){Bs(),Bs();break}else Bs();t=!0}for(;zr===" "||zr==="	"||zr===`
`||zr==="\r";)Bs()}while(t);if(zr===""){va=ea.DELIMITER;return}var r=zr+NI();if(Due[r]){va=ea.DELIMITER,fr=r,Bs(),Bs();return}if(Due[zr]){va=ea.DELIMITER,fr=zr,Bs();return}if(Fue(zr)||zr==="-"){for(fr+=zr,Bs();Fue(zr);)fr+=zr,Bs();fr==="false"?fr=!1:fr==="true"?fr=!0:isNaN(Number(fr))||(fr=Number(fr)),va=ea.IDENTIFIER;return}if(zr==='"'){for(Bs();zr!=""&&(zr!='"'||zr==='"'&&NI()==='"');)zr==='"'?(fr+=zr,Bs()):zr==="\\"&&NI()==="n"?(fr+=`
`,Bs()):fr+=zr,Bs();if(zr!='"')throw ta('End of string " expected');Bs(),va=ea.IDENTIFIER;return}for(va=ea.UNKNOWN;zr!="";)fr+=zr,Bs();throw new SyntaxError('Syntax error in part "'+MOe(fr,30)+'"')}function Y0t(){var t={};if(V0t(),Qn(),fr==="strict"&&(t.strict=!0,Qn()),(fr==="graph"||fr==="digraph")&&(t.type=fr,Qn()),va===ea.IDENTIFIER&&(t.id=fr,Qn()),fr!="{")throw ta("Angle bracket { expected");if(Qn(),DOe(t),fr!="}")throw ta("Angle bracket } expected");if(Qn(),fr!=="")throw ta("End of file expected");return Qn(),delete t.node,delete t.edge,delete t.graph,t}function DOe(t){for(;fr!==""&&fr!="}";)Z0t(t),fr===";"&&Qn()}function Z0t(t){var e=FOe(t);if(e){LOe(t,e);return}var r=X0t(t);if(!r){if(va!=ea.IDENTIFIER)throw ta("Identifier expected");var n=fr;if(Qn(),fr==="="){if(Qn(),va!=ea.IDENTIFIER)throw ta("Identifier expected");t[n]=fr,Qn()}else Q0t(t,n)}}function FOe(t){var e=null;if(fr==="subgraph"&&(e={},e.type="subgraph",Qn(),va===ea.IDENTIFIER&&(e.id=fr,Qn())),fr==="{"){if(Qn(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,DOe(e),fr!="}")throw ta("Angle bracket } expected");Qn(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function X0t(t){return fr==="node"?(Qn(),t.node=iy(),"node"):fr==="edge"?(Qn(),t.edge=iy(),"edge"):fr==="graph"?(Qn(),t.graph=iy(),"graph"):null}function Q0t(t,e){var r={id:e},n=iy();n&&(r.attr=n),POe(t,r),LOe(t,e)}function LOe(t,e){for(;fr==="->"||fr==="--";){var r,n=fr;Qn();var i=FOe(t);if(i)r=i;else{if(va!=ea.IDENTIFIER)throw ta("Identifier or subgraph expected");r=fr,POe(t,{id:r}),Qn()}var s=iy(),o=kOe(t,e,r,n,s);K0t(t,o),e=r}}function iy(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;fr==="[";){for(Qn(),e={};fr!==""&&fr!="]";){if(va!=ea.IDENTIFIER)throw ta("Attribute name expected");var o=fr;if(Qn(),fr!="=")throw ta("Equal sign = expected");if(Qn(),va!=ea.IDENTIFIER)throw ta("Attribute value expected");var a=fr;o==="style"&&(a=r[a]);var l;o==="arrowhead"&&(l=n[a],o="arrows",a={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=n[a],o="arrows",a={from:{enabled:!0,type:l}}),i.push({attr:e,name:o,value:a}),s.push(o),Qn(),fr==","&&Qn()}if(fr!="]")throw ta("Bracket ] expected");Qn()}if(qh(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw ta("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var g=i[u.dir].value;if(!qh(s).call(s,"arrows"))if(g==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(g==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(g==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(g==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw ta('Invalid dir type "'+g+'"');var d,f;if(g==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}},qu(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}});else if(g==="back")u.arrows.to&&u.arrows.from?(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f="",d="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(g==="none"){var h;u.arrows.to?h=u.arrows.to:h=u.arrows.from,i[h]={attr:i[h].attr,name:i[h].name,value:""}}else if(g==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw ta('Invalid dir type "'+g+'"');qu(i).call(i,u.dir,1)}var A;if(qh(s).call(s,"penwidth")){var C=[];for(A=i.length,t=0;t<A;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),C.push(i[t]));i=C}for(A=i.length,t=0;t<A;t++)H0t(i[t].attr,i[t].name,i[t].value);return e}function ta(t){return new SyntaxError(t+', got "'+MOe(fr,30)+'" (char '+Jp+")")}function MOe(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function J0t(t,e,r){gn(t)?an(t).call(t,function(n){gn(e)?an(e).call(e,function(i){r(n,i)}):r(n,e)}):gn(e)?an(e).call(e,function(n){r(t,n)}):r(t,e)}function W3(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,o=0;o<n.length;o++){var a=n[o];a in s||(s[a]={}),s=s[a]}return s[i]=r,t}function Lue(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];gn(i)?an(i).call(i,function(s){W3(r,s,t[n])}):typeof i=="string"?W3(r,i,t[n]):W3(r,n,t[n])}return r}function evt(t){var e=G0t(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;an(n=e.nodes).call(n,function(o){var a={id:o.id,label:String(o.label||o.id)};af(a,Lue(o.attr,jOe)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return af(a,Lue(o.attr,EG)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};an(i=e.edges).call(i,function(o){var a,l;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;an(u=o.from.edges).call(u,function(d){var f=s(d);r.edges.push(f)})}if(J0t(a,l,function(d,f){var h=kOe(r,d.id,f.id,o.type,o.attr),A=s(h);r.edges.push(A)}),o.to instanceof Object&&o.to.edges){var g;an(g=o.to.edges).call(g,function(d){var f=s(d);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function tvt(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Io(i).call(i,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&n.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:Io(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:n.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(n.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:s}}const rvt={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},nvt={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},ivt={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},svt={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},ovt={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},avt={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},lvt={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},cvt={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},uvt={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},gvt={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},dvt={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var hvt=Object.freeze({__proto__:null,cn:cvt,cs:dvt,de:nvt,en:rvt,es:ivt,fr:gvt,it:svt,nl:ovt,pt:avt,ru:lvt,uk:uvt});function fvt(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(KNe(r="Unknown variant ".concat(o," of language ")).call(r,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Avt{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),o=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),g=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,l,i],[a,i,u,s],[5*u,i,g,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,o){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,o)}else e.drawImage(this.image,n,i,s,o)}}class Cvt{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Avt;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Mue={},Bue={},G3={exports:{}},V3,$ue;function Ivt(){if($ue)return V3;$ue=1;var t=Yr();return V3=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),V3}var H3,que;function pvt(){if(que)return H3;que=1;var t=Yr(),e=Js(),r=Ju(),n=Ivt(),i=Object.isExtensible,s=t(function(){});return H3=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,H3}var K3,zue;function BOe(){if(zue)return K3;zue=1;var t=Yr();return K3=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),K3}var Uue;function a_(){if(Uue)return G3.exports;Uue=1;var t=lr(),e=tn(),r=K1(),n=Js(),i=Ds(),s=ic().f,o=t_(),a=gG(),l=pvt(),u=KE(),g=BOe(),d=!1,f=u("meta"),h=0,A=function(y){s(y,f,{value:{objectID:"O"+h++,weakData:{}}})},C=function(y,x){if(!n(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!i(y,f)){if(!l(y))return"F";if(!x)return"E";A(y)}return y[f].objectID},I=function(y,x){if(!i(y,f)){if(!l(y))return!0;if(!x)return!1;A(y)}return y[f].weakData},p=function(y){return g&&d&&l(y)&&!i(y,f)&&A(y),y},m=function(){v.enable=function(){},d=!0;var y=o.f,x=e([].splice),T={};T[f]=1,y(T).length&&(o.f=function(E){for(var _=y(E),S=0,j=_.length;S<j;S++)if(_[S]===f){x(_,S,1);break}return _},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},v=G3.exports={enable:m,fastKey:C,getWeakData:I,onFreeze:p};return r[f]=!0,G3.exports}var Y3,Wue;function mvt(){if(Wue)return Y3;Wue=1;var t=As(),e=Wm(),r=t("iterator"),n=Array.prototype;return Y3=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Y3}var Z3,Gue;function $Oe(){if(Gue)return Z3;Gue=1;var t=hf(),e=rG(),r=Dm(),n=Wm(),i=As(),s=i("iterator");return Z3=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},Z3}var X3,Vue;function qOe(){if(Vue)return X3;Vue=1;var t=La(),e=Td(),r=eg(),n=Mm(),i=$Oe(),s=TypeError;return X3=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},X3}var Q3,Hue;function _G(){if(Hue)return Q3;Hue=1;var t=La(),e=eg(),r=rG();return Q3=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Q3}var J3,Kue;function l_(){if(Kue)return J3;Kue=1;var t=ZE(),e=La(),r=eg(),n=Mm(),i=mvt(),s=Rd(),o=$i(),a=qOe(),l=$Oe(),u=_G(),g=TypeError,d=function(h,A){this.stopped=h,this.result=A},f=d.prototype;return J3=function(h,A,C){var I=C&&C.that,p=!!(C&&C.AS_ENTRIES),m=!!(C&&C.IS_RECORD),v=!!(C&&C.IS_ITERATOR),y=!!(C&&C.INTERRUPTED),x=t(A,I),T,E,_,S,j,w,R,N=function(M){return T&&u(T,"normal"),new d(!0,M)},P=function(M){return p?(r(M),y?x(M[0],M[1],N):x(M[0],M[1])):y?x(M,N):x(M)};if(m)T=h.iterator;else if(v)T=h;else{if(E=l(h),!E)throw new g(n(h)+" is not iterable");if(i(E)){for(_=0,S=s(h);S>_;_++)if(j=P(h[_]),j&&o(f,j))return j;return new d(!1)}T=a(h,E)}for(w=m?h.next:T.next;!(R=e(w,T)).done;){try{j=P(R.value)}catch(M){u(T,"throw",M)}if(typeof j=="object"&&j&&o(f,j))return j}return new d(!1)},J3}var e4,Yue;function TG(){if(Yue)return e4;Yue=1;var t=$i(),e=TypeError;return e4=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},e4}var t4,Zue;function RG(){if(Zue)return t4;Zue=1;var t=lr(),e=Ci(),r=a_(),n=Yr(),i=qm(),s=l_(),o=TG(),a=Qs(),l=Js(),u=Dm(),g=DC(),d=ic().f,f=ff().forEach,h=rs(),A=FC(),C=A.set,I=A.getterFor;return t4=function(p,m,v){var y=p.indexOf("Map")!==-1,x=p.indexOf("Weak")!==-1,T=y?"set":"add",E=e[p],_=E&&E.prototype,S={},j;if(!h||!a(E)||!(x||_.forEach&&!n(function(){new E().entries().next()})))j=v.getConstructor(m,p,y,T),r.enable();else{j=m(function(N,P){C(o(N,w),{type:p,collection:new E}),u(P)||s(P,N[T],{that:N,AS_ENTRIES:y})});var w=j.prototype,R=I(p);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var P=N==="add"||N==="set";N in _&&!(x&&N==="clear")&&i(w,N,function(M,B){var W=R(this).collection;if(!P&&x&&!l(M))return N==="get"?void 0:!1;var H=W[N](M===0?0:M,B);return P?this:H})}),x||d(w,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return g(j,p,!1,!0),S[p]=j,t({global:!0,forced:!0},S),x||v.setStrong(j,p,y),j},t4}var r4,Xue;function NG(){if(Xue)return r4;Xue=1;var t=Q1();return r4=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},r4}var n4,Que;function vvt(){if(Que)return n4;Que=1;var t=yl(),e=dG(),r=As(),n=rs(),i=r("species");return n4=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},n4}var i4,Jue;function zOe(){if(Jue)return i4;Jue=1;var t=X1(),e=dG(),r=NG(),n=ZE(),i=TG(),s=Dm(),o=l_(),a=fG(),l=AG(),u=vvt(),g=rs(),d=a_().fastKey,f=FC(),h=f.set,A=f.getterFor;return i4={getConstructor:function(C,I,p,m){var v=C(function(_,S){i(_,y),h(_,{type:I,index:t(null),first:null,last:null,size:0}),g||(_.size=0),s(S)||o(S,_[m],{that:_,AS_ENTRIES:p})}),y=v.prototype,x=A(I),T=function(_,S,j){var w=x(_),R=E(_,S),N,P;return R?R.value=j:(w.last=R={index:P=d(S,!0),key:S,value:j,previous:N=w.last,next:null,removed:!1},w.first||(w.first=R),N&&(N.next=R),g?w.size++:_.size++,P!=="F"&&(w.index[P]=R)),_},E=function(_,S){var j=x(_),w=d(S),R;if(w!=="F")return j.index[w];for(R=j.first;R;R=R.next)if(R.key===S)return R};return r(y,{clear:function(){for(var S=this,j=x(S),w=j.first;w;)w.removed=!0,w.previous&&(w.previous=w.previous.next=null),w=w.next;j.first=j.last=null,j.index=t(null),g?j.size=0:S.size=0},delete:function(_){var S=this,j=x(S),w=E(S,_);if(w){var R=w.next,N=w.previous;delete j.index[w.index],w.removed=!0,N&&(N.next=R),R&&(R.previous=N),j.first===w&&(j.first=R),j.last===w&&(j.last=N),g?j.size--:S.size--}return!!w},forEach:function(S){for(var j=x(this),w=n(S,arguments.length>1?arguments[1]:void 0),R;R=R?R.next:j.first;)for(w(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(S){return!!E(this,S)}}),r(y,p?{get:function(S){var j=E(this,S);return j&&j.value},set:function(S,j){return T(this,S===0?0:S,j)}}:{add:function(S){return T(this,S=S===0?0:S,S)}}),g&&e(y,"size",{configurable:!0,get:function(){return x(this).size}}),v},setStrong:function(C,I,p){var m=I+" Iterator",v=A(I),y=A(m);a(C,I,function(x,T){h(this,{type:m,target:x,state:v(x),kind:T,last:null})},function(){for(var x=y(this),T=x.kind,E=x.last;E&&E.removed;)E=E.previous;return!x.target||!(x.last=E=E?E.next:x.state.first)?(x.target=null,l(void 0,!0)):l(T==="keys"?E.key:T==="values"?E.value:[E.key,E.value],!1)},p?"entries":"values",!p,!0),u(I)}},i4}var ege;function yvt(){if(ege)return Bue;ege=1;var t=RG(),e=zOe();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Bue}var tge;function xvt(){return tge||(tge=1,yvt()),Mue}var rge={},s4,nge;function UOe(){return nge||(nge=1,s4=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),s4}var o4,ige;function bvt(){if(ige)return o4;ige=1;var t=yl(),e=UOe(),r=t("Map");return o4={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},o4}var sge;function wvt(){if(sge)return rge;sge=1;var t=lr(),e=tn(),r=Td(),n=_d(),i=l_(),s=bvt(),o=Bm(),a=Yr(),l=s.Map,u=s.has,g=s.get,d=s.set,f=e([].push),h=o||a(function(){return l.groupBy("ab",function(A){return A}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||h},{groupBy:function(C,I){n(C),r(I);var p=new l,m=0;return i(C,function(v){var y=I(v,m++);u(p,y)?f(g(p,y),v):d(p,y,[v])}),p}}),rge}var oge={},a4,age;function Svt(){if(age)return a4;age=1;var t=tn(),e=zm(),r=sc(),n=_d(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,g){var d=r(n(u)),f=e(g),h=d.length,A,C;return f<0||f>=h?l?"":void 0:(A=s(d,f),A<55296||A>56319||f+1===h||(C=s(d,f+1))<56320||C>57343?l?i(d,f):A:l?o(d,f,f+2):(A-55296<<10)+(C-56320)+65536)}};return a4={codeAt:a(!1),charAt:a(!0)},a4}var lge;function c_(){if(lge)return oge;lge=1;var t=Svt().charAt,e=sc(),r=FC(),n=fG(),i=AG(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),g=u.string,d=u.index,f;return d>=g.length?i(void 0,!0):(f=t(g,d),u.index+=f.length,i(f,!1))}),oge}var l4,cge;function Evt(){if(cge)return l4;cge=1,Nd(),xvt(),wvt(),c_();var t=wn();return l4=t.Map,l4}var c4,uge;function _vt(){if(uge)return c4;uge=1;var t=Evt();return Od(),c4=t,c4}var u4,gge;function Tvt(){return gge||(gge=1,u4=_vt()),u4}var Rvt=Tvt(),sx=Ar(Rvt);class Nvt{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ji(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&jn(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new sx,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var dge={},hge;function Ovt(){if(hge)return dge;hge=1;var t=lr();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),dge}var g4,fge;function jvt(){if(fge)return g4;fge=1,Ovt();var t=wn();return g4=t.Number.isNaN,g4}var d4,Age;function Pvt(){if(Age)return d4;Age=1;var t=jvt();return d4=t,d4}var h4,Cge;function kvt(){return Cge||(Cge=1,h4=Pvt()),h4}var Dvt=kvt(),nU=Ar(Dvt),Ige={},f4,pge;function Fvt(){if(pge)return f4;pge=1;var t=Ci(),e=t.isFinite;return f4=Number.isFinite||function(n){return typeof n=="number"&&e(n)},f4}var mge;function Lvt(){if(mge)return Ige;mge=1;var t=lr(),e=Fvt();return t({target:"Number",stat:!0},{isFinite:e}),Ige}var A4,vge;function Mvt(){if(vge)return A4;vge=1,Lvt();var t=wn();return A4=t.Number.isFinite,A4}var C4,yge;function Bvt(){if(yge)return C4;yge=1;var t=Mvt();return C4=t,C4}var I4,xge;function $vt(){return xge||(xge=1,I4=Bvt()),I4}var qvt=$vt(),dA=Ar(qvt),bge={},wge;function zvt(){if(wge)return bge;wge=1;var t=lr(),e=ff().some,r=Gm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),bge}var p4,Sge;function Uvt(){if(Sge)return p4;Sge=1,zvt();var t=Fs();return p4=t("Array","some"),p4}var m4,Ege;function Wvt(){if(Ege)return m4;Ege=1;var t=$i(),e=Uvt(),r=Array.prototype;return m4=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},m4}var v4,_ge;function Gvt(){if(_ge)return v4;_ge=1;var t=Wvt();return v4=t,v4}var y4,Tge;function Vvt(){return Tge||(Tge=1,y4=Gvt()),y4}var Hvt=Vvt(),WOe=Ar(Hvt),x4,Rge;function Kvt(){if(Rge)return x4;Rge=1,MNe();var t=wn();return x4=t.Object.getOwnPropertySymbols,x4}var b4,Nge;function Yvt(){if(Nge)return b4;Nge=1;var t=Kvt();return b4=t,b4}var w4,Oge;function Zvt(){return Oge||(Oge=1,w4=Yvt()),w4}var Xvt=Zvt(),Ku=Ar(Xvt),S4={exports:{}},jge={},Pge;function Qvt(){if(Pge)return jge;Pge=1;var t=lr(),e=Yr(),r=su(),n=YE().f,i=rs(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),jge}var kge;function Jvt(){if(kge)return S4.exports;kge=1,Qvt();var t=wn(),e=t.Object,r=S4.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),S4.exports}var E4,Dge;function eyt(){if(Dge)return E4;Dge=1;var t=Jvt();return E4=t,E4}var _4,Fge;function tyt(){return Fge||(Fge=1,_4=eyt()),_4}var ryt=tyt(),tg=Ar(ryt),Lge={},Mge;function nyt(){if(Mge)return Lge;Mge=1;var t=lr(),e=rs(),r=VNe(),n=su(),i=YE(),s=JE();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,g=r(l),d={},f=0,h,A;g.length>f;)A=u(l,h=g[f++]),A!==void 0&&s(d,h,A);return d}}),Lge}var T4,Bge;function iyt(){if(Bge)return T4;Bge=1,nyt();var t=wn();return T4=t.Object.getOwnPropertyDescriptors,T4}var R4,$ge;function syt(){if($ge)return R4;$ge=1;var t=iyt();return R4=t,R4}var N4,qge;function oyt(){return qge||(qge=1,N4=syt()),N4}var ayt=oyt(),Yu=Ar(ayt),O4={exports:{}},zge={},Uge;function lyt(){if(Uge)return zge;Uge=1;var t=lr(),e=rs(),r=uG().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),zge}var Wge;function cyt(){if(Wge)return O4.exports;Wge=1,lyt();var t=wn(),e=t.Object,r=O4.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),O4.exports}var j4,Gge;function uyt(){if(Gge)return j4;Gge=1;var t=cyt();return j4=t,j4}var P4,Vge;function gyt(){return Vge||(Vge=1,P4=uyt()),P4}var dyt=gyt(),ox=Ar(dyt),k4={exports:{}},Hge={},Kge;function hyt(){if(Kge)return Hge;Kge=1;var t=lr(),e=rs(),r=ic().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),Hge}var Yge;function fyt(){if(Yge)return k4.exports;Yge=1,hyt();var t=wn(),e=t.Object,r=k4.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),k4.exports}var D4,Zge;function GOe(){if(Zge)return D4;Zge=1;var t=fyt();return D4=t,D4}var F4,Xge;function Ayt(){if(Xge)return F4;Xge=1;var t=GOe();return F4=t,F4}var L4,Qge;function Cyt(){if(Qge)return L4;Qge=1;var t=Ayt();return L4=t,L4}var M4,Jge;function Iyt(){return Jge||(Jge=1,M4=Cyt()),M4}var pyt=Iyt(),myt=Ar(pyt),ede={},tde;function vyt(){if(tde)return ede;tde=1;var t=As(),e=ic().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),ede}var rde={},nde;function yyt(){return nde||(nde=1,BNe()),rde}var ide={},sde;function xyt(){return sde||(sde=1,$Ne()),ide}var ode={},ade;function byt(){if(ade)return ode;ade=1;var t=yi();return t("metadata"),ode}var B4,lde;function wyt(){if(lde)return B4;lde=1;var t=GNe();return vyt(),yyt(),xyt(),byt(),B4=t,B4}var cde={},$4,ude;function VOe(){if(ude)return $4;ude=1;var t=yl(),e=tn(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return $4=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},$4}var gde;function Syt(){if(gde)return cde;gde=1;var t=lr(),e=VOe();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),cde}var dde={},q4,hde;function HOe(){if(hde)return q4;hde=1;for(var t=$m(),e=yl(),r=tn(),n=H1(),i=As(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),g=0,d=a(s),f=d.length;g<f;g++)try{var h=d[g];n(s[h])&&i(h)}catch{}return q4=function(C){if(o&&o(C))return!0;try{for(var I=l(C),p=0,m=a(u),v=m.length;p<v;p++)if(u[m[p]]==I)return!0}catch{}return!1},q4}var fde;function Eyt(){if(fde)return dde;fde=1;var t=lr(),e=HOe();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),dde}var Ade={},Cde;function _yt(){if(Cde)return Ade;Cde=1;var t=yi();return t("customMatcher"),Ade}var Ide={},pde;function Tyt(){if(pde)return Ide;pde=1;var t=yi();return t("observable"),Ide}var mde={},vde;function Ryt(){if(vde)return mde;vde=1;var t=lr(),e=VOe();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),mde}var yde={},xde;function Nyt(){if(xde)return yde;xde=1;var t=lr(),e=HOe();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),yde}var bde={},wde;function Oyt(){if(wde)return bde;wde=1;var t=yi();return t("matcher"),bde}var Sde={},Ede;function jyt(){if(Ede)return Sde;Ede=1;var t=yi();return t("metadataKey"),Sde}var _de={},Tde;function Pyt(){if(Tde)return _de;Tde=1;var t=yi();return t("patternMatch"),_de}var Rde={},Nde;function kyt(){if(Nde)return Rde;Nde=1;var t=yi();return t("replaceAll"),Rde}var z4,Ode;function Dyt(){if(Ode)return z4;Ode=1;var t=wyt();return Syt(),Eyt(),_yt(),Tyt(),Ryt(),Nyt(),Oyt(),jyt(),Pyt(),kyt(),z4=t,z4}var U4,jde;function Fyt(){return jde||(jde=1,U4=Dyt()),U4}var Lyt=Fyt(),uw=Ar(Lyt),W4,Pde;function Myt(){if(Pde)return W4;Pde=1,Nd(),c_(),qNe();var t=r_();return W4=t.f("iterator"),W4}var G4,kde;function KOe(){if(kde)return G4;kde=1;var t=Myt();return Od(),G4=t,G4}var V4,Dde;function Byt(){if(Dde)return V4;Dde=1;var t=KOe();return V4=t,V4}var H4,Fde;function $yt(){if(Fde)return H4;Fde=1;var t=Byt();return H4=t,H4}var K4,Lde;function qyt(){return Lde||(Lde=1,K4=$yt()),K4}var zyt=qyt(),Uyt=Ar(zyt);function Qy(t){"@babel/helpers - typeof";return Qy=typeof uw=="function"&&typeof Uyt=="symbol"?function(e){return typeof e}:function(e){return e&&typeof uw=="function"&&e.constructor===uw&&e!==uw.prototype?"symbol":typeof e},Qy(t)}var Y4,Mde;function Wyt(){if(Mde)return Y4;Mde=1,zNe();var t=r_();return Y4=t.f("toPrimitive"),Y4}var Z4,Bde;function Gyt(){if(Bde)return Z4;Bde=1;var t=Wyt();return Z4=t,Z4}var X4,$de;function Vyt(){if($de)return X4;$de=1;var t=Gyt();return X4=t,X4}var Q4,qde;function Hyt(){if(qde)return Q4;qde=1;var t=Vyt();return Q4=t,Q4}var J4,zde;function Kyt(){return zde||(zde=1,J4=Hyt()),J4}var Yyt=Kyt(),Zyt=Ar(Yyt);function Xyt(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Zyt];if(r!==void 0){var n=r.call(t,e);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qyt(t){var e=Xyt(t,"string");return Qy(e)=="symbol"?e:e+""}function li(t,e,r){return(e=Qyt(e))in t?myt(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ude={},eL,Wde;function Jyt(){if(Wde)return eL;Wde=1;var t=Td(),e=xl(),r=HE(),n=Rd(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,g,d){var f=e(l),h=r(f),A=n(f);if(t(u),A===0&&g<2)throw new i(s);var C=a?A-1:0,I=a?-1:1;if(g<2)for(;;){if(C in h){d=h[C],C+=I;break}if(C+=I,a?C<0:A<=C)throw new i(s)}for(;a?C>=0:A>C;C+=I)C in h&&(d=u(d,h[C],C,f));return d}};return eL={left:o(!1),right:o(!0)},eL}var tL,Gde;function e1t(){if(Gde)return tL;Gde=1;var t=ZNe();return tL=t==="NODE",tL}var Vde;function t1t(){if(Vde)return Ude;Vde=1;var t=lr(),e=Jyt().left,r=Gm(),n=V1(),i=e1t(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),Ude}var rL,Hde;function r1t(){if(Hde)return rL;Hde=1,t1t();var t=Fs();return rL=t("Array","reduce"),rL}var nL,Kde;function n1t(){if(Kde)return nL;Kde=1;var t=$i(),e=r1t(),r=Array.prototype;return nL=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},nL}var iL,Yde;function i1t(){if(Yde)return iL;Yde=1;var t=n1t();return iL=t,iL}var sL,Zde;function s1t(){return Zde||(Zde=1,sL=i1t()),sL}var o1t=s1t(),OG=Ar(o1t),oL,Xde;function a1t(){return Xde||(Xde=1,oL=KOe()),oL}var l1t=a1t(),XI=Ar(l1t),Qde={},Jde={},ehe;function c1t(){if(ehe)return Jde;ehe=1;var t=RG(),e=zOe();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Jde}var the;function u1t(){return the||(the=1,c1t()),Qde}var rhe={},aL,nhe;function MC(){if(nhe)return aL;nhe=1;var t=Mm(),e=TypeError;return aL=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},aL}var lL,ihe;function BC(){if(ihe)return lL;ihe=1;var t=yl(),e=UOe(),r=t("Set"),n=r.prototype;return lL={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},lL}var cL,she;function $C(){if(she)return cL;she=1;var t=La();return cL=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},cL}var uL,ohe;function ax(){if(ohe)return uL;ohe=1;var t=$C();return uL=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},uL}var gL,ahe;function jG(){if(ahe)return gL;ahe=1;var t=BC(),e=ax(),r=t.Set,n=t.add;return gL=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},gL}var dL,lhe;function lx(){return lhe||(lhe=1,dL=function(t){return t.size}),dL}var hL,che;function g1t(){return che||(che=1,hL=function(t){return{iterator:t,next:t.next,done:!1}}),hL}var fL,uhe;function qC(){if(uhe)return fL;uhe=1;var t=Td(),e=eg(),r=La(),n=zm(),i=g1t(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(g,d){this.set=g,this.size=l(d,0),this.has=t(g.has),this.keys=t(g.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(g){return r(this.has,this.set,g)}},fL=function(g){e(g);var d=+g.size;if(d!==d)throw new a(s);var f=n(d);if(f<0)throw new o(s);return new u(g,f)},fL}var AL,ghe;function d1t(){if(ghe)return AL;ghe=1;var t=MC(),e=BC(),r=jG(),n=lx(),i=qC(),s=ax(),o=$C(),a=e.has,l=e.remove;return AL=function(g){var d=t(this),f=i(g),h=r(d);return n(d)<=f.size?s(d,function(A){f.includes(A)&&l(h,A)}):o(f.getIterator(),function(A){a(h,A)&&l(h,A)}),h},AL}var CL,dhe;function zC(){return dhe||(dhe=1,CL=function(){return!1}),CL}var hhe;function h1t(){if(hhe)return rhe;hhe=1;var t=lr(),e=d1t(),r=Yr(),n=zC(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),rhe}var fhe={},IL,Ahe;function f1t(){if(Ahe)return IL;Ahe=1;var t=MC(),e=BC(),r=lx(),n=qC(),i=ax(),s=$C(),o=e.Set,a=e.add,l=e.has;return IL=function(g){var d=t(this),f=n(g),h=new o;return r(d)>f.size?s(f.getIterator(),function(A){l(d,A)&&a(h,A)}):i(d,function(A){f.includes(A)&&a(h,A)}),h},IL}var Che;function A1t(){if(Che)return fhe;Che=1;var t=lr(),e=Yr(),r=f1t(),n=zC(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),fhe}var Ihe={},pL,phe;function C1t(){if(phe)return pL;phe=1;var t=MC(),e=BC().has,r=lx(),n=qC(),i=ax(),s=$C(),o=_G();return pL=function(l){var u=t(this),g=n(l);if(r(u)<=g.size)return i(u,function(f){if(g.includes(f))return!1},!0)!==!1;var d=g.getIterator();return s(d,function(f){if(e(u,f))return o(d,"normal",!1)})!==!1},pL}var mhe;function I1t(){if(mhe)return Ihe;mhe=1;var t=lr(),e=C1t(),r=zC(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),Ihe}var vhe={},mL,yhe;function p1t(){if(yhe)return mL;yhe=1;var t=MC(),e=lx(),r=ax(),n=qC();return mL=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},mL}var xhe;function m1t(){if(xhe)return vhe;xhe=1;var t=lr(),e=p1t(),r=zC(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),vhe}var bhe={},vL,whe;function v1t(){if(whe)return vL;whe=1;var t=MC(),e=BC().has,r=lx(),n=qC(),i=$C(),s=_G();return vL=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var g=u.getIterator();return i(g,function(d){if(!e(l,d))return s(g,"normal",!1)})!==!1},vL}var She;function y1t(){if(She)return bhe;She=1;var t=lr(),e=v1t(),r=zC(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),bhe}var Ehe={},yL,_he;function x1t(){if(_he)return yL;_he=1;var t=MC(),e=BC(),r=jG(),n=qC(),i=$C(),s=e.add,o=e.has,a=e.remove;return yL=function(u){var g=t(this),d=n(u).getIterator(),f=r(g);return i(d,function(h){o(g,h)?a(f,h):s(f,h)}),f},yL}var xL,The;function YOe(){return The||(The=1,xL=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),xL}var Rhe;function b1t(){if(Rhe)return Ehe;Rhe=1;var t=lr(),e=x1t(),r=YOe(),n=zC(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),Ehe}var Nhe={},bL,Ohe;function w1t(){if(Ohe)return bL;Ohe=1;var t=MC(),e=BC().add,r=jG(),n=qC(),i=$C();return bL=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(g){e(u,g)}),u},bL}var jhe;function S1t(){if(jhe)return Nhe;jhe=1;var t=lr(),e=w1t(),r=YOe(),n=zC(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),Nhe}var wL,Phe;function E1t(){if(Phe)return wL;Phe=1,Nd(),u1t(),h1t(),A1t(),I1t(),m1t(),y1t(),b1t(),S1t(),c_();var t=wn();return wL=t.Set,wL}var SL,khe;function _1t(){if(khe)return SL;khe=1;var t=E1t();return Od(),SL=t,SL}var EL,Dhe;function T1t(){return Dhe||(Dhe=1,EL=_1t()),EL}var R1t=T1t(),Oc=Ar(R1t),_L,Fhe;function N1t(){if(Fhe)return _L;Fhe=1,Nd(),c_();var t=qOe();return _L=t,_L}var TL,Lhe;function O1t(){if(Lhe)return TL;Lhe=1;var t=N1t();return Od(),TL=t,TL}var RL,Mhe;function j1t(){if(Mhe)return RL;Mhe=1;var t=O1t();return RL=t,RL}var NL,Bhe;function P1t(){if(Bhe)return NL;Bhe=1;var t=j1t();return NL=t,NL}var OL,$he;function k1t(){return $he||($he=1,OL=P1t()),OL}var jL,qhe;function D1t(){return qhe||(qhe=1,jL=k1t()),jL}var F1t=D1t(),PL=Ar(F1t),zhe={},kL,Uhe;function L1t(){if(Uhe)return kL;Uhe=1;var t=Um(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),g=r(t(n,0,u),i),d=r(t(n,u),i),f=g.length,h=d.length,A=0,C=0;A<f||C<h;)n[A+C]=A<f&&C<h?i(g[A],d[C])<=0?g[A++]:d[C++]:A<f?g[A++]:d[C++];return n};return kL=r,kL}var DL,Whe;function M1t(){if(Whe)return DL;Whe=1;var t=Fm(),e=t.match(/firefox\/(\d+)/i);return DL=!!e&&+e[1],DL}var FL,Ghe;function B1t(){if(Ghe)return FL;Ghe=1;var t=Fm();return FL=/MSIE|Trident/.test(t),FL}var LL,Vhe;function $1t(){if(Vhe)return LL;Vhe=1;var t=Fm(),e=t.match(/AppleWebKit\/(\d+)\./);return LL=!!e&&+e[1],LL}var Hhe;function q1t(){if(Hhe)return zhe;Hhe=1;var t=lr(),e=tn(),r=Td(),n=xl(),i=Rd(),s=HNe(),o=sc(),a=Yr(),l=L1t(),u=Gm(),g=M1t(),d=B1t(),f=V1(),h=$1t(),A=[],C=e(A.sort),I=e(A.push),p=a(function(){A.sort(void 0)}),m=a(function(){A.sort(null)}),v=u("sort"),y=!a(function(){if(f)return f<70;if(!(g&&g>3)){if(d)return!0;if(h)return h<603;var E="",_,S,j,w;for(_=65;_<76;_++){switch(S=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:j=3;break;case 68:case 71:j=4;break;default:j=2}for(w=0;w<47;w++)A.push({k:S+w,v:j})}for(A.sort(function(R,N){return N.v-R.v}),w=0;w<A.length;w++)S=A[w].k.charAt(0),E.charAt(E.length-1)!==S&&(E+=S);return E!=="DGBEFHACIJK"}}),x=p||!m||!v||!y,T=function(E){return function(_,S){return S===void 0?-1:_===void 0?1:E!==void 0?+E(_,S)||0:o(_)>o(S)?1:-1}};return t({target:"Array",proto:!0,forced:x},{sort:function(_){_!==void 0&&r(_);var S=n(this);if(y)return _===void 0?C(S):C(S,_);var j=[],w=i(S),R,N;for(N=0;N<w;N++)N in S&&I(j,S[N]);for(l(j,T(_)),R=i(j),N=0;N<R;)S[N]=j[N++];for(;N<w;)s(S,N++);return S}}),zhe}var ML,Khe;function z1t(){if(Khe)return ML;Khe=1,q1t();var t=Fs();return ML=t("Array","sort"),ML}var BL,Yhe;function U1t(){if(Yhe)return BL;Yhe=1;var t=$i(),e=z1t(),r=Array.prototype;return BL=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},BL}var $L,Zhe;function W1t(){if(Zhe)return $L;Zhe=1;var t=U1t();return $L=t,$L}var qL,Xhe;function G1t(){return Xhe||(Xhe=1,qL=W1t()),qL}var V1t=G1t(),nd=Ar(V1t),zL,Qhe;function H1t(){if(Qhe)return zL;Qhe=1,Nd();var t=Fs();return zL=t("Array","keys"),zL}var UL,Jhe;function K1t(){if(Jhe)return UL;Jhe=1;var t=H1t();return UL=t,UL}var WL,efe;function Y1t(){if(efe)return WL;efe=1,Od();var t=hf(),e=Ds(),r=$i(),n=K1t(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return WL=function(o){var a=o.keys;return o===i||r(i,o)&&a===i.keys||e(s,t(o))?n:a},WL}var GL,tfe;function Z1t(){return tfe||(tfe=1,GL=Y1t()),GL}var X1t=Z1t(),OI=Ar(X1t),VL,rfe;function Q1t(){if(rfe)return VL;rfe=1,Nd();var t=Fs();return VL=t("Array","values"),VL}var HL,nfe;function J1t(){if(nfe)return HL;nfe=1;var t=Q1t();return HL=t,HL}var KL,ife;function ext(){if(ife)return KL;ife=1,Od();var t=hf(),e=Ds(),r=$i(),n=J1t(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return KL=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},KL}var YL,sfe;function txt(){return sfe||(sfe=1,YL=ext()),YL}var rxt=txt(),AS=Ar(rxt),ZL,ofe;function nxt(){if(ofe)return ZL;ofe=1,Nd();var t=Fs();return ZL=t("Array","entries"),ZL}var XL,afe;function ixt(){if(afe)return XL;afe=1;var t=nxt();return XL=t,XL}var QL,lfe;function sxt(){if(lfe)return QL;lfe=1,Od();var t=hf(),e=Ds(),r=$i(),n=ixt(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return QL=function(o){var a=o.entries;return o===i||r(i,o)&&a===i.entries||e(s,t(o))?n:a},QL}var JL,cfe;function oxt(){return cfe||(cfe=1,JL=sxt()),JL}var axt=oxt(),lxt=Ar(axt),eM,ufe;function cxt(){return ufe||(ufe=1,eM=GOe()),eM}var uxt=cxt(),cx=Ar(uxt);const lo=[];for(let t=0;t<256;++t)lo.push((t+256).toString(16).slice(1));function gxt(t,e=0){return(lo[t[e+0]]+lo[t[e+1]]+lo[t[e+2]]+lo[t[e+3]]+"-"+lo[t[e+4]]+lo[t[e+5]]+"-"+lo[t[e+6]]+lo[t[e+7]]+"-"+lo[t[e+8]]+lo[t[e+9]]+"-"+lo[t[e+10]]+lo[t[e+11]]+lo[t[e+12]]+lo[t[e+13]]+lo[t[e+14]]+lo[t[e+15]]).toLowerCase()}let tM;const dxt=new Uint8Array(16);function hxt(){if(!tM){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tM=crypto.getRandomValues.bind(crypto)}return tM(dxt)}const fxt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var gfe={randomUUID:fxt};function Axt(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??hxt();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,gxt(n)}function yp(t,e,r){return gfe.randomUUID&&!t?gfe.randomUUID():Axt(t)}function dfe(t,e){var r=oi(t);if(Ku){var n=Ku(t);e&&(n=ls(n).call(n,function(i){return tg(t,i).enumerable})),r.push.apply(r,n)}return r}function hfe(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?an(r=dfe(Object(i),!0)).call(r,function(s){li(t,s,i[s])}):Yu?ox(t,Yu(i)):an(n=dfe(Object(i))).call(n,function(s){cx(t,s,tg(i,s))})}return t}function ffe(t){return typeof t=="string"||typeof t=="number"}let Cxt=class ZOe{constructor(e){li(this,"delay",void 0),li(this,"max",void 0),li(this,"_queue",[]),li(this,"_timeout",null),li(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new ZOe(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const o=r.replace[s];i.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=zu(()=>{this.flush()},this.delay))}flush(){var e,r;an(e=qu(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}},Ixt=class iU{constructor(){li(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),li(this,"subscribe",iU.prototype.on),li(this,"unsubscribe",iU.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");an(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=ls(n=this._subscribers[e]).call(n,i=>i!==r)}},Afe=class Rv{constructor(e){li(this,"_pairs",void 0),this._pairs=e}*[XI](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Io(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Io(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=zh(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new sx(this._pairs)}toIdSet(){return new Oc(this.toIdArray())}toItemSet(){return new Oc(this.toItemArray())}cache(){return new Rv([...this._pairs])}distinct(e){const r=new Oc;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Rv({*[XI](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Rv({*[XI](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=PL(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const r=PL(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Rv({[XI]:()=>{var r;return PL(nd(r=[...this._pairs]).call(r,(n,i)=>{let[s,o]=n,[a,l]=i;return e(o,l,s,a)}))}})}};function pxt(t,e){return t[e]==null&&(t[e]=yp()),t}let CS=class extends Ixt{get idProp(){return this._idProp}constructor(e,r){super(),li(this,"flush",void 0),li(this,"length",void 0),li(this,"_options",void 0),li(this,"_data",void 0),li(this,"_idProp",void 0),li(this,"_queue",null),e&&!gn(e)&&(r=e,e=[]),this._options=r||{},this._data=new sx,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Cxt.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(gn(e)){const s=Io(e).call(e,o=>o[this._idProp]);if(WOe(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const g=u[a];if(g!=null&&this._data.has(g)){const d=u,f=Ji({},this._data.get(g)),h=this._updateItem(d);i.push(h),o.push(d),s.push(f)}else{const d=this._addItem(u);n.push(d)}};if(gn(e))for(let u=0,g=e.length;u<g;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,r)}return KNe(n).call(n,i)}updateOnly(e,r){var n;gn(e)||(e=[e]);const i=Io(n=Io(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(n,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=v0t(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Io(i).call(i,o=>o.id),oldData:Io(i).call(i,o=>o.oldData),data:Io(i).call(i,o=>o.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;ffe(e)?(n=e,s=r):gn(e)?(i=e,s=r):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&ls(s),l=[];let u,g,d;if(n!=null)u=this._data.get(n),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let h=0,A=i.length;h<A;h++)u=this._data.get(i[h]),u!=null&&(!a||a(u))&&l.push(u);else{var f;g=[...OI(f=this._data).call(f)];for(let h=0,A=g.length;h<A;h++)d=g[h],u=this._data.get(d),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const h=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,h);else for(let A=0,C=l.length;A<C;A++)l[A]=this._filterFields(l[A],h)}if(o=="Object"){const h={};for(let A=0,C=l.length;A<C;A++){const I=l[A],p=I[this._idProp];h[p]=I}return h}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&ls(e),i=e&&e.order,s=[...OI(r).call(r)],o=[];if(n)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const g=s[l],d=this._data.get(g);d!=null&&n(d)&&a.push(d)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],g=this._data.get(u);g!=null&&n(g)&&o.push(g[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const g=s[l];a.push(r.get(g))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],g=r.get(u);g!=null&&o.push(g[this._idProp])}return o}getDataSet(){return this}forEach(e,r){const n=r&&ls(r),i=this._data,s=[...OI(i).call(i)];if(r&&r.order){const o=this.get(r);for(let a=0,l=o.length;a<l;a++){const u=o[a],g=u[this._idProp];e(u,g)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&ls(r),i=[],s=this._data,o=[...OI(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],g=this._data.get(u);g!=null&&(!n||n(g))&&i.push(e(g,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&OG(n=gn(r)?r:oi(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;nd(e).call(e,(i,s)=>{const o=i[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof r=="function")nd(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=gn(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(ffe(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...OI(r=this._data).call(r)],i=[];for(let s=0,o=n.length;s<o;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of AS(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o>n)&&(r=s,n=o)}return r||null}min(e){let r=null,n=null;for(const s of AS(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o<n)&&(r=s,n=o)}return r||null}distinct(e){const r=this._data,n=[...OI(r).call(r)],i=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],g=r.get(l)[e];let d=!1;for(let f=0;f<s;f++)if(i[f]==g){d=!0;break}!d&&g!==void 0&&(i[s]=g,s++)}return i}_addItem(e){const r=pxt(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Vm(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,hfe(hfe({},n),e)),r}stream(e){if(e){const n=this._data;return new Afe({*[XI](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Afe({[XI]:yt(r=lxt(this._data)).call(r,this._data)})}}};function mxt(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof an(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Io(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function XOe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof an(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Io(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&mxt(t,e.getDataSet())}var Cfe={},rM,Ife;function vxt(){if(Ife)return rM;Ife=1;var t=Ci(),e=Yr(),r=tn(),n=sc(),i=YNe().trim,s=CG(),o=r("".charAt),a=t.parseFloat,l=t.Symbol,u=l&&l.iterator,g=1/a(s+"-0")!==-1/0||u&&!e(function(){a(Object(u))});return rM=g?function(f){var h=i(n(f)),A=a(h);return A===0&&o(h,0)==="-"?-0:A}:a,rM}var pfe;function yxt(){if(pfe)return Cfe;pfe=1;var t=lr(),e=vxt();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),Cfe}var nM,mfe;function xxt(){if(mfe)return nM;mfe=1,yxt();var t=wn();return nM=t.parseFloat,nM}var iM,vfe;function bxt(){if(vfe)return iM;vfe=1;var t=xxt();return iM=t,iM}var sM,yfe;function wxt(){return yfe||(yfe=1,sM=bxt()),sM}var Sxt=wxt(),QOe=Ar(Sxt),xfe={},bfe;function Ext(){if(bfe)return xfe;bfe=1;var t=lr(),e=Yr(),r=gG().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),xfe}var oM,wfe;function _xt(){if(wfe)return oM;wfe=1,Ext();var t=wn(),e=t.Object;return oM=function(n){return e.getOwnPropertyNames(n)},oM}var aM,Sfe;function Txt(){if(Sfe)return aM;Sfe=1;var t=_xt();return aM=t,aM}var lM,Efe;function Rxt(){return Efe||(Efe=1,lM=Txt()),lM}var Nxt=Rxt(),Oxt=Ar(Nxt);function PG(t,e){const r=["node","edge","label"];let n=!0;const i=lh(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(jn(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=lh(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function sU(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const o=-r.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function IS(t){return typeof t=="string"&&t!==""}function JOe(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const o=n.distanceToBorder(t,e),a=Math.sin(e)*o,l=Math.cos(e)*o;l===o?(i+=o,s=n.y):a===o?(i=n.x,s-=o):(i+=l,s-=a)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}class jxt{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),o=Ji({},AS(s));o.text=r,o.width=s.width,o.mod=n,(r===void 0||r==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Ji(i,n),i.blocks=[];let s;const o=[];for(let a=0;a<n.blocks.length;a++){const l=n.blocks[a];l.width!==0?o.push(l):s===void 0&&(s=l)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Pxt={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class _fe{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Pxt[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class kxt{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,a);let u=0;return o!==""&&(u=this.ctx.measureText(o).width),{width:u,values:l}};this.lines=new jxt(s)}process(e){if(!IS(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(n[s],r.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,l,!0)}else for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new _fe(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new _fe(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Nc(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(Nc(o).call(o,0,a),r),i[0]=Nc(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=Nc(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(a,r):this.lines.newLine(a,r),i=Nc(i).call(i,o)}}}}const lv=["bold","ital","boldital","mono"];class xp{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),IS(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Hr(lv,r=>{this.fontOptions[r]={}}),xp.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Hr(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=lh(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=lh(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const o=lh(e,["widthConstraint","minimum"]);typeof o=="number"&&(r.minWdt=Number(o))}const i=lh(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=lh(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const o=lh(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(r.valign=o)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),Xn(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=PG("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};xp.parseFontString(s,i)&&(i=s),Hr(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(jn(lv).call(lv,a)!==-1?r[a]={}:r[a]=o))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,r)){if(i=o[r],i==null)continue;const a={};if(xp.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];n[o]=this.getFontOption(e,r,o)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<lv.length;++n){const i=lv[n],s=this.fontOptions[i],o=this.getFontOptions(r,i);Hr(o,(a,l)=>{s[l]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,o),this._drawBackground(e),this._drawText(e,r,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let u=0;u<a.blocks.length;u++){const g=a.blocks[u];e.font=g.font;const[d,f]=this._getColor(g.color,s,g.strokeColor);g.strokeWidth>0&&(e.lineWidth=g.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=d,g.strokeWidth>0&&e.strokeText(g.text,r+l,n+g.vadjust),e.fillText(g.text,r+l,n+g.vadjust),l+=g.width}n+=a.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Ul(i,o),s=Ul(s,o)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,g){return u==="normal"?g==="mod"?"":l[g]:l[u][g]!==void 0?l[u][g]:l[g]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,r,n));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new kxt(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class UC{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),J1(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let Dxt=class extends UC{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),_Ne(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class kG extends UC{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),aG(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,o,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(o+=l.height/2)}const a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,r,a,i,s,"hanging")}}let Fxt=class extends kG{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,o),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Lxt extends kG{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){this.switchImages(i),this.resize();let a=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,a,l,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Af extends UC{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,o;this.labelModule.getTextSize(e,r,n);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,o,a,l){return this.resize(e,o,a,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),LCt(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function Tfe(t,e){var r=oi(t);if(Ku){var n=Ku(t);e&&(n=ls(n).call(n,function(i){return tg(t,i).enumerable})),r.push.apply(r,n)}return r}function Mxt(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?an(r=Tfe(Object(i),!0)).call(r,function(s){li(t,s,i[s])}):Yu?ox(t,Yu(i)):an(n=Tfe(Object(i))).call(n,function(s){cx(t,s,tg(i,s))})}return t}class Bxt extends Af{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,o){this.resize(e,i,s,o),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:Mxt({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class $xt extends UC{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),TNe(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let qxt=class extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"diamond",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class zxt extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"circle",2,r,n,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class Rfe extends UC{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,o),K7(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,o=Math.cos(r)*i;return n*i/Math.sqrt(s*s+o*o)}}class Uxt extends UC{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Wxt=class extends kG{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){e.save(),this.switchImages(i),this.resize();let a=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,g=this.options.borderWidthSelected||2*this.options.borderWidth,d=(i?g:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,d),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,h=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(f=Ul(f,o.opacity),h=Ul(h,o.opacity)),e.strokeStyle=f,e.fillStyle=h,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),J1(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Gxt extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"square",2,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Vxt extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"hexagon",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Hxt extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"star",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Kxt=class extends UC{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}},Yxt=class extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangle",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Zxt extends Af{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangleDown",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function Nfe(t,e){var r=oi(t);if(Ku){var n=Ku(t);e&&(n=ls(n).call(n,function(i){return tg(t,i).enumerable})),r.push.apply(r,n)}return r}function Ofe(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?an(r=Nfe(Object(i),!0)).call(r,function(s){li(t,s,i[s])}):Yu?ox(t,Yu(i)):an(n=Nfe(Object(i))).call(n,function(s){cx(t,s,tg(i,s))})}return t}let nl=class bc{constructor(e,r,n,i,s,o){this.options=Wh(s),this.globalOptions=s,this.defaultOptions=o,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new xp(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;jn(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=jn(r=this.edges).call(r,e);if(n!=-1){var i;qu(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");bc.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Tc(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Tc(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=QOe(e.value)),bc.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=PG("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&bc.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=n.get(s);a.opacity!==void 0&&r.opacity===void 0&&(bc.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=ls(i=Oxt(r)).call(i,u=>r[u]!=null);l.push("font"),hS(l,e,a),e.color=J7(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(hS(["color","fixed","shadow"],e,r,n),bc.checkMass(r),e.opacity!==void 0&&(bc.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(bc.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!bc.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),$l(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const a=J7(r.color);_Oe(e.color,a)}else n===!0&&r.color===null&&(e.color=Wh(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Wh(i.font)),bc.updateGroupOptions(e,r,s),r.scaling!==void 0&&$l(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Ul(e.borderColor,r),e.color=Ul(e.color,r),e.shadowColor=Ul(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),bc.updateGroupOptions(this.options,Ofe(Ofe({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Dxt(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Fxt(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Lxt(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Bxt(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new $xt(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new qxt(this.options,this.body,this.labelModule);break;case"dot":this.shape=new zxt(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Rfe(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Uxt(this.options,this.body,this.labelModule);break;case"image":this.shape=new Wxt(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Gxt(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Vxt(this.options,this.body,this.labelModule);break;case"star":this.shape=new Hxt(this.options,this.body,this.labelModule);break;case"text":this.shape=new Kxt(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Yxt(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Zxt(this.options,this.body,this.labelModule);break;default:this.shape=new Rfe(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&sU(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),sU(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",OOe),e.mass=1}}};class Xxt{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=yt(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,l,u){if(a===o)return .5;{const g=1/(a-o);return Math.max(0,(u-o)*g)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Wh(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",yt(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",yt(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Hr(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(nl.parseOptions(this.options,e),e.opacity!==void 0&&(nU(e.opacity)||!dA(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of oi(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(XOe("id",e))this.body.data.nodes=e;else if(gn(e))this.body.data.nodes=new CS,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new CS;else throw new TypeError("Array or DataSet expected");if(n&&Hr(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Hr(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const o=this.body.data.nodes.get(n),a=this.create(o);i.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let l=i[a];const u=r[o];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[a]=l)}!s&&n!==void 0&&(s=WOe(r).call(r,function(o,a){const l=n[a];return l&&l.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nl;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Hr(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(gn(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(n.x!==o||n.y!==a)&&e.push({id:i,x:o,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];r!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(n.push(a.fromId),s[a.fromId]=!0):r!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(n.push(a.toId),s[a.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),zu(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var jfe={},Pfe;function Qxt(){if(Pfe)return jfe;Pfe=1;var t=lr(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var l=0,u=0,g=arguments.length,d=0,f,h;u<g;)f=r(arguments[u++]),d<f?(h=d/f,l=l*h*h+1,d=f):f>0?(h=f/d,l+=h*h):l+=f;return d===1/0?1/0:d*n(l)}}),jfe}var cM,kfe;function Jxt(){if(kfe)return cM;kfe=1,Qxt();var t=wn();return cM=t.Math.hypot,cM}var uM,Dfe;function ebt(){if(Dfe)return uM;Dfe=1;var t=Jxt();return uM=t,uM}var gM,Ffe;function tbt(){return Ffe||(Ffe=1,gM=ebt()),gM}var rbt=tbt(),nbt=Ar(rbt);class es{static transform(e,r){gn(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,o=r.length;for(let a=0;a<e.length;++a){const l=e[a],u=l.x*Math.cos(s)-l.y*Math.sin(s),g=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+o*u,l.y=i+o*g}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let ibt=class extends es{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class sbt extends es{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return es.transform(n,r),es.drawPath(e,n),!0}}class obt{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return es.transform(n,r),es.drawPath(e,n),!0}}class abt{static draw(e,r){const n={x:-.4,y:0};es.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,o=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class lbt{static draw(e,r){const n={x:-.3,y:0};es.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,o=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class cbt{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return es.transform(n,r),es.drawPath(e,n),!0}}class ubt{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return es.transform(n,r),es.drawPath(e,n),!0}}class gbt{static draw(e,r){const n={x:-.4,y:0};return es.transform(n,r),aG(e,n.x,n.y,r.length*.4),!0}}class dbt{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return es.transform(n,r),es.drawPath(e,n),!0}}class hbt{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return es.transform(n,r),es.drawPath(e,n),!0}}class fbt{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return es.transform(n,r),es.drawPath(e,n),!0}}class Abt{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return es.transform(n,r),es.drawPath(e,n),!0}}class eje{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return ibt.draw(e,r);case"circle":return gbt.draw(e,r);case"box":return hbt.draw(e,r);case"crow":return obt.draw(e,r);case"curve":return abt.draw(e,r);case"diamond":return fbt.draw(e,r);case"inv_curve":return lbt.draw(e,r);case"triangle":return cbt.draw(e,r);case"inv_triangle":return ubt.draw(e,r);case"bar":return dbt.draw(e,r);case"vee":return Abt.draw(e,r);case"arrow":default:return sbt.draw(e,r)}}}function Lfe(t,e){var r=oi(t);if(Ku){var n=Ku(t);e&&(n=ls(n).call(n,function(i){return tg(t,i).enumerable})),r.push.apply(r,n)}return r}function Mfe(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?an(r=Lfe(Object(i),!0)).call(r,function(s){li(t,s,i[s])}):Yu?ox(t,Yu(i)):an(n=Lfe(Object(i))).call(n,function(s){cx(t,s,tg(i,s))})}return t}class tje{constructor(e,r,n){li(this,"color",{}),li(this,"colorDirty",!0),li(this,"hoverWidth",1.5),li(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[o,a,l]=this._getCircleData(e);this._circle(e,r,o,a,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const o=gn(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)RNe(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Nc(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=JOe(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let o=n.low,a=n.high;const l=n.direction,u=10,g=this.options.selfReference.size,d=.05;let f,h=(o+a)*.5,A=0;this.options.arrowStrikethrough===!0&&(l===-1?A=this.options.endPointOffset.from:l===1&&(A=this.options.endPointOffset.to));let C=0;do{h=(o+a)*.5,f=this._pointOnCircle(i,s,g,h);const I=Math.atan2(e.y-f.y,e.x-f.x),p=e.distanceToBorder(r,I)+A,m=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),v=p-m;if(Math.abs(v)<d)break;v>0?l>0?o=h:a=h:l>0?a=h:o=h,++C}while(o<=a&&C<u);return Mfe(Mfe({},f),{},{t:h})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Ul(this.from.options.color.border,r.opacity),s=Ul(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Ul(this.to.options.color.border,r.opacity):Ul(this.from.options.color.border,r.opacity)}else return Ul(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,g=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});o=Math.atan2(g.y-i,g.x-n),a=Math.atan2(d.y-i,d.x-n)}e.beginPath(),e.arc(n,i,s,o,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,o);{const[a,l,u]=this._getCircleData(void 0),g=a-s,d=l-o;return Math.abs(Math.sqrt(g*g+d*d)-u)}}_getDistanceToLine(e,r,n,i,s,o){const a=n-e,l=i-r,u=a*a+l*l;let g=((s-e)*a+(o-r)*l)/u;g>1?g=1:g<0&&(g=0);const d=e+g*a,f=r+g*l,h=d-s,A=f-o;return Math.sqrt(h*h+A*A)}getArrowData(e,r,n,i,s,o){let a,l,u,g,d,f,h;const A=o.width;r==="from"?(u=this.from,g=this.to,d=o.fromArrowScale<0,f=Math.abs(o.fromArrowScale),h=o.fromArrowType):r==="to"?(u=this.to,g=this.from,d=o.toArrowScale<0,f=Math.abs(o.toArrowScale),h=o.toArrowType):(u=this.to,g=this.from,d=o.middleArrowScale<0,f=Math.abs(o.middleArrowScale),h=o.middleArrowType);const C=15*f+3*A;if(u!=g){const v=nbt(u.x-g.x,u.y-g.y),y=C/v;if(r!=="middle")if(this.options.smooth.enabled===!0){const x=this._findBorderPosition(u,e,{via:n}),T=this.getPoint(x.t+y*(r==="from"?1:-1),n);a=Math.atan2(x.y-T.y,x.x-T.x),l=x}else a=Math.atan2(u.y-g.y,u.x-g.x),l=this._findBorderPosition(u,e);else{const x=(d?-y:y)/2,T=this.getPoint(.5+x,n),E=this.getPoint(.5-x,n);a=Math.atan2(T.y-E.y,T.x-E.x),l=this.getPoint(.5,n)}}else{const[v,y,x]=this._getCircleData(e);if(r==="from"){const T=this.options.selfReference.angle,E=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:v,y,low:T,high:E,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=_}else if(r==="to"){const T=this.options.selfReference.angle,E=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:v,y,low:T,high:E,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=_}else{const T=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(v,y,x,T),a=T*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const I=l.x-C*.9*Math.cos(a),p=l.y-C*.9*Math.sin(a);return{point:l,core:{x:I,y:p},angle:a,length:C,type:h}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,eje.draw(e,s)&&(this.enableShadow(e,r),J1(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=gn(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function Bfe(t,e){var r=oi(t);if(Ku){var n=Ku(t);e&&(n=ls(n).call(n,function(i){return tg(t,i).enumerable})),r.push.apply(r,n)}return r}function $fe(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?an(r=Bfe(Object(i),!0)).call(r,function(s){li(t,s,i[s])}):Yu?ox(t,Yu(i)):an(n=Bfe(Object(i))).call(n,function(s){cx(t,s,tg(i,s))})}return t}class DG extends tje{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,l=0,u=this.to,g,d,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,o=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let h=0;do{d=(l+a)*.5,g=this.getPoint(d,n);const A=Math.atan2(u.y-g.y,u.x-g.x),C=u.distanceToBorder(r,A)+f,I=Math.sqrt(Math.pow(g.x-u.x,2)+Math.pow(g.y-u.y,2)),p=C-I;if(Math.abs(p)<s)break;p<0?o===!1?l=d:a=d:o===!1?a=d:l=d,++h}while(l<=a&&h<i);return $fe($fe({},g),{},{t:d})}_getDistanceToBezierEdge(e,r,n,i,s,o,a){let l=1e9,u,g,d,f,h,A=e,C=r;for(g=1;g<10;g++)d=.1*g,f=Math.pow(1-d,2)*e+2*d*(1-d)*a.x+Math.pow(d,2)*n,h=Math.pow(1-d,2)*r+2*d*(1-d)*a.y+Math.pow(d,2)*i,g>0&&(u=this._getDistanceToLine(A,C,f,h,s,o),l=u<l?u:l),A=f,C=h;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class qfe extends DG{constructor(e,r,n){super(e,r,n),li(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:n+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToBezierEdge(e,r,n,i,s,o,this.via)}}class zfe extends DG{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return r==="discrete"&&(n<=i?a=n<e*i?this.from.x:a:l=i<e*n?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let s=(1-e)*n,o=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return n<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,o,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Cbt extends DG{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,o,a,l){let u=1e9,g=e,d=r;const f=[0,0,0,0];for(let h=1;h<10;h++){const A=.1*h;f[0]=Math.pow(1-A,3),f[1]=3*A*Math.pow(1-A,2),f[2]=3*Math.pow(A,2)*(1-A),f[3]=Math.pow(A,3);const C=f[0]*e+f[1]*a.x+f[2]*l.x+f[3]*n,I=f[0]*r+f[1]*a.y+f[2]*l.y+f[3]*i;if(h>0){const p=this._getDistanceToLine(g,d,C,I,s,o);u=p<u?p:u}g=C,d=I}return u}}class Ufe extends Cbt{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,n=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*r,o=this.to.y+a*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,o){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,o,a,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class Wfe extends tje{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,a=n.y-i.y,l=Math.sqrt(o*o+a*a),u=e.distanceToBorder(r,s),g=(l-u)/l;return{x:(1-g)*i.x+g*n.x,y:(1-g)*i.y+g*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToLine(e,r,n,i,s,o)}}class Gh{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Wh(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new xp(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Gh.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=QOe(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=PG("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Km(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(dA(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(dA(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),IS(r.label)?e.label=r.label:IS(e.label)||(e.label=void 0),$l(e,r,"smooth",i),$l(e,r,"shadow",i),$l(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=zh(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),$l(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=zh(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=jn(a).call(a,"to")!=-1,e.arrows.middle.enabled=jn(a).call(a,"middle")!=-1,e.arrows.from.enabled=jn(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")$l(e.arrows,r.arrows,"to",i.arrows),$l(e.arrows,r.arrows,"middle",i.arrows),$l(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Vm(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=zh(i.arrows));if(r.color!==void 0&&r.color!==null){const a=mp(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)Xn(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(mp(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let u=!1;a.color!==void 0&&(l.color=a.color,u=!0),a.highlight!==void 0&&(l.highlight=a.highlight,u=!0),a.hover!==void 0&&(l.hover=a.hover,u=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Wh(i.color));n===!0&&r.font===null&&(e.font=Wh(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof qfe&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof Ufe&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof zfe&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof Wfe&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new qfe(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new Ufe(this.options,this.body,this.labelModule):this.edgeType=new zfe(this.options,this.body,this.labelModule):this.edgeType=new Wfe(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=JOe(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();sU(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,o,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Ibt{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=yt(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,l){if(o===s)return .5;{const u=1/(o-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Xn(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],u=e.body.data.edges.get(a);if(u!=null){const g=u.smooth;g!==void 0&&g.enabled===!0&&g.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",yt(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",yt(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Hr(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Gh.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(XOe("id",e))this.body.data.edges=e;else if(gn(e))this.body.data.edges=new CS,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new CS;else throw new TypeError("Array or DataSet expected");if(n&&Hr(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Hr(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=n[o];a&&a.disconnect();const l=i.get(o,{showInternalIds:!0});n[o]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=n.get(o),l=r[o];l!==void 0?(l.disconnect(),i=l.setOptions(a)||i,l.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Hr(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Hr(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Gh(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Hr(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];an(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class rje{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=o_("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let o=0;o<i;o++)e=r[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=r*o,l=n*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,o=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let I=1;I<i;I++){const p=e[r[I]],m=p.x,v=p.y;p.options.mass>0&&(m<s&&(s=m),m>a&&(a=m),v<o&&(o=v),v>l&&(l=v))}const u=Math.abs(a-s)-Math.abs(l-o);u>0?(o-=.5*u,l+=.5*u):(s+=.5*u,a-=.5*u);const d=Math.max(1e-5,Math.abs(a-s)),f=.5*d,h=.5*(s+a),A=.5*(o+l),C={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:h-f,maxX:h+f,minY:A-f,maxY:A+f},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(C.root);for(let I=0;I<i;I++)n=e[r[I]],n.options.mass>0&&this._placeInTree(C.root,n);return C}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const o=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,o;const a=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class pbt{constructor(e,r,n){this._rng=o_("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.nodes,g=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=this.options.nodeDistance,h=-2/3/f,A=4/3;for(let C=0;C<g.length-1;C++){a=u[g[C]];for(let I=C+1;I<g.length;I++)l=u[g[I]],e=l.x-a.x,r=l.y-a.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?o=1:o=h*n+A,o=o/n,i=e*o,s=r*o,d[a.id].x-=i,d[a.id].y-=s,d[l.id].x+=i,d[l.id].y+=s)}}}class mbt{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const o=e[r[s]];for(let a=s+1;a<r.length;a++){const l=e[r[a]];if(o.level===l.level){const u=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(l.shape.radius||0)/2),g=l.x-o.x,d=l.y-o.y,f=Math.sqrt(g*g+d*d),h=.05;let A;f<u?A=-Math.pow(h*f,2)+Math.pow(h*u,2):A=0,f!==0&&(A=A/f);const C=g*A,I=d*A;n[o.id].x-=C,n[o.id].y-=I,n[l.id].x+=C,n[l.id].y+=I}}}}}class dM{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,o=r.edgeType.via,a=r.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(n-o)/o,l=i*a,u=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class vbt{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.edges,g=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces;for(let y=0;y<f.length;y++){const x=f[y];h[x].springFx=0,h[x].springFy=0}for(let y=0;y<d.length;y++)r=u[d[y]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,s=n*a,o=i*a,r.to.level!=r.from.level?(h[r.toId]!==void 0&&(h[r.toId].springFx-=s,h[r.toId].springFy-=o),h[r.fromId]!==void 0&&(h[r.fromId].springFx+=s,h[r.fromId].springFy+=o)):(h[r.toId]!==void 0&&(h[r.toId].x-=g*s,h[r.toId].y-=g*o),h[r.fromId]!==void 0&&(h[r.fromId].x+=g*s,h[r.fromId].y+=g*o)));a=1;let A,C;for(let y=0;y<f.length;y++){const x=f[y];A=Math.min(a,Math.max(-a,h[x].springFx)),C=Math.min(a,Math.max(-a,h[x].springFy)),h[x].x+=A,h[x].y+=C}let I=0,p=0;for(let y=0;y<f.length;y++){const x=f[y];I+=h[x].x,p+=h[x].y}const m=I/f.length,v=p/f.length;for(let y=0;y<f.length;y++){const x=f[y];h[x].x-=m,h[x].y-=v}}}class Gw{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<o.length;l++){const u=o[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,a,i)}}_calculateForces(e,r,n,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=r*o,i[s.id].y=n*o}}class ybt extends rje{constructor(e,r,n){super(e,r,n),this._rng=o_("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),l=r*a,u=n*a;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class xbt extends Gw{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=r*a,i[s.id].y=n*a}}}class bbt{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ji(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,hS(["stabilization"],this.options,e),$l(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||nU(r.x))&&(r.x=0),(typeof r.y!="number"||nU(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new ybt(this.body,this.physicsBody,e),this.edgesSolver=new dM(this.body,this.physicsBody,e),this.gravitySolver=new xbt(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new pbt(this.body,this.physicsBody,e),this.edgesSolver=new dM(this.body,this.physicsBody,e),this.gravitySolver=new Gw(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new mbt(this.body,this.physicsBody,e),this.edgesSolver=new vbt(this.body,this.physicsBody,e),this.gravitySolver=new Gw(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new rje(this.body,this.physicsBody,e),this.edgesSolver=new dM(this.body,this.physicsBody,e),this.gravitySolver=new Gw(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=yt(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=lS();this.physicsTick(),(lS()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&zu(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=oi(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,r=i[a].y-s[a].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);r=Math.max(r,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,zu(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;zu(yt(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,a=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),g=3*u,d=eU((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),f={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=u,e.strokeStyle=d,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const h=Math.atan2(s.y,s.x);e.fillStyle=d,eje.draw(e,{type:"arrow",point:f,angle:h,length:g}),J1(e).call(e)}}}class ra{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),n>a.shape.boundingBox.top&&(n=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),n>a.y&&(n=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(Xn(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Xn(n,e.options,!0),n}}class wbt extends nl{constructor(e,r,n,i,s,o){super(e,r,n,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Hr(r.edges,n=>{delete this.containedEdges[n.id]}),Hr(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Hr(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Hr(r.edges,n=>{Hr(this.edges,i=>{var s,o;const a=jn(s=i.clusteringEdgeReplacingIds).call(s,n.id);a!==-1&&(Hr(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),qu(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),r.edges=[]}}class Sbt{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ji(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Hr(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(n[o]=s,Hr(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let o,a,l;for(let u=0;u<this.body.nodeIndices.length;u++){const g={},d={},f=this.body.nodeIndices[u],h=this.body.nodes[f];if(s[f]===void 0){l=0,a=[];for(let A=0;A<h.edges.length;A++)o=h.edges[A],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){const A=function(I){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const p=ra.cloneOptions(I);return r.joinCondition(p)};let C=!0;for(let I=0;I<a.length;I++){o=a[I];const p=this._getConnectedId(o,f);if(A(h))d[o.id]=o,g[f]=h,g[p]=this.body.nodes[p],s[f]=!0;else{C=!1;break}}if(oi(g).length>0&&oi(d).length>0&&C===!0){const p=function(){for(let m=0;m<i.length;++m)for(const v in g)if(i[m].nodes[v]!==void 0)return i[m]}();if(p!==void 0){for(const m in g)p.nodes[m]===void 0&&(p.nodes[m]=g[m]);for(const m in d)p.edges[m]===void 0&&(p.edges[m]=d[m])}else i.push({nodes:g,edges:d})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},l=s.id,u=ra.cloneOptions(s);o[l]=s;for(let d=0;d<s.edges.length;d++){const f=s.edges[d];if(this.clusteredEdges[f.id]===void 0){const h=this._getConnectedId(f,l);if(this.clusteredNodes[h]===void 0)if(h!==l)if(r.joinCondition===void 0)a[f.id]=f,o[h]=this.body.nodes[h];else{const A=ra.cloneOptions(this.body.nodes[h]);r.joinCondition(u,A)===!0&&(a[f.id]=f,o[h]=this.body.nodes[h])}else a[f.id]=f}}const g=Io(n=oi(o)).call(n,function(d){return o[d].id});for(const d in o){if(!Object.prototype.hasOwnProperty.call(o,d))continue;const f=o[d];for(let h=0;h<f.edges.length;h++){const A=f.edges[h];jn(g).call(g,this._getConnectedId(A,f.id))>-1&&(a[A.id]=A)}}this._cluster(o,a,r,i)}_createClusterEdges(e,r,n,i){let s,o,a,l,u,g;const d=oi(e),f=[];for(let C=0;C<d.length;C++){o=d[C],a=e[o];for(let I=0;I<a.edges.length;I++)s=a.edges[I],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==o?(l=n.id,u=s.fromId,g=u):(l=s.toId,u=n.id,g=l),e[g]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const h=[],A=function(C){for(let I=0;I<h.length;I++){const p=h[I],m=C.fromId===p.fromId&&C.toId===p.toId,v=C.fromId===p.toId&&C.toId===p.fromId;if(m||v)return p}return null};for(let C=0;C<f.length;C++){const I=f[C],p=I.edge;let m=A(I);m===null?(m=this._createClusteredEdge(I.fromId,I.toId,p,i),h.push(m)):m.clusteringEdgeReplacingIds.push(p.id),this.body.edges[p.id].edgeReplacedById=m.id,this._backupEdgeOptions(p),p.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const g in e)Object.prototype.hasOwnProperty.call(e,g)&&this.clusteredNodes[g]!==void 0&&s.push(g);for(let g=0;g<s.length;++g)delete e[s[g]];if(oi(e).length==0||oi(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=Xn({},n.clusterNodeProperties);if(n.processProperties!==void 0){const g=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const h=ra.cloneOptions(e[f]);g.push(h)}const d=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const h=ra.cloneOptions(r[f],"edge");d.push(h)}if(o=n.processProperties(o,g,d),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+yp());const a=o.id;o.label===void 0&&(o.label="cluster");let l;o.x===void 0&&(l=this._getClusterPosition(e),o.x=l.x),o.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),o.y=l.y),o.id=a;const u=this.body.functions.createNode(o,wbt);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[o.id]=u,this._clusterEdges(e,r,o,n.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=oi(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,o=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],n=a.x<n?a.x:n,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(n+i),y:.5*(s+o)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=jn(s).call(s,e)-1;if(o>=0){const g=s[o];this.body.nodes[g]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const g={},d={x:i.x,y:i.y};for(const h in a)if(Object.prototype.hasOwnProperty.call(a,h)){const A=this.body.nodes[h];g[h]={x:A.x,y:A.y}}const f=r.releaseFunction(d,g);for(const h in a)if(Object.prototype.hasOwnProperty.call(a,h)){const A=this.body.nodes[h];f[h]!==void 0&&(A.x=f[h].x===void 0?i.x:f[h].x,A.y=f[h].y===void 0?i.y:f[h].y)}}else Hr(a,function(g){g.options.fixed.x===!1&&(g.x=i.x),g.options.fixed.y===!1&&(g.y=i.y)});for(const g in a)if(Object.prototype.hasOwnProperty.call(a,g)){const d=this.body.nodes[g];d.vx=i.vx,d.vy=i.vy,d.setOptions({physics:!0}),delete this.clusteredNodes[g]}const u=[];for(let g=0;g<i.edges.length;g++)u.push(i.edges[g]);for(let g=0;g<u.length;g++){const d=u[g],f=this._getConnectedId(d,e),h=this.clusteredNodes[f];for(let A=0;A<d.clusteringEdgeReplacingIds.length;A++){const C=d.clusteringEdgeReplacingIds[A],I=this.body.edges[C];if(I!==void 0)if(h!==void 0){const p=this.body.nodes[h.clusterId];p.containedEdges[I.id]=I,delete l[I.id];let m=I.fromId,v=I.toId;I.toId==f?v=h.clusterId:m=h.clusterId,this._createClusteredEdge(m,v,I,p.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(I)}d.remove()}for(const g in l)Object.prototype.hasOwnProperty.call(l,g)&&this._restoreEdge(l[g]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),jA(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return jA(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let o=0;for(;r.length>0&&o<s;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;o++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(a);else for(let g=0;g<u.length;++g){const d=u[g];jn(r).call(r,u)!==-1||jn(n).call(n,u)!==-1||r.push(d)}n.push(a)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,r,n,i,s){const o=ra.cloneOptions(n,"edge");Xn(o,i),o.from=e,o.to=r,o.id="clusterEdge:"+yp(),s!==void 0&&Xn(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,n,i){if(r instanceof Gh){const s=r,o={};o[s.id]=s,r=o}if(e instanceof nl){const s=e,o={};o[s.id]=s,e=o}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Hr(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Hr(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Hr(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Hr(l.containedEdges,(u,g)=>{!u.endPointsValid()&&!n[g]&&(n[g]=g)})}),Hr(this.body.edges,(l,u)=>{let g=!0;const d=l.clusteringEdgeReplacingIds;if(d!==void 0){let f=0;Hr(d,h=>{const A=this.body.edges[h];A!==void 0&&A.endPointsValid()&&(f+=1)}),g=f>0}(!l.endPointsValid()||!g)&&(n[u]=u)}),i(l=>{Hr(n,u=>{delete l.containedEdges[u],Hr(l.edges,(g,d)=>{if(g.id===u){l.edges[d]=null;return}g.clusteringEdgeReplacingIds=this._filter(g.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(g){return g!==null})})}),Hr(n,l=>{delete this.clusteredEdges[l]}),Hr(n,l=>{delete this.body.edges[l]});const s=oi(this.body.edges);Hr(s,l=>{const u=this.body.edges[l],g=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(g!==this._isClusteredEdge(u.id))if(g){const d=this._getClusterNodeForNode(u.fromId);d!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,d);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let o=!1,a=!0;for(;a;){const l=[];i(function(u){const g=oi(u.containedNodes).length,d=u.options.allowSingleNodeCluster===!0;(d&&g<1||!d&&g<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);a=l.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Ebt{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=zu(()=>{var r;this.zooming=!1,yt(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",yt(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Km(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(yt(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(n,e);r.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),g=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),d={top:u.y,left:u.x,bottom:g.y,right:g.x},f=[];for(let I=0;I<i.length;I++)if(s=n[i[I]],s.hover)a.push(i[I]);else if(s.isSelected())o.push(i[I]);else if(r===!0){const p=s.draw(e);p.drawExternalLabel!=null&&f.push(p.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(d)===!0){const p=s.draw(e);p.drawExternalLabel!=null&&f.push(p.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let h;const A=o.length,C=a.length;for(h=0;h<A;h++){s=n[o[h]];const I=s.draw(e);I.drawExternalLabel!=null&&f.push(I.drawExternalLabel)}for(h=0;h<C;h++){s=n[a[h]];const I=s.draw(e);I.drawExternalLabel!=null&&f.push(I.drawExternalLabel)}return{drawExternalLabels:()=>{for(const I of f)I()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var hM,Gfe;function _bt(){if(Gfe)return hM;Gfe=1,QNe();var t=wn();return hM=t.setInterval,hM}var fM,Vfe;function Tbt(){return Vfe||(Vfe=1,fM=_bt()),fM}var Rbt=Tbt(),Nbt=Ar(Rbt);function pS(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function nje(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Obt{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",yt(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Km(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Nbt(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=yt(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;an(e=jA(r=qu(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(jn(e).call(e,"%")!==-1||jn(e).call(e,"px")!==-1)return e;if(jn(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new vp(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:vp.DIRECTION_ALL}),pS(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new vp(this.frame),nje(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function jbt(t,e){const r=Ji({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!gn(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Pbt{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",yt(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",yt(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=jbt(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(n===0||i===0)o=1,s=ra.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=ra.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const d=Math.min(n/600,i/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),s=ra.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,g=Math.abs(s.maxY-s.minY)*1.1,d=n/u,f=i/g;o=d<=f?d:f}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const l={position:ra.findCenter(s),scale:o,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!dA(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!dA(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!dA(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!dA(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=yt(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=yt(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=D0t[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=yt(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function Hfe(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(g){u(g,"keydown")},l=function(g){u(g,"keyup")},u=function(g,d){if(i[d][g.keyCode]!==void 0){for(var f=i[d][g.keyCode],h=0;h<f.length;h++)(f[h].shift===void 0||f[h].shift==!0&&g.shiftKey==!0||f[h].shift==!1&&g.shiftKey==!1)&&f[h].fn(g);e==!0&&g.preventDefault()}};return n.bind=function(g,d,f){if(f===void 0&&(f="keydown"),s[g]===void 0)throw new Error("unsupported key: "+g);i[f][s[g].code]===void 0&&(i[f][s[g].code]=[]),i[f][s[g].code].push({fn:d,shift:s[g].shift})},n.bindAll=function(g,d){d===void 0&&(d="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,g,d)},n.getKey=function(g){for(var d in s)if(s.hasOwnProperty(d)){if(g.shiftKey==!0&&s[d].shift==!0&&g.keyCode==s[d].code)return d;if(g.shiftKey==!1&&s[d].shift==!1&&g.keyCode==s[d].code)return d;if(g.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},n.unbind=function(g,d,f){if(f===void 0&&(f="keydown"),s[g]===void 0)throw new Error("unsupported key: "+g);if(d!==void 0){var h=[],A=i[f][s[g].code];if(A!==void 0)for(var C=0;C<A.length;C++)A[C].fn==d&&A[C].shift==s[g].shift||h.push(i[f][s[g].code][C]);i[f][s[g].code]=h}else i[f][s[g].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),n}class kbt{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new vp(this.navigationDOM[e[o]]);if(r[o]==="_fit"){var n;pS(a,yt(n=this._fit).call(n,this))}else{var i;pS(a,yt(i=this.bindToRedraw).call(i,this,r[o]))}this.navigationHammers.push(a)}const s=new vp(this.canvas.frame);nje(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=yt(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Hfe({container:window,preventDefault:!0}):this.keycharm=Hfe({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,o,a,l,u,g,d,f,h,A,C,I,p,m,v,y,x,T,E,_;yt(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),yt(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),yt(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),yt(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),yt(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),yt(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),yt(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),yt(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),yt(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),yt(g=this.keycharm).call(g,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),yt(d=this.keycharm).call(d,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),yt(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),yt(h=this.keycharm).call(h,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),yt(A=this.keycharm).call(A,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),yt(C=this.keycharm).call(C,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),yt(I=this.keycharm).call(I,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),yt(p=this.keycharm).call(p,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),yt(m=this.keycharm).call(m,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),yt(v=this.keycharm).call(v,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),yt(y=this.keycharm).call(y,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),yt(x=this.keycharm).call(x,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),yt(T=this.keycharm).call(T,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),yt(E=this.keycharm).call(E,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),yt(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Dbt{constructor(e,r,n){var i,s,o,a,l,u,g,d,f,h,A,C,I;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new kbt(e,r),this.body.eventListeners.onTap=yt(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=yt(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=yt(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=yt(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=yt(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=yt(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=yt(g=this.onDragEnd).call(g,this),this.body.eventListeners.onMouseWheel=yt(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=yt(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=yt(h=this.onMouseMove).call(h,this),this.body.eventListeners.onRelease=yt(A=this.onRelease).call(A,this),this.body.eventListeners.onContext=yt(C=this.onContext).call(C,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=yt(I=this.getPointer).call(I,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(hS(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),$l(this.options,e,"keyboard"),e.tooltip&&(Ji(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=J7(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-O0t(this.canvas.frame.canvas),y:e.y-j0t(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const o=[];for(let a=0;a<i.length;a++){const l=i[a];jn(s).call(s,l)===-1&&o.push(l)}return o};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ji({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;an(n).call(n,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=ls(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});an(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(an(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/n,a=(1-o)*r.x+s.x*o,l=(1-o)*r.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=zu(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let g;const d=[];for(let f=0;f<l.length;f++)g=u[l[f]],g.isOverlappingWith(i)===!0&&(o=!0,g.getTitle()!==void 0&&d.push(l[f]));d.length>0&&(this.popupObj=u[d[d.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const l=this.body.edgeIndices,u=this.body.edges;let g;const d=[];for(let f=0;f<l.length;f++)g=u[l[f]],g.isOverlappingWith(i)===!0&&g.connected===!0&&g.getTitle()!==void 0&&d.push(l[f]);d.length>0&&(this.popupObj=u[d[d.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new U0t(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var Kfe={},Yfe={},AM,Zfe;function Fbt(){if(Zfe)return AM;Zfe=1;var t=tn(),e=NG(),r=a_().getWeakData,n=TG(),i=eg(),s=Dm(),o=Js(),a=l_(),l=ff(),u=Ds(),g=FC(),d=g.set,f=g.getterFor,h=l.find,A=l.findIndex,C=t([].splice),I=0,p=function(y){return y.frozen||(y.frozen=new m)},m=function(){this.entries=[]},v=function(y,x){return h(y.entries,function(T){return T[0]===x})};return m.prototype={get:function(y){var x=v(this,y);if(x)return x[1]},has:function(y){return!!v(this,y)},set:function(y,x){var T=v(this,y);T?T[1]=x:this.entries.push([y,x])},delete:function(y){var x=A(this.entries,function(T){return T[0]===y});return~x&&C(this.entries,x,1),!!~x}},AM={getConstructor:function(y,x,T,E){var _=y(function(R,N){n(R,S),d(R,{type:x,id:I++,frozen:null}),s(N)||a(N,R[E],{that:R,AS_ENTRIES:T})}),S=_.prototype,j=f(x),w=function(R,N,P){var M=j(R),B=r(i(N),!0);return B===!0?p(M).set(N,P):B[M.id]=P,R};return e(S,{delete:function(R){var N=j(this);if(!o(R))return!1;var P=r(R);return P===!0?p(N).delete(R):P&&u(P,N.id)&&delete P[N.id]},has:function(N){var P=j(this);if(!o(N))return!1;var M=r(N);return M===!0?p(P).has(N):M&&u(M,P.id)}}),e(S,T?{get:function(N){var P=j(this);if(o(N)){var M=r(N);if(M===!0)return p(P).get(N);if(M)return M[P.id]}},set:function(N,P){return w(this,N,P)}}:{add:function(N){return w(this,N,!0)}}),_}},AM}var Xfe;function Lbt(){if(Xfe)return Yfe;Xfe=1;var t=BOe(),e=Ci(),r=tn(),n=NG(),i=a_(),s=RG(),o=Fbt(),a=Js(),l=FC().enforce,u=Yr(),g=DNe(),d=Object,f=Array.isArray,h=d.isExtensible,A=d.isFrozen,C=d.isSealed,I=d.freeze,p=d.seal,m=!e.ActiveXObject&&"ActiveXObject"in e,v,y=function(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}},x=s("WeakMap",y,o),T=x.prototype,E=r(T.set),_=function(){return t&&u(function(){var R=I([]);return E(new x,R,1),!A(R)})};if(g)if(m){v=o.getConstructor(y,"WeakMap",!0),i.enable();var S=r(T.delete),j=r(T.has),w=r(T.get);n(T,{delete:function(R){if(a(R)&&!h(R)){var N=l(this);return N.frozen||(N.frozen=new v),S(this,R)||N.frozen.delete(R)}return S(this,R)},has:function(N){if(a(N)&&!h(N)){var P=l(this);return P.frozen||(P.frozen=new v),j(this,N)||P.frozen.has(N)}return j(this,N)},get:function(N){if(a(N)&&!h(N)){var P=l(this);return P.frozen||(P.frozen=new v),j(this,N)?w(this,N):P.frozen.get(N)}return w(this,N)},set:function(N,P){if(a(N)&&!h(N)){var M=l(this);M.frozen||(M.frozen=new v),j(this,N)?E(this,N,P):M.frozen.set(N,P)}else E(this,N,P);return this}})}else _()&&n(T,{set:function(N,P){var M;return f(N)&&(A(N)?M=I:C(N)&&(M=p)),E(this,N,P),M&&M(N),this}});return Yfe}var Qfe;function Mbt(){return Qfe||(Qfe=1,Lbt()),Kfe}var CM,Jfe;function Bbt(){if(Jfe)return CM;Jfe=1,Nd(),Mbt();var t=wn();return CM=t.WeakMap,CM}var IM,eAe;function $bt(){if(eAe)return IM;eAe=1;var t=Bbt();return Od(),IM=t,IM}var pM,tAe;function qbt(){return tAe||(tAe=1,pM=$bt()),pM}var zbt=qbt(),ux=Ar(zbt);function sy(t,e,r){Ubt(t,e),e.set(t,r)}function Ubt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oU(t,e,r){return t.set(ije(t,e),r),r}function Zn(t,e){return t.get(ije(t,e))}function ije(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function rAe(t,e){const r=new Oc;for(const n of e)t.has(n)||r.add(n);return r}var jI=new ux,vc=new ux;class nAe{constructor(){sy(this,jI,new Oc),sy(this,vc,new Oc)}get size(){return Zn(vc,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Zn(vc,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Zn(vc,this).delete(i)}clear(){Zn(vc,this).clear()}getSelection(){return[...Zn(vc,this)]}getChanges(){return{added:[...rAe(Zn(jI,this),Zn(vc,this))],deleted:[...rAe(Zn(vc,this),Zn(jI,this))],previous:[...new Oc(Zn(jI,this))],current:[...new Oc(Zn(vc,this))]}}commit(){const e=this.getChanges();oU(jI,this,Zn(vc,this)),oU(vc,this,new Oc(Zn(jI,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Vf=new ux,Hf=new ux,mM=new ux;class Wbt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};sy(this,Vf,new nAe),sy(this,Hf,new nAe),sy(this,mM,void 0),oU(mM,this,e)}get sizeNodes(){return Zn(Vf,this).size}get sizeEdges(){return Zn(Hf,this).size}getNodes(){return Zn(Vf,this).getSelection()}getEdges(){return Zn(Hf,this).getSelection()}addNodes(){Zn(Vf,this).add(...arguments)}addEdges(){Zn(Hf,this).add(...arguments)}deleteNodes(e){Zn(Vf,this).delete(e)}deleteEdges(e){Zn(Hf,this).delete(e)}clear(){Zn(Vf,this).clear(),Zn(Hf,this).clear()}commit(){const e={nodes:Zn(Vf,this).commit(),edges:Zn(Hf,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Zn(mM,this).call(this,e,...n),e}}class Gbt{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Wbt,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ji(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Km(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(r,n);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(o.controlEdge=r.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof nl?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],u=o[l];if(u.connected){const g=u.from.x,d=u.from.y,f=u.to.x,h=u.to.y,A=u.edgeType.getDistanceToEdge(g,d,f,h,n.x,n.y);A<i&&(s=l,i=A)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof nl?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof nl?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof nl?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof nl?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof nl&&n.id!=s||n instanceof Gh)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Gh&&n.id!=s||n instanceof nl&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=oi(this.hoverObj.edges).length,o=oi(this.hoverObj.nodes).length,a=n instanceof Gh&&s===0&&o===0,l=n instanceof nl&&s===0&&o===0;(i||a||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof nl&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Io(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Io(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const g=s[i[l]].getItemsOnPoint(r);n.push.apply(n,g)}const o=this.body.edgeIndices,a=this.body.edges;for(let l=o.length-1;l>=0;l--){const g=a[o[l]].getItemsOnPoint(r);n.push.apply(n,g)}return n}}class sje{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Vbt extends sje{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){nd(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Hbt extends sje{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){nd(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var iAe={},sAe;function Kbt(){if(sAe)return iAe;sAe=1;var t=lr(),e=ff().every,r=Gm(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),iAe}var vM,oAe;function Ybt(){if(oAe)return vM;oAe=1,Kbt();var t=Fs();return vM=t("Array","every"),vM}var yM,aAe;function Zbt(){if(aAe)return yM;aAe=1;var t=$i(),e=Ybt(),r=Array.prototype;return yM=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},yM}var xM,lAe;function Xbt(){if(lAe)return xM;lAe=1;var t=Zbt();return xM=t,xM}var bM,cAe;function Qbt(){return cAe||(cAe=1,bM=Xbt()),bM}var Jbt=Qbt(),oje=Ar(Jbt);function ewt(t,e){const r=new Oc;return an(t).call(t,n=>{var i;an(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),an(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function twt(t){return aje(e=>{var r,n;return oje(r=ls(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function rwt(t){return aje(e=>{var r,n;return oje(r=ls(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function aje(t,e,r,n){var i;const s=zh(null),o=OG(i=[...AS(n).call(n)]).call(i,(d,f)=>d+1+f.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[d,f]of n){if(!n.has(d)||!t(f))continue;s[d]=0;const h=[f];let A=0,C;for(;C=h.pop();){var u,g;if(!n.has(d))continue;const I=s[C.id]+l;if(an(u=ls(g=C.edges).call(g,p=>p.connected&&p.to!==p.from&&p[r]!==C&&n.has(p.toId)&&n.has(p.fromId))).call(u,p=>{const m=p[a],v=s[m];(v==null||e(I,v))&&(s[m]=I,h.push(p[r]))}),A>o)return ewt(n,s);++A}}return s}class nwt{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,n(o[a]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new sx;let n=0;const i=nd(e=[...new Oc(Zpt(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),o=Math.max(l.y,o)}return{min_x:n,max_x:i,min_y:s,max_y:o}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)if(n[s]==i[o])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return oi(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class iwt{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+lS()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Km(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),$l(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),Xn(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=o_(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const g=e.length;if(u==g&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*a,u.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=ra.getRangeCore(this.body.nodes,this.body.nodeIndices),r=ra.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new nwt;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const p=o();let m=0;for(let v=0;v<p.length-1;v++){const y=p[v].max-p[v+1].min;m+=y+this.options.hierarchical.treeSpacing,s(v+1,m)}},s=(p,m)=>{const v=this.hierarchical.trees;for(const y in v)Object.prototype.hasOwnProperty.call(v,y)&&v[y]===p&&this.direction.shift(y,m)},o=()=>{const p=[];for(let m=0;m<this.hierarchical.numTrees();m++)p.push(this.direction.getTreeSize(m));return p},a=(p,m)=>{if(!m[p.id]&&(m[p.id]=!0,this.hierarchical.childrenReference[p.id])){const v=this.hierarchical.childrenReference[p.id];if(v.length>0)for(let y=0;y<v.length;y++)a(this.body.nodes[v[y]],m)}},l=function(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,v=1e9,y=1e9,x=1e9,T=-1e9;for(const E in p)if(Object.prototype.hasOwnProperty.call(p,E)){const _=e.body.nodes[E],S=e.hierarchical.levels[_.id],j=e.direction.getPosition(_),[w,R]=e._getSpaceAroundNode(_,p);v=Math.min(w,v),y=Math.min(R,y),S<=m&&(x=Math.min(j,x),T=Math.max(j,T))}return[x,T,v,y]},u=(p,m)=>{const v=this.hierarchical.getMaxLevel(p.id),y=this.hierarchical.getMaxLevel(m.id);return Math.min(v,y)},g=(p,m,v)=>{const y=this.hierarchical;for(let x=0;x<m.length;x++){const T=m[x],E=y.distributionOrdering[T];if(E.length>1)for(let _=0;_<E.length-1;_++){const S=E[_],j=E[_+1];y.hasSameParent(S,j)&&y.inSameSubNetwork(S,j)&&p(S,j,v)}}},d=function(p,m){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const y=e.direction.getPosition(p),x=e.direction.getPosition(m),T=Math.abs(x-y),E=e.options.hierarchical.nodeSpacing;if(T>E){const _={},S={};a(p,_),a(m,S);const j=u(p,m),w=l(_,j),R=l(S,j),N=w[1],P=R[0],M=R[2];if(Math.abs(N-P)>E){let W=N-P+E;W<-M+E&&(W=-M+E),W<0&&(e._shiftBlock(m.id,W),r=!0,v===!0&&e._centerParent(m))}}},f=(p,m)=>{const v=m.id,y=m.edges,x=this.hierarchical.levels[m.id],T=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,E={},_=[];for(let M=0;M<y.length;M++){const B=y[M];if(B.toId!=B.fromId){const W=B.toId==v?B.from:B.to;E[y[M].id]=W,this.hierarchical.levels[W.id]<x&&_.push(B)}}const S=(M,B)=>{let W=0;for(let H=0;H<B.length;H++)if(E[B[H].id]!==void 0){const V=this.direction.getPosition(E[B[H].id])-M;W+=V/Math.sqrt(V*V+T)}return W},j=(M,B)=>{let W=0;for(let H=0;H<B.length;H++)if(E[B[H].id]!==void 0){const V=this.direction.getPosition(E[B[H].id])-M;W-=T*Math.pow(V*V+T,-1.5)}return W},w=(M,B)=>{let W=this.direction.getPosition(m);const H={};for(let V=0;V<M;V++){const K=S(W,B),Y=j(W,B),k=40,q=Math.max(-k,Math.min(k,Math.round(K/Y)));if(W=W-q,H[W]!==void 0)break;H[W]=V}return W},R=M=>{const B=this.direction.getPosition(m);if(n[m.id]===void 0){const k={};a(m,k),n[m.id]=k}const W=l(n[m.id]),H=W[2],V=W[3],K=M-B;let Y=0;K>0?Y=Math.min(K,V-this.options.hierarchical.nodeSpacing):K<0&&(Y=-Math.min(-K,H-this.options.hierarchical.nodeSpacing)),Y!=0&&(this._shiftBlock(m.id,Y),r=!0)},N=M=>{const B=this.direction.getPosition(m),[W,H]=this._getSpaceAroundNode(m),V=M-B;let K=B;V>0?K=Math.min(B+(H-this.options.hierarchical.nodeSpacing),M):V<0&&(K=Math.max(B-(W-this.options.hierarchical.nodeSpacing),M)),K!==B&&(this.direction.setPosition(m,K),r=!0)};let P=w(p,_);R(P),P=w(p,y),N(P)},h=p=>{let m=this.hierarchical.getLevels();m=jA(m).call(m);for(let v=0;v<p;v++){r=!1;for(let y=0;y<m.length;y++){const x=m[y],T=this.hierarchical.distributionOrdering[x];for(let E=0;E<T.length;E++)f(1e3,T[E])}if(r!==!0)break}},A=p=>{let m=this.hierarchical.getLevels();m=jA(m).call(m);for(let v=0;v<p&&(r=!1,g(d,m,!0),r===!0);v++);},C=()=>{for(const p in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,p)&&this._centerParent(this.body.nodes[p])},I=()=>{let p=this.hierarchical.getLevels();p=jA(p).call(p);for(let m=0;m<p.length;m++){const v=p[m],y=this.hierarchical.distributionOrdering[v];for(let x=0;x<y.length;x++)this._centerParent(y[x])}};this.options.hierarchical.blockShifting===!0&&(A(5),C()),this.options.hierarchical.edgeMinimization===!0&&h(20),this.options.hierarchical.parentCentralization===!0&&I(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const g=a[s-1];if(n===!0&&r[g.id]===void 0||n===!1){const d=this.direction.getPosition(g);l=o-d}}if(s!=a.length-1){const g=a[s+1];if(n===!0&&r[g.id]===void 0||n===!1){const d=this.direction.getPosition(g);u=Math.min(u,d-o)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),l=this.direction.getPosition(s),[u,g]=this._getSpaceAroundNode(s),d=l-a;(d<0&&Math.abs(d)<g-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=oi(e[n]);i=this._indexArrayToNodes(i),nd(r=this.direction).call(r,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[o-1])+l),this.direction.setPosition(a,u,n),this._validatePositionAndContinue(a,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);nd(n=this.direction).call(n,s);for(let a=0;a<s.length;a++){const l=s[a],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const g=this.options.hierarchical.nodeSpacing;let d;a===0?d=this.direction.getPosition(this.body.nodes[e]):d=this.direction.getPosition(s[a-1])+g,this.direction.setPosition(l,d,u),this._validatePositionAndContinue(l,u,d)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Hr(e.edges,n=>{var i;jn(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Hr(r,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const n=[];return Hr(e,i=>{n.push(Number(i))}),nd(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Hr(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,o){},n=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const l=r(ra.cloneOptions(i,"node"),ra.cloneOptions(s,"node"),ra.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=OG(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new sx);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=rwt(r):this.hierarchical.levels=twt(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,o)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),n[s.id]=!0;let a;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const g=l[u];g.connected===!0&&(g.toId==s.id?a=g.from:a=g.to,s.id!=a.id&&(e(s,a,g),i(a,o)))}}};if(r===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(n[a]===void 0){const l=this.body.nodes[a];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,r){const n={},i=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const g=l[u];o[g]=!0,i(o,g)}},s=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const g=l[u];if(o[g]!==void 0)return{foundParent:g,withChild:a};const d=s(o,g);if(d.foundParent!==null)return d}return{foundParent:null,withChild:a}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Vbt(this):this.direction=new Hbt(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);r=Math.min(r,o),n=Math.max(n,o)}return .5*(r+n)}}class swt{constructor(e,r,n,i){var s,o;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ji(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",yt(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",yt(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Xn(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&n===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,yt(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",yt(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,yt(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",yt(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=Xn({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,yt(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",yt(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",yt(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",yt(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",yt(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",yt(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,yt(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",yt(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",yt(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",yt(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",yt(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const g=o.edgeType.findBorderPositions(u);a.selected===!1&&(a.x=g.from.x,a.y=g.from.y),l.selected===!1&&(l.x=g.to.x,l.y=g.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=Xn({},this.options.controlNodeStyle);n.id="targetNode"+yp(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ah(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,yt(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ah(this.editModeDiv),ah(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of qu(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),ah(this.manipulationDiv),ah(this.editModeDiv),ah(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,yt(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,yt(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,yt(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,yt(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,yt(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,yt(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Vm(oi(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new vp(e,{});pS(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=jn(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var r;qu(r=this.body.edgeIndices).call(r,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=jn(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(o!==-1){var i;qu(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ji({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=n.isOverlappingWith(r),a=i.isOverlappingWith(r);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ji({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+yp(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(jn(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(jn(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:yp(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const St="string",vt="boolean",Xe="number",Nv="array",rr="object",lje="dom",owt="any",wM=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],SM={borderWidth:{number:Xe},borderWidthSelected:{number:Xe,undefined:"undefined"},brokenImage:{string:St,undefined:"undefined"},chosen:{label:{boolean:vt,function:"function"},node:{boolean:vt,function:"function"},__type__:{object:rr,boolean:vt}},color:{border:{string:St},background:{string:St},highlight:{border:{string:St},background:{string:St},__type__:{object:rr,string:St}},hover:{border:{string:St},background:{string:St},__type__:{object:rr,string:St}},__type__:{object:rr,string:St}},opacity:{number:Xe,undefined:"undefined"},fixed:{x:{boolean:vt},y:{boolean:vt},__type__:{object:rr,boolean:vt}},font:{align:{string:St},color:{string:St},size:{number:Xe},face:{string:St},background:{string:St},strokeWidth:{number:Xe},strokeColor:{string:St},vadjust:{number:Xe},multi:{boolean:vt,string:St},bold:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},boldital:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},ital:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},mono:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},__type__:{object:rr,string:St}},group:{string:St,number:Xe,undefined:"undefined"},heightConstraint:{minimum:{number:Xe},valign:{string:St},__type__:{object:rr,boolean:vt,number:Xe}},hidden:{boolean:vt},icon:{face:{string:St},code:{string:St},size:{number:Xe},color:{string:St},weight:{string:St,number:Xe},__type__:{object:rr}},id:{string:St,number:Xe},image:{selected:{string:St,undefined:"undefined"},unselected:{string:St,undefined:"undefined"},__type__:{object:rr,string:St}},imagePadding:{top:{number:Xe},right:{number:Xe},bottom:{number:Xe},left:{number:Xe},__type__:{object:rr,number:Xe}},label:{string:St,undefined:"undefined"},labelHighlightBold:{boolean:vt},level:{number:Xe,undefined:"undefined"},margin:{top:{number:Xe},right:{number:Xe},bottom:{number:Xe},left:{number:Xe},__type__:{object:rr,number:Xe}},mass:{number:Xe},physics:{boolean:vt},scaling:{min:{number:Xe},max:{number:Xe},label:{enabled:{boolean:vt},min:{number:Xe},max:{number:Xe},maxVisible:{number:Xe},drawThreshold:{number:Xe},__type__:{object:rr,boolean:vt}},customScalingFunction:{function:"function"},__type__:{object:rr}},shadow:{enabled:{boolean:vt},color:{string:St},size:{number:Xe},x:{number:Xe},y:{number:Xe},__type__:{object:rr,boolean:vt}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:vt,array:Nv},borderRadius:{number:Xe},interpolation:{boolean:vt},useImageSize:{boolean:vt},useBorderWithImage:{boolean:vt},coordinateOrigin:{string:["center","top-left"]},__type__:{object:rr}},size:{number:Xe},title:{string:St,dom:lje,undefined:"undefined"},value:{number:Xe,undefined:"undefined"},widthConstraint:{minimum:{number:Xe},maximum:{number:Xe},__type__:{object:rr,boolean:vt,number:Xe}},x:{number:Xe},y:{number:Xe},__type__:{object:rr}},awt={configure:{enabled:{boolean:vt},filter:{boolean:vt,string:St,array:Nv,function:"function"},container:{dom:lje},showButton:{boolean:vt},__type__:{object:rr,boolean:vt,string:St,array:Nv,function:"function"}},edges:{arrows:{to:{enabled:{boolean:vt},scaleFactor:{number:Xe},type:{string:wM},imageHeight:{number:Xe},imageWidth:{number:Xe},src:{string:St},__type__:{object:rr,boolean:vt}},middle:{enabled:{boolean:vt},scaleFactor:{number:Xe},type:{string:wM},imageWidth:{number:Xe},imageHeight:{number:Xe},src:{string:St},__type__:{object:rr,boolean:vt}},from:{enabled:{boolean:vt},scaleFactor:{number:Xe},type:{string:wM},imageWidth:{number:Xe},imageHeight:{number:Xe},src:{string:St},__type__:{object:rr,boolean:vt}},__type__:{string:["from","to","middle"],object:rr}},endPointOffset:{from:{number:Xe},to:{number:Xe},__type__:{object:rr,number:Xe}},arrowStrikethrough:{boolean:vt},background:{enabled:{boolean:vt},color:{string:St},size:{number:Xe},dashes:{boolean:vt,array:Nv},__type__:{object:rr,boolean:vt}},chosen:{label:{boolean:vt,function:"function"},edge:{boolean:vt,function:"function"},__type__:{object:rr,boolean:vt}},color:{color:{string:St},highlight:{string:St},hover:{string:St},inherit:{string:["from","to","both"],boolean:vt},opacity:{number:Xe},__type__:{object:rr,string:St}},dashes:{boolean:vt,array:Nv},font:{color:{string:St},size:{number:Xe},face:{string:St},background:{string:St},strokeWidth:{number:Xe},strokeColor:{string:St},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:Xe},multi:{boolean:vt,string:St},bold:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},boldital:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},ital:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},mono:{color:{string:St},size:{number:Xe},face:{string:St},mod:{string:St},vadjust:{number:Xe},__type__:{object:rr,string:St}},__type__:{object:rr,string:St}},hidden:{boolean:vt},hoverWidth:{function:"function",number:Xe},label:{string:St,undefined:"undefined"},labelHighlightBold:{boolean:vt},length:{number:Xe,undefined:"undefined"},physics:{boolean:vt},scaling:{min:{number:Xe},max:{number:Xe},label:{enabled:{boolean:vt},min:{number:Xe},max:{number:Xe},maxVisible:{number:Xe},drawThreshold:{number:Xe},__type__:{object:rr,boolean:vt}},customScalingFunction:{function:"function"},__type__:{object:rr}},selectionWidth:{function:"function",number:Xe},selfReferenceSize:{number:Xe},selfReference:{size:{number:Xe},angle:{number:Xe},renderBehindTheNode:{boolean:vt},__type__:{object:rr}},shadow:{enabled:{boolean:vt},color:{string:St},size:{number:Xe},x:{number:Xe},y:{number:Xe},__type__:{object:rr,boolean:vt}},smooth:{enabled:{boolean:vt},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:Xe},forceDirection:{string:["horizontal","vertical","none"],boolean:vt},__type__:{object:rr,boolean:vt}},title:{string:St,undefined:"undefined"},width:{number:Xe},widthConstraint:{maximum:{number:Xe},__type__:{object:rr,boolean:vt,number:Xe}},value:{number:Xe,undefined:"undefined"},__type__:{object:rr}},groups:{useDefaultGroups:{boolean:vt},__any__:SM,__type__:{object:rr}},interaction:{dragNodes:{boolean:vt},dragView:{boolean:vt},hideEdgesOnDrag:{boolean:vt},hideEdgesOnZoom:{boolean:vt},hideNodesOnDrag:{boolean:vt},hover:{boolean:vt},keyboard:{enabled:{boolean:vt},speed:{x:{number:Xe},y:{number:Xe},zoom:{number:Xe},__type__:{object:rr}},bindToWindow:{boolean:vt},autoFocus:{boolean:vt},__type__:{object:rr,boolean:vt}},multiselect:{boolean:vt},navigationButtons:{boolean:vt},selectable:{boolean:vt},selectConnectedEdges:{boolean:vt},hoverConnectedEdges:{boolean:vt},tooltipDelay:{number:Xe},zoomView:{boolean:vt},zoomSpeed:{number:Xe},__type__:{object:rr}},layout:{randomSeed:{undefined:"undefined",number:Xe,string:St},improvedLayout:{boolean:vt},clusterThreshold:{number:Xe},hierarchical:{enabled:{boolean:vt},levelSeparation:{number:Xe},nodeSpacing:{number:Xe},treeSpacing:{number:Xe},blockShifting:{boolean:vt},edgeMinimization:{boolean:vt},parentCentralization:{boolean:vt},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:rr,boolean:vt}},__type__:{object:rr}},manipulation:{enabled:{boolean:vt},initiallyActive:{boolean:vt},addNode:{boolean:vt,function:"function"},addEdge:{boolean:vt,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:rr,boolean:vt,function:"function"}},deleteNode:{boolean:vt,function:"function"},deleteEdge:{boolean:vt,function:"function"},controlNodeStyle:SM,__type__:{object:rr,boolean:vt}},nodes:SM,physics:{enabled:{boolean:vt},barnesHut:{theta:{number:Xe},gravitationalConstant:{number:Xe},centralGravity:{number:Xe},springLength:{number:Xe},springConstant:{number:Xe},damping:{number:Xe},avoidOverlap:{number:Xe},__type__:{object:rr}},forceAtlas2Based:{theta:{number:Xe},gravitationalConstant:{number:Xe},centralGravity:{number:Xe},springLength:{number:Xe},springConstant:{number:Xe},damping:{number:Xe},avoidOverlap:{number:Xe},__type__:{object:rr}},repulsion:{centralGravity:{number:Xe},springLength:{number:Xe},springConstant:{number:Xe},nodeDistance:{number:Xe},damping:{number:Xe},__type__:{object:rr}},hierarchicalRepulsion:{centralGravity:{number:Xe},springLength:{number:Xe},springConstant:{number:Xe},nodeDistance:{number:Xe},damping:{number:Xe},avoidOverlap:{number:Xe},__type__:{object:rr}},maxVelocity:{number:Xe},minVelocity:{number:Xe},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:vt},iterations:{number:Xe},updateInterval:{number:Xe},onlyDynamicEdges:{boolean:vt},fit:{boolean:vt},__type__:{object:rr,boolean:vt}},timestep:{number:Xe},adaptiveTimestep:{boolean:vt},wind:{x:{number:Xe},y:{number:Xe},__type__:{object:rr}},__type__:{object:rr,boolean:vt}},autoResize:{boolean:vt},clickToUse:{boolean:vt},locale:{string:St},locales:{__any__:{any:owt},__type__:{object:rr}},height:{string:St},width:{string:St},__type__:{object:rr}},cje={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},lwt=(t,e,r)=>{var n;return!!(qh(t).call(t,"physics")&&qh(n=cje.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class cwt{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let a=0;a<r.length;a++){const l=r[a],u={};i[l]=u;for(let g=0;g<r.length;g++)u[r[g]]=a==g?0:1e9}for(let a=0;a<n.length;a++){const l=s[n[a]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const o=r.length;for(let a=0;a<o;a++){const l=r[a],u=i[l];for(let g=0;g<o-1;g++){const d=r[g],f=i[d];for(let h=g+1;h<o;h++){const A=r[h],C=i[A],I=Math.min(f[A],f[l]+u[A]);f[A]=I,C[d]=I}}}return i}}class uwt{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new cwt}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let g=1e9,d=0,f=0,h=0,A=0,C=0;for(;g>s&&a<l;)for(a+=1,[d,g,f,h]=this._getHighestEnergyNode(n),A=g,C=0;A>o&&C<u;)C+=1,this._moveNode(d,f,h),[A,f,h]=this._getEnergy(d)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],o=0,a=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[g,d,f]=this._getEnergy(u);i<g&&(i=g,s=u,o=d,a=f)}}return[s,i,o,a]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,l=0;const u=s[e].x,g=s[e].y,d=this.K_matrix[e],f=this.L_matrix[e];for(let y=0;y<i.length;y++){const x=i[y];if(x!==e){const T=s[x].x,E=s[x].y,_=d[x],S=f[x],j=1/((u-T)**2+(g-E)**2)**1.5;o+=_*(1-S*(g-E)**2*j),a+=_*(S*(u-T)*(g-E)*j),l+=_*(1-S*(u-T)**2*j)}}const h=o,A=a,C=r,I=l,p=n,m=(C/h+p/A)/(A/h-I/A),v=-(A*m+C)/h;s[e].x+=v,s[e].y+=m,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,o=r[i].y;let a=0,l=0;for(let u=n;u<e.length;u++){const g=e[u];if(g!==i){const d=r[g].x,f=r[g].y,h=1/Math.sqrt((s-d)**2+(o-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][g]*(s-d-this.L_matrix[i][g]*(s-d)*h),this.K_matrix[i][g]*(o-f-this.L_matrix[i][g]*(o-f)*h)],this.E_matrix[g][n]=this.E_matrix[i][u],a+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=n[e].x,l=n[e].y;let u=0,g=0;for(let d=0;d<r.length;d++){const f=r[d];if(f!==e){const h=i[d],A=h[0],C=h[1],I=n[f].x,p=n[f].y,m=1/Math.sqrt((a-I)**2+(l-p)**2),v=s[f]*(a-I-o[f]*(a-I)*m),y=s[f]*(l-p-o[f]*(l-p)*m);i[d]=[v,y],u+=v,g+=y;const x=this.E_sums[f];x[0]+=v-A,x[1]+=y-C}}this.E_sums[e]=[u,g]}}function Xt(t,e,r){var n,i,s,o;if(!(this instanceof Xt))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:hvt,clickToUse:!1},Ji(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:yt(n=this.on).call(n,this),off:yt(i=this.off).call(i,this),emit:yt(s=this.emit).call(s,this),once:yt(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Cvt(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Nvt,this.canvas=new Obt(this.body),this.selectionHandler=new Gbt(this.body,this.canvas),this.interactionHandler=new Dbt(this.body,this.canvas,this.selectionHandler),this.view=new Pbt(this.body,this.canvas),this.renderer=new Ebt(this.body,this.canvas),this.physics=new bbt(this.body),this.layoutEngine=new iwt(this.body),this.clustering=new Sbt(this.body),this.manipulation=new swt(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Xxt(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Ibt(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new uwt(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}NNe(Xt.prototype);Xt.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(W0t.validate(t,awt)===!0&&console.error("%cErrors have been found in the supplied options object.",OOe),Km(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=fvt(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new z0t(this,this.body.container,cje,this.canvas.pixelRatio,lwt)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Xn(n.nodes,this.nodesHandler.options),Xn(n.edges,this.edgesHandler.options),Xn(n.layout,this.layoutEngine.options),Xn(n.interaction,this.selectionHandler.options),Xn(n.interaction,this.renderer.options),Xn(n.interaction,this.interactionHandler.options),Xn(n.manipulation,this.manipulation.options),Xn(n.physics,this.physics.options),Xn(n.global,this.canvas.options),Xn(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new q0t(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Xt.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};Xt.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};Xt.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=evt(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=tvt(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Xt.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ah(this.body.container)};Xt.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};Xt.prototype.isActive=function(){return!this.activator||this.activator.active};Xt.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Xt.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Xt.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Xt.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Xt.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Xt.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Xt.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Xt.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Xt.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Xt.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Xt.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Xt.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Xt.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Xt.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Xt.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Xt.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Xt.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Xt.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Xt.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Xt.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Xt.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Xt.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Xt.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Xt.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Xt.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Xt.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Xt.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Xt.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Xt.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Xt.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Xt.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Xt.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Xt.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Xt.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Xt.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Xt.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Xt.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Xt.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Xt.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Xt.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};Xt.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};Xt.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Xt.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Xt.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Xt.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Xt.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Xt.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Xt.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Xt.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Xt.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Xt.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Xt.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var uAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EM={exports:{}},gAe={},cv,dAe;function Cs(){if(dAe)return cv;dAe=1;var t=function(e){return e&&e.Math===Math&&e};return cv=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof uAe=="object"&&uAe)||t(typeof cv=="object"&&cv)||function(){return this}()||Function("return this")(),cv}var _M,hAe;function kn(){return hAe||(hAe=1,_M=function(t){try{return!!t()}catch{return!0}}),_M}var TM,fAe;function gx(){if(fAe)return TM;fAe=1;var t=kn();return TM=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),TM}var RM,AAe;function u_(){if(AAe)return RM;AAe=1;var t=gx(),e=Function.prototype,r=e.apply,n=e.call;return RM=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),RM}var NM,CAe;function Vn(){if(CAe)return NM;CAe=1;var t=gx(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return NM=t?n:function(i){return function(){return r.apply(i,arguments)}},NM}var OM,IAe;function jd(){if(IAe)return OM;IAe=1;var t=Vn(),e=t({}.toString),r=t("".slice);return OM=function(n){return r(e(n),8,-1)},OM}var jM,pAe;function uje(){if(pAe)return jM;pAe=1;var t=jd(),e=Vn();return jM=function(r){if(t(r)==="Function")return e(r)},jM}var PM,mAe;function eo(){if(mAe)return PM;mAe=1;var t=typeof document=="object"&&document.all;return PM=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},PM}var kM={},DM,vAe;function Is(){if(vAe)return DM;vAe=1;var t=kn();return DM=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),DM}var FM,yAe;function Ma(){if(yAe)return FM;yAe=1;var t=gx(),e=Function.prototype.call;return FM=t?e.bind(e):function(){return e.apply(e,arguments)},FM}var LM={},xAe;function FG(){if(xAe)return LM;xAe=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return LM.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,LM}var MM,bAe;function dx(){return bAe||(bAe=1,MM=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),MM}var BM,wAe;function g_(){if(wAe)return BM;wAe=1;var t=Vn(),e=kn(),r=jd(),n=Object,i=t("".split);return BM=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,BM}var $M,SAe;function hx(){return SAe||(SAe=1,$M=function(t){return t==null}),$M}var qM,EAe;function WC(){if(EAe)return qM;EAe=1;var t=hx(),e=TypeError;return qM=function(r){if(t(r))throw new e("Can't call method on "+r);return r},qM}var zM,_Ae;function rg(){if(_Ae)return zM;_Ae=1;var t=g_(),e=WC();return zM=function(r){return t(e(r))},zM}var UM,TAe;function ga(){if(TAe)return UM;TAe=1;var t=eo();return UM=function(e){return typeof e=="object"?e!==null:t(e)},UM}var WM,RAe;function Ls(){return RAe||(RAe=1,WM={}),WM}var GM,NAe;function bl(){if(NAe)return GM;NAe=1;var t=Ls(),e=Cs(),r=eo(),n=function(i){return r(i)?i:void 0};return GM=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},GM}var VM,OAe;function to(){if(OAe)return VM;OAe=1;var t=Vn();return VM=t({}.isPrototypeOf),VM}var HM,jAe;function Ym(){if(jAe)return HM;jAe=1;var t=Cs(),e=t.navigator,r=e&&e.userAgent;return HM=r?String(r):"",HM}var KM,PAe;function fx(){if(PAe)return KM;PAe=1;var t=Cs(),e=Ym(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),KM=a,KM}var YM,kAe;function Zm(){if(kAe)return YM;kAe=1;var t=fx(),e=kn(),r=Cs(),n=r.String;return YM=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),YM}var ZM,DAe;function gje(){if(DAe)return ZM;DAe=1;var t=Zm();return ZM=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ZM}var XM,FAe;function Ax(){if(FAe)return XM;FAe=1;var t=bl(),e=eo(),r=to(),n=gje(),i=Object;return XM=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},XM}var QM,LAe;function Xm(){if(LAe)return QM;LAe=1;var t=String;return QM=function(e){try{return t(e)}catch{return"Object"}},QM}var JM,MAe;function Pd(){if(MAe)return JM;MAe=1;var t=eo(),e=Xm(),r=TypeError;return JM=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},JM}var e6,BAe;function LG(){if(BAe)return e6;BAe=1;var t=Pd(),e=hx();return e6=function(r,n){var i=r[n];return e(i)?void 0:t(i)},e6}var t6,$Ae;function gwt(){if($Ae)return t6;$Ae=1;var t=Ma(),e=eo(),r=ga(),n=TypeError;return t6=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},t6}var r6={exports:{}},n6,qAe;function Qm(){return qAe||(qAe=1,n6=!0),n6}var i6,zAe;function dwt(){if(zAe)return i6;zAe=1;var t=Cs(),e=Object.defineProperty;return i6=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},i6}var UAe;function MG(){if(UAe)return r6.exports;UAe=1;var t=Qm(),e=Cs(),r=dwt(),n="__core-js_shared__",i=r6.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),r6.exports}var s6,WAe;function Jm(){if(WAe)return s6;WAe=1;var t=MG();return s6=function(e,r){return t[e]||(t[e]=r||{})},s6}var o6,GAe;function ou(){if(GAe)return o6;GAe=1;var t=WC(),e=Object;return o6=function(r){return e(t(r))},o6}var a6,VAe;function ro(){if(VAe)return a6;VAe=1;var t=Vn(),e=ou(),r=t({}.hasOwnProperty);return a6=Object.hasOwn||function(i,s){return r(e(i),s)},a6}var l6,HAe;function d_(){if(HAe)return l6;HAe=1;var t=Vn(),e=0,r=Math.random(),n=t(1.1.toString);return l6=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},l6}var c6,KAe;function no(){if(KAe)return c6;KAe=1;var t=Cs(),e=Jm(),r=ro(),n=d_(),i=Zm(),s=gje(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return c6=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},c6}var u6,YAe;function dje(){if(YAe)return u6;YAe=1;var t=Ma(),e=ga(),r=Ax(),n=LG(),i=gwt(),s=no(),o=TypeError,a=s("toPrimitive");return u6=function(l,u){if(!e(l)||r(l))return l;var g=n(l,a),d;if(g){if(u===void 0&&(u="default"),d=t(g,l,u),!e(d)||r(d))return d;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},u6}var g6,ZAe;function BG(){if(ZAe)return g6;ZAe=1;var t=dje(),e=Ax();return g6=function(r){var n=t(r,"string");return e(n)?n:n+""},g6}var d6,XAe;function hje(){if(XAe)return d6;XAe=1;var t=Cs(),e=ga(),r=t.document,n=e(r)&&e(r.createElement);return d6=function(i){return n?r.createElement(i):{}},d6}var h6,QAe;function fje(){if(QAe)return h6;QAe=1;var t=Is(),e=kn(),r=hje();return h6=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),h6}var JAe;function h_(){if(JAe)return kM;JAe=1;var t=Is(),e=Ma(),r=FG(),n=dx(),i=rg(),s=BG(),o=ro(),a=fje(),l=Object.getOwnPropertyDescriptor;return kM.f=t?l:function(g,d){if(g=i(g),d=s(d),a)try{return l(g,d)}catch{}if(o(g,d))return n(!e(r.f,g,d),g[d])},kM}var f6,eCe;function hwt(){if(eCe)return f6;eCe=1;var t=kn(),e=eo(),r=/#|\.prototype\./,n=function(l,u){var g=s[i(l)];return g===a?!0:g===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return f6=n,f6}var A6,tCe;function f_(){if(tCe)return A6;tCe=1;var t=uje(),e=Pd(),r=gx(),n=t(t.bind);return A6=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},A6}var C6={},I6,rCe;function Aje(){if(rCe)return I6;rCe=1;var t=Is(),e=kn();return I6=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),I6}var p6,nCe;function kd(){if(nCe)return p6;nCe=1;var t=ga(),e=String,r=TypeError;return p6=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},p6}var iCe;function ac(){if(iCe)return C6;iCe=1;var t=Is(),e=fje(),r=Aje(),n=kd(),i=BG(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",g="writable";return C6.f=t?r?function(f,h,A){if(n(f),h=i(h),n(A),typeof f=="function"&&h==="prototype"&&"value"in A&&g in A&&!A[g]){var C=a(f,h);C&&C[g]&&(f[h]=A.value,A={configurable:u in A?A[u]:C[u],enumerable:l in A?A[l]:C[l],writable:!1})}return o(f,h,A)}:o:function(f,h,A){if(n(f),h=i(h),n(A),e)try{return o(f,h,A)}catch{}if("get"in A||"set"in A)throw new s("Accessors not supported");return"value"in A&&(f[h]=A.value),f},C6}var m6,sCe;function e0(){if(sCe)return m6;sCe=1;var t=Is(),e=ac(),r=dx();return m6=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},m6}var v6,oCe;function Pr(){if(oCe)return v6;oCe=1;var t=Cs(),e=u_(),r=uje(),n=eo(),i=h_().f,s=hwt(),o=Ls(),a=f_(),l=e0(),u=ro(),g=function(d){var f=function(h,A,C){if(this instanceof f){switch(arguments.length){case 0:return new d;case 1:return new d(h);case 2:return new d(h,A)}return new d(h,A,C)}return e(d,this,arguments)};return f.prototype=d.prototype,f};return v6=function(d,f){var h=d.target,A=d.global,C=d.stat,I=d.proto,p=A?t:C?t[h]:t[h]&&t[h].prototype,m=A?o:o[h]||l(o,h,{})[h],v=m.prototype,y,x,T,E,_,S,j,w,R;for(E in f)y=s(A?E:h+(C?".":"#")+E,d.forced),x=!y&&p&&u(p,E),S=m[E],x&&(d.dontCallGetSet?(R=i(p,E),j=R&&R.value):j=p[E]),_=x&&j?j:f[E],!(!y&&!I&&typeof S==typeof _)&&(d.bind&&x?w=a(_,t):d.wrap&&x?w=g(_):I&&n(_)?w=r(_):w=_,(d.sham||_&&_.sham||S&&S.sham)&&l(w,"sham",!0),l(m,E,w),I&&(T=h+"Prototype",u(o,T)||l(o,T,{}),l(o[T],E,_),d.real&&v&&(y||!v[E])&&l(v,E,_)))},v6}var aCe;function fwt(){if(aCe)return gAe;aCe=1;var t=Pr(),e=Is(),r=ac().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),gAe}var lCe;function Awt(){if(lCe)return EM.exports;lCe=1,fwt();var t=Ls(),e=t.Object,r=EM.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),EM.exports}var y6,cCe;function Cje(){if(cCe)return y6;cCe=1;var t=Awt();return y6=t,y6}var x6,uCe;function Cwt(){if(uCe)return x6;uCe=1;var t=Cje();return x6=t,x6}var b6,gCe;function Iwt(){if(gCe)return b6;gCe=1;var t=Cwt();return b6=t,b6}var w6,dCe;function pwt(){return dCe||(dCe=1,w6=Iwt()),w6}var mwt=pwt(),vwt=Zr(mwt),hCe={},S6,fCe;function GC(){if(fCe)return S6;fCe=1;var t=jd();return S6=Array.isArray||function(r){return t(r)==="Array"},S6}var E6,ACe;function ywt(){if(ACe)return E6;ACe=1;var t=Math.ceil,e=Math.floor;return E6=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},E6}var _6,CCe;function t0(){if(CCe)return _6;CCe=1;var t=ywt();return _6=function(e){var r=+e;return r!==r||r===0?0:t(r)},_6}var T6,ICe;function Ije(){if(ICe)return T6;ICe=1;var t=t0(),e=Math.min;return T6=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},T6}var R6,pCe;function Cf(){if(pCe)return R6;pCe=1;var t=Ije();return R6=function(e){return t(e.length)},R6}var N6,mCe;function pje(){if(mCe)return N6;mCe=1;var t=TypeError,e=9007199254740991;return N6=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},N6}var O6,vCe;function A_(){if(vCe)return O6;vCe=1;var t=Is(),e=ac(),r=dx();return O6=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},O6}var j6,yCe;function $G(){if(yCe)return j6;yCe=1;var t=no(),e=t("toStringTag"),r={};return r[e]="z",j6=String(r)==="[object z]",j6}var P6,xCe;function If(){if(xCe)return P6;xCe=1;var t=$G(),e=eo(),r=jd(),n=no(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return P6=t?r:function(l){var u,g,d;return l===void 0?"Undefined":l===null?"Null":typeof(g=a(u=s(l),i))=="string"?g:o?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},P6}var k6,bCe;function xwt(){if(bCe)return k6;bCe=1;var t=Vn(),e=eo(),r=MG(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),k6=r.inspectSource,k6}var D6,wCe;function mje(){if(wCe)return D6;wCe=1;var t=Vn(),e=kn(),r=eo(),n=If(),i=bl(),s=xwt(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),g=!l.test(o),d=function(A){if(!r(A))return!1;try{return a(o,[],A),!0}catch{return!1}},f=function(A){if(!r(A))return!1;switch(n(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!u(l,s(A))}catch{return!0}};return f.sham=!0,D6=!a||e(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,D6}var F6,SCe;function bwt(){if(SCe)return F6;SCe=1;var t=GC(),e=mje(),r=ga(),n=no(),i=n("species"),s=Array;return F6=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},F6}var L6,ECe;function qG(){if(ECe)return L6;ECe=1;var t=bwt();return L6=function(e,r){return new(t(e))(r===0?0:r)},L6}var M6,_Ce;function Cx(){if(_Ce)return M6;_Ce=1;var t=kn(),e=no(),r=fx(),n=e("species");return M6=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},M6}var TCe;function vje(){if(TCe)return hCe;TCe=1;var t=Pr(),e=kn(),r=GC(),n=ga(),i=ou(),s=Cf(),o=pje(),a=A_(),l=qG(),u=Cx(),g=no(),d=fx(),f=g("isConcatSpreadable"),h=d>=51||!e(function(){var I=[];return I[f]=!1,I.concat()[0]!==I}),A=function(I){if(!n(I))return!1;var p=I[f];return p!==void 0?!!p:r(I)},C=!h||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:C},{concat:function(p){var m=i(this),v=l(m,0),y=0,x,T,E,_,S;for(x=-1,E=arguments.length;x<E;x++)if(S=x===-1?m:arguments[x],A(S))for(_=s(S),o(y+_),T=0;T<_;T++,y++)T in S&&a(v,y,S[T]);else o(y+1),a(v,y++,S);return v.length=y,v}}),hCe}var RCe={},NCe={},B6,OCe;function pf(){if(OCe)return B6;OCe=1;var t=If(),e=String;return B6=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},B6}var $6={},q6,jCe;function zG(){if(jCe)return q6;jCe=1;var t=t0(),e=Math.max,r=Math.min;return q6=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},q6}var z6,PCe;function wwt(){if(PCe)return z6;PCe=1;var t=rg(),e=zG(),r=Cf(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var g=e(a,u),d;if(i&&o!==o){for(;u>g;)if(d=l[g++],d!==d)return!0}else for(;u>g;g++)if((i||g in l)&&l[g]===o)return i||g||0;return!i&&-1}};return z6={includes:n(!0),indexOf:n(!1)},z6}var U6,kCe;function Ix(){return kCe||(kCe=1,U6={}),U6}var W6,DCe;function yje(){if(DCe)return W6;DCe=1;var t=Vn(),e=ro(),r=rg(),n=wwt().indexOf,i=Ix(),s=t([].push);return W6=function(o,a){var l=r(o),u=0,g=[],d;for(d in l)!e(i,d)&&e(l,d)&&s(g,d);for(;a.length>u;)e(l,d=a[u++])&&(~n(g,d)||s(g,d));return g},W6}var G6,FCe;function UG(){return FCe||(FCe=1,G6=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),G6}var V6,LCe;function C_(){if(LCe)return V6;LCe=1;var t=yje(),e=UG();return V6=Object.keys||function(n){return t(n,e)},V6}var MCe;function WG(){if(MCe)return $6;MCe=1;var t=Is(),e=Aje(),r=ac(),n=kd(),i=rg(),s=C_();return $6.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),g=s(l),d=g.length,f=0,h;d>f;)r.f(a,h=g[f++],u[h]);return a},$6}var H6,BCe;function Swt(){if(BCe)return H6;BCe=1;var t=bl();return H6=t("document","documentElement"),H6}var K6,$Ce;function I_(){if($Ce)return K6;$Ce=1;var t=Jm(),e=d_(),r=t("keys");return K6=function(n){return r[n]||(r[n]=e(n))},K6}var Y6,qCe;function px(){if(qCe)return Y6;qCe=1;var t=kd(),e=WG(),r=UG(),n=Ix(),i=Swt(),s=hje(),o=I_(),a=">",l="<",u="prototype",g="script",d=o("IE_PROTO"),f=function(){},h=function(m){return l+g+a+m+l+"/"+g+a},A=function(m){m.write(h("")),m.close();var v=m.parentWindow.Object;return m=null,v},C=function(){var m=s("iframe"),v="java"+g+":",y;return m.style.display="none",i.appendChild(m),m.src=String(v),y=m.contentWindow.document,y.open(),y.write(h("document.F=Object")),y.close(),y.F},I,p=function(){try{I=new ActiveXObject("htmlfile")}catch{}p=typeof document<"u"?document.domain&&I?A(I):C():A(I);for(var m=r.length;m--;)delete p[u][r[m]];return p()};return n[d]=!0,Y6=Object.create||function(v,y){var x;return v!==null?(f[u]=t(v),x=new f,f[u]=null,x[d]=v):x=p(),y===void 0?x:e.f(x,y)},Y6}var Z6={},zCe;function p_(){if(zCe)return Z6;zCe=1;var t=yje(),e=UG(),r=e.concat("length","prototype");return Z6.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Z6}var X6={},Q6,UCe;function r0(){if(UCe)return Q6;UCe=1;var t=Vn();return Q6=t([].slice),Q6}var WCe;function xje(){if(WCe)return X6;WCe=1;var t=jd(),e=rg(),r=p_().f,n=r0(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return X6.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},X6}var J6={},GCe;function m_(){return GCe||(GCe=1,J6.f=Object.getOwnPropertySymbols),J6}var eB,VCe;function mx(){if(VCe)return eB;VCe=1;var t=e0();return eB=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},eB}var tB,HCe;function GG(){if(HCe)return tB;HCe=1;var t=ac();return tB=function(e,r,n){return t.f(e,r,n)},tB}var rB={},KCe;function v_(){if(KCe)return rB;KCe=1;var t=no();return rB.f=t,rB}var nB,YCe;function xi(){if(YCe)return nB;YCe=1;var t=Ls(),e=ro(),r=v_(),n=ac().f;return nB=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},nB}var iB,ZCe;function bje(){if(ZCe)return iB;ZCe=1;var t=Ma(),e=bl(),r=no(),n=mx();return iB=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},iB}var sB,XCe;function Ewt(){if(XCe)return sB;XCe=1;var t=$G(),e=If();return sB=t?{}.toString:function(){return"[object "+e(this)+"]"},sB}var oB,QCe;function VC(){if(QCe)return oB;QCe=1;var t=$G(),e=ac().f,r=e0(),n=ro(),i=Ewt(),s=no(),o=s("toStringTag");return oB=function(a,l,u,g){var d=u?a:a&&a.prototype;d&&(n(d,o)||e(d,o,{configurable:!0,value:l}),g&&!t&&r(d,"toString",i))},oB}var aB,JCe;function _wt(){if(JCe)return aB;JCe=1;var t=Cs(),e=eo(),r=t.WeakMap;return aB=e(r)&&/native code/.test(String(r)),aB}var lB,eIe;function vx(){if(eIe)return lB;eIe=1;var t=_wt(),e=Cs(),r=ga(),n=e0(),i=ro(),s=MG(),o=I_(),a=Ix(),l="Object already initialized",u=e.TypeError,g=e.WeakMap,d,f,h,A=function(m){return h(m)?f(m):d(m,{})},C=function(m){return function(v){var y;if(!r(v)||(y=f(v)).type!==m)throw new u("Incompatible receiver, "+m+" required");return y}};if(t||s.state){var I=s.state||(s.state=new g);I.get=I.get,I.has=I.has,I.set=I.set,d=function(m,v){if(I.has(m))throw new u(l);return v.facade=m,I.set(m,v),v},f=function(m){return I.get(m)||{}},h=function(m){return I.has(m)}}else{var p=o("state");a[p]=!0,d=function(m,v){if(i(m,p))throw new u(l);return v.facade=m,n(m,p,v),v},f=function(m){return i(m,p)?m[p]:{}},h=function(m){return i(m,p)}}return lB={set:d,get:f,has:h,enforce:A,getterFor:C},lB}var cB,tIe;function n0(){if(tIe)return cB;tIe=1;var t=f_(),e=Vn(),r=g_(),n=ou(),i=Cf(),s=qG(),o=e([].push),a=function(l){var u=l===1,g=l===2,d=l===3,f=l===4,h=l===6,A=l===7,C=l===5||h;return function(I,p,m,v){for(var y=n(I),x=r(y),T=i(x),E=t(p,m),_=0,S=v||s,j=u?S(I,T):g||A?S(I,0):void 0,w,R;T>_;_++)if((C||_ in x)&&(w=x[_],R=E(w,_,y),l))if(u)j[_]=R;else if(R)switch(l){case 3:return!0;case 5:return w;case 6:return _;case 2:o(j,w)}else switch(l){case 4:return!1;case 7:o(j,w)}return h?-1:d||f?f:j}};return cB={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},cB}var rIe;function Twt(){if(rIe)return NCe;rIe=1;var t=Pr(),e=Cs(),r=Ma(),n=Vn(),i=Qm(),s=Is(),o=Zm(),a=kn(),l=ro(),u=to(),g=kd(),d=rg(),f=BG(),h=pf(),A=dx(),C=px(),I=C_(),p=p_(),m=xje(),v=m_(),y=h_(),x=ac(),T=WG(),E=FG(),_=mx(),S=GG(),j=Jm(),w=I_(),R=Ix(),N=d_(),P=no(),M=v_(),B=xi(),W=bje(),H=VC(),V=vx(),K=n0().forEach,Y=w("hidden"),k="Symbol",q="prototype",z=V.set,G=V.getterFor(k),Z=Object[q],ue=e.Symbol,re=ue&&ue[q],ie=e.RangeError,Ce=e.TypeError,Pe=e.QObject,Fe=y.f,He=x.f,Te=m.f,se=E.f,Ct=n([].push),Re=j("symbols"),ke=j("op-symbols"),Ye=j("wks"),xt=!Pe||!Pe[q]||!Pe[q].findChild,ft=function(Qe,it,ot){var Ve=Fe(Z,it);Ve&&delete Z[it],He(Qe,it,ot),Ve&&Qe!==Z&&He(Z,it,Ve)},$t=s&&a(function(){return C(He({},"a",{get:function(){return He(this,"a",{value:7}).a}})).a!==7})?ft:He,bt=function(Qe,it){var ot=Re[Qe]=C(re);return z(ot,{type:k,tag:Qe,description:it}),s||(ot.description=it),ot},Gt=function(it,ot,Ve){it===Z&&Gt(ke,ot,Ve),g(it);var ut=f(ot);return g(Ve),l(Re,ut)?(Ve.enumerable?(l(it,Y)&&it[Y][ut]&&(it[Y][ut]=!1),Ve=C(Ve,{enumerable:A(0,!1)})):(l(it,Y)||He(it,Y,A(1,C(null))),it[Y][ut]=!0),$t(it,ut,Ve)):He(it,ut,Ve)},Wt=function(it,ot){g(it);var Ve=d(ot),ut=I(Ve).concat(Ht(Ve));return K(ut,function(qt){(!s||r(hr,Ve,qt))&&Gt(it,qt,Ve[qt])}),it},Qt=function(it,ot){return ot===void 0?C(it):Wt(C(it),ot)},hr=function(it){var ot=f(it),Ve=r(se,this,ot);return this===Z&&l(Re,ot)&&!l(ke,ot)?!1:Ve||!l(this,ot)||!l(Re,ot)||l(this,Y)&&this[Y][ot]?Ve:!0},Bt=function(it,ot){var Ve=d(it),ut=f(ot);if(!(Ve===Z&&l(Re,ut)&&!l(ke,ut))){var qt=Fe(Ve,ut);return qt&&l(Re,ut)&&!(l(Ve,Y)&&Ve[Y][ut])&&(qt.enumerable=!0),qt}},Ft=function(it){var ot=Te(d(it)),Ve=[];return K(ot,function(ut){!l(Re,ut)&&!l(R,ut)&&Ct(Ve,ut)}),Ve},Ht=function(Qe){var it=Qe===Z,ot=Te(it?ke:d(Qe)),Ve=[];return K(ot,function(ut){l(Re,ut)&&(!it||l(Z,ut))&&Ct(Ve,Re[ut])}),Ve};return o||(ue=function(){if(u(re,this))throw new Ce("Symbol is not a constructor");var it=!arguments.length||arguments[0]===void 0?void 0:h(arguments[0]),ot=N(it),Ve=function(ut){var qt=this===void 0?e:this;qt===Z&&r(Ve,ke,ut),l(qt,Y)&&l(qt[Y],ot)&&(qt[Y][ot]=!1);var zt=A(1,ut);try{$t(qt,ot,zt)}catch(Cr){if(!(Cr instanceof ie))throw Cr;ft(qt,ot,zt)}};return s&&xt&&$t(Z,ot,{configurable:!0,set:Ve}),bt(ot,it)},re=ue[q],_(re,"toString",function(){return G(this).tag}),_(ue,"withoutSetter",function(Qe){return bt(N(Qe),Qe)}),E.f=hr,x.f=Gt,T.f=Wt,y.f=Bt,p.f=m.f=Ft,v.f=Ht,M.f=function(Qe){return bt(P(Qe),Qe)},s&&(S(re,"description",{configurable:!0,get:function(){return G(this).description}}),i||_(Z,"propertyIsEnumerable",hr,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:ue}),K(I(Ye),function(Qe){B(Qe)}),t({target:k,stat:!0,forced:!o},{useSetter:function(){xt=!0},useSimple:function(){xt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:Qt,defineProperty:Gt,defineProperties:Wt,getOwnPropertyDescriptor:Bt}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ft}),W(),H(ue,k),R[Y]=!0,NCe}var nIe={},uB,iIe;function wje(){if(iIe)return uB;iIe=1;var t=Zm();return uB=t&&!!Symbol.for&&!!Symbol.keyFor,uB}var sIe;function Rwt(){if(sIe)return nIe;sIe=1;var t=Pr(),e=bl(),r=ro(),n=pf(),i=Jm(),s=wje(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var g=e("Symbol")(u);return o[u]=g,a[g]=u,g}}),nIe}var oIe={},aIe;function Nwt(){if(aIe)return oIe;aIe=1;var t=Pr(),e=ro(),r=Ax(),n=Xm(),i=Jm(),s=wje(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),oIe}var lIe={},gB,cIe;function Owt(){if(cIe)return gB;cIe=1;var t=Vn(),e=GC(),r=eo(),n=jd(),i=pf(),s=t([].push);return gB=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var g=o[u];typeof g=="string"?s(l,g):(typeof g=="number"||n(g)==="Number"||n(g)==="String")&&s(l,i(g))}var d=l.length,f=!0;return function(h,A){if(f)return f=!1,A;if(e(this))return A;for(var C=0;C<d;C++)if(l[C]===h)return A}}},gB}var uIe;function Sje(){if(uIe)return lIe;uIe=1;var t=Pr(),e=bl(),r=u_(),n=Ma(),i=Vn(),s=kn(),o=eo(),a=Ax(),l=r0(),u=Owt(),g=Zm(),d=String,f=e("JSON","stringify"),h=i(/./.exec),A=i("".charAt),C=i("".charCodeAt),I=i("".replace),p=i(1.1.toString),m=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,x=!g||s(function(){var S=e("Symbol")("stringify detection");return f([S])!=="[null]"||f({a:S})!=="{}"||f(Object(S))!=="{}"}),T=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),E=function(S,j){var w=l(arguments),R=u(j);if(!(!o(R)&&(S===void 0||a(S))))return w[1]=function(N,P){if(o(R)&&(P=n(R,this,d(N),P)),!a(P))return P},r(f,null,w)},_=function(S,j,w){var R=A(w,j-1),N=A(w,j+1);return h(v,S)&&!h(y,N)||h(y,S)&&!h(v,R)?"\\u"+p(C(S,0),16):S};return f&&t({target:"JSON",stat:!0,arity:3,forced:x||T},{stringify:function(j,w,R){var N=l(arguments),P=r(x?E:f,null,N);return T&&typeof P=="string"?I(P,m,_):P}}),lIe}var gIe={},dIe;function jwt(){if(dIe)return gIe;dIe=1;var t=Pr(),e=Zm(),r=kn(),n=m_(),i=ou(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),gIe}var hIe;function Eje(){return hIe||(hIe=1,Twt(),Rwt(),Nwt(),Sje(),jwt()),RCe}var fIe={},AIe;function _je(){if(AIe)return fIe;AIe=1;var t=xi();return t("asyncDispose"),fIe}var CIe={},IIe;function Pwt(){if(IIe)return CIe;IIe=1;var t=xi();return t("asyncIterator"),CIe}var pIe={},mIe;function Tje(){if(mIe)return pIe;mIe=1;var t=xi();return t("dispose"),pIe}var vIe={},yIe;function kwt(){if(yIe)return vIe;yIe=1;var t=xi();return t("hasInstance"),vIe}var xIe={},bIe;function Dwt(){if(bIe)return xIe;bIe=1;var t=xi();return t("isConcatSpreadable"),xIe}var wIe={},SIe;function Rje(){if(SIe)return wIe;SIe=1;var t=xi();return t("iterator"),wIe}var EIe={},_Ie;function Fwt(){if(_Ie)return EIe;_Ie=1;var t=xi();return t("match"),EIe}var TIe={},RIe;function Lwt(){if(RIe)return TIe;RIe=1;var t=xi();return t("matchAll"),TIe}var NIe={},OIe;function Mwt(){if(OIe)return NIe;OIe=1;var t=xi();return t("replace"),NIe}var jIe={},PIe;function Bwt(){if(PIe)return jIe;PIe=1;var t=xi();return t("search"),jIe}var kIe={},DIe;function $wt(){if(DIe)return kIe;DIe=1;var t=xi();return t("species"),kIe}var FIe={},LIe;function qwt(){if(LIe)return FIe;LIe=1;var t=xi();return t("split"),FIe}var MIe={},BIe;function Nje(){if(BIe)return MIe;BIe=1;var t=xi(),e=bje();return t("toPrimitive"),e(),MIe}var $Ie={},qIe;function zwt(){if(qIe)return $Ie;qIe=1;var t=bl(),e=xi(),r=VC();return e("toStringTag"),r(t("Symbol"),"Symbol"),$Ie}var zIe={},UIe;function Uwt(){if(UIe)return zIe;UIe=1;var t=xi();return t("unscopables"),zIe}var WIe={},GIe;function Wwt(){if(GIe)return WIe;GIe=1;var t=Cs(),e=VC();return e(t.JSON,"JSON",!0),WIe}var dB,VIe;function Gwt(){if(VIe)return dB;VIe=1,vje(),Eje(),_je(),Pwt(),Tje(),kwt(),Dwt(),Rje(),Fwt(),Lwt(),Mwt(),Bwt(),$wt(),qwt(),Nje(),zwt(),Uwt(),Wwt();var t=Ls();return dB=t.Symbol,dB}var HIe={},hB,KIe;function Vwt(){return KIe||(KIe=1,hB=function(){}),hB}var fB,YIe;function i0(){return YIe||(YIe=1,fB={}),fB}var AB,ZIe;function Hwt(){if(ZIe)return AB;ZIe=1;var t=Is(),e=ro(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return AB={EXISTS:i,PROPER:s,CONFIGURABLE:o},AB}var CB,XIe;function Kwt(){if(XIe)return CB;XIe=1;var t=kn();return CB=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),CB}var IB,QIe;function Oje(){if(QIe)return IB;QIe=1;var t=ro(),e=eo(),r=ou(),n=I_(),i=Kwt(),s=n("IE_PROTO"),o=Object,a=o.prototype;return IB=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var g=u.constructor;return e(g)&&u instanceof g?g.prototype:u instanceof o?a:null},IB}var pB,JIe;function jje(){if(JIe)return pB;JIe=1;var t=kn(),e=eo(),r=ga(),n=px(),i=Oje(),s=mx(),o=no(),a=Qm(),l=o("iterator"),u=!1,g,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(g=d)):u=!0);var h=!r(g)||t(function(){var A={};return g[l].call(A)!==A});return h?g={}:a&&(g=n(g)),e(g[l])||s(g,l,function(){return this}),pB={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:u},pB}var mB,epe;function Ywt(){if(epe)return mB;epe=1;var t=jje().IteratorPrototype,e=px(),r=dx(),n=VC(),i=i0(),s=function(){return this};return mB=function(o,a,l,u){var g=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,g,!1,!0),i[g]=s,o},mB}var vB,tpe;function Zwt(){if(tpe)return vB;tpe=1;var t=Vn(),e=Pd();return vB=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},vB}var yB,rpe;function Xwt(){if(rpe)return yB;rpe=1;var t=ga();return yB=function(e){return t(e)||e===null},yB}var xB,npe;function Qwt(){if(npe)return xB;npe=1;var t=Xwt(),e=String,r=TypeError;return xB=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},xB}var bB,ipe;function Jwt(){if(ipe)return bB;ipe=1;var t=Zwt(),e=ga(),r=WC(),n=Qwt();return bB=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),bB}var wB,spe;function VG(){if(spe)return wB;spe=1;var t=Pr(),e=Ma(),r=Qm(),n=Hwt(),i=eo(),s=Ywt(),o=Oje(),a=Jwt(),l=VC(),u=e0(),g=mx(),d=no(),f=i0(),h=jje(),A=n.PROPER,C=n.CONFIGURABLE,I=h.IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,m=d("iterator"),v="keys",y="values",x="entries",T=function(){return this};return wB=function(E,_,S,j,w,R,N){s(S,_,j);var P=function(z){if(z===w&&V)return V;if(!p&&z&&z in W)return W[z];switch(z){case v:return function(){return new S(this,z)};case y:return function(){return new S(this,z)};case x:return function(){return new S(this,z)}}return function(){return new S(this)}},M=_+" Iterator",B=!1,W=E.prototype,H=W[m]||W["@@iterator"]||w&&W[w],V=!p&&H||P(w),K=_==="Array"&&W.entries||H,Y,k,q;if(K&&(Y=o(K.call(new E)),Y!==Object.prototype&&Y.next&&(!r&&o(Y)!==I&&(a?a(Y,I):i(Y[m])||g(Y,m,T)),l(Y,M,!0,!0),r&&(f[M]=T))),A&&w===y&&H&&H.name!==y&&(!r&&C?u(W,"name",y):(B=!0,V=function(){return e(H,this)})),w)if(k={values:P(y),keys:R?V:P(v),entries:P(x)},N)for(q in k)(p||B||!(q in W))&&g(W,q,k[q]);else t({target:_,proto:!0,forced:p||B},k);return(!r||N)&&W[m]!==V&&g(W,m,V,{name:w}),f[_]=V,k},wB}var SB,ope;function HG(){return ope||(ope=1,SB=function(t,e){return{value:t,done:e}}),SB}var EB,ape;function mf(){if(ape)return EB;ape=1;var t=rg(),e=Vwt(),r=i0(),n=vx(),i=ac().f,s=VG(),o=HG(),a=Qm(),l=Is(),u="Array Iterator",g=n.set,d=n.getterFor(u);EB=s(Array,"Array",function(h,A){g(this,{type:u,target:t(h),index:0,kind:A})},function(){var h=d(this),A=h.target,C=h.index++;if(!A||C>=A.length)return h.target=null,o(void 0,!0);switch(h.kind){case"keys":return o(C,!1);case"values":return o(A[C],!1)}return o([C,A[C]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return EB}var _B,lpe;function e2t(){return lpe||(lpe=1,_B={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),_B}var cpe;function vf(){if(cpe)return HIe;cpe=1,mf();var t=e2t(),e=Cs(),r=VC(),n=i0();for(var i in t)r(e[i],i),n[i]=n.Array;return HIe}var TB,upe;function Pje(){if(upe)return TB;upe=1;var t=Gwt();return vf(),TB=t,TB}var gpe={},dpe;function t2t(){if(dpe)return gpe;dpe=1;var t=no(),e=ac().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),gpe}var hpe={},fpe;function r2t(){return fpe||(fpe=1,_je()),hpe}var Ape={},Cpe;function n2t(){return Cpe||(Cpe=1,Tje()),Ape}var Ipe={},ppe;function i2t(){if(ppe)return Ipe;ppe=1;var t=xi();return t("metadata"),Ipe}var RB,mpe;function s2t(){if(mpe)return RB;mpe=1;var t=Pje();return t2t(),r2t(),n2t(),i2t(),RB=t,RB}var vpe={},NB,ype;function kje(){if(ype)return NB;ype=1;var t=bl(),e=Vn(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return NB=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},NB}var xpe;function o2t(){if(xpe)return vpe;xpe=1;var t=Pr(),e=kje();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),vpe}var bpe={},OB,wpe;function Dje(){if(wpe)return OB;wpe=1;for(var t=Jm(),e=bl(),r=Vn(),n=Ax(),i=no(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),g=0,d=a(s),f=d.length;g<f;g++)try{var h=d[g];n(s[h])&&i(h)}catch{}return OB=function(C){if(o&&o(C))return!0;try{for(var I=l(C),p=0,m=a(u),v=m.length;p<v;p++)if(u[m[p]]==I)return!0}catch{}return!1},OB}var Spe;function a2t(){if(Spe)return bpe;Spe=1;var t=Pr(),e=Dje();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),bpe}var Epe={},_pe;function l2t(){if(_pe)return Epe;_pe=1;var t=xi();return t("customMatcher"),Epe}var Tpe={},Rpe;function c2t(){if(Rpe)return Tpe;Rpe=1;var t=xi();return t("observable"),Tpe}var Npe={},Ope;function u2t(){if(Ope)return Npe;Ope=1;var t=Pr(),e=kje();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Npe}var jpe={},Ppe;function g2t(){if(Ppe)return jpe;Ppe=1;var t=Pr(),e=Dje();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),jpe}var kpe={},Dpe;function d2t(){if(Dpe)return kpe;Dpe=1;var t=xi();return t("matcher"),kpe}var Fpe={},Lpe;function h2t(){if(Lpe)return Fpe;Lpe=1;var t=xi();return t("metadataKey"),Fpe}var Mpe={},Bpe;function f2t(){if(Bpe)return Mpe;Bpe=1;var t=xi();return t("patternMatch"),Mpe}var $pe={},qpe;function A2t(){if(qpe)return $pe;qpe=1;var t=xi();return t("replaceAll"),$pe}var jB,zpe;function C2t(){if(zpe)return jB;zpe=1;var t=s2t();return o2t(),a2t(),l2t(),c2t(),u2t(),g2t(),d2t(),h2t(),f2t(),A2t(),jB=t,jB}var PB,Upe;function I2t(){return Upe||(Upe=1,PB=C2t()),PB}var p2t=I2t(),gw=Zr(p2t),Wpe={},kB,Gpe;function m2t(){if(Gpe)return kB;Gpe=1;var t=Vn(),e=t0(),r=pf(),n=WC(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,g){var d=r(n(u)),f=e(g),h=d.length,A,C;return f<0||f>=h?l?"":void 0:(A=s(d,f),A<55296||A>56319||f+1===h||(C=s(d,f+1))<56320||C>57343?l?i(d,f):A:l?o(d,f,f+2):(A-55296<<10)+(C-56320)+65536)}};return kB={codeAt:a(!1),charAt:a(!0)},kB}var Vpe;function y_(){if(Vpe)return Wpe;Vpe=1;var t=m2t().charAt,e=pf(),r=vx(),n=VG(),i=HG(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),g=u.string,d=u.index,f;return d>=g.length?i(void 0,!0):(f=t(g,d),u.index+=f.length,i(f,!1))}),Wpe}var DB,Hpe;function v2t(){if(Hpe)return DB;Hpe=1,mf(),y_(),Rje();var t=v_();return DB=t.f("iterator"),DB}var FB,Kpe;function Fje(){if(Kpe)return FB;Kpe=1;var t=v2t();return vf(),FB=t,FB}var LB,Ype;function y2t(){if(Ype)return LB;Ype=1;var t=Fje();return LB=t,LB}var MB,Zpe;function x2t(){if(Zpe)return MB;Zpe=1;var t=y2t();return MB=t,MB}var BB,Xpe;function b2t(){return Xpe||(Xpe=1,BB=x2t()),BB}var w2t=b2t(),S2t=Zr(w2t);function Jy(t){"@babel/helpers - typeof";return Jy=typeof gw=="function"&&typeof S2t=="symbol"?function(e){return typeof e}:function(e){return e&&typeof gw=="function"&&e.constructor===gw&&e!==gw.prototype?"symbol":typeof e},Jy(t)}var $B,Qpe;function E2t(){if(Qpe)return $B;Qpe=1,Nje();var t=v_();return $B=t.f("toPrimitive"),$B}var qB,Jpe;function _2t(){if(Jpe)return qB;Jpe=1;var t=E2t();return qB=t,qB}var zB,eme;function T2t(){if(eme)return zB;eme=1;var t=_2t();return zB=t,zB}var UB,tme;function R2t(){if(tme)return UB;tme=1;var t=T2t();return UB=t,UB}var WB,rme;function N2t(){return rme||(rme=1,WB=R2t()),WB}var O2t=N2t(),j2t=Zr(O2t);function P2t(t,e){if(Jy(t)!="object"||!t)return t;var r=t[j2t];if(r!==void 0){var n=r.call(t,e);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k2t(t){var e=P2t(t,"string");return Jy(e)=="symbol"?e:e+""}function Vh(t,e,r){return(e=k2t(e))in t?vwt(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nme={},GB,ime;function D2t(){if(ime)return GB;ime=1;var t=Vn(),e=Pd(),r=ga(),n=ro(),i=r0(),s=gx(),o=Function,a=t([].concat),l=t([].join),u={},g=function(d,f,h){if(!n(u,f)){for(var A=[],C=0;C<f;C++)A[C]="a["+C+"]";u[f]=o("C,a","return new C("+l(A,",")+")")}return u[f](d,h)};return GB=s?o.bind:function(f){var h=e(this),A=h.prototype,C=i(arguments,1),I=function(){var m=a(C,i(arguments));return this instanceof I?g(h,m.length,m):h.apply(f,m)};return r(A)&&(I.prototype=A),I},GB}var sme;function F2t(){if(sme)return nme;sme=1;var t=Pr(),e=D2t();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),nme}var VB,ome;function Ba(){if(ome)return VB;ome=1;var t=Cs(),e=Ls();return VB=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},VB}var HB,ame;function L2t(){if(ame)return HB;ame=1,F2t();var t=Ba();return HB=t("Function","bind"),HB}var KB,lme;function M2t(){if(lme)return KB;lme=1;var t=to(),e=L2t(),r=Function.prototype;return KB=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},KB}var YB,cme;function B2t(){if(cme)return YB;cme=1;var t=M2t();return YB=t,YB}var ZB,ume;function $2t(){return ume||(ume=1,ZB=B2t()),ZB}var q2t=$2t(),Lje=Zr(q2t),gme={},XB,dme;function z2t(){if(dme)return XB;dme=1;var t=Pd(),e=ou(),r=g_(),n=Cf(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,g,d){var f=e(l),h=r(f),A=n(f);if(t(u),A===0&&g<2)throw new i(s);var C=a?A-1:0,I=a?-1:1;if(g<2)for(;;){if(C in h){d=h[C],C+=I;break}if(C+=I,a?C<0:A<=C)throw new i(s)}for(;a?C>=0:A>C;C+=I)C in h&&(d=u(d,h[C],C,f));return d}};return XB={left:o(!1),right:o(!0)},XB}var QB,hme;function x_(){if(hme)return QB;hme=1;var t=kn();return QB=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},QB}var JB,fme;function Mje(){if(fme)return JB;fme=1;var t=Cs(),e=Ym(),r=jd(),n=function(i){return e.slice(0,i.length)===i};return JB=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),JB}var e8,Ame;function U2t(){if(Ame)return e8;Ame=1;var t=Mje();return e8=t==="NODE",e8}var Cme;function W2t(){if(Cme)return gme;Cme=1;var t=Pr(),e=z2t().left,r=x_(),n=fx(),i=U2t(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),gme}var t8,Ime;function G2t(){if(Ime)return t8;Ime=1,W2t();var t=Ba();return t8=t("Array","reduce"),t8}var r8,pme;function V2t(){if(pme)return r8;pme=1;var t=to(),e=G2t(),r=Array.prototype;return r8=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},r8}var n8,mme;function H2t(){if(mme)return n8;mme=1;var t=V2t();return n8=t,n8}var i8,vme;function K2t(){return vme||(vme=1,i8=H2t()),i8}var Y2t=K2t(),Z2t=Zr(Y2t),yme={},xme;function X2t(){if(xme)return yme;xme=1;var t=Pr(),e=n0().filter,r=Cx(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),yme}var s8,bme;function Q2t(){if(bme)return s8;bme=1,X2t();var t=Ba();return s8=t("Array","filter"),s8}var o8,wme;function J2t(){if(wme)return o8;wme=1;var t=to(),e=Q2t(),r=Array.prototype;return o8=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},o8}var a8,Sme;function eSt(){if(Sme)return a8;Sme=1;var t=J2t();return a8=t,a8}var l8,Eme;function tSt(){return Eme||(Eme=1,l8=eSt()),l8}var rSt=tSt(),QI=Zr(rSt),_me={},Tme;function nSt(){if(Tme)return _me;Tme=1;var t=Pr(),e=n0().map,r=Cx(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_me}var c8,Rme;function iSt(){if(Rme)return c8;Rme=1,nSt();var t=Ba();return c8=t("Array","map"),c8}var u8,Nme;function sSt(){if(Nme)return u8;Nme=1;var t=to(),e=iSt(),r=Array.prototype;return u8=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},u8}var g8,Ome;function oSt(){if(Ome)return g8;Ome=1;var t=sSt();return g8=t,g8}var d8,jme;function aSt(){return jme||(jme=1,d8=oSt()),d8}var lSt=aSt(),Pg=Zr(lSt),h8,Pme;function cSt(){return Pme||(Pme=1,h8=Pje()),h8}var uSt=cSt(),gSt=Zr(uSt),kme={},Dme;function dSt(){if(Dme)return kme;Dme=1;var t=Pr(),e=GC(),r=mje(),n=ga(),i=zG(),s=Cf(),o=rg(),a=A_(),l=no(),u=Cx(),g=r0(),d=u("slice"),f=l("species"),h=Array,A=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(I,p){var m=o(this),v=s(m),y=i(I,v),x=i(p===void 0?v:p,v),T,E,_;if(e(m)&&(T=m.constructor,r(T)&&(T===h||e(T.prototype))?T=void 0:n(T)&&(T=T[f],T===null&&(T=void 0)),T===h||T===void 0))return g(m,y,x);for(E=new(T===void 0?h:T)(A(x-y,0)),_=0;y<x;y++,_++)y in m&&a(E,_,m[y]);return E.length=_,E}}),kme}var f8,Fme;function hSt(){if(Fme)return f8;Fme=1,dSt();var t=Ba();return f8=t("Array","slice"),f8}var A8,Lme;function fSt(){if(Lme)return A8;Lme=1;var t=to(),e=hSt(),r=Array.prototype;return A8=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},A8}var C8,Mme;function ASt(){if(Mme)return C8;Mme=1;var t=fSt();return C8=t,C8}var I8,Bme;function CSt(){return Bme||(Bme=1,I8=ASt()),I8}var ISt=CSt(),pSt=Zr(ISt),$me={},p8,qme;function Bje(){if(qme)return p8;qme=1;var t=bl(),e=Vn(),r=p_(),n=m_(),i=kd(),s=e([].concat);return p8=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},p8}var zme;function mSt(){if(zme)return $me;zme=1;var t=Pr(),e=Bje();return t({target:"Reflect",stat:!0},{ownKeys:e}),$me}var m8,Ume;function vSt(){if(Ume)return m8;Ume=1,mSt();var t=Ls();return m8=t.Reflect.ownKeys,m8}var v8,Wme;function ySt(){if(Wme)return v8;Wme=1;var t=vSt();return v8=t,v8}var y8,Gme;function xSt(){return Gme||(Gme=1,y8=ySt()),y8}var bSt=xSt(),wSt=Zr(bSt),Vme={},Hme;function SSt(){if(Hme)return Vme;Hme=1;var t=Pr(),e=GC();return t({target:"Array",stat:!0},{isArray:e}),Vme}var x8,Kme;function ESt(){if(Kme)return x8;Kme=1,SSt();var t=Ls();return x8=t.Array.isArray,x8}var b8,Yme;function _St(){if(Yme)return b8;Yme=1;var t=ESt();return b8=t,b8}var w8,Zme;function TSt(){return Zme||(Zme=1,w8=_St()),w8}var RSt=TSt(),Su=Zr(RSt),Xme={},Qme;function NSt(){if(Qme)return Xme;Qme=1;var t=Pr(),e=ou(),r=C_(),n=kn(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),Xme}var S8,Jme;function OSt(){if(Jme)return S8;Jme=1,NSt();var t=Ls();return S8=t.Object.keys,S8}var E8,e0e;function jSt(){if(e0e)return E8;e0e=1;var t=OSt();return E8=t,E8}var _8,t0e;function PSt(){return t0e||(t0e=1,_8=jSt()),_8}var kSt=PSt(),KG=Zr(kSt),r0e={},T8,n0e;function DSt(){if(n0e)return T8;n0e=1;var t=n0().forEach,e=x_(),r=e("forEach");return T8=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},T8}var i0e;function FSt(){if(i0e)return r0e;i0e=1;var t=Pr(),e=DSt();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),r0e}var R8,s0e;function LSt(){if(s0e)return R8;s0e=1,FSt();var t=Ba();return R8=t("Array","forEach"),R8}var N8,o0e;function MSt(){if(o0e)return N8;o0e=1;var t=LSt();return N8=t,N8}var O8,a0e;function BSt(){if(a0e)return O8;a0e=1;var t=If(),e=ro(),r=to(),n=MSt(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return O8=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},O8}var j8,l0e;function $St(){return l0e||(l0e=1,j8=BSt()),j8}var qSt=$St(),e1=Zr(qSt),c0e={},u0e;function zSt(){if(u0e)return c0e;u0e=1;var t=Pr(),e=Vn(),r=GC(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),c0e}var P8,g0e;function USt(){if(g0e)return P8;g0e=1,zSt();var t=Ba();return P8=t("Array","reverse"),P8}var k8,d0e;function WSt(){if(d0e)return k8;d0e=1;var t=to(),e=USt(),r=Array.prototype;return k8=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},k8}var D8,h0e;function GSt(){if(h0e)return D8;h0e=1;var t=WSt();return D8=t,D8}var F8,f0e;function VSt(){return f0e||(f0e=1,F8=GSt()),F8}var HSt=VSt(),KSt=Zr(HSt),A0e={},L8,C0e;function YSt(){if(C0e)return L8;C0e=1;var t=Is(),e=GC(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return L8=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},L8}var M8,I0e;function $je(){if(I0e)return M8;I0e=1;var t=Xm(),e=TypeError;return M8=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},M8}var p0e;function ZSt(){if(p0e)return A0e;p0e=1;var t=Pr(),e=ou(),r=zG(),n=t0(),i=Cf(),s=YSt(),o=pje(),a=qG(),l=A_(),u=$je(),g=Cx(),d=g("splice"),f=Math.max,h=Math.min;return t({target:"Array",proto:!0,forced:!d},{splice:function(C,I){var p=e(this),m=i(p),v=r(C,m),y=arguments.length,x,T,E,_,S,j;for(y===0?x=T=0:y===1?(x=0,T=m-v):(x=y-2,T=h(f(n(I),0),m-v)),o(m+x-T),E=a(p,T),_=0;_<T;_++)S=v+_,S in p&&l(E,_,p[S]);if(E.length=T,x<T){for(_=v;_<m-T;_++)S=_+T,j=_+x,S in p?p[j]=p[S]:u(p,j);for(_=m;_>m-T+x;_--)u(p,_-1)}else if(x>T)for(_=m-T;_>v;_--)S=_+T-1,j=_+x-1,S in p?p[j]=p[S]:u(p,j);for(_=0;_<x;_++)p[_+v]=arguments[_+2];return s(p,m-T+x),E}}),A0e}var B8,m0e;function XSt(){if(m0e)return B8;m0e=1,ZSt();var t=Ba();return B8=t("Array","splice"),B8}var $8,v0e;function QSt(){if(v0e)return $8;v0e=1;var t=to(),e=XSt(),r=Array.prototype;return $8=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},$8}var q8,y0e;function JSt(){if(y0e)return q8;y0e=1;var t=QSt();return q8=t,q8}var z8,x0e;function eEt(){return x0e||(x0e=1,z8=JSt()),z8}var tEt=eEt(),qje=Zr(tEt),b0e={},U8,w0e;function rEt(){if(w0e)return U8;w0e=1;var t=Is(),e=Vn(),r=Ma(),n=kn(),i=C_(),s=m_(),o=FG(),a=ou(),l=g_(),u=Object.assign,g=Object.defineProperty,d=e([].concat);return U8=!u||n(function(){if(t&&u({b:1},u(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},h={},A=Symbol("assign detection"),C="abcdefghijklmnopqrst";return f[A]=7,C.split("").forEach(function(I){h[I]=I}),u({},f)[A]!==7||i(u({},h)).join("")!==C})?function(h,A){for(var C=a(h),I=arguments.length,p=1,m=s.f,v=o.f;I>p;)for(var y=l(arguments[p++]),x=m?d(i(y),m(y)):i(y),T=x.length,E=0,_;T>E;)_=x[E++],(!t||r(v,y,_))&&(C[_]=y[_]);return C}:u,U8}var S0e;function nEt(){if(S0e)return b0e;S0e=1;var t=Pr(),e=rEt();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),b0e}var W8,E0e;function iEt(){if(E0e)return W8;E0e=1,nEt();var t=Ls();return W8=t.Object.assign,W8}var G8,_0e;function sEt(){if(_0e)return G8;_0e=1;var t=iEt();return G8=t,G8}var V8,T0e;function oEt(){return T0e||(T0e=1,V8=sEt()),V8}var aEt=oEt(),lEt=Zr(aEt),H8,R0e;function cEt(){if(R0e)return H8;R0e=1,vje();var t=Ba();return H8=t("Array","concat"),H8}var K8,N0e;function uEt(){if(N0e)return K8;N0e=1;var t=to(),e=cEt(),r=Array.prototype;return K8=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},K8}var Y8,O0e;function gEt(){if(O0e)return Y8;O0e=1;var t=uEt();return Y8=t,Y8}var Z8,j0e;function dEt(){return j0e||(j0e=1,Z8=gEt()),Z8}var hEt=dEt(),fEt=Zr(hEt),P0e={},k0e;function AEt(){if(k0e)return P0e;k0e=1;var t=Pr(),e=Is(),r=px();return t({target:"Object",stat:!0,sham:!e},{create:r}),P0e}var X8,D0e;function CEt(){if(D0e)return X8;D0e=1,AEt();var t=Ls(),e=t.Object;return X8=function(n,i){return e.create(n,i)},X8}var Q8,F0e;function IEt(){if(F0e)return Q8;F0e=1;var t=CEt();return Q8=t,Q8}var J8,L0e;function pEt(){return L0e||(L0e=1,J8=IEt()),J8}var mEt=pEt(),vEt=Zr(mEt),M0e={},e$,B0e;function yEt(){if(B0e)return e$;B0e=1;var t=t0(),e=pf(),r=WC(),n=RangeError;return e$=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},e$}var t$,$0e;function xEt(){if($0e)return t$;$0e=1;var t=Vn(),e=Ije(),r=pf(),n=yEt(),i=WC(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(g,d,f){var h=r(i(g)),A=e(d),C=h.length,I=f===void 0?" ":r(f),p,m;return A<=C||I===""?h:(p=A-C,m=s(I,a(p/I.length)),m.length>p&&(m=o(m,0,p)),u?h+m:m+h)}};return t$={start:l(!1),end:l(!0)},t$}var r$,q0e;function bEt(){if(q0e)return r$;q0e=1;var t=Vn(),e=kn(),r=xEt().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),g=t(o.getUTCFullYear),d=t(o.getUTCHours),f=t(o.getUTCMilliseconds),h=t(o.getUTCMinutes),A=t(o.getUTCMonth),C=t(o.getUTCSeconds);return r$=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var p=this,m=g(p),v=f(p),y=m<0?"-":m>9999?"+":"";return y+r(s(m),y?6:4,0)+"-"+r(A(p)+1,2,0)+"-"+r(u(p),2,0)+"T"+r(d(p),2,0)+":"+r(h(p),2,0)+":"+r(C(p),2,0)+"."+r(v,3,0)+"Z"}:a,r$}var z0e;function wEt(){if(z0e)return M0e;z0e=1;var t=Pr(),e=Ma(),r=ou(),n=dje(),i=bEt(),s=jd(),o=kn(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var g=r(this),d=n(g,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in g)&&s(g)==="Date"?e(i,g):g.toISOString()}}),M0e}var n$,U0e;function SEt(){if(U0e)return n$;U0e=1,wEt(),Sje();var t=Ls(),e=u_();return t.JSON||(t.JSON={stringify:JSON.stringify}),n$=function(n,i,s){return e(t.JSON.stringify,null,arguments)},n$}var i$,W0e;function EEt(){if(W0e)return i$;W0e=1;var t=SEt();return i$=t,i$}var s$,G0e;function _Et(){return G0e||(G0e=1,s$=EEt()),s$}var TEt=_Et(),REt=Zr(TEt),V0e={},H0e={},o$,K0e;function NEt(){if(K0e)return o$;K0e=1;var t=TypeError;return o$=function(e,r){if(e<r)throw new t("Not enough arguments");return e},o$}var a$,Y0e;function zje(){if(Y0e)return a$;Y0e=1;var t=Cs(),e=u_(),r=eo(),n=Mje(),i=Ym(),s=r0(),o=NEt(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return a$=function(u,g){var d=g?2:1;return l?function(f,h){var A=o(arguments.length,1)>d,C=r(f)?f:a(f),I=A?s(arguments,d):[],p=A?function(){e(C,this,I)}:C;return g?u(p,h):u(p)}:u},a$}var Z0e;function OEt(){if(Z0e)return H0e;Z0e=1;var t=Pr(),e=Cs(),r=zje(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),H0e}var X0e={},Q0e;function jEt(){if(Q0e)return X0e;Q0e=1;var t=Pr(),e=Cs(),r=zje(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),X0e}var J0e;function PEt(){return J0e||(J0e=1,OEt(),jEt()),V0e}var l$,eve;function kEt(){if(eve)return l$;eve=1,PEt();var t=Ls();return l$=t.setTimeout,l$}var c$,tve;function DEt(){return tve||(tve=1,c$=kEt()),c$}var FEt=DEt(),LEt=Zr(FEt),u$={exports:{}},rve;function MEt(){return rve||(rve=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...o)=>{this.off(n,s),i.apply(this,o)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(u$)),u$.exports}var BEt=MEt(),$Et=Zr(BEt);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Yc(){return Yc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yc.apply(this,arguments)}function lc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function dw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var aU;typeof Object.assign!="function"?aU=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:aU=Object.assign;var fC=aU,nve=["","webkit","Moz","MS","ms","o"],qEt=typeof document>"u"?{style:{}}:document.createElement("div"),zEt="function",JI=Math.round,AC=Math.abs,YG=Date.now;function b_(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<nve.length;){if(r=nve[s],n=r?r+i:e,n in t)return n;s++}}var id;typeof window>"u"?id={}:id=window;var Uje=b_(qEt.style,"touchAction"),Wje=Uje!==void 0;function UEt(){if(!Wje)return!1;var t={},e=id.CSS&&id.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?id.CSS.supports("touch-action",r):!0}),t}var Gje="compute",Vje="auto",lU="manipulation",DA="none",t1="pan-x",r1="pan-y",hw=UEt(),WEt=/mobile|tablet|ip(ad|hone|od)|android/i,Hje="ontouchstart"in id,GEt=b_(id,"PointerEvent")!==void 0,VEt=Hje&&WEt.test(navigator.userAgent),yx="touch",HEt="pen",ZG="mouse",KEt="kinect",YEt=25,ua=1,HC=2,ds=4,ka=8,mS=1,xx=2,bx=4,wx=8,em=16,Wu=xx|bx,FA=wx|em,Kje=Wu|FA,Yje=["x","y"],vS=["clientX","clientY"];function sd(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function w_(t,e){return typeof t===zEt?t.apply(e&&e[0]||void 0,e):t}function hA(t,e){return t.indexOf(e)>-1}function ZEt(t){if(hA(t,DA))return DA;var e=hA(t,t1),r=hA(t,r1);return e&&r?DA:e||r?e?t1:r1:hA(t,lU)?lU:Vje}var Zje=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===Gje&&(n=this.compute()),Wje&&this.manager.element.style&&hw[n]&&(this.manager.element.style[Uje]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return sd(this.manager.recognizers,function(i){w_(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ZEt(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=hA(o,DA)&&!hw[DA],l=hA(o,r1)&&!hw[r1],u=hA(o,t1)&&!hw[t1];if(a){var g=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(g&&d&&f)return}if(!(u&&l)&&(a||l&&s&Wu||u&&s&FA))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function XG(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Xje(t){var e=t.length;if(e===1)return{x:JI(t[0].clientX),y:JI(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:JI(r/e),y:JI(n/e)}}function ive(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:JI(t.pointers[r].clientX),clientY:JI(t.pointers[r].clientY)},r++;return{timeStamp:YG(),pointers:e,center:Xje(e),deltaX:t.deltaX,deltaY:t.deltaY}}function yS(t,e,r){r||(r=Yje);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function cU(t,e,r){r||(r=Yje);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function Qje(t,e){return t===e?mS:AC(t)>=AC(e)?t<0?xx:bx:e<0?wx:em}function XEt(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===ua||s.eventType===ds)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function Jje(t,e,r){return{x:e/t||0,y:r/t||0}}function QEt(t,e){return yS(e[0],e[1],vS)/yS(t[0],t[1],vS)}function JEt(t,e){return cU(e[1],e[0],vS)+cU(t[1],t[0],vS)}function e_t(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==ka&&(n>YEt||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,g=Jje(n,l,u);s=g.x,o=g.y,i=AC(g.x)>AC(g.y)?g.x:g.y,a=Qje(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function t_t(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=ive(e)),i>1&&!r.firstMultiple?r.firstMultiple=ive(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=Xje(n);e.timeStamp=YG(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=cU(a,l),e.distance=yS(a,l),XEt(r,e),e.offsetDirection=Qje(e.deltaX,e.deltaY);var u=Jje(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=AC(u.x)>AC(u.y)?u.x:u.y,e.scale=o?QEt(o.pointers,n):1,e.rotation=o?JEt(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,e_t(r,e);var g=t.element,d=e.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,XG(f,g)&&(g=f),e.target=g}function r_t(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&ua&&n-i===0,o=e&(ds|ka)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,t_t(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function n1(t){return t.trim().split(/\s+/g)}function oy(t,e,r){sd(n1(e),function(n){t.addEventListener(n,r,!1)})}function ay(t,e,r){sd(n1(e),function(n){t.removeEventListener(n,r,!1)})}function sve(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var s0=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){w_(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&oy(this.element,this.evEl,this.domHandler),this.evTarget&&oy(this.target,this.evTarget,this.domHandler),this.evWin&&oy(sve(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ay(this.element,this.evEl,this.domHandler),this.evTarget&&ay(this.target,this.evTarget,this.domHandler),this.evWin&&ay(sve(this.element),this.evWin,this.domHandler)},t}();function CC(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var n_t={pointerdown:ua,pointermove:HC,pointerup:ds,pointercancel:ka,pointerout:ka},i_t={2:yx,3:HEt,4:ZG,5:KEt},ePe="pointerdown",tPe="pointermove pointerup pointercancel";id.MSPointerEvent&&!id.PointerEvent&&(ePe="MSPointerDown",tPe="MSPointerMove MSPointerUp MSPointerCancel");var rPe=function(t){lc(e,t);function e(){var n,i=e.prototype;return i.evEl=ePe,i.evWin=tPe,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=n_t[a],u=i_t[i.pointerType]||i.pointerType,g=u===yx,d=CC(s,i.pointerId,"pointerId");l&ua&&(i.button===0||g)?d<0&&(s.push(i),d=s.length-1):l&(ds|ka)&&(o=!0),!(d<0)&&(s[d]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(d,1))},e}(s0);function i1(t){return Array.prototype.slice.call(t,0)}function QG(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];CC(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var s_t={touchstart:ua,touchmove:HC,touchend:ds,touchcancel:ka},o_t="touchstart touchmove touchend touchcancel",JG=function(t){lc(e,t);function e(){var n;return e.prototype.evTarget=o_t,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=s_t[i.type],o=a_t.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:yx,srcEvent:i})},e}(s0);function a_t(t,e){var r=i1(t.touches),n=this.targetIds;if(e&(ua|HC)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=i1(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return XG(u.target,l)}),e===ua)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(ds|ka)&&delete n[o[i].identifier],i++;if(a.length)return[QG(s.concat(a),"identifier",!0),a]}var l_t={mousedown:ua,mousemove:HC,mouseup:ds},c_t="mousedown",u_t="mousemove mouseup",eV=function(t){lc(e,t);function e(){var n,i=e.prototype;return i.evEl=c_t,i.evWin=u_t,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=l_t[i.type];s&ua&&i.button===0&&(this.pressed=!0),s&HC&&i.which!==1&&(s=ds),this.pressed&&(s&ds&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:ZG,srcEvent:i}))},e}(s0),g_t=2500,ove=25;function ave(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,g_t)}}function d_t(t,e){t&ua?(this.primaryTouch=e.changedPointers[0].identifier,ave.call(this,e)):t&(ds|ka)&&ave.call(this,e)}function h_t(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=ove&&o<=ove)return!0}return!1}var nPe=function(){var t=function(e){lc(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var g=u.pointerType===yx,d=u.pointerType===ZG;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(g)d_t.call(dw(dw(o)),l,u);else if(d&&h_t.call(dw(dw(o)),u))return;o.callback(a,l,u)}},o.touch=new JG(o.manager,o.handler),o.mouse=new eV(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(s0);return t}();function f_t(t){var e,r=t.options.inputClass;return r?e=r:GEt?e=rPe:VEt?e=JG:Hje?e=nPe:e=eV,new e(t,r_t)}function ep(t,e,r){return Array.isArray(t)?(sd(t,r[e],r),!0):!1}var Vw=1,Yl=2,tm=4,Hh=8,od=Hh,s1=16,Mu=32,A_t=1;function C_t(){return A_t++}function fw(t,e){var r=e.manager;return r?r.get(t):t}function lve(t){return t&s1?"cancel":t&Hh?"end":t&tm?"move":t&Yl?"start":""}var Sx=function(){function t(r){r===void 0&&(r={}),this.options=Yc({enable:!0},r),this.id=C_t(),this.manager=null,this.state=Vw,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return fC(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(ep(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=fw(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return ep(n,"dropRecognizeWith",this)?this:(n=fw(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(ep(n,"requireFailure",this))return this;var i=this.requireFail;return n=fw(n,this),CC(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(ep(n,"dropRequireFailure",this))return this;n=fw(n,this);var i=CC(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Hh&&o(i.options.event+lve(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Hh&&o(i.options.event+lve(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Mu},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Mu|Vw)))return!1;n++}return!0},e.recognize=function(n){var i=fC({},n);if(!w_(this.options.enable,[this,i])){this.reset(),this.state=Mu;return}this.state&(od|s1|Mu)&&(this.state=Vw),this.state=this.process(i),this.state&(Yl|tm|Hh|s1)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),uU=function(t){lc(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Yc({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[lU]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&ua&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==ds)return this.failTimeout();var g=this.pTime?i.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||yS(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!g?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=od,s.tryEmit()},o.interval),Yl):od}return Mu},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Mu},this.options.interval),Mu},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===od&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Sx),rm=function(t){lc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Yc({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Yl|tm),l=this.attrTest(i);return a&&(o&ka||!l)?s|s1:a||l?o&ds?s|Hh:s&Yl?s|tm:Yl:Mu},e}(Sx);function iPe(t){return t===em?"down":t===wx?"up":t===xx?"left":t===bx?"right":""}var tV=function(t){lc(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Yc({event:"pan",threshold:10,pointers:1,direction:Kje},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Wu&&s.push(r1),i&FA&&s.push(t1),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,g=i.deltaY;return l&s.direction||(s.direction&Wu?(l=u===0?mS:u<0?xx:bx,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=g===0?mS:g<0?wx:em,o=g!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return rm.prototype.attrTest.call(this,i)&&(this.state&Yl||!(this.state&Yl)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=iPe(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(rm),sPe=function(t){lc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Yc({event:"swipe",threshold:10,velocity:.3,direction:Wu|FA,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return tV.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(Wu|FA)?o=i.overallVelocity:s&Wu?o=i.overallVelocityX:s&FA&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&AC(o)>this.options.velocity&&i.eventType&ds},r.emit=function(i){var s=iPe(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(rm),oPe=function(t){lc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Yc({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[DA]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Yl)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(rm),aPe=function(t){lc(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Yc({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[DA]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Yl)},e}(rm),lPe=function(t){lc(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Yc({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[Vje]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(ds|ka)&&!u)this.reset();else if(i.eventType&ua)this.reset(),this._timer=setTimeout(function(){s.state=od,s.tryEmit()},o.time);else if(i.eventType&ds)return od;return Mu},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===od&&(i&&i.eventType&ds?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=YG(),this.manager.emit(this.options.event,this._input)))},e}(Sx),cPe={domEvents:!1,touchAction:Gje,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},cve=[[aPe,{enable:!1}],[oPe,{enable:!1},["rotate"]],[sPe,{direction:Wu}],[tV,{direction:Wu},["swipe"]],[uU],[uU,{event:"doubletap",taps:2},["tap"]],[lPe]],I_t=1,uve=2;function gve(t,e){var r=t.element;if(r.style){var n;sd(t.options.cssProps,function(i,s){n=b_(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function p_t(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var dve=function(){function t(r,n){var i=this;this.options=fC({},cPe,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=f_t(this),this.touchAction=new Zje(this,this.options.touchAction),gve(this,!0),sd(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return fC(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?uve:I_t},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&od)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==uve&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Yl|tm|Hh)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof Sx)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(ep(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(ep(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=CC(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return sd(n1(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return sd(n1(n),function(o){i?s[o]&&s[o].splice(CC(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&p_t(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&gve(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),m_t={touchstart:ua,touchmove:HC,touchend:ds,touchcancel:ka},v_t="touchstart",y_t="touchstart touchmove touchend touchcancel",x_t=function(t){lc(e,t);function e(){var n,i=e.prototype;return i.evTarget=v_t,i.evWin=y_t,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=m_t[i.type];if(s===ua&&(this.started=!0),!!this.started){var o=b_t.call(this,i,s);s&(ds|ka)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:yx,srcEvent:i})}},e}(s0);function b_t(t,e){var r=i1(t.touches),n=i1(t.changedTouches);return e&(ds|ka)&&(r=QG(r.concat(n),"identifier",!0)),[r,n]}function uPe(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var gPe=uPe(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),w_t=uPe(function(t,e){return gPe(t,e,!0)},"merge","Use `assign`.");function S_t(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&fC(i,r)}function hve(t,e){return function(){return t.apply(e,arguments)}}var E_t=function(){var t=function(r,n){return n===void 0&&(n={}),new dve(r,Yc({recognizers:cve.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Kje,t.DIRECTION_DOWN=em,t.DIRECTION_LEFT=xx,t.DIRECTION_RIGHT=bx,t.DIRECTION_UP=wx,t.DIRECTION_HORIZONTAL=Wu,t.DIRECTION_VERTICAL=FA,t.DIRECTION_NONE=mS,t.DIRECTION_DOWN=em,t.INPUT_START=ua,t.INPUT_MOVE=HC,t.INPUT_END=ds,t.INPUT_CANCEL=ka,t.STATE_POSSIBLE=Vw,t.STATE_BEGAN=Yl,t.STATE_CHANGED=tm,t.STATE_ENDED=Hh,t.STATE_RECOGNIZED=od,t.STATE_CANCELLED=s1,t.STATE_FAILED=Mu,t.Manager=dve,t.Input=s0,t.TouchAction=Zje,t.TouchInput=JG,t.MouseInput=eV,t.PointerEventInput=rPe,t.TouchMouseInput=nPe,t.SingleTouchInput=x_t,t.Recognizer=Sx,t.AttrRecognizer=rm,t.Tap=uU,t.Pan=tV,t.Swipe=sPe,t.Pinch=oPe,t.Rotate=aPe,t.Press=lPe,t.on=oy,t.off=ay,t.each=sd,t.merge=w_t,t.extend=gPe,t.bindFn=hve,t.assign=fC,t.inherit=S_t,t.bindFn=hve,t.prefixed=b_,t.toArray=i1,t.inArray=CC,t.uniqueArray=QG,t.splitStr=n1,t.boolOrFn=w_,t.hasParent=XG,t.addEventListeners=oy,t.removeEventListeners=ay,t.defaults=fC({},cPe,{preset:cve}),t}();const dPe=gSt("DELETE");function __t(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return hPe({},t,...r)}function hPe(){const t=xS(...arguments);return APe(t),t}function xS(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return xS(hPe(e[0],e[1]),...pSt(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of wSt(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===dPe?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!Su(n[s])&&!Su(i[s])?n[s]=xS(n[s],i[s]):n[s]=fPe(i[s]));return n}function fPe(t){return Su(t)?Pg(t).call(t,e=>fPe(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):xS({},t):t}function APe(t){for(const e of KG(t))t[e]===dPe?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&APe(t[e])}function T_t(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const R_t=typeof window<"u"?window.Hammer||E_t:function(){return T_t()};function Kg(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=R_t(this._dom.overlay);r.on("tap",Lje(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];e1(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{N_t(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}$Et(Kg.prototype);Kg.current=null;Kg.prototype.destroy=function(){this.deactivate();for(const r of KSt(t=qje(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Kg.prototype.activate=function(){Kg.current&&Kg.current.deactivate(),Kg.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Kg.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Kg.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function N_t(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var g$,fve;function O_t(){if(fve)return g$;fve=1,Eje();var t=Ls();return g$=t.Object.getOwnPropertySymbols,g$}var d$,Ave;function j_t(){if(Ave)return d$;Ave=1;var t=O_t();return d$=t,d$}var h$,Cve;function P_t(){return Cve||(Cve=1,h$=j_t()),h$}var k_t=P_t(),Ive=Zr(k_t),f$={exports:{}},pve={},mve;function D_t(){if(mve)return pve;mve=1;var t=Pr(),e=kn(),r=rg(),n=h_().f,i=Is(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),pve}var vve;function F_t(){if(vve)return f$.exports;vve=1,D_t();var t=Ls(),e=t.Object,r=f$.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),f$.exports}var A$,yve;function L_t(){if(yve)return A$;yve=1;var t=F_t();return A$=t,A$}var C$,xve;function M_t(){return xve||(xve=1,C$=L_t()),C$}var B_t=M_t(),CPe=Zr(B_t),bve={},wve;function $_t(){if(wve)return bve;wve=1;var t=Pr(),e=Is(),r=Bje(),n=rg(),i=h_(),s=A_();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,g=r(l),d={},f=0,h,A;g.length>f;)A=u(l,h=g[f++]),A!==void 0&&s(d,h,A);return d}}),bve}var I$,Sve;function q_t(){if(Sve)return I$;Sve=1,$_t();var t=Ls();return I$=t.Object.getOwnPropertyDescriptors,I$}var p$,Eve;function z_t(){if(Eve)return p$;Eve=1;var t=q_t();return p$=t,p$}var m$,_ve;function U_t(){return _ve||(_ve=1,m$=z_t()),m$}var W_t=U_t(),Tve=Zr(W_t),v$={exports:{}},Rve={},Nve;function G_t(){if(Nve)return Rve;Nve=1;var t=Pr(),e=Is(),r=WG().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),Rve}var Ove;function V_t(){if(Ove)return v$.exports;Ove=1,G_t();var t=Ls(),e=t.Object,r=v$.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),v$.exports}var y$,jve;function H_t(){if(jve)return y$;jve=1;var t=V_t();return y$=t,y$}var x$,Pve;function K_t(){return Pve||(Pve=1,x$=H_t()),x$}var Y_t=K_t(),Z_t=Zr(Y_t),b$,kve;function X_t(){return kve||(kve=1,b$=Cje()),b$}var Q_t=X_t(),J_t=Zr(Q_t),Dve={},Fve={},w$={exports:{}},S$,Lve;function eTt(){if(Lve)return S$;Lve=1;var t=kn();return S$=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),S$}var E$,Mve;function tTt(){if(Mve)return E$;Mve=1;var t=kn(),e=ga(),r=jd(),n=eTt(),i=Object.isExtensible,s=t(function(){});return E$=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,E$}var _$,Bve;function rTt(){if(Bve)return _$;Bve=1;var t=kn();return _$=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),_$}var $ve;function IPe(){if($ve)return w$.exports;$ve=1;var t=Pr(),e=Vn(),r=Ix(),n=ga(),i=ro(),s=ac().f,o=p_(),a=xje(),l=tTt(),u=d_(),g=rTt(),d=!1,f=u("meta"),h=0,A=function(y){s(y,f,{value:{objectID:"O"+h++,weakData:{}}})},C=function(y,x){if(!n(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!i(y,f)){if(!l(y))return"F";if(!x)return"E";A(y)}return y[f].objectID},I=function(y,x){if(!i(y,f)){if(!l(y))return!0;if(!x)return!1;A(y)}return y[f].weakData},p=function(y){return g&&d&&l(y)&&!i(y,f)&&A(y),y},m=function(){v.enable=function(){},d=!0;var y=o.f,x=e([].splice),T={};T[f]=1,y(T).length&&(o.f=function(E){for(var _=y(E),S=0,j=_.length;S<j;S++)if(_[S]===f){x(_,S,1);break}return _},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},v=w$.exports={enable:m,fastKey:C,getWeakData:I,onFreeze:p};return r[f]=!0,w$.exports}var T$,qve;function nTt(){if(qve)return T$;qve=1;var t=no(),e=i0(),r=t("iterator"),n=Array.prototype;return T$=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},T$}var R$,zve;function pPe(){if(zve)return R$;zve=1;var t=If(),e=LG(),r=hx(),n=i0(),i=no(),s=i("iterator");return R$=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},R$}var N$,Uve;function mPe(){if(Uve)return N$;Uve=1;var t=Ma(),e=Pd(),r=kd(),n=Xm(),i=pPe(),s=TypeError;return N$=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},N$}var O$,Wve;function rV(){if(Wve)return O$;Wve=1;var t=Ma(),e=kd(),r=LG();return O$=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},O$}var j$,Gve;function nV(){if(Gve)return j$;Gve=1;var t=f_(),e=Ma(),r=kd(),n=Xm(),i=nTt(),s=Cf(),o=to(),a=mPe(),l=pPe(),u=rV(),g=TypeError,d=function(h,A){this.stopped=h,this.result=A},f=d.prototype;return j$=function(h,A,C){var I=C&&C.that,p=!!(C&&C.AS_ENTRIES),m=!!(C&&C.IS_RECORD),v=!!(C&&C.IS_ITERATOR),y=!!(C&&C.INTERRUPTED),x=t(A,I),T,E,_,S,j,w,R,N=function(M){return T&&u(T,"normal"),new d(!0,M)},P=function(M){return p?(r(M),y?x(M[0],M[1],N):x(M[0],M[1])):y?x(M,N):x(M)};if(m)T=h.iterator;else if(v)T=h;else{if(E=l(h),!E)throw new g(n(h)+" is not iterable");if(i(E)){for(_=0,S=s(h);S>_;_++)if(j=P(h[_]),j&&o(f,j))return j;return new d(!1)}T=a(h,E)}for(w=m?h.next:T.next;!(R=e(w,T)).done;){try{j=P(R.value)}catch(M){u(T,"throw",M)}if(typeof j=="object"&&j&&o(f,j))return j}return new d(!1)},j$}var P$,Vve;function vPe(){if(Vve)return P$;Vve=1;var t=to(),e=TypeError;return P$=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},P$}var k$,Hve;function yPe(){if(Hve)return k$;Hve=1;var t=Pr(),e=Cs(),r=IPe(),n=kn(),i=e0(),s=nV(),o=vPe(),a=eo(),l=ga(),u=hx(),g=VC(),d=ac().f,f=n0().forEach,h=Is(),A=vx(),C=A.set,I=A.getterFor;return k$=function(p,m,v){var y=p.indexOf("Map")!==-1,x=p.indexOf("Weak")!==-1,T=y?"set":"add",E=e[p],_=E&&E.prototype,S={},j;if(!h||!a(E)||!(x||_.forEach&&!n(function(){new E().entries().next()})))j=v.getConstructor(m,p,y,T),r.enable();else{j=m(function(N,P){C(o(N,w),{type:p,collection:new E}),u(P)||s(P,N[T],{that:N,AS_ENTRIES:y})});var w=j.prototype,R=I(p);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var P=N==="add"||N==="set";N in _&&!(x&&N==="clear")&&i(w,N,function(M,B){var W=R(this).collection;if(!P&&x&&!l(M))return N==="get"?void 0:!1;var H=W[N](M===0?0:M,B);return P?this:H})}),x||d(w,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return g(j,p,!1,!0),S[p]=j,t({global:!0,forced:!0},S),x||v.setStrong(j,p,y),j},k$}var D$,Kve;function iTt(){if(Kve)return D$;Kve=1;var t=mx();return D$=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},D$}var F$,Yve;function sTt(){if(Yve)return F$;Yve=1;var t=bl(),e=GG(),r=no(),n=Is(),i=r("species");return F$=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},F$}var L$,Zve;function xPe(){if(Zve)return L$;Zve=1;var t=px(),e=GG(),r=iTt(),n=f_(),i=vPe(),s=hx(),o=nV(),a=VG(),l=HG(),u=sTt(),g=Is(),d=IPe().fastKey,f=vx(),h=f.set,A=f.getterFor;return L$={getConstructor:function(C,I,p,m){var v=C(function(_,S){i(_,y),h(_,{type:I,index:t(null),first:null,last:null,size:0}),g||(_.size=0),s(S)||o(S,_[m],{that:_,AS_ENTRIES:p})}),y=v.prototype,x=A(I),T=function(_,S,j){var w=x(_),R=E(_,S),N,P;return R?R.value=j:(w.last=R={index:P=d(S,!0),key:S,value:j,previous:N=w.last,next:null,removed:!1},w.first||(w.first=R),N&&(N.next=R),g?w.size++:_.size++,P!=="F"&&(w.index[P]=R)),_},E=function(_,S){var j=x(_),w=d(S),R;if(w!=="F")return j.index[w];for(R=j.first;R;R=R.next)if(R.key===S)return R};return r(y,{clear:function(){for(var S=this,j=x(S),w=j.first;w;)w.removed=!0,w.previous&&(w.previous=w.previous.next=null),w=w.next;j.first=j.last=null,j.index=t(null),g?j.size=0:S.size=0},delete:function(_){var S=this,j=x(S),w=E(S,_);if(w){var R=w.next,N=w.previous;delete j.index[w.index],w.removed=!0,N&&(N.next=R),R&&(R.previous=N),j.first===w&&(j.first=R),j.last===w&&(j.last=N),g?j.size--:S.size--}return!!w},forEach:function(S){for(var j=x(this),w=n(S,arguments.length>1?arguments[1]:void 0),R;R=R?R.next:j.first;)for(w(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(S){return!!E(this,S)}}),r(y,p?{get:function(S){var j=E(this,S);return j&&j.value},set:function(S,j){return T(this,S===0?0:S,j)}}:{add:function(S){return T(this,S=S===0?0:S,S)}}),g&&e(y,"size",{configurable:!0,get:function(){return x(this).size}}),v},setStrong:function(C,I,p){var m=I+" Iterator",v=A(I),y=A(m);a(C,I,function(x,T){h(this,{type:m,target:x,state:v(x),kind:T,last:null})},function(){for(var x=y(this),T=x.kind,E=x.last;E&&E.removed;)E=E.previous;return!x.target||!(x.last=E=E?E.next:x.state.first)?(x.target=null,l(void 0,!0)):l(T==="keys"?E.key:T==="values"?E.value:[E.key,E.value],!1)},p?"entries":"values",!p,!0),u(I)}},L$}var Xve;function oTt(){if(Xve)return Fve;Xve=1;var t=yPe(),e=xPe();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Fve}var Qve;function aTt(){return Qve||(Qve=1,oTt()),Dve}var Jve={},M$,eye;function bPe(){return eye||(eye=1,M$=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),M$}var B$,tye;function lTt(){if(tye)return B$;tye=1;var t=bl(),e=bPe(),r=t("Map");return B$={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},B$}var rye;function cTt(){if(rye)return Jve;rye=1;var t=Pr(),e=Vn(),r=Pd(),n=WC(),i=nV(),s=lTt(),o=Qm(),a=kn(),l=s.Map,u=s.has,g=s.get,d=s.set,f=e([].push),h=o||a(function(){return l.groupBy("ab",function(A){return A}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||h},{groupBy:function(C,I){n(C),r(I);var p=new l,m=0;return i(C,function(v){var y=I(v,m++);u(p,y)?f(g(p,y),v):d(p,y,[v])}),p}}),Jve}var $$,nye;function uTt(){if(nye)return $$;nye=1,mf(),aTt(),cTt(),y_();var t=Ls();return $$=t.Map,$$}var q$,iye;function gTt(){if(iye)return q$;iye=1;var t=uTt();return vf(),q$=t,q$}var z$,sye;function dTt(){return sye||(sye=1,z$=gTt()),z$}var hTt=dTt(),wPe=Zr(hTt),oye={},aye;function fTt(){if(aye)return oye;aye=1;var t=Pr(),e=n0().some,r=x_(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),oye}var U$,lye;function ATt(){if(lye)return U$;lye=1,fTt();var t=Ba();return U$=t("Array","some"),U$}var W$,cye;function CTt(){if(cye)return W$;cye=1;var t=to(),e=ATt(),r=Array.prototype;return W$=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},W$}var G$,uye;function ITt(){if(uye)return G$;uye=1;var t=CTt();return G$=t,G$}var V$,gye;function pTt(){return gye||(gye=1,V$=ITt()),V$}var mTt=pTt(),vTt=Zr(mTt),H$,dye;function yTt(){if(dye)return H$;dye=1,mf();var t=Ba();return H$=t("Array","keys"),H$}var K$,hye;function xTt(){if(hye)return K$;hye=1;var t=yTt();return K$=t,K$}var Y$,fye;function bTt(){if(fye)return Y$;fye=1,vf();var t=If(),e=ro(),r=to(),n=xTt(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Y$=function(o){var a=o.keys;return o===i||r(i,o)&&a===i.keys||e(s,t(o))?n:a},Y$}var Z$,Aye;function wTt(){return Aye||(Aye=1,Z$=bTt()),Z$}var STt=wTt(),PI=Zr(STt),Cye={},X$,Iye;function ETt(){if(Iye)return X$;Iye=1;var t=r0(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),g=r(t(n,0,u),i),d=r(t(n,u),i),f=g.length,h=d.length,A=0,C=0;A<f||C<h;)n[A+C]=A<f&&C<h?i(g[A],d[C])<=0?g[A++]:d[C++]:A<f?g[A++]:d[C++];return n};return X$=r,X$}var Q$,pye;function _Tt(){if(pye)return Q$;pye=1;var t=Ym(),e=t.match(/firefox\/(\d+)/i);return Q$=!!e&&+e[1],Q$}var J$,mye;function TTt(){if(mye)return J$;mye=1;var t=Ym();return J$=/MSIE|Trident/.test(t),J$}var eq,vye;function RTt(){if(vye)return eq;vye=1;var t=Ym(),e=t.match(/AppleWebKit\/(\d+)\./);return eq=!!e&&+e[1],eq}var yye;function NTt(){if(yye)return Cye;yye=1;var t=Pr(),e=Vn(),r=Pd(),n=ou(),i=Cf(),s=$je(),o=pf(),a=kn(),l=ETt(),u=x_(),g=_Tt(),d=TTt(),f=fx(),h=RTt(),A=[],C=e(A.sort),I=e(A.push),p=a(function(){A.sort(void 0)}),m=a(function(){A.sort(null)}),v=u("sort"),y=!a(function(){if(f)return f<70;if(!(g&&g>3)){if(d)return!0;if(h)return h<603;var E="",_,S,j,w;for(_=65;_<76;_++){switch(S=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:j=3;break;case 68:case 71:j=4;break;default:j=2}for(w=0;w<47;w++)A.push({k:S+w,v:j})}for(A.sort(function(R,N){return N.v-R.v}),w=0;w<A.length;w++)S=A[w].k.charAt(0),E.charAt(E.length-1)!==S&&(E+=S);return E!=="DGBEFHACIJK"}}),x=p||!m||!v||!y,T=function(E){return function(_,S){return S===void 0?-1:_===void 0?1:E!==void 0?+E(_,S)||0:o(_)>o(S)?1:-1}};return t({target:"Array",proto:!0,forced:x},{sort:function(_){_!==void 0&&r(_);var S=n(this);if(y)return _===void 0?C(S):C(S,_);var j=[],w=i(S),R,N;for(N=0;N<w;N++)N in S&&I(j,S[N]);for(l(j,T(_)),R=i(j),N=0;N<R;)S[N]=j[N++];for(;N<w;)s(S,N++);return S}}),Cye}var tq,xye;function OTt(){if(xye)return tq;xye=1,NTt();var t=Ba();return tq=t("Array","sort"),tq}var rq,bye;function jTt(){if(bye)return rq;bye=1;var t=to(),e=OTt(),r=Array.prototype;return rq=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},rq}var nq,wye;function PTt(){if(wye)return nq;wye=1;var t=jTt();return nq=t,nq}var iq,Sye;function kTt(){return Sye||(Sye=1,iq=PTt()),iq}var DTt=kTt(),gU=Zr(DTt),sq,Eye;function FTt(){if(Eye)return sq;Eye=1,mf();var t=Ba();return sq=t("Array","values"),sq}var oq,_ye;function LTt(){if(_ye)return oq;_ye=1;var t=FTt();return oq=t,oq}var aq,Tye;function MTt(){if(Tye)return aq;Tye=1,vf();var t=If(),e=ro(),r=to(),n=LTt(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return aq=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},aq}var lq,Rye;function BTt(){return Rye||(Rye=1,lq=MTt()),lq}var $Tt=BTt(),Nye=Zr($Tt),cq,Oye;function qTt(){return Oye||(Oye=1,cq=Fje()),cq}var zTt=qTt(),tp=Zr(zTt),uq,jye;function UTt(){if(jye)return uq;jye=1,mf();var t=Ba();return uq=t("Array","entries"),uq}var gq,Pye;function WTt(){if(Pye)return gq;Pye=1;var t=UTt();return gq=t,gq}var dq,kye;function GTt(){if(kye)return dq;kye=1,vf();var t=If(),e=ro(),r=to(),n=WTt(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return dq=function(o){var a=o.entries;return o===i||r(i,o)&&a===i.entries||e(s,t(o))?n:a},dq}var hq,Dye;function VTt(){return Dye||(Dye=1,hq=GTt()),hq}var HTt=VTt(),KTt=Zr(HTt);const co=[];for(let t=0;t<256;++t)co.push((t+256).toString(16).slice(1));function YTt(t,e=0){return(co[t[e+0]]+co[t[e+1]]+co[t[e+2]]+co[t[e+3]]+"-"+co[t[e+4]]+co[t[e+5]]+"-"+co[t[e+6]]+co[t[e+7]]+"-"+co[t[e+8]]+co[t[e+9]]+"-"+co[t[e+10]]+co[t[e+11]]+co[t[e+12]]+co[t[e+13]]+co[t[e+14]]+co[t[e+15]]).toLowerCase()}let fq;const ZTt=new Uint8Array(16);function XTt(){if(!fq){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fq=crypto.getRandomValues.bind(crypto)}return fq(ZTt)}const QTt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Fye={randomUUID:QTt};function JTt(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??XTt();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,YTt(n)}function e5t(t,e,r){return Fye.randomUUID&&!t?Fye.randomUUID():JTt(t)}function Lye(t){return typeof t=="string"||typeof t=="number"}class iV{constructor(e){Vh(this,"_queue",[]),Vh(this,"_timeout",null),Vh(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new iV(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const o=r.replace[s];i.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=LEt(()=>{this.flush()},this.delay))}flush(){var e,r;e1(e=qje(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class bS{constructor(){Vh(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Vh(this,"subscribe",bS.prototype.on),Vh(this,"unsubscribe",bS.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");e1(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=QI(n=this._subscribers[e]).call(n,i=>i!==r)}}var Mye={},Bye={},$ye;function t5t(){if($ye)return Bye;$ye=1;var t=yPe(),e=xPe();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Bye}var qye;function r5t(){return qye||(qye=1,t5t()),Mye}var zye={},Aq,Uye;function KC(){if(Uye)return Aq;Uye=1;var t=Xm(),e=TypeError;return Aq=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},Aq}var Cq,Wye;function YC(){if(Wye)return Cq;Wye=1;var t=bl(),e=bPe(),r=t("Set"),n=r.prototype;return Cq={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},Cq}var Iq,Gye;function ZC(){if(Gye)return Iq;Gye=1;var t=Ma();return Iq=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},Iq}var pq,Vye;function Ex(){if(Vye)return pq;Vye=1;var t=ZC();return pq=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},pq}var mq,Hye;function sV(){if(Hye)return mq;Hye=1;var t=YC(),e=Ex(),r=t.Set,n=t.add;return mq=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},mq}var vq,Kye;function _x(){return Kye||(Kye=1,vq=function(t){return t.size}),vq}var yq,Yye;function n5t(){return Yye||(Yye=1,yq=function(t){return{iterator:t,next:t.next,done:!1}}),yq}var xq,Zye;function XC(){if(Zye)return xq;Zye=1;var t=Pd(),e=kd(),r=Ma(),n=t0(),i=n5t(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(g,d){this.set=g,this.size=l(d,0),this.has=t(g.has),this.keys=t(g.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(g){return r(this.has,this.set,g)}},xq=function(g){e(g);var d=+g.size;if(d!==d)throw new a(s);var f=n(d);if(f<0)throw new o(s);return new u(g,f)},xq}var bq,Xye;function i5t(){if(Xye)return bq;Xye=1;var t=KC(),e=YC(),r=sV(),n=_x(),i=XC(),s=Ex(),o=ZC(),a=e.has,l=e.remove;return bq=function(g){var d=t(this),f=i(g),h=r(d);return n(d)<=f.size?s(d,function(A){f.includes(A)&&l(h,A)}):o(f.getIterator(),function(A){a(h,A)&&l(h,A)}),h},bq}var wq,Qye;function QC(){return Qye||(Qye=1,wq=function(){return!1}),wq}var Jye;function s5t(){if(Jye)return zye;Jye=1;var t=Pr(),e=i5t(),r=kn(),n=QC(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),zye}var e1e={},Sq,t1e;function o5t(){if(t1e)return Sq;t1e=1;var t=KC(),e=YC(),r=_x(),n=XC(),i=Ex(),s=ZC(),o=e.Set,a=e.add,l=e.has;return Sq=function(g){var d=t(this),f=n(g),h=new o;return r(d)>f.size?s(f.getIterator(),function(A){l(d,A)&&a(h,A)}):i(d,function(A){f.includes(A)&&a(h,A)}),h},Sq}var r1e;function a5t(){if(r1e)return e1e;r1e=1;var t=Pr(),e=kn(),r=o5t(),n=QC(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),e1e}var n1e={},Eq,i1e;function l5t(){if(i1e)return Eq;i1e=1;var t=KC(),e=YC().has,r=_x(),n=XC(),i=Ex(),s=ZC(),o=rV();return Eq=function(l){var u=t(this),g=n(l);if(r(u)<=g.size)return i(u,function(f){if(g.includes(f))return!1},!0)!==!1;var d=g.getIterator();return s(d,function(f){if(e(u,f))return o(d,"normal",!1)})!==!1},Eq}var s1e;function c5t(){if(s1e)return n1e;s1e=1;var t=Pr(),e=l5t(),r=QC(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),n1e}var o1e={},_q,a1e;function u5t(){if(a1e)return _q;a1e=1;var t=KC(),e=_x(),r=Ex(),n=XC();return _q=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},_q}var l1e;function g5t(){if(l1e)return o1e;l1e=1;var t=Pr(),e=u5t(),r=QC(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),o1e}var c1e={},Tq,u1e;function d5t(){if(u1e)return Tq;u1e=1;var t=KC(),e=YC().has,r=_x(),n=XC(),i=ZC(),s=rV();return Tq=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var g=u.getIterator();return i(g,function(d){if(!e(l,d))return s(g,"normal",!1)})!==!1},Tq}var g1e;function h5t(){if(g1e)return c1e;g1e=1;var t=Pr(),e=d5t(),r=QC(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),c1e}var d1e={},Rq,h1e;function f5t(){if(h1e)return Rq;h1e=1;var t=KC(),e=YC(),r=sV(),n=XC(),i=ZC(),s=e.add,o=e.has,a=e.remove;return Rq=function(u){var g=t(this),d=n(u).getIterator(),f=r(g);return i(d,function(h){o(g,h)?a(f,h):s(f,h)}),f},Rq}var Nq,f1e;function SPe(){return f1e||(f1e=1,Nq=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),Nq}var A1e;function A5t(){if(A1e)return d1e;A1e=1;var t=Pr(),e=f5t(),r=SPe(),n=QC(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),d1e}var C1e={},Oq,I1e;function C5t(){if(I1e)return Oq;I1e=1;var t=KC(),e=YC().add,r=sV(),n=XC(),i=ZC();return Oq=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(g){e(u,g)}),u},Oq}var p1e;function I5t(){if(p1e)return C1e;p1e=1;var t=Pr(),e=C5t(),r=SPe(),n=QC(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),C1e}var jq,m1e;function p5t(){if(m1e)return jq;m1e=1,mf(),r5t(),s5t(),a5t(),c5t(),g5t(),h5t(),A5t(),I5t(),y_();var t=Ls();return jq=t.Set,jq}var Pq,v1e;function m5t(){if(v1e)return Pq;v1e=1;var t=p5t();return vf(),Pq=t,Pq}var kq,y1e;function v5t(){return y1e||(y1e=1,kq=m5t()),kq}var y5t=v5t(),Dq=Zr(y5t),Fq,x1e;function x5t(){if(x1e)return Fq;x1e=1,mf(),y_();var t=mPe();return Fq=t,Fq}var Lq,b1e;function b5t(){if(b1e)return Lq;b1e=1;var t=x5t();return vf(),Lq=t,Lq}var Mq,w1e;function w5t(){if(w1e)return Mq;w1e=1;var t=b5t();return Mq=t,Mq}var Bq,S1e;function S5t(){if(S1e)return Bq;S1e=1;var t=w5t();return Bq=t,Bq}var $q,E1e;function E5t(){return E1e||(E1e=1,$q=S5t()),$q}var qq,_1e;function _5t(){return _1e||(_1e=1,qq=E5t()),qq}var T5t=_5t(),zq=Zr(T5t);class fA{constructor(e){this._pairs=e}*[tp](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Pg(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Pg(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=vEt(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new wPe(this._pairs)}toIdSet(){return new Dq(this.toIdArray())}toItemSet(){return new Dq(this.toItemArray())}cache(){return new fA([...this._pairs])}distinct(e){const r=new Dq;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new fA({*[tp](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new fA({*[tp](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=zq(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const r=zq(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new fA({[tp]:()=>{var r;return zq(gU(r=[...this._pairs]).call(r,(n,i)=>{let[s,o]=n,[a,l]=i;return e(o,l,s,a)}))}})}}function T1e(t,e){var r=KG(t);if(Ive){var n=Ive(t);e&&(n=QI(n).call(n,function(i){return CPe(t,i).enumerable})),r.push.apply(r,n)}return r}function R1e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?e1(r=T1e(Object(i),!0)).call(r,function(s){Vh(t,s,i[s])}):Tve?Z_t(t,Tve(i)):e1(n=T1e(Object(i))).call(n,function(s){J_t(t,s,CPe(i,s))})}return t}function R5t(t,e){return t[e]==null&&(t[e]=e5t()),t}class N1e extends bS{get idProp(){return this._idProp}constructor(e,r){super(),Vh(this,"_queue",null),e&&!Su(e)&&(r=e,e=[]),this._options=r||{},this._data=new wPe,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=iV.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(Su(e)){const s=Pg(e).call(e,o=>o[this._idProp]);if(vTt(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const g=u[a];if(g!=null&&this._data.has(g)){const d=u,f=lEt({},this._data.get(g)),h=this._updateItem(d);i.push(h),o.push(d),s.push(f)}else{const d=this._addItem(u);n.push(d)}};if(Su(e))for(let u=0,g=e.length;u<g;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,r)}return fEt(n).call(n,i)}updateOnly(e,r){var n;Su(e)||(e=[e]);const i=Pg(n=Pg(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(n,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=__t(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Pg(i).call(i,o=>o.id),oldData:Pg(i).call(i,o=>o.oldData),data:Pg(i).call(i,o=>o.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;Lye(e)?(n=e,s=r):Su(e)?(i=e,s=r):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&QI(s),l=[];let u,g,d;if(n!=null)u=this._data.get(n),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let h=0,A=i.length;h<A;h++)u=this._data.get(i[h]),u!=null&&(!a||a(u))&&l.push(u);else{var f;g=[...PI(f=this._data).call(f)];for(let h=0,A=g.length;h<A;h++)d=g[h],u=this._data.get(d),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const h=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,h);else for(let A=0,C=l.length;A<C;A++)l[A]=this._filterFields(l[A],h)}if(o=="Object"){const h={};for(let A=0,C=l.length;A<C;A++){const I=l[A],p=I[this._idProp];h[p]=I}return h}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&QI(e),i=e&&e.order,s=[...PI(r).call(r)],o=[];if(n)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const g=s[l],d=this._data.get(g);d!=null&&n(d)&&a.push(d)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],g=this._data.get(u);g!=null&&n(g)&&o.push(g[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const g=s[l];a.push(r.get(g))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],g=r.get(u);g!=null&&o.push(g[this._idProp])}return o}getDataSet(){return this}forEach(e,r){const n=r&&QI(r),i=this._data,s=[...PI(i).call(i)];if(r&&r.order){const o=this.get(r);for(let a=0,l=o.length;a<l;a++){const u=o[a],g=u[this._idProp];e(u,g)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&QI(r),i=[],s=this._data,o=[...PI(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],g=this._data.get(u);g!=null&&(!n||n(g))&&i.push(e(g,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Z2t(n=Su(r)?r:KG(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;gU(e).call(e,(i,s)=>{const o=i[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof r=="function")gU(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=Su(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(Lye(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...PI(r=this._data).call(r)],i=[];for(let s=0,o=n.length;s<o;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of Nye(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o>n)&&(r=s,n=o)}return r||null}min(e){let r=null,n=null;for(const s of Nye(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o<n)&&(r=s,n=o)}return r||null}distinct(e){const r=this._data,n=[...PI(r).call(r)],i=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],g=r.get(l)[e];let d=!1;for(let f=0;f<s;f++)if(i[f]==g){d=!0;break}!d&&g!==void 0&&(i[s]=g,s++)}return i}_addItem(e){const r=R5t(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+REt(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,R1e(R1e({},n),e)),r}stream(e){if(e){const n=this._data;return new fA({*[tp](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new fA({[tp]:Lje(r=KTt(this._data)).call(r,this._data)})}}}const{Text:Kf}=yr,O1e=({steps:t,dependencies:e,loading:r=!1})=>{const n=D.useRef(null),i=D.useRef(null),[s,o]=D.useState(null);D.useEffect(()=>{if(!(!n.current||t.length===0))try{const d=new N1e(t.map(C=>{var I,p;return{id:C.id,label:`Step ${C.stepNumber}
${((I=C.operation)==null?void 0:I.operationName)||"Unknown"}`,title:`${(p=C.operation)==null?void 0:p.operationName}
${C.stepInstructions||"No instructions"}`,shape:"box",color:{background:C.isCriticalPath?"#ff4d4f":C.isQualityInspection?"#52c41a":C.isOptional?"#1890ff":"#fafafa",border:C.isCriticalPath?"#cf1322":C.isQualityInspection?"#389e0d":C.isOptional?"#096dd9":"#d9d9d9"},font:{color:C.isCriticalPath||C.isQualityInspection?"#fff":"#000",multi:"html"},margin:{top:10,right:10,bottom:10,left:10}}})),f=new N1e(e.map(C=>({id:C.id,from:C.prerequisiteStepId,to:C.dependentStepId,label:a(C.dependencyType),arrows:"to",color:{color:l(C.dependencyType),highlight:"#1890ff"},smooth:{enabled:!0,type:"cubicBezier",roundness:.4},title:`${a(C.dependencyType)}
${C.lagTime?`Lag: ${C.lagTime}s`:""}${C.leadTime?`Lead: ${C.leadTime}s`:""}`}))),h={layout:{hierarchical:{enabled:!0,direction:"LR",sortMethod:"directed",levelSeparation:200,nodeSpacing:150}},physics:{enabled:!1},nodes:{borderWidth:2,borderWidthSelected:3,chosen:{node:C=>{C.borderWidth=4,C.shadow=!0}}},edges:{width:2,chosen:{edge:C=>{C.width=4}}},interaction:{hover:!0,zoomView:!0,dragView:!0,tooltipDelay:200}},A=new Xt(n.current,{nodes:d,edges:f},h);return i.current=A,A.on("click",C=>{if(C.nodes.length>0){const I=C.nodes[0],p=t.find(m=>m.id===I);p&&console.log("Clicked step:",p)}}),()=>{i.current&&(i.current.destroy(),i.current=null)}}catch(d){console.error("Failed to create dependency graph:",d),o(d.message||"Failed to render graph")}},[t,e]);const a=d=>({FINISH_TO_START:"FS",START_TO_START:"SS",FINISH_TO_FINISH:"FF",START_TO_FINISH:"SF"})[d]||d,l=d=>({FINISH_TO_START:"#1890ff",START_TO_START:"#52c41a",FINISH_TO_FINISH:"#faad14",START_TO_FINISH:"#f5222d"})[d]||"#999",u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},g=()=>{n.current&&n.current.requestFullscreen&&n.current.requestFullscreen()};return r?c.jsx(xe,{children:c.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:"16px"},children:"Loading dependency graph..."})]})}):s?c.jsx(xe,{children:c.jsx(Pt,{message:"Graph Rendering Error",description:s,type:"error",showIcon:!0})}):t.length===0?c.jsx(xe,{children:c.jsx(Fc,{image:c.jsx(Dp,{style:{fontSize:64,color:"#999"}}),description:"No steps to visualize",children:c.jsx(Kf,{type:"secondary",children:"Add routing steps to see the dependency graph"})})}):c.jsxs(xe,{title:c.jsxs(pe,{children:[c.jsx(Dp,{}),"Dependency Graph"]}),extra:c.jsxs(pe,{children:[c.jsx(le,{icon:c.jsx(Ps,{}),onClick:u,size:"small",children:"Reset View"}),c.jsx(le,{icon:c.jsx(AU,{}),onClick:g,size:"small",children:"Fullscreen"})]}),children:[c.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fafafa",borderRadius:"4px"},children:[c.jsxs(pe,{size:"middle",wrap:!0,children:[c.jsxs(Kf,{strong:!0,children:[c.jsx(Wc,{})," Legend:"]}),c.jsx(Be,{color:"red",children:"Critical Path"}),c.jsx(Be,{color:"green",children:"Quality Inspection"}),c.jsx(Be,{color:"blue",children:"Optional"}),c.jsx(Be,{color:"default",children:"Standard"})]}),c.jsx("div",{style:{marginTop:"8px"},children:c.jsxs(pe,{size:"middle",wrap:!0,children:[c.jsx(Kf,{type:"secondary",children:"Dependencies:"}),c.jsxs(Kf,{children:[c.jsx("span",{style:{color:"#1890ff"},children:""})," FS (Finish-to-Start)"]}),c.jsxs(Kf,{children:[c.jsx("span",{style:{color:"#52c41a"},children:""})," SS (Start-to-Start)"]}),c.jsxs(Kf,{children:[c.jsx("span",{style:{color:"#faad14"},children:""})," FF (Finish-to-Finish)"]}),c.jsxs(Kf,{children:[c.jsx("span",{style:{color:"#f5222d"},children:""})," SF (Start-to-Finish)"]})]})})]}),c.jsx("div",{ref:n,style:{height:"600px",border:"1px solid #d9d9d9",borderRadius:"4px",background:"#fff"}}),e.length===0&&c.jsx(Pt,{message:"No Dependencies Defined",description:"This routing has no step dependencies. Steps will execute in sequential order by step number.",type:"info",showIcon:!0,style:{marginTop:"16px"}})]})},{Text:wg}=yr,N5t=({steps:t,loading:e=!1})=>{const r=D.useMemo(()=>{if(t.length===0)return[];const a=[];let l=0;return[...t].sort((g,d)=>g.stepNumber-d.stepNumber).forEach(g=>{var C,I,p,m,v;const d=(g.setupTimeOverride??((C=g.operation)==null?void 0:C.setupTime)??0)/60,f=(g.cycleTimeOverride??((I=g.operation)==null?void 0:I.duration)??0)/60,h=(g.teardownTimeOverride??((p=g.operation)==null?void 0:p.teardownTime)??0)/60,A=d+f+h;a.push({id:g.id,stepNumber:g.stepNumber,name:((m=g.operation)==null?void 0:m.operationName)||`Step ${g.stepNumber}`,startTime:l,duration:A||10,isCriticalPath:g.isCriticalPath||!1,isQualityInspection:g.isQualityInspection||!1,isOptional:g.isOptional||!1,workCenter:(v=g.workCenter)==null?void 0:v.name}),l+=A||10}),a},[t]),n=D.useMemo(()=>{if(r.length===0)return 0;const a=r[r.length-1];return a.startTime+a.duration},[r]),i=a=>{if(a<60)return`${Math.round(a)}m`;const l=Math.floor(a/60),u=Math.round(a%60);return u>0?`${l}h ${u}m`:`${l}h`},s=a=>{const l=a.startTime/n*100,u=a.duration/n*100;return{left:`${l}%`,width:`${u}%`}},o=a=>a.isCriticalPath?"#ff4d4f":a.isQualityInspection?"#52c41a":a.isOptional?"#1890ff":"#8c8c8c";return e?c.jsx(xe,{children:c.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:"16px"},children:"Loading Gantt chart..."})]})}):t.length===0?c.jsx(xe,{children:c.jsx(Fc,{image:c.jsx(Zi,{style:{fontSize:64,color:"#999"}}),description:"No steps to visualize",children:c.jsx(wg,{type:"secondary",children:"Add routing steps to see the Gantt chart"})})}):c.jsxs(xe,{title:c.jsxs(pe,{children:[c.jsx(Zi,{}),"Gantt Chart - Timeline View"]}),className:"gantt-chart-card",children:[c.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fafafa",borderRadius:"4px"},children:[c.jsxs(pe,{size:"middle",wrap:!0,children:[c.jsxs(wg,{strong:!0,children:[c.jsx(Wc,{})," Legend:"]}),c.jsx(Be,{color:"red",children:"Critical Path"}),c.jsx(Be,{color:"green",children:"Quality Inspection"}),c.jsx(Be,{color:"blue",children:"Optional"}),c.jsx(Be,{color:"default",children:"Standard"})]}),c.jsx("div",{style:{marginTop:"8px"},children:c.jsxs(wg,{type:"secondary",children:[c.jsx(Zi,{})," Total Duration: ",c.jsx("strong",{children:i(n)})]})})]}),c.jsxs("div",{className:"gantt-timeline-header",children:[c.jsx("div",{className:"gantt-task-labels",children:c.jsx(wg,{strong:!0,children:"Step"})}),c.jsx("div",{className:"gantt-timeline-grid",children:c.jsx("div",{className:"gantt-time-markers",children:Array.from({length:11}).map((a,l)=>{const u=n/10*l;return c.jsx("div",{className:"time-marker",style:{left:`${l*10}%`},children:c.jsx(wg,{type:"secondary",style:{fontSize:"11px"},children:i(u)})},l)})})})]}),c.jsx("div",{className:"gantt-chart-body",children:r.map((a,l)=>c.jsxs("div",{className:"gantt-row",style:{animationDelay:`${l*50}ms`},children:[c.jsxs("div",{className:"gantt-task-label",children:[c.jsxs("div",{children:[c.jsx(Be,{color:"blue",style:{marginRight:4,fontWeight:600},children:a.stepNumber}),c.jsx(wg,{strong:!0,children:a.name})]}),a.workCenter&&c.jsx(wg,{type:"secondary",style:{fontSize:"12px",display:"block",marginTop:"2px"},children:a.workCenter})]}),c.jsxs("div",{className:"gantt-timeline",children:[Array.from({length:11}).map((u,g)=>c.jsx("div",{className:"grid-line",style:{left:`${g*10}%`}},g)),c.jsx(lt,{title:c.jsxs("div",{children:[c.jsx("div",{children:c.jsxs("strong",{children:["Step ",a.stepNumber,": ",a.name]})}),c.jsxs("div",{children:["Start: ",i(a.startTime)]}),c.jsxs("div",{children:["Duration: ",i(a.duration)]}),c.jsxs("div",{children:["End: ",i(a.startTime+a.duration)]}),a.workCenter&&c.jsxs("div",{children:["Work Center: ",a.workCenter]})]}),placement:"top",children:c.jsx("div",{className:"gantt-bar",style:{...s(a),backgroundColor:o(a)},children:c.jsx("div",{className:"gantt-bar-content",children:c.jsx(wg,{style:{color:"#fff",fontSize:"12px",fontWeight:600,whiteSpace:"nowrap"},children:i(a.duration)})})})})]})]},a.id))}),c.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"#e6f7ff",borderRadius:"4px",border:"1px solid #91d5ff"},children:c.jsxs(pe,{children:[c.jsx(Ns,{style:{color:"#1890ff"}}),c.jsxs(wg,{type:"secondary",style:{fontSize:"13px"},children:[c.jsx("strong",{children:"Note:"})," This timeline shows sequential execution. Steps are displayed in order by step number. For parallel execution analysis, use the Dependency Graph view."]})]})})]})},O5t="/api/v1",Rg=Vt.create({baseURL:`${O5t}/routing-templates`,timeout:3e4,headers:{"Content-Type":"application/json"}});Rg.interceptors.request.use(t=>{const e=yo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Rg.interceptors.response.use(t=>t.data,t=>{var r,n,i;const e=((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.message)||t.message||"An error occurred";return console.error("[Routing Template API Error]",e,(i=t.response)==null?void 0:i.data),Promise.reject(t)});const Ov={async getTemplates(t){const e=new URLSearchParams;return t!=null&&t.search&&e.append("search",t.search),t!=null&&t.category&&e.append("category",t.category),t!=null&&t.tags&&t.tags.forEach(r=>e.append("tags",r)),t!=null&&t.siteId&&e.append("siteId",t.siteId),(t==null?void 0:t.isPublic)!==void 0&&e.append("isPublic",t.isPublic.toString()),(t==null?void 0:t.isFavorite)!==void 0&&e.append("isFavorite",t.isFavorite.toString()),t!=null&&t.sortBy&&e.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&e.append("sortOrder",t.sortOrder),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.offset&&e.append("offset",t.offset.toString()),await Rg.get(`?${e.toString()}`)},async getTemplate(t){return await Rg.get(`/${t}`)},async createTemplate(t){return await Rg.post("",t)},async updateTemplate(t,e){return await Rg.put(`/${t}`,e)},async deleteTemplate(t){return await Rg.delete(`/${t}`)},async toggleFavorite(t){return await Rg.post(`/${t}/favorite`)},async useTemplate(t,e){return await Rg.post(`/${t}/use`,e)}},{Option:uv}=we,{TextArea:j5t}=at,P5t=({visible:t,routingId:e,routingNumber:r,onClose:n,onSuccess:i})=>{const[s]=me.useForm(),[o,a]=D.useState(!1),{currentSite:l}=IC(),{user:u}=qo(),g=async()=>{try{const f=await s.validateFields();if(!l||!u){Ee.error("Site or user information not available");return}a(!0);const h={name:f.name,description:f.description,category:f.category,tags:f.tags||[],isPublic:f.isPublic||!1,sourceRoutingId:e,siteId:l.id,createdById:u.id};await Ov.createTemplate(h),Ee.success("Template created successfully!"),s.resetFields(),n(),i&&i()}catch(f){if(console.error("Failed to create template:",f),f.errorFields)return;Ee.error(f.message||"Failed to create template")}finally{a(!1)}},d=()=>{s.resetFields(),n()};return c.jsx(en,{title:"Save as Template",open:t,onOk:g,onCancel:d,confirmLoading:o,okText:"Save",cancelText:"Cancel",width:600,children:c.jsxs(me,{form:s,layout:"vertical",initialValues:{name:`${r} Template`,isPublic:!1},children:[c.jsx(me.Item,{name:"name",label:"Template Name",rules:[{required:!0,message:"Please enter a template name"},{min:3,message:"Name must be at least 3 characters"}],children:c.jsx(at,{placeholder:"Enter template name"})}),c.jsx(me.Item,{name:"description",label:"Description",rules:[{max:500,message:"Description must be less than 500 characters"}],children:c.jsx(j5t,{rows:4,placeholder:"Describe this template and when it should be used..."})}),c.jsx(me.Item,{name:"category",label:"Category",rules:[{required:!1}],children:c.jsxs(we,{placeholder:"Select a category (optional)",children:[c.jsx(uv,{value:"MACHINING",children:"Machining"}),c.jsx(uv,{value:"ASSEMBLY",children:"Assembly"}),c.jsx(uv,{value:"INSPECTION",children:"Inspection"}),c.jsx(uv,{value:"FINISHING",children:"Finishing"}),c.jsx(uv,{value:"PACKAGING",children:"Packaging"})]})}),c.jsx(me.Item,{name:"tags",label:"Tags",tooltip:"Add tags to make this template easier to find",children:c.jsx(we,{mode:"tags",placeholder:"Add tags (press Enter to add)",style:{width:"100%"}})}),c.jsx(me.Item,{name:"isPublic",label:"Make Public",valuePropName:"checked",tooltip:"Public templates can be used by other sites",children:c.jsx(zn,{})})]})})},{Title:k5t,Text:kI}=yr,{TabPane:Aw}=Zc,D5t=()=>{var Pe,Fe,He,Te,se,Ct,Re;const t=Kr(),{id:e}=ml(),[r,n]=D.useState("details"),[i,s]=D.useState("table"),[o,a]=D.useState(!1),[l,u]=D.useState(void 0),[g,d]=D.useState(!1),{currentRouting:f,currentSteps:h,isLoadingDetail:A,isLoadingSteps:C,detailError:I,stepsError:p,routingTiming:m,fetchRoutingById:v,fetchRoutingSteps:y,calculateRoutingTiming:x,deleteRoutingStep:T,createRoutingStep:E,updateRoutingStep:_,resequenceSteps:S,approveRouting:j,activateRouting:w,obsoleteRouting:R}=tW(),{hasChanges:N,changeInfo:P,acceptChange:M,dismissChange:B}=lRe({routingId:e||"",currentVersion:(f==null?void 0:f.version)||"",enabled:!!e&&!!(f!=null&&f.version)&&!A,onChangeDetected:ke=>{console.log("Routing changed:",ke),Ee.info(`Routing was updated by ${ke.modifiedBy||"another user"}`)}}),W=()=>{e&&(M(),v(e),y(e),x(e),Ee.success("Routing reloaded successfully"))};D.useEffect(()=>{e&&(v(e),y(e),x(e))},[e]);const H=()=>{t("/routings")},V=()=>{t(`/routings/${e}/edit`)},K=()=>{t(`/routings/${e}/copy`)},Y=async()=>{if(!(!e||!f))try{await j({routingId:e,approvedBy:"current-user",notes:"Approved via UI"}),Ee.success("Routing approved successfully"),v(e)}catch(ke){Ee.error(ke.message||"Failed to approve routing")}},k=async()=>{if(e)try{await w(e),Ee.success("Routing activated successfully"),v(e)}catch(ke){Ee.error(ke.message||"Failed to activate routing")}},q=async()=>{if(e)try{await R(e),Ee.success("Routing marked as obsolete"),v(e)}catch(ke){Ee.error(ke.message||"Failed to mark routing as obsolete")}},z=()=>{u(void 0),a(!0)},G=ke=>{u(ke),a(!0)},Z=async ke=>{try{l?(await _(l.id,ke),Ee.success("Step updated successfully")):(await E(e,ke),Ee.success("Step added successfully")),a(!1),u(void 0),e&&(y(e),x(e))}catch(Ye){throw Ye}},ue=()=>{a(!1),u(void 0)},re=async ke=>{try{await T(ke),Ee.success("Step deleted successfully"),e&&(y(e),x(e))}catch(Ye){Ee.error(Ye.message||"Failed to delete step")}},ie=async ke=>{if(!e)return;const Ye=ke.map((xt,ft)=>({stepId:xt.id,newStepNumber:(ft+1)*10}));await S({routingId:e,stepOrder:Ye}),y(e),x(e)};if(A)return c.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:"16px"},children:"Loading routing..."})]});if(I)return c.jsxs("div",{style:{padding:"24px"},children:[c.jsx(Pt,{message:"Error Loading Routing",description:I,type:"error",showIcon:!0}),c.jsx(le,{icon:c.jsx(js,{}),onClick:H,style:{marginTop:"16px"},children:"Back to List"})]});if(!f)return c.jsxs("div",{style:{padding:"24px"},children:[c.jsx(Pt,{message:"Routing not found",type:"warning",showIcon:!0}),c.jsx(le,{icon:c.jsx(js,{}),onClick:H,style:{marginTop:"16px"},children:"Back to List"})]});const Ce=G_e(f);return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsx(pe,{style:{marginBottom:"16px"},children:c.jsx(le,{icon:c.jsx(js,{}),onClick:H,children:"Back"})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsxs(k5t,{level:2,style:{marginBottom:"8px"},children:[c.jsx(Pv,{style:{marginRight:"8px"}}),f.routingNumber,c.jsx(Be,{color:_7[f.lifecycleState],style:{marginLeft:"16px",fontSize:"14px"},children:T7[f.lifecycleState]})]}),c.jsxs(pe,{size:"middle",children:[c.jsxs(kI,{type:"secondary",children:["Part: ",c.jsx("strong",{children:(Pe=f.part)==null?void 0:Pe.partNumber})," - ",(Fe=f.part)==null?void 0:Fe.partName]}),c.jsx(kI,{type:"secondary",children:"|"}),c.jsxs(kI,{type:"secondary",children:["Site: ",c.jsx("strong",{children:(He=f.site)==null?void 0:He.siteName})]}),c.jsx(kI,{type:"secondary",children:"|"}),c.jsxs(kI,{type:"secondary",children:["Version: ",c.jsx("strong",{children:f.version})]})]}),e&&c.jsx("div",{style:{marginTop:"12px"},children:c.jsx(oRe,{resourceType:"routing",resourceId:e,action:"viewing",enabled:!0})})]}),c.jsxs(pe,{size:"middle",children:[Ce&&c.jsx(le,{icon:c.jsx(Pi,{}),onClick:V,children:"Edit"}),c.jsx(le,{icon:c.jsx(Kw,{}),onClick:K,children:"Clone"}),c.jsx(le,{icon:c.jsx(Xke,{}),onClick:()=>d(!0),"data-testid":"save-as-template-button",children:"Save as Template"}),f.lifecycleState==="DRAFT"&&c.jsx(le,{type:"primary",icon:c.jsx(vr,{}),onClick:Y,children:"Submit for Review"}),f.lifecycleState==="REVIEW"&&c.jsx(le,{type:"primary",icon:c.jsx(vr,{}),onClick:Y,children:"Approve & Release"}),f.lifecycleState==="RELEASED"&&c.jsx(le,{type:"primary",icon:c.jsx(vr,{}),onClick:k,children:"Activate for Production"}),f.lifecycleState==="PRODUCTION"&&c.jsx(sa,{title:"Mark this routing as obsolete?",description:"This will prevent it from being used for new work orders.",onConfirm:q,okText:"Yes",cancelText:"No",children:c.jsx(le,{danger:!0,children:"Mark as Obsolete"})})]})]})]}),N&&P&&c.jsx(aRe,{changeInfo:P,onReload:W,onDismiss:B}),m&&c.jsx(xe,{style:{marginBottom:"24px"},children:c.jsxs(Dt,{gutter:16,children:[c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Total Setup Time",value:lA(m.totalSetupTime),prefix:c.jsx(Zi,{})})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Total Cycle Time",value:lA(m.totalCycleTime),prefix:c.jsx(Zi,{})})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Total Teardown Time",value:lA(m.totalTeardownTime),prefix:c.jsx(Zi,{})})}),c.jsx(Se,{span:6,children:c.jsx(Mt,{title:"Total Time",value:lA(m.totalTime),prefix:c.jsx(Zi,{}),valueStyle:{color:"#1890ff",fontWeight:"bold"}})})]})}),c.jsx(xe,{children:c.jsxs(Zc,{activeKey:r,onChange:n,children:[c.jsx(Aw,{tab:c.jsxs("span",{children:[c.jsx(Zl,{}),"Details"]}),children:c.jsxs(Ge,{bordered:!0,column:2,children:[c.jsx(Ge.Item,{label:"Routing Number",children:f.routingNumber}),c.jsx(Ge.Item,{label:"Version",children:f.version}),c.jsxs(Ge.Item,{label:"Part",children:[(Te=f.part)==null?void 0:Te.partNumber," - ",(se=f.part)==null?void 0:se.partName]}),c.jsxs(Ge.Item,{label:"Site",children:[(Ct=f.site)==null?void 0:Ct.siteName," (",(Re=f.site)==null?void 0:Re.siteCode,")"]}),c.jsx(Ge.Item,{label:"Lifecycle State",children:c.jsx(Be,{color:_7[f.lifecycleState],children:T7[f.lifecycleState]})}),c.jsx(Ge.Item,{label:"Primary Route",children:c.jsx(ji,{status:f.isPrimaryRoute?"success":"default",text:f.isPrimaryRoute?"Yes":"No"})}),c.jsx(Ge.Item,{label:"Active",children:c.jsx(ji,{status:f.isActive?"success":"error",text:f.isActive?"Yes":"No"})}),c.jsx(Ge.Item,{label:"Created",children:new Date(f.createdAt).toLocaleString()}),c.jsx(Ge.Item,{label:"Effective Date",children:f.effectiveDate?new Date(f.effectiveDate).toLocaleDateString():"Not Set"}),c.jsx(Ge.Item,{label:"Expiration Date",children:f.expirationDate?new Date(f.expirationDate).toLocaleDateString():"Not Set"}),f.approvedBy&&c.jsxs(c.Fragment,{children:[c.jsx(Ge.Item,{label:"Approved By",children:f.approvedBy}),c.jsx(Ge.Item,{label:"Approved At",children:f.approvedAt?new Date(f.approvedAt).toLocaleString():"N/A"})]}),c.jsx(Ge.Item,{label:"Description",span:2,children:f.description||"No description provided"}),f.notes&&c.jsx(Ge.Item,{label:"Notes",span:2,children:f.notes})]})},"details"),c.jsxs(Aw,{tab:c.jsxs("span",{children:[c.jsx(Dp,{}),"Steps (",h.length,")"]}),children:[c.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[c.jsx(pe,{children:Ce&&c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:z,children:"Add Step"})}),c.jsx(rxe,{value:i,onChange:ke=>s(ke),options:[{label:"Table View",value:"table",icon:c.jsx(nxe,{})},{label:"Graph View",value:"graph",icon:c.jsx(dl,{})},{label:"Gantt Chart",value:"gantt",icon:c.jsx(Dv,{})}]})]}),Ce&&i==="table"&&c.jsx("div",{style:{marginBottom:"12px"},children:c.jsx(kI,{type:"secondary",children:" Drag and drop steps to reorder them"})}),p&&c.jsx(Pt,{message:"Error Loading Steps",description:p,type:"error",showIcon:!0,style:{marginBottom:"16px"}}),i==="table"&&c.jsx(oCt,{steps:h,loading:C,editable:Ce,onReorder:ie,onEdit:G,onDelete:re}),i==="graph"&&c.jsx(O1e,{steps:h,dependencies:h.flatMap(ke=>ke.dependencies||[]),loading:C}),i==="gantt"&&c.jsx(N5t,{steps:h,loading:C})]},"steps"),c.jsxs(Aw,{tab:c.jsxs("span",{children:[c.jsx(Dp,{}),"Dependencies"]}),children:[h.length>0?c.jsx(O1e,{steps:h,dependencies:h.flatMap(ke=>ke.dependencies||[]),loading:C}):c.jsx(Pt,{message:"No Steps Available",description:"Add routing steps first to visualize dependencies.",type:"info",showIcon:!0}),c.jsx(Pt,{message:"Dependency Management",description:"Full dependency creation and editing functionality coming soon. You'll be able to create Finish-to-Start, Start-to-Start, Finish-to-Finish, and Start-to-Finish dependencies with lag and lead times.",type:"info",showIcon:!0,style:{marginTop:"16px"}})]},"dependencies"),c.jsx(Aw,{tab:c.jsxs("span",{children:[c.jsx(uy,{}),"History"]}),children:c.jsx(Pt,{message:"Audit Trail",description:"Routing history and audit trail coming soon. You'll be able to see all changes made to this routing, including who made the changes and when.",type:"info",showIcon:!0})},"history")]})}),e&&c.jsx(Lut,{visible:o,mode:l?"edit":"create",routingId:e,step:l,existingSteps:h,onSave:Z,onCancel:ue}),f&&c.jsx(P5t,{visible:g,routingId:f.id,routingNumber:f.routingNumber,onClose:()=>d(!1),onSuccess:()=>{Ee.success("Routing saved as template!"),d(!1)}})]})},F5t=()=>c.jsx(D5t,{}),{Search:L5t}=at,{Option:Cu}=we,{Title:M5t,Text:j1e,Paragraph:P1e}=yr,B5t=()=>{const t=Kr(),{currentSite:e}=IC(),[r,n]=D.useState([]),[i,s]=D.useState(!1),[o,a]=D.useState(""),[l,u]=D.useState(),[g,d]=D.useState(!1),[f,h]=D.useState(!1),[A,C]=D.useState(!1),[I,p]=D.useState(null),[m]=me.useForm(),v=async()=>{if(e){s(!0);try{const R={search:o||void 0,category:l,siteId:e.id,isFavorite:g||void 0,sortBy:"createdAt",sortOrder:"desc"},N=await Ov.getTemplates(R);n(N.templates)}catch(R){console.error("Failed to fetch templates:",R),Ee.error("Failed to load templates")}finally{s(!1)}}};D.useEffect(()=>{v()},[e,o,l,g]);const y=async R=>{try{await Ov.toggleFavorite(R),Ee.success("Favorite updated"),v()}catch(N){console.error("Failed to toggle favorite:",N),Ee.error("Failed to update favorite")}},x=R=>{t(`/routings/create?templateId=${R.id}`)},T=R=>{p(R),m.setFieldsValue({name:R.name,description:R.description,category:R.category}),h(!0)},E=async()=>{if(I)try{const R=await m.validateFields();await Ov.updateTemplate(I.id,R),Ee.success("Template updated successfully"),h(!1),m.resetFields(),p(null),v()}catch(R){console.error("Failed to update template:",R),Ee.error("Failed to update template")}},_=()=>{h(!1),m.resetFields(),p(null)},S=R=>{p(R),C(!0)},j=async()=>{if(I)try{await Ov.deleteTemplate(I.id),Ee.success("Template deleted successfully"),C(!1),p(null),v()}catch(R){console.error("Failed to delete template:",R),Ee.error("Failed to delete template")}},w=()=>{C(!1),p(null)};return c.jsxs("div",{style:{padding:"24px"},children:[c.jsxs("div",{style:{marginBottom:"24px"},children:[c.jsxs(M5t,{level:2,children:[c.jsx(IU,{})," Template Library"]}),c.jsx(P1e,{children:"Browse and use routing templates to quickly create new routings"})]}),c.jsx(xe,{style:{marginBottom:"24px"},children:c.jsxs(Dt,{gutter:[16,16],children:[c.jsx(Se,{xs:24,sm:12,md:8,children:c.jsx(L5t,{placeholder:"Search templates...",allowClear:!0,onSearch:R=>a(R),onChange:R=>!R.target.value&&a(""),enterButton:c.jsx(Gn,{}),"data-testid":"template-search-input"})}),c.jsx(Se,{xs:24,sm:12,md:6,children:c.jsxs(we,{placeholder:"Category",style:{width:"100%"},allowClear:!0,onChange:R=>u(R),value:l,"data-testid":"category-filter-select",children:[c.jsx(Cu,{value:"MACHINING",children:"Machining"}),c.jsx(Cu,{value:"ASSEMBLY",children:"Assembly"}),c.jsx(Cu,{value:"INSPECTION",children:"Inspection"}),c.jsx(Cu,{value:"FINISHING",children:"Finishing"}),c.jsx(Cu,{value:"PACKAGING",children:"Packaging"})]})}),c.jsx(Se,{xs:24,sm:12,md:6,children:c.jsx(le,{type:g?"primary":"default",icon:c.jsx(Yw,{}),onClick:()=>d(!g),style:{width:"100%"},children:g?"All Templates":"Favorites Only"})}),c.jsx(Se,{xs:24,sm:12,md:4,children:c.jsx(le,{type:"default",onClick:()=>t("/routings"),style:{width:"100%"},children:"Back to Routings"})})]})}),c.jsx(ei,{spinning:i,children:r.length===0&&!i?c.jsx(Fc,{description:"No templates found"}):c.jsx(Dt,{gutter:[16,16],children:r.map(R=>c.jsx(Se,{xs:24,sm:12,md:8,lg:6,children:c.jsx(xe,{"data-testid":`template-card-${R.id}`,className:"template-card",hoverable:!0,actions:[c.jsx(lt,{title:R.isFavorite?"Remove from favorites":"Add to favorites",children:c.jsx(le,{type:"text",icon:R.isFavorite?c.jsx(ZV,{style:{color:"#faad14"}}):c.jsx(Yw,{}),onClick:()=>y(R.id)})}),c.jsx(lt,{title:"Edit template",children:c.jsx(le,{type:"text",icon:c.jsx(Pi,{}),onClick:()=>T(R),"data-testid":`edit-template-${R.id}`})}),c.jsx(lt,{title:"Delete template",children:c.jsx(le,{type:"text",danger:!0,icon:c.jsx(Xl,{}),onClick:()=>S(R),"data-testid":`delete-template-${R.id}`})}),c.jsx(le,{type:"primary",icon:c.jsx(Nn,{}),onClick:()=>x(R),children:"Use Template"})],children:c.jsx(xe.Meta,{title:c.jsxs("div",{children:[R.name,R.isFavorite&&c.jsx(ZV,{style:{color:"#faad14",marginLeft:"8px",fontSize:"14px"}})]}),description:c.jsxs(pe,{direction:"vertical",size:"small",style:{width:"100%"},children:[R.description&&c.jsx(P1e,{ellipsis:{rows:2},style:{margin:0,fontSize:"12px"},children:R.description}),R.category&&c.jsx(Be,{color:"blue",children:R.category}),c.jsxs(j1e,{type:"secondary",style:{fontSize:"12px"},children:["Used ",R.usageCount," times"]}),R.rating&&c.jsxs(j1e,{type:"secondary",style:{fontSize:"12px"},children:["Rating: ",R.rating.toFixed(1),"/5"]})]})})})},R.id))})}),c.jsx(en,{title:"Edit Template",open:f,onOk:E,onCancel:_,okText:"Save",cancelText:"Cancel",children:c.jsxs(me,{form:m,layout:"vertical",children:[c.jsx(me.Item,{label:"Template Name",name:"name",rules:[{required:!0,message:"Please enter a template name"}],children:c.jsx(at,{placeholder:"Enter template name"})}),c.jsx(me.Item,{label:"Description",name:"description",children:c.jsx(at.TextArea,{rows:4,placeholder:"Enter template description"})}),c.jsx(me.Item,{label:"Category",name:"category",children:c.jsxs(we,{placeholder:"Select category",allowClear:!0,children:[c.jsx(Cu,{value:"MACHINING",children:"Machining"}),c.jsx(Cu,{value:"ASSEMBLY",children:"Assembly"}),c.jsx(Cu,{value:"INSPECTION",children:"Inspection"}),c.jsx(Cu,{value:"FINISHING",children:"Finishing"}),c.jsx(Cu,{value:"PACKAGING",children:"Packaging"})]})})]})}),c.jsxs(en,{title:"Delete Template",open:A,onOk:j,onCancel:w,okText:"Delete",cancelText:"Cancel",okButtonProps:{danger:!0},children:[c.jsxs("p",{children:['Are you sure you want to delete the template "',I==null?void 0:I.name,'"?']}),c.jsx("p",{children:"This action cannot be undone."})]})]})},{Content:$5t}=Yh,q5t=()=>{const{isAuthenticated:t,isLoading:e}=qo(),r=Xc();return e?c.jsx(hT,{children:c.jsx(Yh,{style:{minHeight:"100vh"},children:c.jsx($5t,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx(ei,{size:"large"}),c.jsx("div",{style:{marginTop:16,color:"#666"},children:"Loading..."})]})})})}):t?c.jsx(hT,{children:c.jsx(DLe,{children:c.jsxs(AH,{children:[c.jsx(ur,{path:"/",element:c.jsx(xu,{to:"/dashboard",replace:!0})}),c.jsx(ur,{path:"/login",element:c.jsx(xu,{to:"/dashboard",replace:!0})}),c.jsx(ur,{path:"/dashboard",element:c.jsx(Tr,{children:c.jsx(pGe,{})})}),c.jsx(ur,{path:"/workorders",element:c.jsx(Tr,{permissions:["workorders.read"],children:c.jsx(PGe,{})})}),c.jsx(ur,{path:"/workorders/:id",element:c.jsx(Tr,{permissions:["workorders.read"],children:c.jsx(DGe,{})})}),c.jsx(ur,{path:"/workorders/:id/edit",element:c.jsx(Tr,{permissions:["workorders.write"],children:c.jsx(BGe,{})})}),c.jsx(ur,{path:"/workorders/:id/execute/:operationNumber",element:c.jsx(Tr,{permissions:["workorders.execute"],children:c.jsx(QGe,{})})}),c.jsx(ur,{path:"/quality",element:c.jsx(Tr,{roles:["Quality Engineer","Quality Inspector"],children:c.jsx(eVe,{})})}),c.jsx(ur,{path:"/quality/inspections",element:c.jsx(Tr,{roles:["Quality Engineer","Quality Inspector"],children:c.jsx(nVe,{})})}),c.jsx(ur,{path:"/quality/inspections/:id",element:c.jsx(Tr,{roles:["Quality Engineer","Quality Inspector"],children:c.jsx(oVe,{})})}),c.jsx(ur,{path:"/quality/ncrs",element:c.jsx(Tr,{roles:["Quality Engineer"],children:c.jsx(cVe,{})})}),c.jsx(ur,{path:"/quality/ncrs/:id",element:c.jsx(Tr,{roles:["Quality Engineer"],children:c.jsx(dVe,{})})}),c.jsx(ur,{path:"/signatures",element:c.jsx(Tr,{roles:["Quality Engineer","Quality Inspector"],children:c.jsx(Uet,{})})}),c.jsx(ur,{path:"/fai",element:c.jsx(Tr,{roles:["Quality Engineer","Quality Inspector"],children:c.jsx(Yet,{})})}),c.jsx(ur,{path:"/fai/create",element:c.jsx(Tr,{roles:["Quality Engineer"],children:c.jsx(ttt,{})})}),c.jsx(ur,{path:"/fai/:id",element:c.jsx(Tr,{roles:["Quality Engineer","Quality Inspector"],children:c.jsx(Jet,{})})}),c.jsx(ur,{path:"/traceability",element:c.jsx(Tr,{permissions:["traceability.read"],children:c.jsx(VYe,{})})}),c.jsx(ur,{path:"/traceability/:serialNumber",element:c.jsx(Tr,{permissions:["traceability.read"],children:c.jsx(sQ,{})})}),c.jsx(ur,{path:"/traceability/batch/:id",element:c.jsx(Tr,{permissions:["traceability.read"],children:c.jsx(sQ,{})})}),c.jsx(ur,{path:"/serialization",element:c.jsx(Tr,{permissions:["traceability.read"],children:c.jsx(lQ,{})})}),c.jsx(ur,{path:"/serialization/overview",element:c.jsx(xu,{to:"/serialization",replace:!0})}),c.jsx(ur,{path:"/serialization/parts",element:c.jsx(Tr,{permissions:["traceability.read"],children:c.jsx(lQ,{})})}),c.jsx(ur,{path:"/integrations",element:c.jsx(Tr,{roles:["Plant Manager","System Administrator"],children:c.jsx(ott,{})})}),c.jsx(ur,{path:"/integrations/dashboard",element:c.jsx(xu,{to:"/integrations",replace:!0})}),c.jsx(ur,{path:"/integrations/config",element:c.jsx(Tr,{roles:["Plant Manager","System Administrator"],children:c.jsx(cQ,{})})}),c.jsx(ur,{path:"/integrations/config/:id",element:c.jsx(Tr,{roles:["Plant Manager","System Administrator"],children:c.jsx(cQ,{})})}),c.jsx(ur,{path:"/integrations/logs",element:c.jsx(Tr,{roles:["Plant Manager","System Administrator"],children:c.jsx(ltt,{})})}),c.jsx(ur,{path:"/equipment",element:c.jsx(Tr,{roles:["Maintenance Technician","Plant Manager"],children:c.jsx(YYe,{})})}),c.jsx(ur,{path:"/production/scheduling",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager"],children:c.jsx(Att,{})})}),c.jsx(ur,{path:"/production/scheduling/:id",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager"],children:c.jsx(mtt,{})})}),c.jsx(ur,{path:"/scheduling",element:c.jsx(xu,{to:"/production/scheduling",replace:!0})}),c.jsx(ur,{path:"/production/team-queue",element:c.jsx(Tr,{roles:["Production Supervisor","Plant Manager"],children:c.jsx(ytt,{})})}),c.jsx(ur,{path:"/operations",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager"],children:c.jsx(rrt,{})})}),c.jsx(ur,{path:"/operations/create",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager"],children:c.jsx(irt,{})})}),c.jsx(ur,{path:"/routings",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager","Manufacturing Engineer"],children:c.jsx(hrt,{})})}),c.jsx(ur,{path:"/routings/create",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager","Manufacturing Engineer"],children:c.jsx(Dut,{})})}),c.jsx(ur,{path:"/routings/new",element:c.jsx(xu,{to:"/routings/create",replace:!0})}),c.jsx(ur,{path:"/routings/templates",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager","Manufacturing Engineer"],children:c.jsx(B5t,{})})}),c.jsx(ur,{path:"/routings/:id/edit",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager","Manufacturing Engineer"],children:c.jsx(Fut,{})})}),c.jsx(ur,{path:"/routings/:id",element:c.jsx(Tr,{roles:["Production Planner","Plant Manager","Manufacturing Engineer"],children:c.jsx(F5t,{})})}),c.jsx(ur,{path:"/materials",element:c.jsx(Tr,{permissions:["materials.read"],children:c.jsx(Ttt,{})})}),c.jsx(ur,{path:"/personnel",element:c.jsx(Tr,{roles:["Plant Manager","System Administrator"],children:c.jsx(ktt,{})})}),c.jsx(ur,{path:"/admin",element:c.jsx(Tr,{roles:["System Administrator"],children:c.jsx(Ztt,{})})}),c.jsx(ur,{path:"/settings",element:c.jsx(Tr,{children:c.jsx(Qtt,{})})}),c.jsx(ur,{path:"/work-instructions",element:c.jsx(Tr,{permissions:["workinstructions.read"],children:c.jsx(iZe,{})})}),c.jsx(ur,{path:"/work-instructions/list",element:c.jsx(xu,{to:"/work-instructions",replace:!0})}),c.jsx(ur,{path:"/work-instructions/create",element:c.jsx(Tr,{permissions:["workinstructions.create"],children:c.jsx(ket,{})})}),c.jsx(ur,{path:"/work-instructions/:id",element:c.jsx(Tr,{permissions:["workinstructions.read"],children:c.jsx(gZe,{})})}),c.jsx(ur,{path:"/work-instructions/:id/execute",element:c.jsx(Tr,{permissions:["workinstructions.execute"],children:c.jsx($et,{})})}),c.jsx(ur,{path:"/profile",element:c.jsx(Tr,{children:c.jsx(ZYe,{})})}),c.jsx(ur,{path:"/sprint3-demo",element:c.jsx(Tr,{children:c.jsx(utt,{})})}),c.jsx(ur,{path:"*",element:c.jsx(XYe,{})})]})})}):c.jsx(hT,{children:c.jsxs(AH,{children:[c.jsx(ur,{path:"/login",element:c.jsx(KLe,{})}),c.jsx(ur,{path:"*",element:c.jsx(xu,{to:`/login?redirect=${encodeURIComponent(r.pathname+r.search)}`,replace:!0})})]})})};Vs.extend(HFe);Vs.extend(YFe);Vs.extend(Oxe);const z5t=new PDe({defaultOptions:{queries:{retry:3,staleTime:5*60*1e3,gcTime:10*60*1e3},mutations:{retry:1}}}),U5t={token:{colorPrimary:"#1890ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1890ff",borderRadius:6,fontSize:14,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},components:{Layout:{headerBg:"#ffffff",siderBg:"#001529"},Menu:{darkItemBg:"#001529",darkSubMenuItemBg:"#000c17"},Table:{headerBg:"#fafafa"},Card:{headerBg:"#fafafa"}}};class W5t extends Ue.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Application error:",e,r)}render(){var e;return this.state.hasError?c.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[c.jsx("h1",{children:"Something went wrong"}),c.jsx("p",{children:"The application encountered an unexpected error."}),c.jsx("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",marginTop:"20px"},children:(e=this.state.error)==null?void 0:e.toString()}),c.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}const G5t=()=>c.jsx(W5t,{children:c.jsx(kDe,{client:z5t,children:c.jsx(zFe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsx(Qke,{theme:U5t,children:c.jsx(iLe,{children:c.jsx(gLe,{children:c.jsx(q5t,{})})})})})})}),V5t=Hq.createRoot(document.getElementById("root"));V5t.render(c.jsx(G5t,{}));
//# sourceMappingURL=index-CxDE71Or.js.map
